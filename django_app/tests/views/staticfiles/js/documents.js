(()=>{var e=globalThis,t={},s={},i=e.parcelRequire94c2;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in s){var i=s[e];delete s[e];var l={id:e,exports:{}};return t[e]=l,i.call(l.exports,l,l.exports),l.exports}var o=Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){s[e]=t},e.parcelRequire94c2=i),(0,i.register)("kTS3p",function(e,t){class s extends HTMLElement{connectedCallback(){let e=async()=>{let t=await fetch(`/file-status?id=${this.dataset.id}`),s=await t.json();if(this.textContent=s.status,this.dataset.status=s.status.toLowerCase(),"complete"===s.status.toLowerCase()){let e=new CustomEvent("doc-complete",{detail:this});document.body.dispatchEvent(e)}else window.setTimeout(e,6e3)};e()}}customElements.define("file-status",s)});class l extends HTMLElement{connectedCallback(){let e,t=document.createElement("div");t.role="alert",t.setAttribute("aria-live","assertive"),t.classList.add("govuk-visually-hidden"),this.appendChild(t),document.body.addEventListener("doc-complete",s=>{let i=s.detail.closest(".iai-doc-list__item");i.querySelector("file-status").remove(),this.querySelector("tbody")?.appendChild(i);let l=i.querySelector(".iai-doc-list__cell--file-name").textContent;t.textContent=`Processing Complete: ${l}`,clearTimeout(e),e=window.setTimeout(()=>{t.textContent=""},1)})}}customElements.define("doc-list",l),i("kTS3p")})();
//# sourceMappingURL=documents.js.map
