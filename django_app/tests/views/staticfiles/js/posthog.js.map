{"mappings":"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","sources":["<anon>","src/js/posthog.js","node_modules/posthog-js/dist/recorder.js","node_modules/posthog-js/node_modules/.pnpm/@rrweb+record@2.0.0-alpha.17_patch_hash=ds4wzvngpacxicd464fatv6v44/node_modules/@rrweb/record/dist/record.js","node_modules/posthog-js/node_modules/.pnpm/@rrweb+rrweb-plugin-console-record@2.0.0-alpha.17_patch_hash=ytsspyi7p3hvqcq64vqb7wb6bu_rrweb@2.0.0-alpha.17/node_modules/@rrweb/rrweb-plugin-console-record/dist/rrweb-plugin-console-record.js","node_modules/posthog-js/src/utils/type-utils.ts","node_modules/posthog-js/src/utils/globals.ts","node_modules/posthog-js/src/utils/logger.ts","node_modules/posthog-js/src/utils/index.ts","node_modules/posthog-js/src/utils/request-utils.ts","node_modules/posthog-js/src/extensions/replay/config.ts","node_modules/posthog-js/src/extensions/replay/rrweb-plugins/patch.ts","node_modules/posthog-js/src/extensions/replay/external/denylist.ts","node_modules/posthog-js/src/entrypoints/recorder.ts","node_modules/posthog-js/dist/surveys.js","node_modules/posthog-js/src/posthog-surveys-types.ts","node_modules/posthog-js/node_modules/.pnpm/preact@10.19.3/node_modules/preact/dist/preact.module.js","node_modules/posthog-js/src/extensions/surveys/surveys-utils.tsx","node_modules/posthog-js/src/extensions/surveys-widget.ts","node_modules/posthog-js/node_modules/.pnpm/preact@10.19.3/node_modules/preact/hooks/dist/hooks.module.js","node_modules/posthog-js/src/extensions/surveys/icons.tsx","node_modules/posthog-js/src/extensions/surveys/components/PostHogLogo.tsx","node_modules/posthog-js/src/extensions/surveys/components/BottomSection.tsx","node_modules/posthog-js/src/extensions/surveys/components/QuestionHeader.tsx","node_modules/posthog-js/src/extensions/surveys/components/ConfirmationMessage.tsx","node_modules/posthog-js/src/extensions/surveys/hooks/useContrastingTextColor.ts","node_modules/posthog-js/src/extensions/surveys/components/QuestionTypes.tsx","node_modules/posthog-js/src/extensions/surveys.tsx","node_modules/posthog-js/src/entrypoints/surveys.ts","node_modules/posthog-js/dist/web-vitals.js","node_modules/posthog-js/node_modules/.pnpm/web-vitals@4.2.0/node_modules/web-vitals/dist/web-vitals.js","node_modules/posthog-js/node_modules/.pnpm/web-vitals@4.2.0/node_modules/web-vitals/dist/web-vitals.attribution.js","node_modules/posthog-js/src/entrypoints/web-vitals.ts","node_modules/posthog-js/dist/module.js","node_modules/posthog-js/src/config.ts","node_modules/posthog-js/src/entrypoints/external-scripts-loader.ts","node_modules/posthog-js/src/types.ts","node_modules/posthog-js/src/constants.ts","node_modules/posthog-js/src/posthog-featureflags.ts","node_modules/posthog-js/src/uuidv7.ts","node_modules/posthog-js/src/storage.ts","node_modules/posthog-js/src/utils/user-agent-utils.ts","node_modules/posthog-js/src/utils/event-utils.ts","node_modules/posthog-js/src/posthog-persistence.ts","node_modules/posthog-js/src/extensions/replay/sessionrecording-utils.ts","node_modules/posthog-js/node_modules/.pnpm/@rrweb+types@2.0.0-alpha.17/node_modules/@rrweb/types/dist/types.js","node_modules/posthog-js/src/utils/element-utils.ts","node_modules/posthog-js/src/autocapture-utils.ts","node_modules/posthog-js/src/utils/number-utils.ts","node_modules/posthog-js/src/extensions/replay/mutation-rate-limiter.ts","node_modules/posthog-js/node_modules/.pnpm/fflate@0.4.8/node_modules/fflate/esm/browser.js","node_modules/posthog-js/src/extensions/replay/sessionrecording.ts","node_modules/posthog-js/src/decide.ts","node_modules/posthog-js/src/extensions/toolbar.ts","node_modules/posthog-js/src/request-queue.ts","node_modules/posthog-js/src/request.ts","node_modules/posthog-js/src/retry-queue.ts","node_modules/posthog-js/src/sessionid.ts","node_modules/posthog-js/src/utils/request-router.ts","node_modules/posthog-js/src/extensions/sentry-integration.ts","node_modules/posthog-js/src/extensions/segment-integration.ts","node_modules/posthog-js/src/page-view.ts","node_modules/posthog-js/src/utils/simple-event-emitter.ts","node_modules/posthog-js/src/extensions/surveys/action-matcher.ts","node_modules/posthog-js/src/utils/survey-event-receiver.ts","node_modules/posthog-js/src/posthog-surveys.ts","node_modules/posthog-js/src/rate-limiter.ts","node_modules/posthog-js/src/session-props.ts","node_modules/posthog-js/src/utils/blocked-uas.ts","node_modules/posthog-js/src/extensions/rageclick.ts","node_modules/posthog-js/src/extensions/dead-clicks-autocapture.ts","node_modules/posthog-js/src/heatmaps.ts","node_modules/posthog-js/src/scroll-manager.ts","node_modules/posthog-js/src/autocapture.ts","node_modules/posthog-js/src/extensions/tracing-headers.ts","node_modules/posthog-js/src/consent.ts","node_modules/posthog-js/src/extensions/exception-autocapture/index.ts","node_modules/posthog-js/src/extensions/web-vitals/index.ts","node_modules/posthog-js/src/web-experiments.ts","node_modules/posthog-js/src/posthog-exceptions.ts","node_modules/posthog-js/src/posthog-core.ts","node_modules/posthog-js/src/entrypoints/module.no-external.es.ts"],"sourcesContent":["(() => {\n!function(e) {\n    \"use strict\";\n    var t, n = Object.defineProperty, o = (e, t, o)=>((e, t, o)=>t in e ? n(e, t, {\n                enumerable: !0,\n                configurable: !0,\n                writable: !0,\n                value: o\n            }) : e[t] = o)(e, \"symbol\" != typeof t ? t + \"\" : t, o), r = Object.defineProperty, i = (e, t, n)=>((e, t, n)=>t in e ? r(e, t, {\n                enumerable: !0,\n                configurable: !0,\n                writable: !0,\n                value: n\n            }) : e[t] = n)(e, \"symbol\" != typeof t ? t + \"\" : t, n), s = ((e)=>(e[e.Document = 0] = \"Document\", e[e.DocumentType = 1] = \"DocumentType\", e[e.Element = 2] = \"Element\", e[e.Text = 3] = \"Text\", e[e.CDATA = 4] = \"CDATA\", e[e.Comment = 5] = \"Comment\", e))(s || {});\n    const a = {\n        Node: [\n            \"childNodes\",\n            \"parentNode\",\n            \"parentElement\",\n            \"textContent\"\n        ],\n        ShadowRoot: [\n            \"host\",\n            \"styleSheets\"\n        ],\n        Element: [\n            \"shadowRoot\",\n            \"querySelector\",\n            \"querySelectorAll\"\n        ],\n        MutationObserver: []\n    }, l = {\n        Node: [\n            \"contains\",\n            \"getRootNode\"\n        ],\n        ShadowRoot: [\n            \"getSelection\"\n        ],\n        Element: [],\n        MutationObserver: [\n            \"constructor\"\n        ]\n    }, c = {};\n    function d(e) {\n        if (c[e]) return c[e];\n        const t = globalThis[e], n = t.prototype, o = e in a ? a[e] : void 0, r = Boolean(o && o.every((e)=>{\n            var t, o;\n            return Boolean(null == (o = null == (t = Object.getOwnPropertyDescriptor(n, e)) ? void 0 : t.get) ? void 0 : o.toString().includes(\"[native code]\"));\n        })), i = e in l ? l[e] : void 0, s = Boolean(i && i.every((e)=>{\n            var t;\n            return \"function\" == typeof n[e] && (null == (t = n[e]) ? void 0 : t.toString().includes(\"[native code]\"));\n        }));\n        if (r && s) return c[e] = t.prototype, t.prototype;\n        try {\n            const o = document.createElement(\"iframe\");\n            document.body.appendChild(o);\n            const r = o.contentWindow;\n            if (!r) return t.prototype;\n            const i = r[e].prototype;\n            return document.body.removeChild(o), i ? c[e] = i : n;\n        } catch  {\n            return n;\n        }\n    }\n    const u = {};\n    function h(e, t, n) {\n        var o;\n        const r = `${e}.${String(n)}`;\n        if (u[r]) return u[r].call(t);\n        const i = d(e), s = null == (o = Object.getOwnPropertyDescriptor(i, n)) ? void 0 : o.get;\n        return s ? (u[r] = s, s.call(t)) : t[n];\n    }\n    const p = {};\n    function m(e, t, n) {\n        const o = `${e}.${String(n)}`;\n        if (p[o]) return p[o].bind(t);\n        const r = d(e)[n];\n        return \"function\" != typeof r ? t[n] : (p[o] = r, r.bind(t));\n    }\n    const f = {\n        childNodes: function(e) {\n            return h(\"Node\", e, \"childNodes\");\n        },\n        parentNode: function(e) {\n            return h(\"Node\", e, \"parentNode\");\n        },\n        parentElement: function(e) {\n            return h(\"Node\", e, \"parentElement\");\n        },\n        textContent: function(e) {\n            return h(\"Node\", e, \"textContent\");\n        },\n        contains: function(e, t) {\n            return m(\"Node\", e, \"contains\")(t);\n        },\n        getRootNode: function(e) {\n            return m(\"Node\", e, \"getRootNode\")();\n        },\n        host: function(e) {\n            return e && \"host\" in e ? h(\"ShadowRoot\", e, \"host\") : null;\n        },\n        styleSheets: function(e) {\n            return e.styleSheets;\n        },\n        shadowRoot: function(e) {\n            return e && \"shadowRoot\" in e ? h(\"Element\", e, \"shadowRoot\") : null;\n        },\n        querySelector: function(e, t) {\n            return h(\"Element\", e, \"querySelector\")(t);\n        },\n        querySelectorAll: function(e, t) {\n            return h(\"Element\", e, \"querySelectorAll\")(t);\n        },\n        mutationObserver: function() {\n            return d(\"MutationObserver\").constructor;\n        }\n    };\n    function g(e) {\n        return e.nodeType === e.ELEMENT_NODE;\n    }\n    function y(e) {\n        const t = e && \"host\" in e && \"mode\" in e && f.host(e) || null;\n        return Boolean(t && \"shadowRoot\" in t && f.shadowRoot(t) === e);\n    }\n    function I(e) {\n        return \"[object ShadowRoot]\" === Object.prototype.toString.call(e);\n    }\n    function b(e) {\n        try {\n            const n = e.rules || e.cssRules;\n            if (!n) return null;\n            const o = Array.from(n, (t)=>C(t, e.href)).join(\"\");\n            return (t = o).includes(\" background-clip: text;\") && !t.includes(\" -webkit-background-clip: text;\") && (t = t.replace(/\\sbackground-clip:\\s*text;/g, \" -webkit-background-clip: text; background-clip: text;\")), t;\n        } catch (e) {\n            return null;\n        }\n        var t;\n    }\n    function C(e, t) {\n        if (function(e) {\n            return \"styleSheet\" in e;\n        }(e)) {\n            let t;\n            try {\n                t = b(e.styleSheet) || function(e) {\n                    const { cssText: t } = e;\n                    if (t.split('\"').length < 3) return t;\n                    const n = [\n                        \"@import\",\n                        `url(${JSON.stringify(e.href)})`\n                    ];\n                    return \"\" === e.layerName ? n.push(\"layer\") : e.layerName && n.push(`layer(${e.layerName})`), e.supportsText && n.push(`supports(${e.supportsText})`), e.media.length && n.push(e.media.mediaText), n.join(\" \") + \";\";\n                }(e);\n            } catch (n) {\n                t = e.cssText;\n            }\n            return e.styleSheet.href ? x(t, e.styleSheet.href) : t;\n        }\n        {\n            let n = e.cssText;\n            return function(e) {\n                return \"selectorText\" in e;\n            }(e) && e.selectorText.includes(\":\") && (n = function(e) {\n                const t = /(\\[(?:[\\w-]+)[^\\\\])(:(?:[\\w-]+)\\])/gm;\n                return e.replace(t, \"$1\\\\$2\");\n            }(n)), t ? x(n, t) : n;\n        }\n    }\n    function S(e, t) {\n        return Array.from(e.styleSheets).find((e)=>e.href === t);\n    }\n    let v = class {\n        constructor(){\n            i(this, \"idNodeMap\", new Map), i(this, \"nodeMetaMap\", new WeakMap);\n        }\n        getId(e) {\n            var t;\n            if (!e) return -1;\n            const n = null == (t = this.getMeta(e)) ? void 0 : t.id;\n            return null != n ? n : -1;\n        }\n        getNode(e) {\n            return this.idNodeMap.get(e) || null;\n        }\n        getIds() {\n            return Array.from(this.idNodeMap.keys());\n        }\n        getMeta(e) {\n            return this.nodeMetaMap.get(e) || null;\n        }\n        removeNodeFromMap(e) {\n            const t = this.getId(e);\n            this.idNodeMap.delete(t), e.childNodes && e.childNodes.forEach((e)=>this.removeNodeFromMap(e));\n        }\n        has(e) {\n            return this.idNodeMap.has(e);\n        }\n        hasNode(e) {\n            return this.nodeMetaMap.has(e);\n        }\n        add(e, t) {\n            const n = t.id;\n            this.idNodeMap.set(n, e), this.nodeMetaMap.set(e, t);\n        }\n        replace(e, t) {\n            const n = this.getNode(e);\n            if (n) {\n                const e = this.nodeMetaMap.get(n);\n                e && this.nodeMetaMap.set(t, e);\n            }\n            this.idNodeMap.set(e, t);\n        }\n        reset() {\n            this.idNodeMap = new Map, this.nodeMetaMap = new WeakMap;\n        }\n    };\n    function w(e) {\n        let { element: t, maskInputOptions: n, tagName: o, type: r, value: i, maskInputFn: s } = e, a = i || \"\";\n        const l = r && N(r);\n        return (n[o.toLowerCase()] || l && n[l]) && (a = s ? s(a, t) : \"*\".repeat(a.length)), a;\n    }\n    function N(e) {\n        return e.toLowerCase();\n    }\n    const M = \"__rrweb_original__\";\n    function A(e) {\n        const t = e.type;\n        return e.hasAttribute(\"data-rr-is-password\") ? \"password\" : t ? N(t) : null;\n    }\n    function k(e, t) {\n        var n;\n        let o;\n        try {\n            o = new URL(e, null != t ? t : window.location.href);\n        } catch (e) {\n            return null;\n        }\n        const r = o.pathname.match(/\\.([0-9a-z]+)(?:$)/i);\n        return null !== (n = null == r ? void 0 : r[1]) && void 0 !== n ? n : null;\n    }\n    const R = /url\\((?:(')([^']*)'|(\")(.*?)\"|([^)]*))\\)/gm, T = /^(?:[a-z+]+:)?\\/\\//i, E = /^www\\..*/i, O = /^(data:)([^,]*),(.*)/i;\n    function x(e, t) {\n        return (e || \"\").replace(R, (e, n, o, r, i, s)=>{\n            const a = o || i || s, l = n || r || \"\";\n            if (!a) return e;\n            if (T.test(a) || E.test(a)) return `url(${l}${a}${l})`;\n            if (O.test(a)) return `url(${l}${a}${l})`;\n            if (\"/\" === a[0]) return `url(${l}${function(e) {\n                let t = \"\";\n                return t = e.indexOf(\"//\") > -1 ? e.split(\"/\").slice(0, 3).join(\"/\") : e.split(\"/\")[0], t = t.split(\"?\")[0], t;\n            }(t) + a}${l})`;\n            const c = t.split(\"/\"), d = a.split(\"/\");\n            c.pop();\n            for (const e of d)\".\" !== e && (\"..\" === e ? c.pop() : c.push(e));\n            return `url(${l}${c.join(\"/\")}${l})`;\n        });\n    }\n    let L = 1;\n    const D = new RegExp(\"[^a-z0-9-_:]\"), F = -2;\n    function B() {\n        return L++;\n    }\n    let Z, _;\n    const Y = /^[^ \\t\\n\\r\\u000c]+/, W = /^[, \\t\\n\\r\\u000c]+/;\n    const G = new WeakMap;\n    function V(e, t) {\n        return t && \"\" !== t.trim() ? X(e, t) : t;\n    }\n    function H(e) {\n        return Boolean(\"svg\" === e.tagName || e.ownerSVGElement);\n    }\n    function X(e, t) {\n        let n = G.get(e);\n        if (n || (n = e.createElement(\"a\"), G.set(e, n)), t) {\n            if (t.startsWith(\"blob:\") || t.startsWith(\"data:\")) return t;\n        } else t = \"\";\n        return n.setAttribute(\"href\", t), n.href;\n    }\n    function P(e, t, n, o) {\n        return o ? \"src\" === n || \"href\" === n && (\"use\" !== t || \"#\" !== o[0]) || \"xlink:href\" === n && \"#\" !== o[0] ? V(e, o) : \"background\" !== n || \"table\" !== t && \"td\" !== t && \"th\" !== t ? \"srcset\" === n ? function(e, t) {\n            if (\"\" === t.trim()) return t;\n            let n = 0;\n            function o(e) {\n                let o;\n                const r = e.exec(t.substring(n));\n                return r ? (o = r[0], n += o.length, o) : \"\";\n            }\n            const r = [];\n            for(; o(W), !(n >= t.length);){\n                let i = o(Y);\n                if (\",\" === i.slice(-1)) i = V(e, i.substring(0, i.length - 1)), r.push(i);\n                else {\n                    let o = \"\";\n                    i = V(e, i);\n                    let s = !1;\n                    for(;;){\n                        const e = t.charAt(n);\n                        if (\"\" === e) {\n                            r.push((i + o).trim());\n                            break;\n                        }\n                        if (s) \")\" === e && (s = !1);\n                        else {\n                            if (\",\" === e) {\n                                n += 1, r.push((i + o).trim());\n                                break;\n                            }\n                            \"(\" === e && (s = !0);\n                        }\n                        o += e, n += 1;\n                    }\n                }\n            }\n            return r.join(\", \");\n        }(e, o) : \"style\" === n ? x(o, X(e)) : \"object\" === t && \"data\" === n ? V(e, o) : o : V(e, o) : o;\n    }\n    function z(e, t, n) {\n        return (\"video\" === e || \"audio\" === e) && \"autoplay\" === t;\n    }\n    function K(e, t, n) {\n        if (!e) return !1;\n        if (e.nodeType !== e.ELEMENT_NODE) return !!n && K(f.parentNode(e), t, n);\n        for(let n = e.classList.length; n--;){\n            const o = e.classList[n];\n            if (t.test(o)) return !0;\n        }\n        return !!n && K(f.parentNode(e), t, n);\n    }\n    function J(e, t, n, o) {\n        let r;\n        if (g(e)) {\n            if (r = e, !f.childNodes(r).length) return !1;\n        } else {\n            if (null === f.parentElement(e)) return !1;\n            r = f.parentElement(e);\n        }\n        try {\n            if (\"string\" == typeof t) {\n                if (o) {\n                    if (r.closest(`.${t}`)) return !0;\n                } else if (r.classList.contains(t)) return !0;\n            } else if (K(r, t, o)) return !0;\n            if (n) {\n                if (o) {\n                    if (r.closest(n)) return !0;\n                } else if (r.matches(n)) return !0;\n            }\n        } catch (e) {}\n        return !1;\n    }\n    function j(e, t) {\n        const { doc: n, mirror: o, blockClass: r, blockSelector: i, needsMask: a, inlineStylesheet: l, maskInputOptions: c = {}, maskTextFn: d, maskInputFn: u, dataURLOptions: h = {}, inlineImages: p, recordCanvas: m, keepIframeSrcFn: g, newlyAddedElement: y = !1 } = t, I = function(e, t) {\n            if (!t.hasNode(e)) return;\n            const n = t.getId(e);\n            return 1 === n ? void 0 : n;\n        }(n, o);\n        switch(e.nodeType){\n            case e.DOCUMENT_NODE:\n                return \"CSS1Compat\" !== e.compatMode ? {\n                    type: s.Document,\n                    childNodes: [],\n                    compatMode: e.compatMode\n                } : {\n                    type: s.Document,\n                    childNodes: []\n                };\n            case e.DOCUMENT_TYPE_NODE:\n                return {\n                    type: s.DocumentType,\n                    name: e.name,\n                    publicId: e.publicId,\n                    systemId: e.systemId,\n                    rootId: I\n                };\n            case e.ELEMENT_NODE:\n                return function(e, t) {\n                    const { doc: n, blockClass: o, blockSelector: r, inlineStylesheet: i, maskInputOptions: a = {}, maskInputFn: l, dataURLOptions: c = {}, inlineImages: d, recordCanvas: u, keepIframeSrcFn: h, newlyAddedElement: p = !1, rootId: m } = t, g = function(e, t, n) {\n                        try {\n                            if (\"string\" == typeof t) {\n                                if (e.classList.contains(t)) return !0;\n                            } else for(let n = e.classList.length; n--;){\n                                const o = e.classList[n];\n                                if (t.test(o)) return !0;\n                            }\n                            if (n) return e.matches(n);\n                        } catch (e) {}\n                        return !1;\n                    }(e, o, r), y = function(e) {\n                        if (e instanceof HTMLFormElement) return \"form\";\n                        const t = N(e.tagName);\n                        return D.test(t) ? \"div\" : t;\n                    }(e);\n                    let I = {};\n                    const C = e.attributes.length;\n                    for(let t = 0; t < C; t++){\n                        const o = e.attributes[t];\n                        z(y, o.name, o.value) || (I[o.name] = P(n, y, N(o.name), o.value));\n                    }\n                    if (\"link\" === y && i) {\n                        const t = e.href;\n                        let o = S(n, t);\n                        if (!o && t.includes(\".css\")) o = S(n, window.location.origin + \"/\" + t.replace(window.location.href, \"\"));\n                        let r = null;\n                        o && (r = b(o)), r && (delete I.rel, delete I.href, I._cssText = r);\n                    }\n                    if (\"style\" === y && e.sheet && !(e.innerText || f.textContent(e) || \"\").trim().length) {\n                        const t = b(e.sheet);\n                        t && (I._cssText = t);\n                    }\n                    if (\"input\" === y || \"textarea\" === y || \"select\" === y) {\n                        const t = e.value, n = e.checked;\n                        \"radio\" !== I.type && \"checkbox\" !== I.type && \"submit\" !== I.type && \"button\" !== I.type && t ? I.value = w({\n                            element: e,\n                            type: A(e),\n                            tagName: y,\n                            value: t,\n                            maskInputOptions: a,\n                            maskInputFn: l\n                        }) : n && (I.checked = n);\n                    }\n                    \"option\" === y && (e.selected && !a.select ? I.selected = !0 : delete I.selected);\n                    \"dialog\" === y && e.open && (I.rr_open_mode = e.matches(\"dialog:modal\") ? \"modal\" : \"non-modal\");\n                    if (\"canvas\" === y && u) {\n                        if (\"2d\" === e.__context) (function(e) {\n                            const t = e.getContext(\"2d\");\n                            if (!t) return !0;\n                            for(let n = 0; n < e.width; n += 50)for(let o = 0; o < e.height; o += 50){\n                                const r = t.getImageData, i = M in r ? r[M] : r;\n                                if (new Uint32Array(i.call(t, n, o, Math.min(50, e.width - n), Math.min(50, e.height - o)).data.buffer).some((e)=>0 !== e)) return !1;\n                            }\n                            return !0;\n                        })(e) || (I.rr_dataURL = e.toDataURL(c.type, c.quality));\n                        else if (!(\"__context\" in e)) {\n                            const t = e.toDataURL(c.type, c.quality), o = n.createElement(\"canvas\");\n                            o.width = e.width, o.height = e.height;\n                            t !== o.toDataURL(c.type, c.quality) && (I.rr_dataURL = t);\n                        }\n                    }\n                    if (\"img\" === y && d) {\n                        Z || (Z = n.createElement(\"canvas\"), _ = Z.getContext(\"2d\"));\n                        const t = e, o = t.currentSrc || t.getAttribute(\"src\") || \"<unknown-src>\", r = t.crossOrigin, i = ()=>{\n                            t.removeEventListener(\"load\", i);\n                            try {\n                                Z.width = t.naturalWidth, Z.height = t.naturalHeight, _.drawImage(t, 0, 0), I.rr_dataURL = Z.toDataURL(c.type, c.quality);\n                            } catch (e) {\n                                if (\"anonymous\" !== t.crossOrigin) return t.crossOrigin = \"anonymous\", void (t.complete && 0 !== t.naturalWidth ? i() : t.addEventListener(\"load\", i));\n                                console.warn(`Cannot inline img src=${o}! Error: ${e}`);\n                            }\n                            \"anonymous\" === t.crossOrigin && (r ? I.crossOrigin = r : t.removeAttribute(\"crossorigin\"));\n                        };\n                        t.complete && 0 !== t.naturalWidth ? i() : t.addEventListener(\"load\", i);\n                    }\n                    if (\"audio\" === y || \"video\" === y) {\n                        const t = I;\n                        t.rr_mediaState = e.paused ? \"paused\" : \"played\", t.rr_mediaCurrentTime = e.currentTime, t.rr_mediaPlaybackRate = e.playbackRate, t.rr_mediaMuted = e.muted, t.rr_mediaLoop = e.loop, t.rr_mediaVolume = e.volume;\n                    }\n                    p || (e.scrollLeft && (I.rr_scrollLeft = e.scrollLeft), e.scrollTop && (I.rr_scrollTop = e.scrollTop));\n                    if (g) {\n                        const { width: t, height: n } = e.getBoundingClientRect();\n                        I = {\n                            class: I.class,\n                            rr_width: `${t}px`,\n                            rr_height: `${n}px`\n                        };\n                    }\n                    \"iframe\" !== y || h(I.src) || (e.contentDocument || (I.rr_src = I.src), delete I.src);\n                    let v;\n                    try {\n                        customElements.get(y) && (v = !0);\n                    } catch (e) {}\n                    return {\n                        type: s.Element,\n                        tagName: y,\n                        attributes: I,\n                        childNodes: [],\n                        isSVG: H(e) || void 0,\n                        needBlock: g,\n                        rootId: m,\n                        isCustom: v\n                    };\n                }(e, {\n                    doc: n,\n                    blockClass: r,\n                    blockSelector: i,\n                    inlineStylesheet: l,\n                    maskInputOptions: c,\n                    maskInputFn: u,\n                    dataURLOptions: h,\n                    inlineImages: p,\n                    recordCanvas: m,\n                    keepIframeSrcFn: g,\n                    newlyAddedElement: y,\n                    rootId: I\n                });\n            case e.TEXT_NODE:\n                return function(e, t) {\n                    var n;\n                    const { needsMask: o, maskTextFn: r, rootId: i } = t, a = f.parentNode(e), l = a && a.tagName;\n                    let c = f.textContent(e);\n                    const d = \"STYLE\" === l || void 0, u = \"SCRIPT\" === l || void 0;\n                    if (d && c) {\n                        try {\n                            e.nextSibling || e.previousSibling || (null == (n = a.sheet) ? void 0 : n.cssRules) && (c = b(a.sheet));\n                        } catch (t) {\n                            console.warn(`Cannot get CSS styles from text's parentNode. Error: ${t}`, e);\n                        }\n                        c = x(c, X(t.doc));\n                    }\n                    u && (c = \"SCRIPT_PLACEHOLDER\");\n                    !d && !u && c && o && (c = r ? r(c, f.parentElement(e)) : c.replace(/[\\S]/g, \"*\"));\n                    return {\n                        type: s.Text,\n                        textContent: c || \"\",\n                        isStyle: d,\n                        rootId: i\n                    };\n                }(e, {\n                    doc: n,\n                    needsMask: a,\n                    maskTextFn: d,\n                    rootId: I\n                });\n            case e.CDATA_SECTION_NODE:\n                return {\n                    type: s.CDATA,\n                    textContent: \"\",\n                    rootId: I\n                };\n            case e.COMMENT_NODE:\n                return {\n                    type: s.Comment,\n                    textContent: f.textContent(e) || \"\",\n                    rootId: I\n                };\n            default:\n                return !1;\n        }\n    }\n    function U(e) {\n        return null == e ? \"\" : e.toLowerCase();\n    }\n    function q(e, t) {\n        const { doc: n, mirror: o, blockClass: r, blockSelector: i, maskTextClass: a, maskTextSelector: l, skipChild: c = !1, inlineStylesheet: d = !0, maskInputOptions: u = {}, maskTextFn: h, maskInputFn: p, slimDOMOptions: m, dataURLOptions: b = {}, inlineImages: C = !1, recordCanvas: S = !1, onSerialize: v, onIframeLoad: w, iframeLoadTimeout: N = 5e3, onStylesheetLoad: M, stylesheetLoadTimeout: A = 5e3, keepIframeSrcFn: R = ()=>!1, newlyAddedElement: T = !1 } = t;\n        let { needsMask: E } = t, { preserveWhiteSpace: O = !0 } = t;\n        if (!E) E = J(e, a, l, void 0 === E);\n        const x = j(e, {\n            doc: n,\n            mirror: o,\n            blockClass: r,\n            blockSelector: i,\n            needsMask: E,\n            inlineStylesheet: d,\n            maskInputOptions: u,\n            maskTextFn: h,\n            maskInputFn: p,\n            dataURLOptions: b,\n            inlineImages: C,\n            recordCanvas: S,\n            keepIframeSrcFn: R,\n            newlyAddedElement: T\n        });\n        if (!x) return console.warn(e, \"not serialized\"), null;\n        let L;\n        L = o.hasNode(e) ? o.getId(e) : !function(e, t) {\n            if (t.comment && e.type === s.Comment) return !0;\n            if (e.type === s.Element) {\n                if (t.script && (\"script\" === e.tagName || \"link\" === e.tagName && (\"preload\" === e.attributes.rel || \"modulepreload\" === e.attributes.rel) && \"script\" === e.attributes.as || \"link\" === e.tagName && \"prefetch\" === e.attributes.rel && \"string\" == typeof e.attributes.href && \"js\" === k(e.attributes.href))) return !0;\n                if (t.headFavicon && (\"link\" === e.tagName && \"shortcut icon\" === e.attributes.rel || \"meta\" === e.tagName && (U(e.attributes.name).match(/^msapplication-tile(image|color)$/) || \"application-name\" === U(e.attributes.name) || \"icon\" === U(e.attributes.rel) || \"apple-touch-icon\" === U(e.attributes.rel) || \"shortcut icon\" === U(e.attributes.rel)))) return !0;\n                if (\"meta\" === e.tagName) {\n                    if (t.headMetaDescKeywords && U(e.attributes.name).match(/^description|keywords$/)) return !0;\n                    if (t.headMetaSocial && (U(e.attributes.property).match(/^(og|twitter|fb):/) || U(e.attributes.name).match(/^(og|twitter):/) || \"pinterest\" === U(e.attributes.name))) return !0;\n                    if (t.headMetaRobots && (\"robots\" === U(e.attributes.name) || \"googlebot\" === U(e.attributes.name) || \"bingbot\" === U(e.attributes.name))) return !0;\n                    if (t.headMetaHttpEquiv && void 0 !== e.attributes[\"http-equiv\"]) return !0;\n                    if (t.headMetaAuthorship && (\"author\" === U(e.attributes.name) || \"generator\" === U(e.attributes.name) || \"framework\" === U(e.attributes.name) || \"publisher\" === U(e.attributes.name) || \"progid\" === U(e.attributes.name) || U(e.attributes.property).match(/^article:/) || U(e.attributes.property).match(/^product:/))) return !0;\n                    if (t.headMetaVerification && (\"google-site-verification\" === U(e.attributes.name) || \"yandex-verification\" === U(e.attributes.name) || \"csrf-token\" === U(e.attributes.name) || \"p:domain_verify\" === U(e.attributes.name) || \"verify-v1\" === U(e.attributes.name) || \"verification\" === U(e.attributes.name) || \"shopify-checkout-api-token\" === U(e.attributes.name))) return !0;\n                }\n            }\n            return !1;\n        }(x, m) && (O || x.type !== s.Text || x.isStyle || x.textContent.replace(/^\\s+|\\s+$/gm, \"\").length) ? B() : F;\n        const D = Object.assign(x, {\n            id: L\n        });\n        if (o.add(e, D), L === F) return null;\n        v && v(e);\n        let Z = !c;\n        if (D.type === s.Element) {\n            Z = Z && !D.needBlock, delete D.needBlock;\n            const t = f.shadowRoot(e);\n            t && I(t) && (D.isShadowHost = !0);\n        }\n        if ((D.type === s.Document || D.type === s.Element) && Z) {\n            m.headWhitespace && D.type === s.Element && \"head\" === D.tagName && (O = !1);\n            const t = {\n                doc: n,\n                mirror: o,\n                blockClass: r,\n                blockSelector: i,\n                needsMask: E,\n                maskTextClass: a,\n                maskTextSelector: l,\n                skipChild: c,\n                inlineStylesheet: d,\n                maskInputOptions: u,\n                maskTextFn: h,\n                maskInputFn: p,\n                slimDOMOptions: m,\n                dataURLOptions: b,\n                inlineImages: C,\n                recordCanvas: S,\n                preserveWhiteSpace: O,\n                onSerialize: v,\n                onIframeLoad: w,\n                iframeLoadTimeout: N,\n                onStylesheetLoad: M,\n                stylesheetLoadTimeout: A,\n                keepIframeSrcFn: R\n            };\n            if (D.type === s.Element && \"textarea\" === D.tagName && void 0 !== D.attributes.value) ;\n            else for (const n of Array.from(f.childNodes(e))){\n                const e = q(n, t);\n                e && D.childNodes.push(e);\n            }\n            let y = null;\n            if (g(e) && (y = f.shadowRoot(e))) for (const e of Array.from(f.childNodes(y))){\n                const n = q(e, t);\n                n && (I(y) && (n.isShadow = !0), D.childNodes.push(n));\n            }\n        }\n        const _ = f.parentNode(e);\n        return _ && y(_) && I(_) && (D.isShadow = !0), D.type === s.Element && \"iframe\" === D.tagName && function(e, t, n) {\n            const o = e.contentWindow;\n            if (!o) return;\n            let r, i = !1;\n            try {\n                r = o.document.readyState;\n            } catch (e) {\n                return;\n            }\n            if (\"complete\" !== r) {\n                const o = setTimeout(()=>{\n                    i || (t(), i = !0);\n                }, n);\n                return void e.addEventListener(\"load\", ()=>{\n                    clearTimeout(o), i = !0, t();\n                });\n            }\n            const s = \"about:blank\";\n            if (o.location.href !== s || e.src === s || \"\" === e.src) return setTimeout(t, 0), e.addEventListener(\"load\", t);\n            e.addEventListener(\"load\", t);\n        }(e, ()=>{\n            const t = e.contentDocument;\n            if (t && w) {\n                const n = q(t, {\n                    doc: t,\n                    mirror: o,\n                    blockClass: r,\n                    blockSelector: i,\n                    needsMask: E,\n                    maskTextClass: a,\n                    maskTextSelector: l,\n                    skipChild: !1,\n                    inlineStylesheet: d,\n                    maskInputOptions: u,\n                    maskTextFn: h,\n                    maskInputFn: p,\n                    slimDOMOptions: m,\n                    dataURLOptions: b,\n                    inlineImages: C,\n                    recordCanvas: S,\n                    preserveWhiteSpace: O,\n                    onSerialize: v,\n                    onIframeLoad: w,\n                    iframeLoadTimeout: N,\n                    onStylesheetLoad: M,\n                    stylesheetLoadTimeout: A,\n                    keepIframeSrcFn: R\n                });\n                n && w(e, n);\n            }\n        }, N), D.type === s.Element && \"link\" === D.tagName && \"string\" == typeof D.attributes.rel && (\"stylesheet\" === D.attributes.rel || \"preload\" === D.attributes.rel && \"string\" == typeof D.attributes.href && \"css\" === k(D.attributes.href)) && function(e, t, n) {\n            let o, r = !1;\n            try {\n                o = e.sheet;\n            } catch (e) {\n                return;\n            }\n            if (o) return;\n            const i = setTimeout(()=>{\n                r || (t(), r = !0);\n            }, n);\n            e.addEventListener(\"load\", ()=>{\n                clearTimeout(i), r = !0, t();\n            });\n        }(e, ()=>{\n            if (M) {\n                const t = q(e, {\n                    doc: n,\n                    mirror: o,\n                    blockClass: r,\n                    blockSelector: i,\n                    needsMask: E,\n                    maskTextClass: a,\n                    maskTextSelector: l,\n                    skipChild: !1,\n                    inlineStylesheet: d,\n                    maskInputOptions: u,\n                    maskTextFn: h,\n                    maskInputFn: p,\n                    slimDOMOptions: m,\n                    dataURLOptions: b,\n                    inlineImages: C,\n                    recordCanvas: S,\n                    preserveWhiteSpace: O,\n                    onSerialize: v,\n                    onIframeLoad: w,\n                    iframeLoadTimeout: N,\n                    onStylesheetLoad: M,\n                    stylesheetLoadTimeout: A,\n                    keepIframeSrcFn: R\n                });\n                t && M(e, t);\n            }\n        }, A), D;\n    }\n    let Q = class e {\n        constructor(){\n            __publicField2(this, \"parentElement\", null), __publicField2(this, \"parentNode\", null), __publicField2(this, \"ownerDocument\"), __publicField2(this, \"firstChild\", null), __publicField2(this, \"lastChild\", null), __publicField2(this, \"previousSibling\", null), __publicField2(this, \"nextSibling\", null), __publicField2(this, \"ELEMENT_NODE\", 1), __publicField2(this, \"TEXT_NODE\", 3), __publicField2(this, \"nodeType\"), __publicField2(this, \"nodeName\"), __publicField2(this, \"RRNodeType\");\n        }\n        get childNodes() {\n            const e = [];\n            let t = this.firstChild;\n            for(; t;)e.push(t), t = t.nextSibling;\n            return e;\n        }\n        contains(t) {\n            if (!(t instanceof e)) return !1;\n            if (t.ownerDocument !== this.ownerDocument) return !1;\n            if (t === this) return !0;\n            for(; t.parentNode;){\n                if (t.parentNode === this) return !0;\n                t = t.parentNode;\n            }\n            return !1;\n        }\n        appendChild(e) {\n            throw new Error(\"RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.\");\n        }\n        insertBefore(e, t) {\n            throw new Error(\"RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.\");\n        }\n        removeChild(e) {\n            throw new Error(\"RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.\");\n        }\n        toString() {\n            return \"RRNode\";\n        }\n    };\n    const $ = {\n        Node: [\n            \"childNodes\",\n            \"parentNode\",\n            \"parentElement\",\n            \"textContent\"\n        ],\n        ShadowRoot: [\n            \"host\",\n            \"styleSheets\"\n        ],\n        Element: [\n            \"shadowRoot\",\n            \"querySelector\",\n            \"querySelectorAll\"\n        ],\n        MutationObserver: []\n    }, ee = {\n        Node: [\n            \"contains\",\n            \"getRootNode\"\n        ],\n        ShadowRoot: [\n            \"getSelection\"\n        ],\n        Element: [],\n        MutationObserver: [\n            \"constructor\"\n        ]\n    }, te = {};\n    function ne(e) {\n        if (te[e]) return te[e];\n        const t = globalThis[e], n = t.prototype, o = e in $ ? $[e] : void 0, r = Boolean(o && o.every((e)=>{\n            var t, o;\n            return Boolean(null == (o = null == (t = Object.getOwnPropertyDescriptor(n, e)) ? void 0 : t.get) ? void 0 : o.toString().includes(\"[native code]\"));\n        })), i = e in ee ? ee[e] : void 0, s = Boolean(i && i.every((e)=>{\n            var t;\n            return \"function\" == typeof n[e] && (null == (t = n[e]) ? void 0 : t.toString().includes(\"[native code]\"));\n        }));\n        if (r && s) return te[e] = t.prototype, t.prototype;\n        try {\n            const o = document.createElement(\"iframe\");\n            document.body.appendChild(o);\n            const r = o.contentWindow;\n            if (!r) return t.prototype;\n            const i = r[e].prototype;\n            return document.body.removeChild(o), i ? te[e] = i : n;\n        } catch  {\n            return n;\n        }\n    }\n    const oe = {};\n    function re(e, t, n) {\n        var o;\n        const r = `${e}.${String(n)}`;\n        if (oe[r]) return oe[r].call(t);\n        const i = ne(e), s = null == (o = Object.getOwnPropertyDescriptor(i, n)) ? void 0 : o.get;\n        return s ? (oe[r] = s, s.call(t)) : t[n];\n    }\n    const ie = {};\n    function se(e, t, n) {\n        const o = `${e}.${String(n)}`;\n        if (ie[o]) return ie[o].bind(t);\n        const r = ne(e)[n];\n        return \"function\" != typeof r ? t[n] : (ie[o] = r, r.bind(t));\n    }\n    function ae() {\n        return ne(\"MutationObserver\").constructor;\n    }\n    const le = {\n        childNodes: function(e) {\n            return re(\"Node\", e, \"childNodes\");\n        },\n        parentNode: function(e) {\n            return re(\"Node\", e, \"parentNode\");\n        },\n        parentElement: function(e) {\n            return re(\"Node\", e, \"parentElement\");\n        },\n        textContent: function(e) {\n            return re(\"Node\", e, \"textContent\");\n        },\n        contains: function(e, t) {\n            return se(\"Node\", e, \"contains\")(t);\n        },\n        getRootNode: function(e) {\n            return se(\"Node\", e, \"getRootNode\")();\n        },\n        host: function(e) {\n            return e && \"host\" in e ? re(\"ShadowRoot\", e, \"host\") : null;\n        },\n        styleSheets: function(e) {\n            return e.styleSheets;\n        },\n        shadowRoot: function(e) {\n            return e && \"shadowRoot\" in e ? re(\"Element\", e, \"shadowRoot\") : null;\n        },\n        querySelector: function(e, t) {\n            return re(\"Element\", e, \"querySelector\")(t);\n        },\n        querySelectorAll: function(e, t) {\n            return re(\"Element\", e, \"querySelectorAll\")(t);\n        },\n        mutationObserver: ae\n    };\n    function ce(e, t) {\n        let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : document;\n        const o = {\n            capture: !0,\n            passive: !0\n        };\n        return n.addEventListener(e, t, o), ()=>n.removeEventListener(e, t, o);\n    }\n    const de = \"Please stop import mirror directly. Instead of that,\\r\\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\\r\\nor you can use record.mirror to access the mirror instance during recording.\";\n    let ue = {\n        map: {},\n        getId: ()=>(console.error(de), -1),\n        getNode: ()=>(console.error(de), null),\n        removeNodeFromMap () {\n            console.error(de);\n        },\n        has: ()=>(console.error(de), !1),\n        reset () {\n            console.error(de);\n        }\n    };\n    function he(e, t) {\n        let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, o = null, r = 0;\n        return function() {\n            for(var i = arguments.length, s = new Array(i), a = 0; a < i; a++)s[a] = arguments[a];\n            const l = Date.now();\n            r || !1 !== n.leading || (r = l);\n            const c = t - (l - r), d = this;\n            c <= 0 || c > t ? (o && (clearTimeout(o), o = null), r = l, e.apply(d, s)) : o || !1 === n.trailing || (o = setTimeout(()=>{\n                r = !1 === n.leading ? 0 : Date.now(), o = null, e.apply(d, s);\n            }, c));\n        };\n    }\n    function pe(e, t, n, o) {\n        let r = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : window;\n        const i = r.Object.getOwnPropertyDescriptor(e, t);\n        return r.Object.defineProperty(e, t, o ? n : {\n            set (e) {\n                setTimeout(()=>{\n                    n.set.call(this, e);\n                }, 0), i && i.set && i.set.call(this, e);\n            }\n        }), ()=>pe(e, t, i || {}, !0);\n    }\n    function me(e, t, n) {\n        try {\n            if (!(t in e)) return ()=>{};\n            const o = e[t], r = n(o);\n            return \"function\" == typeof r && (r.prototype = r.prototype || {}, Object.defineProperties(r, {\n                __rrweb_original__: {\n                    enumerable: !1,\n                    value: o\n                }\n            })), e[t] = r, ()=>{\n                e[t] = o;\n            };\n        } catch  {\n            return ()=>{};\n        }\n    }\n    \"undefined\" != typeof window && window.Proxy && window.Reflect && (ue = new Proxy(ue, {\n        get: (e, t, n)=>(\"map\" === t && console.error(de), Reflect.get(e, t, n))\n    }));\n    let fe = Date.now;\n    function ge(e) {\n        var t, n, o, r;\n        const i = e.document;\n        return {\n            left: i.scrollingElement ? i.scrollingElement.scrollLeft : void 0 !== e.pageXOffset ? e.pageXOffset : i.documentElement.scrollLeft || (null == i ? void 0 : i.body) && (null == (t = le.parentElement(i.body)) ? void 0 : t.scrollLeft) || (null == (n = null == i ? void 0 : i.body) ? void 0 : n.scrollLeft) || 0,\n            top: i.scrollingElement ? i.scrollingElement.scrollTop : void 0 !== e.pageYOffset ? e.pageYOffset : (null == i ? void 0 : i.documentElement.scrollTop) || (null == i ? void 0 : i.body) && (null == (o = le.parentElement(i.body)) ? void 0 : o.scrollTop) || (null == (r = null == i ? void 0 : i.body) ? void 0 : r.scrollTop) || 0\n        };\n    }\n    function ye() {\n        return window.innerHeight || document.documentElement && document.documentElement.clientHeight || document.body && document.body.clientHeight;\n    }\n    function Ie() {\n        return window.innerWidth || document.documentElement && document.documentElement.clientWidth || document.body && document.body.clientWidth;\n    }\n    function be(e) {\n        if (!e) return null;\n        return e.nodeType === e.ELEMENT_NODE ? e : le.parentElement(e);\n    }\n    function Ce(e, t, n, o) {\n        if (!e) return !1;\n        const r = be(e);\n        if (!r) return !1;\n        try {\n            if (\"string\" == typeof t) {\n                if (r.classList.contains(t)) return !0;\n                if (o && null !== r.closest(\".\" + t)) return !0;\n            } else if (K(r, t, o)) return !0;\n        } catch (e) {}\n        if (n) {\n            if (r.matches(n)) return !0;\n            if (o && null !== r.closest(n)) return !0;\n        }\n        return !1;\n    }\n    function Se(e, t, n) {\n        return !(\"TITLE\" !== e.tagName || !n.headTitleMutations) || t.getId(e) === F;\n    }\n    function ve(e, t) {\n        if (y(e)) return !1;\n        const n = t.getId(e);\n        if (!t.has(n)) return !0;\n        const o = le.parentNode(e);\n        return (!o || o.nodeType !== e.DOCUMENT_NODE) && (!o || ve(o, t));\n    }\n    function we(e) {\n        return Boolean(e.changedTouches);\n    }\n    function Ne(e, t) {\n        return Boolean(\"IFRAME\" === e.nodeName && t.getMeta(e));\n    }\n    function Me(e, t) {\n        return Boolean(\"LINK\" === e.nodeName && e.nodeType === e.ELEMENT_NODE && e.getAttribute && \"stylesheet\" === e.getAttribute(\"rel\") && t.getMeta(e));\n    }\n    function Ae(e) {\n        return !!e && (e instanceof Q && \"shadowRoot\" in e ? Boolean(e.shadowRoot) : Boolean(le.shadowRoot(e)));\n    }\n    /[1-9][0-9]{12}/.test(Date.now().toString()) || (fe = ()=>(new Date).getTime());\n    let ke = class {\n        constructor(){\n            o(this, \"id\", 1), o(this, \"styleIDMap\", new WeakMap), o(this, \"idStyleMap\", new Map);\n        }\n        getId(e) {\n            var t;\n            return null !== (t = this.styleIDMap.get(e)) && void 0 !== t ? t : -1;\n        }\n        has(e) {\n            return this.styleIDMap.has(e);\n        }\n        add(e, t) {\n            if (this.has(e)) return this.getId(e);\n            let n;\n            return n = void 0 === t ? this.id++ : t, this.styleIDMap.set(e, n), this.idStyleMap.set(n, e), n;\n        }\n        getStyle(e) {\n            return this.idStyleMap.get(e) || null;\n        }\n        reset() {\n            this.styleIDMap = new WeakMap, this.idStyleMap = new Map, this.id = 1;\n        }\n        generateId() {\n            return this.id++;\n        }\n    };\n    function Re(e) {\n        var t;\n        let n = null;\n        return \"getRootNode\" in e && (null == (t = le.getRootNode(e)) ? void 0 : t.nodeType) === Node.DOCUMENT_FRAGMENT_NODE && le.host(le.getRootNode(e)) && (n = le.host(le.getRootNode(e))), n;\n    }\n    function Te(e) {\n        const t = e.ownerDocument;\n        if (!t) return !1;\n        const n = function(e) {\n            let t, n = e;\n            for(; t = Re(n);)n = t;\n            return n;\n        }(e);\n        return le.contains(t, n);\n    }\n    function Ee(e) {\n        const t = e.ownerDocument;\n        return !!t && (le.contains(t, e) || Te(e));\n    }\n    var Oe = ((e)=>(e[e.DomContentLoaded = 0] = \"DomContentLoaded\", e[e.Load = 1] = \"Load\", e[e.FullSnapshot = 2] = \"FullSnapshot\", e[e.IncrementalSnapshot = 3] = \"IncrementalSnapshot\", e[e.Meta = 4] = \"Meta\", e[e.Custom = 5] = \"Custom\", e[e.Plugin = 6] = \"Plugin\", e))(Oe || {}), xe = ((e)=>(e[e.Mutation = 0] = \"Mutation\", e[e.MouseMove = 1] = \"MouseMove\", e[e.MouseInteraction = 2] = \"MouseInteraction\", e[e.Scroll = 3] = \"Scroll\", e[e.ViewportResize = 4] = \"ViewportResize\", e[e.Input = 5] = \"Input\", e[e.TouchMove = 6] = \"TouchMove\", e[e.MediaInteraction = 7] = \"MediaInteraction\", e[e.StyleSheetRule = 8] = \"StyleSheetRule\", e[e.CanvasMutation = 9] = \"CanvasMutation\", e[e.Font = 10] = \"Font\", e[e.Log = 11] = \"Log\", e[e.Drag = 12] = \"Drag\", e[e.StyleDeclaration = 13] = \"StyleDeclaration\", e[e.Selection = 14] = \"Selection\", e[e.AdoptedStyleSheet = 15] = \"AdoptedStyleSheet\", e[e.CustomElement = 16] = \"CustomElement\", e))(xe || {}), Le = ((e)=>(e[e.MouseUp = 0] = \"MouseUp\", e[e.MouseDown = 1] = \"MouseDown\", e[e.Click = 2] = \"Click\", e[e.ContextMenu = 3] = \"ContextMenu\", e[e.DblClick = 4] = \"DblClick\", e[e.Focus = 5] = \"Focus\", e[e.Blur = 6] = \"Blur\", e[e.TouchStart = 7] = \"TouchStart\", e[e.TouchMove_Departed = 8] = \"TouchMove_Departed\", e[e.TouchEnd = 9] = \"TouchEnd\", e[e.TouchCancel = 10] = \"TouchCancel\", e))(Le || {}), De = ((e)=>(e[e.Mouse = 0] = \"Mouse\", e[e.Pen = 1] = \"Pen\", e[e.Touch = 2] = \"Touch\", e))(De || {}), Fe = ((e)=>(e[e[\"2D\"] = 0] = \"2D\", e[e.WebGL = 1] = \"WebGL\", e[e.WebGL2 = 2] = \"WebGL2\", e))(Fe || {}), Be = ((e)=>(e[e.Play = 0] = \"Play\", e[e.Pause = 1] = \"Pause\", e[e.Seeked = 2] = \"Seeked\", e[e.VolumeChange = 3] = \"VolumeChange\", e[e.RateChange = 4] = \"RateChange\", e))(Be || {});\n    function Ze(e) {\n        return \"__ln\" in e;\n    }\n    class _e {\n        constructor(){\n            o(this, \"length\", 0), o(this, \"head\", null), o(this, \"tail\", null);\n        }\n        get(e) {\n            if (e >= this.length) throw new Error(\"Position outside of list range\");\n            let t = this.head;\n            for(let n = 0; n < e; n++)t = (null == t ? void 0 : t.next) || null;\n            return t;\n        }\n        addNode(e) {\n            const t = {\n                value: e,\n                previous: null,\n                next: null\n            };\n            if (e.__ln = t, e.previousSibling && Ze(e.previousSibling)) {\n                const n = e.previousSibling.__ln.next;\n                t.next = n, t.previous = e.previousSibling.__ln, e.previousSibling.__ln.next = t, n && (n.previous = t);\n            } else if (e.nextSibling && Ze(e.nextSibling) && e.nextSibling.__ln.previous) {\n                const n = e.nextSibling.__ln.previous;\n                t.previous = n, t.next = e.nextSibling.__ln, e.nextSibling.__ln.previous = t, n && (n.next = t);\n            } else this.head && (this.head.previous = t), t.next = this.head, this.head = t;\n            null === t.next && (this.tail = t), this.length++;\n        }\n        removeNode(e) {\n            const t = e.__ln;\n            this.head && (t.previous ? (t.previous.next = t.next, t.next ? t.next.previous = t.previous : this.tail = t.previous) : (this.head = t.next, this.head ? this.head.previous = null : this.tail = null), e.__ln && delete e.__ln, this.length--);\n        }\n    }\n    const Ye = (e, t)=>`${e}@${t}`;\n    class We {\n        constructor(){\n            o(this, \"frozen\", !1), o(this, \"locked\", !1), o(this, \"texts\", []), o(this, \"attributes\", []), o(this, \"attributeMap\", new WeakMap), o(this, \"removes\", []), o(this, \"mapRemoves\", []), o(this, \"movedMap\", {}), o(this, \"addedSet\", new Set), o(this, \"movedSet\", new Set), o(this, \"droppedSet\", new Set), o(this, \"mutationCb\"), o(this, \"blockClass\"), o(this, \"blockSelector\"), o(this, \"maskTextClass\"), o(this, \"maskTextSelector\"), o(this, \"inlineStylesheet\"), o(this, \"maskInputOptions\"), o(this, \"maskTextFn\"), o(this, \"maskInputFn\"), o(this, \"keepIframeSrcFn\"), o(this, \"recordCanvas\"), o(this, \"inlineImages\"), o(this, \"slimDOMOptions\"), o(this, \"dataURLOptions\"), o(this, \"doc\"), o(this, \"mirror\"), o(this, \"iframeManager\"), o(this, \"stylesheetManager\"), o(this, \"shadowDomManager\"), o(this, \"canvasManager\"), o(this, \"processedNodeManager\"), o(this, \"unattachedDoc\"), o(this, \"processMutations\", (e)=>{\n                e.forEach(this.processMutation), this.emit();\n            }), o(this, \"emit\", ()=>{\n                if (this.frozen || this.locked) return;\n                const e = [], t = new Set, n = new _e, o = (e)=>{\n                    let t = e, n = F;\n                    for(; n === F;)t = t && t.nextSibling, n = t && this.mirror.getId(t);\n                    return n;\n                }, r = (r)=>{\n                    const i = le.parentNode(r);\n                    if (!i || !Ee(r) || \"TEXTAREA\" === i.tagName) return;\n                    const s = y(i) ? this.mirror.getId(Re(r)) : this.mirror.getId(i), a = o(r);\n                    if (-1 === s || -1 === a) return n.addNode(r);\n                    const l = q(r, {\n                        doc: this.doc,\n                        mirror: this.mirror,\n                        blockClass: this.blockClass,\n                        blockSelector: this.blockSelector,\n                        maskTextClass: this.maskTextClass,\n                        maskTextSelector: this.maskTextSelector,\n                        skipChild: !0,\n                        newlyAddedElement: !0,\n                        inlineStylesheet: this.inlineStylesheet,\n                        maskInputOptions: this.maskInputOptions,\n                        maskTextFn: this.maskTextFn,\n                        maskInputFn: this.maskInputFn,\n                        slimDOMOptions: this.slimDOMOptions,\n                        dataURLOptions: this.dataURLOptions,\n                        recordCanvas: this.recordCanvas,\n                        inlineImages: this.inlineImages,\n                        onSerialize: (e)=>{\n                            Ne(e, this.mirror) && this.iframeManager.addIframe(e), Me(e, this.mirror) && this.stylesheetManager.trackLinkElement(e), Ae(r) && this.shadowDomManager.addShadowRoot(le.shadowRoot(r), this.doc);\n                        },\n                        onIframeLoad: (e, t)=>{\n                            this.iframeManager.attachIframe(e, t), this.shadowDomManager.observeAttachShadow(e);\n                        },\n                        onStylesheetLoad: (e, t)=>{\n                            this.stylesheetManager.attachLinkElement(e, t);\n                        }\n                    });\n                    l && (e.push({\n                        parentId: s,\n                        nextId: a,\n                        node: l\n                    }), t.add(l.id));\n                };\n                for(; this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());\n                for (const e of this.movedSet)Ve(this.removes, e, this.mirror) && !this.movedSet.has(le.parentNode(e)) || r(e);\n                for (const e of this.addedSet)He(this.droppedSet, e) || Ve(this.removes, e, this.mirror) ? He(this.movedSet, e) ? r(e) : this.droppedSet.add(e) : r(e);\n                let i = null;\n                for(; n.length;){\n                    let e = null;\n                    if (i) {\n                        const t = this.mirror.getId(le.parentNode(i.value)), n = o(i.value);\n                        -1 !== t && -1 !== n && (e = i);\n                    }\n                    if (!e) {\n                        let t = n.tail;\n                        for(; t;){\n                            const n = t;\n                            if (t = t.previous, n) {\n                                const t = this.mirror.getId(le.parentNode(n.value));\n                                if (-1 === o(n.value)) continue;\n                                if (-1 !== t) {\n                                    e = n;\n                                    break;\n                                }\n                                {\n                                    const t = n.value, o = le.parentNode(t);\n                                    if (o && o.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n                                        const t = le.host(o);\n                                        if (-1 !== this.mirror.getId(t)) {\n                                            e = n;\n                                            break;\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (!e) {\n                        for(; n.head;)n.removeNode(n.head.value);\n                        break;\n                    }\n                    i = e.previous, n.removeNode(e.value), r(e.value);\n                }\n                const s = {\n                    texts: this.texts.map((e)=>{\n                        const t = e.node, n = le.parentNode(t);\n                        return n && \"TEXTAREA\" === n.tagName && this.genTextAreaValueMutation(n), {\n                            id: this.mirror.getId(t),\n                            value: e.value\n                        };\n                    }).filter((e)=>!t.has(e.id)).filter((e)=>this.mirror.has(e.id)),\n                    attributes: this.attributes.map((e)=>{\n                        const { attributes: t } = e;\n                        if (\"string\" == typeof t.style) {\n                            const n = JSON.stringify(e.styleDiff), o = JSON.stringify(e._unchangedStyles);\n                            n.length < t.style.length && (n + o).split(\"var(\").length === t.style.split(\"var(\").length && (t.style = e.styleDiff);\n                        }\n                        return {\n                            id: this.mirror.getId(e.node),\n                            attributes: t\n                        };\n                    }).filter((e)=>!t.has(e.id)).filter((e)=>this.mirror.has(e.id)),\n                    removes: this.removes,\n                    adds: e\n                };\n                (s.texts.length || s.attributes.length || s.removes.length || s.adds.length) && (this.texts = [], this.attributes = [], this.attributeMap = new WeakMap, this.removes = [], this.addedSet = new Set, this.movedSet = new Set, this.droppedSet = new Set, this.movedMap = {}, this.mutationCb(s));\n            }), o(this, \"genTextAreaValueMutation\", (e)=>{\n                let t = this.attributeMap.get(e);\n                t || (t = {\n                    node: e,\n                    attributes: {},\n                    styleDiff: {},\n                    _unchangedStyles: {}\n                }, this.attributes.push(t), this.attributeMap.set(e, t)), t.attributes.value = Array.from(le.childNodes(e), (e)=>le.textContent(e) || \"\").join(\"\");\n            }), o(this, \"processMutation\", (e)=>{\n                if (!Se(e.target, this.mirror, this.slimDOMOptions)) switch(e.type){\n                    case \"characterData\":\n                        {\n                            const t = le.textContent(e.target);\n                            Ce(e.target, this.blockClass, this.blockSelector, !1) || t === e.oldValue || this.texts.push({\n                                value: J(e.target, this.maskTextClass, this.maskTextSelector, !0) && t ? this.maskTextFn ? this.maskTextFn(t, be(e.target)) : t.replace(/[\\S]/g, \"*\") : t,\n                                node: e.target\n                            });\n                            break;\n                        }\n                    case \"attributes\":\n                        {\n                            const t = e.target;\n                            let n = e.attributeName, o = e.target.getAttribute(n);\n                            if (\"value\" === n) {\n                                const e = A(t);\n                                o = w({\n                                    element: t,\n                                    maskInputOptions: this.maskInputOptions,\n                                    tagName: t.tagName,\n                                    type: e,\n                                    value: o,\n                                    maskInputFn: this.maskInputFn\n                                });\n                            }\n                            if (Ce(e.target, this.blockClass, this.blockSelector, !1) || o === e.oldValue) return;\n                            let r = this.attributeMap.get(e.target);\n                            if (\"IFRAME\" === t.tagName && \"src\" === n && !this.keepIframeSrcFn(o)) {\n                                if (t.contentDocument) return;\n                                n = \"rr_src\";\n                            }\n                            if (r || (r = {\n                                node: e.target,\n                                attributes: {},\n                                styleDiff: {},\n                                _unchangedStyles: {}\n                            }, this.attributes.push(r), this.attributeMap.set(e.target, r)), \"type\" === n && \"INPUT\" === t.tagName && \"password\" === (e.oldValue || \"\").toLowerCase() && t.setAttribute(\"data-rr-is-password\", \"true\"), !z(t.tagName, n)) {\n                                if (r.attributes[n] = P(this.doc, N(t.tagName), N(n), o), \"style\" === n) {\n                                    if (!this.unattachedDoc) try {\n                                        this.unattachedDoc = document.implementation.createHTMLDocument();\n                                    } catch (e) {\n                                        this.unattachedDoc = this.doc;\n                                    }\n                                    const n = this.unattachedDoc.createElement(\"span\");\n                                    e.oldValue && n.setAttribute(\"style\", e.oldValue);\n                                    for (const e of Array.from(t.style)){\n                                        const o = t.style.getPropertyValue(e), i = t.style.getPropertyPriority(e);\n                                        o !== n.style.getPropertyValue(e) || i !== n.style.getPropertyPriority(e) ? r.styleDiff[e] = \"\" === i ? o : [\n                                            o,\n                                            i\n                                        ] : r._unchangedStyles[e] = [\n                                            o,\n                                            i\n                                        ];\n                                    }\n                                    for (const e of Array.from(n.style))\"\" === t.style.getPropertyValue(e) && (r.styleDiff[e] = !1);\n                                } else \"open\" === n && \"DIALOG\" === t.tagName && (t.matches(\"dialog:modal\") ? r.attributes.rr_open_mode = \"modal\" : r.attributes.rr_open_mode = \"non-modal\");\n                            }\n                            break;\n                        }\n                    case \"childList\":\n                        if (Ce(e.target, this.blockClass, this.blockSelector, !0)) return;\n                        if (\"TEXTAREA\" === e.target.tagName) return void this.genTextAreaValueMutation(e.target);\n                        e.addedNodes.forEach((t)=>this.genAdds(t, e.target)), e.removedNodes.forEach((t)=>{\n                            const n = this.mirror.getId(t), o = y(e.target) ? this.mirror.getId(le.host(e.target)) : this.mirror.getId(e.target);\n                            Ce(e.target, this.blockClass, this.blockSelector, !1) || Se(t, this.mirror, this.slimDOMOptions) || !function(e, t) {\n                                return -1 !== t.getId(e);\n                            }(t, this.mirror) || (this.addedSet.has(t) ? (Ge(this.addedSet, t), this.droppedSet.add(t)) : this.addedSet.has(e.target) && -1 === n || ve(e.target, this.mirror) || (this.movedSet.has(t) && this.movedMap[Ye(n, o)] ? Ge(this.movedSet, t) : this.removes.push({\n                                parentId: o,\n                                id: n,\n                                isShadow: !(!y(e.target) || !I(e.target)) || void 0\n                            })), this.mapRemoves.push(t));\n                        });\n                }\n            }), o(this, \"genAdds\", (e, t)=>{\n                if (!this.processedNodeManager.inOtherBuffer(e, this) && !this.addedSet.has(e) && !this.movedSet.has(e)) {\n                    if (this.mirror.hasNode(e)) {\n                        if (Se(e, this.mirror, this.slimDOMOptions)) return;\n                        this.movedSet.add(e);\n                        let n = null;\n                        t && this.mirror.hasNode(t) && (n = this.mirror.getId(t)), n && -1 !== n && (this.movedMap[Ye(this.mirror.getId(e), n)] = !0);\n                    } else this.addedSet.add(e), this.droppedSet.delete(e);\n                    Ce(e, this.blockClass, this.blockSelector, !1) || (le.childNodes(e).forEach((e)=>this.genAdds(e)), Ae(e) && le.childNodes(le.shadowRoot(e)).forEach((t)=>{\n                        this.processedNodeManager.add(t, this), this.genAdds(t, e);\n                    }));\n                }\n            });\n        }\n        init(e) {\n            [\n                \"mutationCb\",\n                \"blockClass\",\n                \"blockSelector\",\n                \"maskTextClass\",\n                \"maskTextSelector\",\n                \"inlineStylesheet\",\n                \"maskInputOptions\",\n                \"maskTextFn\",\n                \"maskInputFn\",\n                \"keepIframeSrcFn\",\n                \"recordCanvas\",\n                \"inlineImages\",\n                \"slimDOMOptions\",\n                \"dataURLOptions\",\n                \"doc\",\n                \"mirror\",\n                \"iframeManager\",\n                \"stylesheetManager\",\n                \"shadowDomManager\",\n                \"canvasManager\",\n                \"processedNodeManager\"\n            ].forEach((t)=>{\n                this[t] = e[t];\n            });\n        }\n        freeze() {\n            this.frozen = !0, this.canvasManager.freeze();\n        }\n        unfreeze() {\n            this.frozen = !1, this.canvasManager.unfreeze(), this.emit();\n        }\n        isFrozen() {\n            return this.frozen;\n        }\n        lock() {\n            this.locked = !0, this.canvasManager.lock();\n        }\n        unlock() {\n            this.locked = !1, this.canvasManager.unlock(), this.emit();\n        }\n        reset() {\n            this.shadowDomManager.reset(), this.canvasManager.reset();\n        }\n    }\n    function Ge(e, t) {\n        e.delete(t), le.childNodes(t).forEach((t)=>Ge(e, t));\n    }\n    function Ve(e, t, n) {\n        return 0 !== e.length && function(e, t, n) {\n            let o = le.parentNode(t);\n            for(; o;){\n                const t = n.getId(o);\n                if (e.some((e)=>e.id === t)) return !0;\n                o = le.parentNode(o);\n            }\n            return !1;\n        }(e, t, n);\n    }\n    function He(e, t) {\n        return 0 !== e.size && Xe(e, t);\n    }\n    function Xe(e, t) {\n        const n = le.parentNode(t);\n        return !!n && (!!e.has(n) || Xe(e, n));\n    }\n    let Pe;\n    const ze = (e)=>{\n        if (!Pe) return e;\n        return function() {\n            try {\n                return e(...arguments);\n            } catch (e) {\n                if (Pe && !0 === Pe(e)) return;\n                throw e;\n            }\n        };\n    }, Ke = [];\n    function Je(e) {\n        try {\n            if (\"composedPath\" in e) {\n                const t = e.composedPath();\n                if (t.length) return t[0];\n            } else if (\"path\" in e && e.path.length) return e.path[0];\n        } catch  {}\n        return e && e.target;\n    }\n    function je(e, t) {\n        const n = new We;\n        Ke.push(n), n.init(e);\n        const o = new (ae())(ze(n.processMutations.bind(n)));\n        return o.observe(t, {\n            attributes: !0,\n            attributeOldValue: !0,\n            characterData: !0,\n            characterDataOldValue: !0,\n            childList: !0,\n            subtree: !0\n        }), o;\n    }\n    function Ue(e) {\n        let { mouseInteractionCb: t, doc: n, mirror: o, blockClass: r, blockSelector: i, sampling: s } = e;\n        if (!1 === s.mouseInteraction) return ()=>{};\n        const a = !0 === s.mouseInteraction || void 0 === s.mouseInteraction ? {} : s.mouseInteraction, l = [];\n        let c = null;\n        return Object.keys(Le).filter((e)=>Number.isNaN(Number(e)) && !e.endsWith(\"_Departed\") && !1 !== a[e]).forEach((e)=>{\n            let s = N(e);\n            const a = ((e)=>(n)=>{\n                    const s = Je(n);\n                    if (Ce(s, r, i, !0)) return;\n                    let a = null, l = e;\n                    if (\"pointerType\" in n) {\n                        switch(n.pointerType){\n                            case \"mouse\":\n                                a = De.Mouse;\n                                break;\n                            case \"touch\":\n                                a = De.Touch;\n                                break;\n                            case \"pen\":\n                                a = De.Pen;\n                        }\n                        a === De.Touch ? Le[e] === Le.MouseDown ? l = \"TouchStart\" : Le[e] === Le.MouseUp && (l = \"TouchEnd\") : De.Pen;\n                    } else we(n) && (a = De.Touch);\n                    null !== a ? (c = a, (l.startsWith(\"Touch\") && a === De.Touch || l.startsWith(\"Mouse\") && a === De.Mouse) && (a = null)) : Le[e] === Le.Click && (a = c, c = null);\n                    const d = we(n) ? n.changedTouches[0] : n;\n                    if (!d) return;\n                    const u = o.getId(s), { clientX: h, clientY: p } = d;\n                    ze(t)({\n                        type: Le[l],\n                        id: u,\n                        x: h,\n                        y: p,\n                        ...null !== a && {\n                            pointerType: a\n                        }\n                    });\n                })(e);\n            if (window.PointerEvent) switch(Le[e]){\n                case Le.MouseDown:\n                case Le.MouseUp:\n                    s = s.replace(\"mouse\", \"pointer\");\n                    break;\n                case Le.TouchStart:\n                case Le.TouchEnd:\n                    return;\n            }\n            l.push(ce(s, a, n));\n        }), ze(()=>{\n            l.forEach((e)=>e());\n        });\n    }\n    function qe(e) {\n        let { scrollCb: t, doc: n, mirror: o, blockClass: r, blockSelector: i, sampling: s } = e;\n        return ce(\"scroll\", ze(he(ze((e)=>{\n            const s = Je(e);\n            if (!s || Ce(s, r, i, !0)) return;\n            const a = o.getId(s);\n            if (s === n && n.defaultView) {\n                const e = ge(n.defaultView);\n                t({\n                    id: a,\n                    x: e.left,\n                    y: e.top\n                });\n            } else t({\n                id: a,\n                x: s.scrollLeft,\n                y: s.scrollTop\n            });\n        }), s.scroll || 100)), n);\n    }\n    const Qe = [\n        \"INPUT\",\n        \"TEXTAREA\",\n        \"SELECT\"\n    ], $e = new WeakMap;\n    function et(e) {\n        return function(e, t) {\n            if (rt(\"CSSGroupingRule\") && e.parentRule instanceof CSSGroupingRule || rt(\"CSSMediaRule\") && e.parentRule instanceof CSSMediaRule || rt(\"CSSSupportsRule\") && e.parentRule instanceof CSSSupportsRule || rt(\"CSSConditionRule\") && e.parentRule instanceof CSSConditionRule) {\n                const n = Array.from(e.parentRule.cssRules).indexOf(e);\n                t.unshift(n);\n            } else if (e.parentStyleSheet) {\n                const n = Array.from(e.parentStyleSheet.cssRules).indexOf(e);\n                t.unshift(n);\n            }\n            return t;\n        }(e, []);\n    }\n    function tt(e, t, n) {\n        let o, r;\n        return e ? (e.ownerNode ? o = t.getId(e.ownerNode) : r = n.getId(e), {\n            styleId: r,\n            id: o\n        }) : {};\n    }\n    function nt(e, t) {\n        let { mirror: n, stylesheetManager: o } = e;\n        var r, i, s;\n        let a = null;\n        a = \"#document\" === t.nodeName ? n.getId(t) : n.getId(le.host(t));\n        const l = \"#document\" === t.nodeName ? null == (r = t.defaultView) ? void 0 : r.Document : null == (s = null == (i = t.ownerDocument) ? void 0 : i.defaultView) ? void 0 : s.ShadowRoot, c = (null == l ? void 0 : l.prototype) ? Object.getOwnPropertyDescriptor(null == l ? void 0 : l.prototype, \"adoptedStyleSheets\") : void 0;\n        return null !== a && -1 !== a && l && c ? (Object.defineProperty(t, \"adoptedStyleSheets\", {\n            configurable: c.configurable,\n            enumerable: c.enumerable,\n            get () {\n                var e;\n                return null == (e = c.get) ? void 0 : e.call(this);\n            },\n            set (e) {\n                var t;\n                const n = null == (t = c.set) ? void 0 : t.call(this, e);\n                if (null !== a && -1 !== a) try {\n                    o.adoptStyleSheets(e, a);\n                } catch (e) {}\n                return n;\n            }\n        }), ze(()=>{\n            Object.defineProperty(t, \"adoptedStyleSheets\", {\n                configurable: c.configurable,\n                enumerable: c.enumerable,\n                get: c.get,\n                set: c.set\n            });\n        })) : ()=>{};\n    }\n    function ot(e) {\n        let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n        const n = e.doc.defaultView;\n        if (!n) return ()=>{};\n        let o;\n        !function(e, t) {\n            const { mutationCb: n, mousemoveCb: o, mouseInteractionCb: r, scrollCb: i, viewportResizeCb: s, inputCb: a, mediaInteractionCb: l, styleSheetRuleCb: c, styleDeclarationCb: d, canvasMutationCb: u, fontCb: h, selectionCb: p, customElementCb: m } = e;\n            e.mutationCb = function() {\n                t.mutation && t.mutation(...arguments), n(...arguments);\n            }, e.mousemoveCb = function() {\n                t.mousemove && t.mousemove(...arguments), o(...arguments);\n            }, e.mouseInteractionCb = function() {\n                t.mouseInteraction && t.mouseInteraction(...arguments), r(...arguments);\n            }, e.scrollCb = function() {\n                t.scroll && t.scroll(...arguments), i(...arguments);\n            }, e.viewportResizeCb = function() {\n                t.viewportResize && t.viewportResize(...arguments), s(...arguments);\n            }, e.inputCb = function() {\n                t.input && t.input(...arguments), a(...arguments);\n            }, e.mediaInteractionCb = function() {\n                t.mediaInteaction && t.mediaInteaction(...arguments), l(...arguments);\n            }, e.styleSheetRuleCb = function() {\n                t.styleSheetRule && t.styleSheetRule(...arguments), c(...arguments);\n            }, e.styleDeclarationCb = function() {\n                t.styleDeclaration && t.styleDeclaration(...arguments), d(...arguments);\n            }, e.canvasMutationCb = function() {\n                t.canvasMutation && t.canvasMutation(...arguments), u(...arguments);\n            }, e.fontCb = function() {\n                t.font && t.font(...arguments), h(...arguments);\n            }, e.selectionCb = function() {\n                t.selection && t.selection(...arguments), p(...arguments);\n            }, e.customElementCb = function() {\n                t.customElement && t.customElement(...arguments), m(...arguments);\n            };\n        }(e, t), e.recordDOM && (o = je(e, e.doc));\n        const r = function(e) {\n            let { mousemoveCb: t, sampling: n, doc: o, mirror: r } = e;\n            if (!1 === n.mousemove) return ()=>{};\n            const i = \"number\" == typeof n.mousemove ? n.mousemove : 50, s = \"number\" == typeof n.mousemoveCallback ? n.mousemoveCallback : 500;\n            let a, l = [];\n            const c = he(ze((e)=>{\n                const n = Date.now() - a;\n                t(l.map((e)=>(e.timeOffset -= n, e)), e), l = [], a = null;\n            }), s), d = ze(he(ze((e)=>{\n                const t = Je(e), { clientX: n, clientY: o } = we(e) ? e.changedTouches[0] : e;\n                a || (a = fe()), l.push({\n                    x: n,\n                    y: o,\n                    id: r.getId(t),\n                    timeOffset: fe() - a\n                }), c(\"undefined\" != typeof DragEvent && e instanceof DragEvent ? xe.Drag : e instanceof MouseEvent ? xe.MouseMove : xe.TouchMove);\n            }), i, {\n                trailing: !1\n            })), u = [\n                ce(\"mousemove\", d, o),\n                ce(\"touchmove\", d, o),\n                ce(\"drag\", d, o)\n            ];\n            return ze(()=>{\n                u.forEach((e)=>e());\n            });\n        }(e), i = Ue(e), s = qe(e), a = function(e, t) {\n            let { viewportResizeCb: n } = e, { win: o } = t, r = -1, i = -1;\n            return ce(\"resize\", ze(he(ze(()=>{\n                const e = ye(), t = Ie();\n                r === e && i === t || (n({\n                    width: Number(t),\n                    height: Number(e)\n                }), r = e, i = t);\n            }), 200)), o);\n        }(e, {\n            win: n\n        }), l = function(e) {\n            let { inputCb: t, doc: n, mirror: o, blockClass: r, blockSelector: i, ignoreClass: s, ignoreSelector: a, maskInputOptions: l, maskInputFn: c, sampling: d, userTriggeredOnInput: u } = e;\n            function h(e) {\n                let t = Je(e);\n                const o = e.isTrusted, d = t && t.tagName;\n                if (t && \"OPTION\" === d && (t = le.parentElement(t)), !t || !d || Qe.indexOf(d) < 0 || Ce(t, r, i, !0)) return;\n                if (t.classList.contains(s) || a && t.matches(a)) return;\n                let h = t.value, m = !1;\n                const f = A(t) || \"\";\n                \"radio\" === f || \"checkbox\" === f ? m = t.checked : (l[d.toLowerCase()] || l[f]) && (h = w({\n                    element: t,\n                    maskInputOptions: l,\n                    tagName: d,\n                    type: f,\n                    value: h,\n                    maskInputFn: c\n                })), p(t, u ? {\n                    text: h,\n                    isChecked: m,\n                    userTriggered: o\n                } : {\n                    text: h,\n                    isChecked: m\n                });\n                const g = t.name;\n                \"radio\" === f && g && m && n.querySelectorAll(`input[type=\"radio\"][name=\"${g}\"]`).forEach((e)=>{\n                    if (e !== t) {\n                        const t = e.value;\n                        p(e, u ? {\n                            text: t,\n                            isChecked: !m,\n                            userTriggered: !1\n                        } : {\n                            text: t,\n                            isChecked: !m\n                        });\n                    }\n                });\n            }\n            function p(e, n) {\n                const r = $e.get(e);\n                if (!r || r.text !== n.text || r.isChecked !== n.isChecked) {\n                    $e.set(e, n);\n                    const r = o.getId(e);\n                    ze(t)({\n                        ...n,\n                        id: r\n                    });\n                }\n            }\n            const m = (\"last\" === d.input ? [\n                \"change\"\n            ] : [\n                \"input\",\n                \"change\"\n            ]).map((e)=>ce(e, ze(h), n)), f = n.defaultView;\n            if (!f) return ()=>{\n                m.forEach((e)=>e());\n            };\n            const g = f.Object.getOwnPropertyDescriptor(f.HTMLInputElement.prototype, \"value\"), y = [\n                [\n                    f.HTMLInputElement.prototype,\n                    \"value\"\n                ],\n                [\n                    f.HTMLInputElement.prototype,\n                    \"checked\"\n                ],\n                [\n                    f.HTMLSelectElement.prototype,\n                    \"value\"\n                ],\n                [\n                    f.HTMLTextAreaElement.prototype,\n                    \"value\"\n                ],\n                [\n                    f.HTMLSelectElement.prototype,\n                    \"selectedIndex\"\n                ],\n                [\n                    f.HTMLOptionElement.prototype,\n                    \"selected\"\n                ]\n            ];\n            return g && g.set && m.push(...y.map((e)=>pe(e[0], e[1], {\n                    set () {\n                        ze(h)({\n                            target: this,\n                            isTrusted: !1\n                        });\n                    }\n                }, !1, f))), ze(()=>{\n                m.forEach((e)=>e());\n            });\n        }(e), c = function(e) {\n            let { mediaInteractionCb: t, blockClass: n, blockSelector: o, mirror: r, sampling: i, doc: s } = e;\n            const a = ze((e)=>he(ze((i)=>{\n                    const s = Je(i);\n                    if (!s || Ce(s, n, o, !0)) return;\n                    const { currentTime: a, volume: l, muted: c, playbackRate: d, loop: u } = s;\n                    t({\n                        type: e,\n                        id: r.getId(s),\n                        currentTime: a,\n                        volume: l,\n                        muted: c,\n                        playbackRate: d,\n                        loop: u\n                    });\n                }), i.media || 500)), l = [\n                ce(\"play\", a(Be.Play), s),\n                ce(\"pause\", a(Be.Pause), s),\n                ce(\"seeked\", a(Be.Seeked), s),\n                ce(\"volumechange\", a(Be.VolumeChange), s),\n                ce(\"ratechange\", a(Be.RateChange), s)\n            ];\n            return ze(()=>{\n                l.forEach((e)=>e());\n            });\n        }(e);\n        let d = ()=>{}, u = ()=>{}, h = ()=>{}, p = ()=>{};\n        e.recordDOM && (d = function(e, t) {\n            let { styleSheetRuleCb: n, mirror: o, stylesheetManager: r } = e, { win: i } = t;\n            if (!i.CSSStyleSheet || !i.CSSStyleSheet.prototype) return ()=>{};\n            const s = i.CSSStyleSheet.prototype.insertRule;\n            i.CSSStyleSheet.prototype.insertRule = new Proxy(s, {\n                apply: ze((e, t, i)=>{\n                    const [s, a] = i, { id: l, styleId: c } = tt(t, o, r.styleMirror);\n                    return (l && -1 !== l || c && -1 !== c) && n({\n                        id: l,\n                        styleId: c,\n                        adds: [\n                            {\n                                rule: s,\n                                index: a\n                            }\n                        ]\n                    }), e.apply(t, i);\n                })\n            }), i.CSSStyleSheet.prototype.addRule = function(e, t) {\n                let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : this.cssRules.length;\n                const o = `${e} { ${t} }`;\n                return i.CSSStyleSheet.prototype.insertRule.apply(this, [\n                    o,\n                    n\n                ]);\n            };\n            const a = i.CSSStyleSheet.prototype.deleteRule;\n            let l, c;\n            i.CSSStyleSheet.prototype.deleteRule = new Proxy(a, {\n                apply: ze((e, t, i)=>{\n                    const [s] = i, { id: a, styleId: l } = tt(t, o, r.styleMirror);\n                    return (a && -1 !== a || l && -1 !== l) && n({\n                        id: a,\n                        styleId: l,\n                        removes: [\n                            {\n                                index: s\n                            }\n                        ]\n                    }), e.apply(t, i);\n                })\n            }), i.CSSStyleSheet.prototype.removeRule = function(e) {\n                return i.CSSStyleSheet.prototype.deleteRule.apply(this, [\n                    e\n                ]);\n            }, i.CSSStyleSheet.prototype.replace && (l = i.CSSStyleSheet.prototype.replace, i.CSSStyleSheet.prototype.replace = new Proxy(l, {\n                apply: ze((e, t, i)=>{\n                    const [s] = i, { id: a, styleId: l } = tt(t, o, r.styleMirror);\n                    return (a && -1 !== a || l && -1 !== l) && n({\n                        id: a,\n                        styleId: l,\n                        replace: s\n                    }), e.apply(t, i);\n                })\n            })), i.CSSStyleSheet.prototype.replaceSync && (c = i.CSSStyleSheet.prototype.replaceSync, i.CSSStyleSheet.prototype.replaceSync = new Proxy(c, {\n                apply: ze((e, t, i)=>{\n                    const [s] = i, { id: a, styleId: l } = tt(t, o, r.styleMirror);\n                    return (a && -1 !== a || l && -1 !== l) && n({\n                        id: a,\n                        styleId: l,\n                        replaceSync: s\n                    }), e.apply(t, i);\n                })\n            }));\n            const d = {};\n            it(\"CSSGroupingRule\") ? d.CSSGroupingRule = i.CSSGroupingRule : (it(\"CSSMediaRule\") && (d.CSSMediaRule = i.CSSMediaRule), it(\"CSSConditionRule\") && (d.CSSConditionRule = i.CSSConditionRule), it(\"CSSSupportsRule\") && (d.CSSSupportsRule = i.CSSSupportsRule));\n            const u = {};\n            return Object.entries(d).forEach((e)=>{\n                let [t, i] = e;\n                u[t] = {\n                    insertRule: i.prototype.insertRule,\n                    deleteRule: i.prototype.deleteRule\n                }, i.prototype.insertRule = new Proxy(u[t].insertRule, {\n                    apply: ze((e, t, i)=>{\n                        const [s, a] = i, { id: l, styleId: c } = tt(t.parentStyleSheet, o, r.styleMirror);\n                        return (l && -1 !== l || c && -1 !== c) && n({\n                            id: l,\n                            styleId: c,\n                            adds: [\n                                {\n                                    rule: s,\n                                    index: [\n                                        ...et(t),\n                                        a || 0\n                                    ]\n                                }\n                            ]\n                        }), e.apply(t, i);\n                    })\n                }), i.prototype.deleteRule = new Proxy(u[t].deleteRule, {\n                    apply: ze((e, t, i)=>{\n                        const [s] = i, { id: a, styleId: l } = tt(t.parentStyleSheet, o, r.styleMirror);\n                        return (a && -1 !== a || l && -1 !== l) && n({\n                            id: a,\n                            styleId: l,\n                            removes: [\n                                {\n                                    index: [\n                                        ...et(t),\n                                        s\n                                    ]\n                                }\n                            ]\n                        }), e.apply(t, i);\n                    })\n                });\n            }), ze(()=>{\n                i.CSSStyleSheet.prototype.insertRule = s, i.CSSStyleSheet.prototype.deleteRule = a, l && (i.CSSStyleSheet.prototype.replace = l), c && (i.CSSStyleSheet.prototype.replaceSync = c), Object.entries(d).forEach((e)=>{\n                    let [t, n] = e;\n                    n.prototype.insertRule = u[t].insertRule, n.prototype.deleteRule = u[t].deleteRule;\n                });\n            });\n        }(e, {\n            win: n\n        }), u = nt(e, e.doc), h = function(e, t) {\n            let { styleDeclarationCb: n, mirror: o, ignoreCSSAttributes: r, stylesheetManager: i } = e, { win: s } = t;\n            const a = s.CSSStyleDeclaration.prototype.setProperty;\n            s.CSSStyleDeclaration.prototype.setProperty = new Proxy(a, {\n                apply: ze((e, t, s)=>{\n                    var l;\n                    const [c, d, u] = s;\n                    if (r.has(c)) return a.apply(t, [\n                        c,\n                        d,\n                        u\n                    ]);\n                    const { id: h, styleId: p } = tt(null == (l = t.parentRule) ? void 0 : l.parentStyleSheet, o, i.styleMirror);\n                    return (h && -1 !== h || p && -1 !== p) && n({\n                        id: h,\n                        styleId: p,\n                        set: {\n                            property: c,\n                            value: d,\n                            priority: u\n                        },\n                        index: et(t.parentRule)\n                    }), e.apply(t, s);\n                })\n            });\n            const l = s.CSSStyleDeclaration.prototype.removeProperty;\n            return s.CSSStyleDeclaration.prototype.removeProperty = new Proxy(l, {\n                apply: ze((e, t, s)=>{\n                    var a;\n                    const [c] = s;\n                    if (r.has(c)) return l.apply(t, [\n                        c\n                    ]);\n                    const { id: d, styleId: u } = tt(null == (a = t.parentRule) ? void 0 : a.parentStyleSheet, o, i.styleMirror);\n                    return (d && -1 !== d || u && -1 !== u) && n({\n                        id: d,\n                        styleId: u,\n                        remove: {\n                            property: c\n                        },\n                        index: et(t.parentRule)\n                    }), e.apply(t, s);\n                })\n            }), ze(()=>{\n                s.CSSStyleDeclaration.prototype.setProperty = a, s.CSSStyleDeclaration.prototype.removeProperty = l;\n            });\n        }(e, {\n            win: n\n        }), e.collectFonts && (p = function(e) {\n            let { fontCb: t, doc: n } = e;\n            const o = n.defaultView;\n            if (!o) return ()=>{};\n            const r = [], i = new WeakMap, s = o.FontFace;\n            o.FontFace = function(e, t, n) {\n                const o = new s(e, t, n);\n                return i.set(o, {\n                    family: e,\n                    buffer: \"string\" != typeof t,\n                    descriptors: n,\n                    fontSource: \"string\" == typeof t ? t : JSON.stringify(Array.from(new Uint8Array(t)))\n                }), o;\n            };\n            const a = me(n.fonts, \"add\", function(e) {\n                return function(n) {\n                    return setTimeout(ze(()=>{\n                        const e = i.get(n);\n                        e && (t(e), i.delete(n));\n                    }), 0), e.apply(this, [\n                        n\n                    ]);\n                };\n            });\n            return r.push(()=>{\n                o.FontFace = s;\n            }), r.push(a), ze(()=>{\n                r.forEach((e)=>e());\n            });\n        }(e)));\n        const m = function(e) {\n            const { doc: t, mirror: n, blockClass: o, blockSelector: r, selectionCb: i } = e;\n            let s = !0;\n            const a = ze(()=>{\n                const e = t.getSelection();\n                if (!e || s && (null == e ? void 0 : e.isCollapsed)) return;\n                s = e.isCollapsed || !1;\n                const a = [], l = e.rangeCount || 0;\n                for(let t = 0; t < l; t++){\n                    const i = e.getRangeAt(t), { startContainer: s, startOffset: l, endContainer: c, endOffset: d } = i;\n                    Ce(s, o, r, !0) || Ce(c, o, r, !0) || a.push({\n                        start: n.getId(s),\n                        startOffset: l,\n                        end: n.getId(c),\n                        endOffset: d\n                    });\n                }\n                i({\n                    ranges: a\n                });\n            });\n            return a(), ce(\"selectionchange\", a);\n        }(e), f = function(e) {\n            let { doc: t, customElementCb: n } = e;\n            const o = t.defaultView;\n            return o && o.customElements ? me(o.customElements, \"define\", function(e) {\n                return function(t, o, r) {\n                    try {\n                        n({\n                            define: {\n                                name: t\n                            }\n                        });\n                    } catch (e) {\n                        console.warn(`Custom element callback failed for ${t}`);\n                    }\n                    return e.apply(this, [\n                        t,\n                        o,\n                        r\n                    ]);\n                };\n            }) : ()=>{};\n        }(e), g = [];\n        for (const t of e.plugins)g.push(t.observer(t.callback, n, t.options));\n        return ze(()=>{\n            Ke.forEach((e)=>e.reset()), null == o || o.disconnect(), r(), i(), s(), a(), l(), c(), d(), u(), h(), p(), m(), f(), g.forEach((e)=>e());\n        });\n    }\n    function rt(e) {\n        return void 0 !== window[e];\n    }\n    function it(e) {\n        return Boolean(void 0 !== window[e] && window[e].prototype && \"insertRule\" in window[e].prototype && \"deleteRule\" in window[e].prototype);\n    }\n    class st {\n        constructor(e){\n            o(this, \"iframeIdToRemoteIdMap\", new WeakMap), o(this, \"iframeRemoteIdToIdMap\", new WeakMap), this.generateIdFn = e;\n        }\n        getId(e, t, n, o) {\n            const r = n || this.getIdToRemoteIdMap(e), i = o || this.getRemoteIdToIdMap(e);\n            let s = r.get(t);\n            return s || (s = this.generateIdFn(), r.set(t, s), i.set(s, t)), s;\n        }\n        getIds(e, t) {\n            const n = this.getIdToRemoteIdMap(e), o = this.getRemoteIdToIdMap(e);\n            return t.map((t)=>this.getId(e, t, n, o));\n        }\n        getRemoteId(e, t, n) {\n            const o = n || this.getRemoteIdToIdMap(e);\n            if (\"number\" != typeof t) return t;\n            const r = o.get(t);\n            return r || -1;\n        }\n        getRemoteIds(e, t) {\n            const n = this.getRemoteIdToIdMap(e);\n            return t.map((t)=>this.getRemoteId(e, t, n));\n        }\n        reset(e) {\n            if (!e) return this.iframeIdToRemoteIdMap = new WeakMap, void (this.iframeRemoteIdToIdMap = new WeakMap);\n            this.iframeIdToRemoteIdMap.delete(e), this.iframeRemoteIdToIdMap.delete(e);\n        }\n        getIdToRemoteIdMap(e) {\n            let t = this.iframeIdToRemoteIdMap.get(e);\n            return t || (t = new Map, this.iframeIdToRemoteIdMap.set(e, t)), t;\n        }\n        getRemoteIdToIdMap(e) {\n            let t = this.iframeRemoteIdToIdMap.get(e);\n            return t || (t = new Map, this.iframeRemoteIdToIdMap.set(e, t)), t;\n        }\n    }\n    class at {\n        constructor(e){\n            o(this, \"iframes\", new WeakMap), o(this, \"crossOriginIframeMap\", new WeakMap), o(this, \"crossOriginIframeMirror\", new st(B)), o(this, \"crossOriginIframeStyleMirror\"), o(this, \"crossOriginIframeRootIdMap\", new WeakMap), o(this, \"mirror\"), o(this, \"mutationCb\"), o(this, \"wrappedEmit\"), o(this, \"loadListener\"), o(this, \"stylesheetManager\"), o(this, \"recordCrossOriginIframes\"), this.mutationCb = e.mutationCb, this.wrappedEmit = e.wrappedEmit, this.stylesheetManager = e.stylesheetManager, this.recordCrossOriginIframes = e.recordCrossOriginIframes, this.crossOriginIframeStyleMirror = new st(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)), this.mirror = e.mirror, this.recordCrossOriginIframes && window.addEventListener(\"message\", this.handleMessage.bind(this));\n        }\n        addIframe(e) {\n            this.iframes.set(e, !0), e.contentWindow && this.crossOriginIframeMap.set(e.contentWindow, e);\n        }\n        addLoadListener(e) {\n            this.loadListener = e;\n        }\n        attachIframe(e, t) {\n            var n, o;\n            this.mutationCb({\n                adds: [\n                    {\n                        parentId: this.mirror.getId(e),\n                        nextId: null,\n                        node: t\n                    }\n                ],\n                removes: [],\n                texts: [],\n                attributes: [],\n                isAttachIframe: !0\n            }), this.recordCrossOriginIframes && (null == (n = e.contentWindow) || n.addEventListener(\"message\", this.handleMessage.bind(this))), null == (o = this.loadListener) || o.call(this, e), e.contentDocument && e.contentDocument.adoptedStyleSheets && e.contentDocument.adoptedStyleSheets.length > 0 && this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets, this.mirror.getId(e.contentDocument));\n        }\n        handleMessage(e) {\n            const t = e;\n            if (\"rrweb\" !== t.data.type || t.origin !== t.data.origin) return;\n            if (!e.source) return;\n            const n = this.crossOriginIframeMap.get(e.source);\n            if (!n) return;\n            const o = this.transformCrossOriginEvent(n, t.data.event);\n            o && this.wrappedEmit(o, t.data.isCheckout);\n        }\n        transformCrossOriginEvent(e, t) {\n            var n;\n            switch(t.type){\n                case Oe.FullSnapshot:\n                    {\n                        this.crossOriginIframeMirror.reset(e), this.crossOriginIframeStyleMirror.reset(e), this.replaceIdOnNode(t.data.node, e);\n                        const n = t.data.node.id;\n                        return this.crossOriginIframeRootIdMap.set(e, n), this.patchRootIdOnNode(t.data.node, n), {\n                            timestamp: t.timestamp,\n                            type: Oe.IncrementalSnapshot,\n                            data: {\n                                source: xe.Mutation,\n                                adds: [\n                                    {\n                                        parentId: this.mirror.getId(e),\n                                        nextId: null,\n                                        node: t.data.node\n                                    }\n                                ],\n                                removes: [],\n                                texts: [],\n                                attributes: [],\n                                isAttachIframe: !0\n                            }\n                        };\n                    }\n                case Oe.Meta:\n                case Oe.Load:\n                case Oe.DomContentLoaded:\n                    return !1;\n                case Oe.Plugin:\n                    return t;\n                case Oe.Custom:\n                    return this.replaceIds(t.data.payload, e, [\n                        \"id\",\n                        \"parentId\",\n                        \"previousId\",\n                        \"nextId\"\n                    ]), t;\n                case Oe.IncrementalSnapshot:\n                    switch(t.data.source){\n                        case xe.Mutation:\n                            return t.data.adds.forEach((t)=>{\n                                this.replaceIds(t, e, [\n                                    \"parentId\",\n                                    \"nextId\",\n                                    \"previousId\"\n                                ]), this.replaceIdOnNode(t.node, e);\n                                const n = this.crossOriginIframeRootIdMap.get(e);\n                                n && this.patchRootIdOnNode(t.node, n);\n                            }), t.data.removes.forEach((t)=>{\n                                this.replaceIds(t, e, [\n                                    \"parentId\",\n                                    \"id\"\n                                ]);\n                            }), t.data.attributes.forEach((t)=>{\n                                this.replaceIds(t, e, [\n                                    \"id\"\n                                ]);\n                            }), t.data.texts.forEach((t)=>{\n                                this.replaceIds(t, e, [\n                                    \"id\"\n                                ]);\n                            }), t;\n                        case xe.Drag:\n                        case xe.TouchMove:\n                        case xe.MouseMove:\n                            return t.data.positions.forEach((t)=>{\n                                this.replaceIds(t, e, [\n                                    \"id\"\n                                ]);\n                            }), t;\n                        case xe.ViewportResize:\n                            return !1;\n                        case xe.MediaInteraction:\n                        case xe.MouseInteraction:\n                        case xe.Scroll:\n                        case xe.CanvasMutation:\n                        case xe.Input:\n                            return this.replaceIds(t.data, e, [\n                                \"id\"\n                            ]), t;\n                        case xe.StyleSheetRule:\n                        case xe.StyleDeclaration:\n                            return this.replaceIds(t.data, e, [\n                                \"id\"\n                            ]), this.replaceStyleIds(t.data, e, [\n                                \"styleId\"\n                            ]), t;\n                        case xe.Font:\n                            return t;\n                        case xe.Selection:\n                            return t.data.ranges.forEach((t)=>{\n                                this.replaceIds(t, e, [\n                                    \"start\",\n                                    \"end\"\n                                ]);\n                            }), t;\n                        case xe.AdoptedStyleSheet:\n                            return this.replaceIds(t.data, e, [\n                                \"id\"\n                            ]), this.replaceStyleIds(t.data, e, [\n                                \"styleIds\"\n                            ]), null == (n = t.data.styles) || n.forEach((t)=>{\n                                this.replaceStyleIds(t, e, [\n                                    \"styleId\"\n                                ]);\n                            }), t;\n                    }\n            }\n            return !1;\n        }\n        replace(e, t, n, o) {\n            for (const r of o)(Array.isArray(t[r]) || \"number\" == typeof t[r]) && (Array.isArray(t[r]) ? t[r] = e.getIds(n, t[r]) : t[r] = e.getId(n, t[r]));\n            return t;\n        }\n        replaceIds(e, t, n) {\n            return this.replace(this.crossOriginIframeMirror, e, t, n);\n        }\n        replaceStyleIds(e, t, n) {\n            return this.replace(this.crossOriginIframeStyleMirror, e, t, n);\n        }\n        replaceIdOnNode(e, t) {\n            this.replaceIds(e, t, [\n                \"id\",\n                \"rootId\"\n            ]), \"childNodes\" in e && e.childNodes.forEach((e)=>{\n                this.replaceIdOnNode(e, t);\n            });\n        }\n        patchRootIdOnNode(e, t) {\n            e.type === s.Document || e.rootId || (e.rootId = t), \"childNodes\" in e && e.childNodes.forEach((e)=>{\n                this.patchRootIdOnNode(e, t);\n            });\n        }\n    }\n    class lt {\n        constructor(e){\n            o(this, \"shadowDoms\", new WeakSet), o(this, \"mutationCb\"), o(this, \"scrollCb\"), o(this, \"bypassOptions\"), o(this, \"mirror\"), o(this, \"restoreHandlers\", []), this.mutationCb = e.mutationCb, this.scrollCb = e.scrollCb, this.bypassOptions = e.bypassOptions, this.mirror = e.mirror, this.init();\n        }\n        init() {\n            this.reset(), this.patchAttachShadow(Element, document);\n        }\n        addShadowRoot(e, t) {\n            if (!I(e)) return;\n            if (this.shadowDoms.has(e)) return;\n            this.shadowDoms.add(e);\n            const n = je({\n                ...this.bypassOptions,\n                doc: t,\n                mutationCb: this.mutationCb,\n                mirror: this.mirror,\n                shadowDomManager: this\n            }, e);\n            this.restoreHandlers.push(()=>n.disconnect()), this.restoreHandlers.push(qe({\n                ...this.bypassOptions,\n                scrollCb: this.scrollCb,\n                doc: e,\n                mirror: this.mirror\n            })), setTimeout(()=>{\n                e.adoptedStyleSheets && e.adoptedStyleSheets.length > 0 && this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets, this.mirror.getId(le.host(e))), this.restoreHandlers.push(nt({\n                    mirror: this.mirror,\n                    stylesheetManager: this.bypassOptions.stylesheetManager\n                }, e));\n            }, 0);\n        }\n        observeAttachShadow(e) {\n            e.contentWindow && e.contentDocument && this.patchAttachShadow(e.contentWindow.Element, e.contentDocument);\n        }\n        patchAttachShadow(e, t) {\n            const n = this;\n            this.restoreHandlers.push(me(e.prototype, \"attachShadow\", function(e) {\n                return function(o) {\n                    const r = e.call(this, o), i = le.shadowRoot(this);\n                    return i && Ee(this) && n.addShadowRoot(i, t), r;\n                };\n            }));\n        }\n        reset() {\n            this.restoreHandlers.forEach((e)=>{\n                try {\n                    e();\n                } catch (e) {}\n            }), this.restoreHandlers = [], this.shadowDoms = new WeakSet;\n        }\n    }\n    for(var ct = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\", dt = \"undefined\" == typeof Uint8Array ? [] : new Uint8Array(256), ut = 0; ut < 64; ut++)dt[ct.charCodeAt(ut)] = ut;\n    const ht = new Map;\n    const pt = (e, t, n)=>{\n        if (!e || !gt(e, t) && \"object\" != typeof e) return;\n        const o = function(e, t) {\n            let n = ht.get(e);\n            return n || (n = new Map, ht.set(e, n)), n.has(t) || n.set(t, []), n.get(t);\n        }(n, e.constructor.name);\n        let r = o.indexOf(e);\n        return -1 === r && (r = o.length, o.push(e)), r;\n    };\n    function mt(e, t, n) {\n        if (e instanceof Array) return e.map((e)=>mt(e, t, n));\n        if (null === e) return e;\n        if (e instanceof Float32Array || e instanceof Float64Array || e instanceof Int32Array || e instanceof Uint32Array || e instanceof Uint8Array || e instanceof Uint16Array || e instanceof Int16Array || e instanceof Int8Array || e instanceof Uint8ClampedArray) return {\n            rr_type: e.constructor.name,\n            args: [\n                Object.values(e)\n            ]\n        };\n        if (e instanceof ArrayBuffer) return {\n            rr_type: e.constructor.name,\n            base64: function(e) {\n                var t, n = new Uint8Array(e), o = n.length, r = \"\";\n                for(t = 0; t < o; t += 3)r += ct[n[t] >> 2], r += ct[(3 & n[t]) << 4 | n[t + 1] >> 4], r += ct[(15 & n[t + 1]) << 2 | n[t + 2] >> 6], r += ct[63 & n[t + 2]];\n                return o % 3 == 2 ? r = r.substring(0, r.length - 1) + \"=\" : o % 3 == 1 && (r = r.substring(0, r.length - 2) + \"==\"), r;\n            }(e)\n        };\n        if (e instanceof DataView) return {\n            rr_type: e.constructor.name,\n            args: [\n                mt(e.buffer, t, n),\n                e.byteOffset,\n                e.byteLength\n            ]\n        };\n        if (e instanceof HTMLImageElement) {\n            const t = e.constructor.name, { src: n } = e;\n            return {\n                rr_type: t,\n                src: n\n            };\n        }\n        if (e instanceof HTMLCanvasElement) return {\n            rr_type: \"HTMLImageElement\",\n            src: e.toDataURL()\n        };\n        if (e instanceof ImageData) return {\n            rr_type: e.constructor.name,\n            args: [\n                mt(e.data, t, n),\n                e.width,\n                e.height\n            ]\n        };\n        if (gt(e, t) || \"object\" == typeof e) return {\n            rr_type: e.constructor.name,\n            index: pt(e, t, n)\n        };\n        return e;\n    }\n    const ft = (e, t, n)=>e.map((e)=>mt(e, t, n)), gt = (e, t)=>{\n        const n = [\n            \"WebGLActiveInfo\",\n            \"WebGLBuffer\",\n            \"WebGLFramebuffer\",\n            \"WebGLProgram\",\n            \"WebGLRenderbuffer\",\n            \"WebGLShader\",\n            \"WebGLShaderPrecisionFormat\",\n            \"WebGLTexture\",\n            \"WebGLUniformLocation\",\n            \"WebGLVertexArrayObject\",\n            \"WebGLVertexArrayObjectOES\"\n        ].filter((e)=>\"function\" == typeof t[e]);\n        return Boolean(n.find((n)=>e instanceof t[n]));\n    };\n    function yt(e, t, n, o) {\n        const r = [];\n        try {\n            const i = me(e.HTMLCanvasElement.prototype, \"getContext\", function(e) {\n                return function(r) {\n                    for(var i = arguments.length, s = new Array(i > 1 ? i - 1 : 0), a = 1; a < i; a++)s[a - 1] = arguments[a];\n                    if (!Ce(this, t, n, !0)) {\n                        const e = function(e) {\n                            return \"experimental-webgl\" === e ? \"webgl\" : e;\n                        }(r);\n                        if (\"__context\" in this || (this.__context = e), o && [\n                            \"webgl\",\n                            \"webgl2\"\n                        ].includes(e)) {\n                            if (s[0] && \"object\" == typeof s[0]) {\n                                const e = s[0];\n                                e.preserveDrawingBuffer || (e.preserveDrawingBuffer = !0);\n                            } else s.splice(0, 1, {\n                                preserveDrawingBuffer: !0\n                            });\n                        }\n                    }\n                    return e.apply(this, [\n                        r,\n                        ...s\n                    ]);\n                };\n            });\n            r.push(i);\n        } catch  {\n            console.error(\"failed to patch HTMLCanvasElement.prototype.getContext\");\n        }\n        return ()=>{\n            r.forEach((e)=>e());\n        };\n    }\n    function It(e, t, n, o, r, i) {\n        const s = [], a = Object.getOwnPropertyNames(e);\n        for (const l of a)if (![\n            \"isContextLost\",\n            \"canvas\",\n            \"drawingBufferWidth\",\n            \"drawingBufferHeight\"\n        ].includes(l)) try {\n            if (\"function\" != typeof e[l]) continue;\n            const a = me(e, l, function(e) {\n                return function() {\n                    for(var s = arguments.length, a = new Array(s), c = 0; c < s; c++)a[c] = arguments[c];\n                    const d = e.apply(this, a);\n                    if (pt(d, i, this), \"tagName\" in this.canvas && !Ce(this.canvas, o, r, !0)) {\n                        const e = ft(a, i, this), o = {\n                            type: t,\n                            property: l,\n                            args: e\n                        };\n                        n(this.canvas, o);\n                    }\n                    return d;\n                };\n            });\n            s.push(a);\n        } catch  {\n            const o = pe(e, l, {\n                set (e) {\n                    n(this.canvas, {\n                        type: t,\n                        property: l,\n                        args: [\n                            e\n                        ],\n                        setter: !0\n                    });\n                }\n            });\n            s.push(o);\n        }\n        return s;\n    }\n    const bt = \"KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=\", Ct = \"undefined\" != typeof window && window.Blob && new Blob([\n        (St = bt, Uint8Array.from(atob(St), (e)=>e.charCodeAt(0)))\n    ], {\n        type: \"text/javascript;charset=utf-8\"\n    });\n    var St;\n    function vt(e) {\n        let t;\n        try {\n            if (t = Ct && (window.URL || window.webkitURL).createObjectURL(Ct), !t) throw \"\";\n            const n = new Worker(t, {\n                name: null == e ? void 0 : e.name\n            });\n            return n.addEventListener(\"error\", ()=>{\n                (window.URL || window.webkitURL).revokeObjectURL(t);\n            }), n;\n        } catch (t) {\n            return new Worker(\"data:text/javascript;base64,\" + bt, {\n                name: null == e ? void 0 : e.name\n            });\n        } finally{\n            t && (window.URL || window.webkitURL).revokeObjectURL(t);\n        }\n    }\n    class wt {\n        constructor(e){\n            o(this, \"pendingCanvasMutations\", new Map), o(this, \"rafStamps\", {\n                latestId: 0,\n                invokeId: null\n            }), o(this, \"mirror\"), o(this, \"mutationCb\"), o(this, \"resetObservers\"), o(this, \"frozen\", !1), o(this, \"locked\", !1), o(this, \"processMutation\", (e, t)=>{\n                !(this.rafStamps.invokeId && this.rafStamps.latestId !== this.rafStamps.invokeId) && this.rafStamps.invokeId || (this.rafStamps.invokeId = this.rafStamps.latestId), this.pendingCanvasMutations.has(e) || this.pendingCanvasMutations.set(e, []), this.pendingCanvasMutations.get(e).push(t);\n            });\n            const { sampling: t = \"all\", win: n, blockClass: r, blockSelector: i, recordCanvas: s, dataURLOptions: a } = e;\n            this.mutationCb = e.mutationCb, this.mirror = e.mirror, s && \"all\" === t && this.initCanvasMutationObserver(n, r, i), s && \"number\" == typeof t && this.initCanvasFPSObserver(t, n, r, i, {\n                dataURLOptions: a\n            });\n        }\n        reset() {\n            this.pendingCanvasMutations.clear(), this.resetObservers && this.resetObservers();\n        }\n        freeze() {\n            this.frozen = !0;\n        }\n        unfreeze() {\n            this.frozen = !1;\n        }\n        lock() {\n            this.locked = !0;\n        }\n        unlock() {\n            this.locked = !1;\n        }\n        initCanvasFPSObserver(e, t, n, o, r) {\n            const i = yt(t, n, o, !0), s = new Map, a = new vt;\n            a.onmessage = (e)=>{\n                const { id: t } = e.data;\n                if (s.set(t, !1), !(\"base64\" in e.data)) return;\n                const { base64: n, type: o, width: r, height: i } = e.data;\n                this.mutationCb({\n                    id: t,\n                    type: Fe[\"2D\"],\n                    commands: [\n                        {\n                            property: \"clearRect\",\n                            args: [\n                                0,\n                                0,\n                                r,\n                                i\n                            ]\n                        },\n                        {\n                            property: \"drawImage\",\n                            args: [\n                                {\n                                    rr_type: \"ImageBitmap\",\n                                    args: [\n                                        {\n                                            rr_type: \"Blob\",\n                                            data: [\n                                                {\n                                                    rr_type: \"ArrayBuffer\",\n                                                    base64: n\n                                                }\n                                            ],\n                                            type: o\n                                        }\n                                    ]\n                                },\n                                0,\n                                0\n                            ]\n                        }\n                    ]\n                });\n            };\n            const l = 1e3 / e;\n            let c, d = 0;\n            const u = (e)=>{\n                d && e - d < l || (d = e, (()=>{\n                    const e = [], r = (t)=>{\n                        t.querySelectorAll(\"canvas\").forEach((t)=>{\n                            Ce(t, n, o, !0) || e.push(t);\n                        }), t.querySelectorAll(\"*\").forEach((e)=>{\n                            e.shadowRoot && r(e.shadowRoot);\n                        });\n                    };\n                    return r(t.document), e;\n                })().forEach(async (e)=>{\n                    var t;\n                    const n = this.mirror.getId(e);\n                    if (s.get(n)) return;\n                    if (0 === e.width || 0 === e.height) return;\n                    if (s.set(n, !0), [\n                        \"webgl\",\n                        \"webgl2\"\n                    ].includes(e.__context)) {\n                        const n = e.getContext(e.__context);\n                        !1 === (null == (t = null == n ? void 0 : n.getContextAttributes()) ? void 0 : t.preserveDrawingBuffer) && n.clear(n.COLOR_BUFFER_BIT);\n                    }\n                    const o = e.clientWidth || e.width, i = e.clientHeight || e.height, l = await createImageBitmap(e, {\n                        resizeWidth: o,\n                        resizeHeight: i\n                    });\n                    a.postMessage({\n                        id: n,\n                        bitmap: l,\n                        width: o,\n                        height: i,\n                        dataURLOptions: r.dataURLOptions\n                    }, [\n                        l\n                    ]);\n                })), c = requestAnimationFrame(u);\n            };\n            c = requestAnimationFrame(u), this.resetObservers = ()=>{\n                i(), cancelAnimationFrame(c);\n            };\n        }\n        initCanvasMutationObserver(e, t, n) {\n            this.startRAFTimestamping(), this.startPendingCanvasMutationFlusher();\n            const o = yt(e, t, n, !1), r = function(e, t, n, o) {\n                const r = [], i = Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);\n                for (const s of i)try {\n                    if (\"function\" != typeof t.CanvasRenderingContext2D.prototype[s]) continue;\n                    const i = me(t.CanvasRenderingContext2D.prototype, s, function(r) {\n                        return function() {\n                            for(var i = arguments.length, a = new Array(i), l = 0; l < i; l++)a[l] = arguments[l];\n                            return Ce(this.canvas, n, o, !0) || setTimeout(()=>{\n                                const n = ft(a, t, this);\n                                e(this.canvas, {\n                                    type: Fe[\"2D\"],\n                                    property: s,\n                                    args: n\n                                });\n                            }, 0), r.apply(this, a);\n                        };\n                    });\n                    r.push(i);\n                } catch  {\n                    const n = pe(t.CanvasRenderingContext2D.prototype, s, {\n                        set (t) {\n                            e(this.canvas, {\n                                type: Fe[\"2D\"],\n                                property: s,\n                                args: [\n                                    t\n                                ],\n                                setter: !0\n                            });\n                        }\n                    });\n                    r.push(n);\n                }\n                return ()=>{\n                    r.forEach((e)=>e());\n                };\n            }(this.processMutation.bind(this), e, t, n), i = function(e, t, n, o) {\n                const r = [];\n                return r.push(...It(t.WebGLRenderingContext.prototype, Fe.WebGL, e, n, o, t)), void 0 !== t.WebGL2RenderingContext && r.push(...It(t.WebGL2RenderingContext.prototype, Fe.WebGL2, e, n, o, t)), ()=>{\n                    r.forEach((e)=>e());\n                };\n            }(this.processMutation.bind(this), e, t, n);\n            this.resetObservers = ()=>{\n                o(), r(), i();\n            };\n        }\n        startPendingCanvasMutationFlusher() {\n            requestAnimationFrame(()=>this.flushPendingCanvasMutations());\n        }\n        startRAFTimestamping() {\n            const e = (t)=>{\n                this.rafStamps.latestId = t, requestAnimationFrame(e);\n            };\n            requestAnimationFrame(e);\n        }\n        flushPendingCanvasMutations() {\n            this.pendingCanvasMutations.forEach((e, t)=>{\n                const n = this.mirror.getId(t);\n                this.flushPendingCanvasMutationFor(t, n);\n            }), requestAnimationFrame(()=>this.flushPendingCanvasMutations());\n        }\n        flushPendingCanvasMutationFor(e, t) {\n            if (this.frozen || this.locked) return;\n            const n = this.pendingCanvasMutations.get(e);\n            if (!n || -1 === t) return;\n            const o = n.map((e)=>{\n                const { type: t, ...n } = e;\n                return n;\n            }), { type: r } = n[0];\n            this.mutationCb({\n                id: t,\n                type: r,\n                commands: o\n            }), this.pendingCanvasMutations.delete(e);\n        }\n    }\n    class Nt {\n        constructor(e){\n            o(this, \"trackedLinkElements\", new WeakSet), o(this, \"mutationCb\"), o(this, \"adoptedStyleSheetCb\"), o(this, \"styleMirror\", new ke), this.mutationCb = e.mutationCb, this.adoptedStyleSheetCb = e.adoptedStyleSheetCb;\n        }\n        attachLinkElement(e, t) {\n            \"_cssText\" in t.attributes && this.mutationCb({\n                adds: [],\n                removes: [],\n                texts: [],\n                attributes: [\n                    {\n                        id: t.id,\n                        attributes: t.attributes\n                    }\n                ]\n            }), this.trackLinkElement(e);\n        }\n        trackLinkElement(e) {\n            this.trackedLinkElements.has(e) || (this.trackedLinkElements.add(e), this.trackStylesheetInLinkElement(e));\n        }\n        adoptStyleSheets(e, t) {\n            if (0 === e.length) return;\n            const n = {\n                id: t,\n                styleIds: []\n            }, o = [];\n            for (const t of e){\n                let e;\n                this.styleMirror.has(t) ? e = this.styleMirror.getId(t) : (e = this.styleMirror.add(t), o.push({\n                    styleId: e,\n                    rules: Array.from(t.rules || CSSRule, (e, n)=>({\n                            rule: C(e, t.href),\n                            index: n\n                        }))\n                })), n.styleIds.push(e);\n            }\n            o.length > 0 && (n.styles = o), this.adoptedStyleSheetCb(n);\n        }\n        reset() {\n            this.styleMirror.reset(), this.trackedLinkElements = new WeakSet;\n        }\n        trackStylesheetInLinkElement(e) {}\n    }\n    class Mt {\n        constructor(){\n            o(this, \"nodeMap\", new WeakMap), o(this, \"active\", !1);\n        }\n        inOtherBuffer(e, t) {\n            const n = this.nodeMap.get(e);\n            return n && Array.from(n).some((e)=>e !== t);\n        }\n        add(e, t) {\n            this.active || (this.active = !0, requestAnimationFrame(()=>{\n                this.nodeMap = new WeakMap, this.active = !1;\n            })), this.nodeMap.set(e, (this.nodeMap.get(e) || new Set).add(t));\n        }\n        destroy() {}\n    }\n    let At, kt, Rt, Tt = !1;\n    try {\n        if (2 !== Array.from([\n            1\n        ], (e)=>2 * e)[0]) {\n            const e = document.createElement(\"iframe\");\n            document.body.appendChild(e), Array.from = (null == (t = e.contentWindow) ? void 0 : t.Array.from) || Array.from, document.body.removeChild(e);\n        }\n    } catch (e) {\n        console.debug(\"Unable to override Array.from\", e);\n    }\n    const Et = new v;\n    function Ot() {\n        let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n        const { emit: t, checkoutEveryNms: n, checkoutEveryNth: o, blockClass: r = \"rr-block\", blockSelector: i = null, ignoreClass: s = \"rr-ignore\", ignoreSelector: a = null, maskTextClass: l = \"rr-mask\", maskTextSelector: c = null, inlineStylesheet: d = !0, maskAllInputs: u, maskInputOptions: h, slimDOMOptions: p, maskInputFn: m, maskTextFn: f, hooks: g, packFn: y, sampling: I = {}, dataURLOptions: b = {}, mousemoveWait: C, recordDOM: S = !0, recordCanvas: w = !1, recordCrossOriginIframes: N = !1, recordAfter: M = \"DOMContentLoaded\" === e.recordAfter ? e.recordAfter : \"load\", userTriggeredOnInput: A = !1, collectFonts: k = !1, inlineImages: R = !1, plugins: T, keepIframeSrcFn: E = ()=>!1, ignoreCSSAttributes: O = new Set([]), errorHandler: x } = e;\n        Pe = x;\n        const L = !N || window.parent === window;\n        let D = !1;\n        if (!L) try {\n            window.parent.document && (D = !1);\n        } catch (e) {\n            D = !0;\n        }\n        if (L && !t) throw new Error(\"emit function is required\");\n        if (!L && !D) return ()=>{};\n        void 0 !== C && void 0 === I.mousemove && (I.mousemove = C), Et.reset();\n        const F = !0 === u ? {\n            color: !0,\n            date: !0,\n            \"datetime-local\": !0,\n            email: !0,\n            month: !0,\n            number: !0,\n            range: !0,\n            search: !0,\n            tel: !0,\n            text: !0,\n            time: !0,\n            url: !0,\n            week: !0,\n            textarea: !0,\n            select: !0,\n            password: !0\n        } : void 0 !== h ? h : {\n            password: !0\n        }, B = !0 === p || \"all\" === p ? {\n            script: !0,\n            comment: !0,\n            headFavicon: !0,\n            headWhitespace: !0,\n            headMetaSocial: !0,\n            headMetaRobots: !0,\n            headMetaHttpEquiv: !0,\n            headMetaVerification: !0,\n            headMetaAuthorship: \"all\" === p,\n            headMetaDescKeywords: \"all\" === p,\n            headTitleMutations: \"all\" === p\n        } : p || {};\n        let Z;\n        !function() {\n            let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : window;\n            \"NodeList\" in e && !e.NodeList.prototype.forEach && (e.NodeList.prototype.forEach = Array.prototype.forEach), \"DOMTokenList\" in e && !e.DOMTokenList.prototype.forEach && (e.DOMTokenList.prototype.forEach = Array.prototype.forEach);\n        }();\n        let _ = 0;\n        const Y = (e)=>{\n            for (const t of T || [])t.eventProcessor && (e = t.eventProcessor(e));\n            return y && !D && (e = y(e)), e;\n        };\n        At = (e, r)=>{\n            var i;\n            const s = e;\n            if (s.timestamp = fe(), !(null == (i = Ke[0]) ? void 0 : i.isFrozen()) || s.type === Oe.FullSnapshot || s.type === Oe.IncrementalSnapshot && s.data.source === xe.Mutation || Ke.forEach((e)=>e.unfreeze()), L) null == t || t(Y(s), r);\n            else if (D) {\n                const e = {\n                    type: \"rrweb\",\n                    event: Y(s),\n                    origin: window.location.origin,\n                    isCheckout: r\n                };\n                window.parent.postMessage(e, \"*\");\n            }\n            if (s.type === Oe.FullSnapshot) Z = s, _ = 0;\n            else if (s.type === Oe.IncrementalSnapshot) {\n                if (s.data.source === xe.Mutation && s.data.isAttachIframe) return;\n                _++;\n                const e = o && _ >= o, t = n && s.timestamp - Z.timestamp > n;\n                (e || t) && kt(!0);\n            }\n        };\n        const W = (e)=>{\n            At({\n                type: Oe.IncrementalSnapshot,\n                data: {\n                    source: xe.Mutation,\n                    ...e\n                }\n            });\n        }, G = (e)=>At({\n                type: Oe.IncrementalSnapshot,\n                data: {\n                    source: xe.Scroll,\n                    ...e\n                }\n            }), V = (e)=>At({\n                type: Oe.IncrementalSnapshot,\n                data: {\n                    source: xe.CanvasMutation,\n                    ...e\n                }\n            }), H = new Nt({\n            mutationCb: W,\n            adoptedStyleSheetCb: (e)=>At({\n                    type: Oe.IncrementalSnapshot,\n                    data: {\n                        source: xe.AdoptedStyleSheet,\n                        ...e\n                    }\n                })\n        }), X = new at({\n            mirror: Et,\n            mutationCb: W,\n            stylesheetManager: H,\n            recordCrossOriginIframes: N,\n            wrappedEmit: At\n        });\n        for (const e of T || [])e.getMirror && e.getMirror({\n            nodeMirror: Et,\n            crossOriginIframeMirror: X.crossOriginIframeMirror,\n            crossOriginIframeStyleMirror: X.crossOriginIframeStyleMirror\n        });\n        const P = new Mt;\n        Rt = new wt({\n            recordCanvas: w,\n            mutationCb: V,\n            win: window,\n            blockClass: r,\n            blockSelector: i,\n            mirror: Et,\n            sampling: I.canvas,\n            dataURLOptions: b\n        });\n        const z = new lt({\n            mutationCb: W,\n            scrollCb: G,\n            bypassOptions: {\n                blockClass: r,\n                blockSelector: i,\n                maskTextClass: l,\n                maskTextSelector: c,\n                inlineStylesheet: d,\n                maskInputOptions: F,\n                dataURLOptions: b,\n                maskTextFn: f,\n                maskInputFn: m,\n                recordCanvas: w,\n                inlineImages: R,\n                sampling: I,\n                slimDOMOptions: B,\n                iframeManager: X,\n                stylesheetManager: H,\n                canvasManager: Rt,\n                keepIframeSrcFn: E,\n                processedNodeManager: P\n            },\n            mirror: Et\n        });\n        kt = function() {\n            let e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];\n            if (!S) return;\n            At({\n                type: Oe.Meta,\n                data: {\n                    href: window.location.href,\n                    width: Ie(),\n                    height: ye()\n                }\n            }, e), H.reset(), z.init(), Ke.forEach((e)=>e.lock());\n            const t = function(e, t) {\n                const { mirror: n = new v, blockClass: o = \"rr-block\", blockSelector: r = null, maskTextClass: i = \"rr-mask\", maskTextSelector: s = null, inlineStylesheet: a = !0, inlineImages: l = !1, recordCanvas: c = !1, maskAllInputs: d = !1, maskTextFn: u, maskInputFn: h, slimDOM: p = !1, dataURLOptions: m, preserveWhiteSpace: f, onSerialize: g, onIframeLoad: y, iframeLoadTimeout: I, onStylesheetLoad: b, stylesheetLoadTimeout: C, keepIframeSrcFn: S = ()=>!1 } = t || {};\n                return q(e, {\n                    doc: e,\n                    mirror: n,\n                    blockClass: o,\n                    blockSelector: r,\n                    maskTextClass: i,\n                    maskTextSelector: s,\n                    skipChild: !1,\n                    inlineStylesheet: a,\n                    maskInputOptions: !0 === d ? {\n                        color: !0,\n                        date: !0,\n                        \"datetime-local\": !0,\n                        email: !0,\n                        month: !0,\n                        number: !0,\n                        range: !0,\n                        search: !0,\n                        tel: !0,\n                        text: !0,\n                        time: !0,\n                        url: !0,\n                        week: !0,\n                        textarea: !0,\n                        select: !0,\n                        password: !0\n                    } : !1 === d ? {\n                        password: !0\n                    } : d,\n                    maskTextFn: u,\n                    maskInputFn: h,\n                    slimDOMOptions: !0 === p || \"all\" === p ? {\n                        script: !0,\n                        comment: !0,\n                        headFavicon: !0,\n                        headWhitespace: !0,\n                        headMetaDescKeywords: \"all\" === p,\n                        headMetaSocial: !0,\n                        headMetaRobots: !0,\n                        headMetaHttpEquiv: !0,\n                        headMetaAuthorship: !0,\n                        headMetaVerification: !0\n                    } : !1 === p ? {} : p,\n                    dataURLOptions: m,\n                    inlineImages: l,\n                    recordCanvas: c,\n                    preserveWhiteSpace: f,\n                    onSerialize: g,\n                    onIframeLoad: y,\n                    iframeLoadTimeout: I,\n                    onStylesheetLoad: b,\n                    stylesheetLoadTimeout: C,\n                    keepIframeSrcFn: S,\n                    newlyAddedElement: !1\n                });\n            }(document, {\n                mirror: Et,\n                blockClass: r,\n                blockSelector: i,\n                maskTextClass: l,\n                maskTextSelector: c,\n                inlineStylesheet: d,\n                maskAllInputs: F,\n                maskTextFn: f,\n                maskInputFn: m,\n                slimDOM: B,\n                dataURLOptions: b,\n                recordCanvas: w,\n                inlineImages: R,\n                onSerialize: (e)=>{\n                    Ne(e, Et) && X.addIframe(e), Me(e, Et) && H.trackLinkElement(e), Ae(e) && z.addShadowRoot(le.shadowRoot(e), document);\n                },\n                onIframeLoad: (e, t)=>{\n                    X.attachIframe(e, t), z.observeAttachShadow(e);\n                },\n                onStylesheetLoad: (e, t)=>{\n                    H.attachLinkElement(e, t);\n                },\n                keepIframeSrcFn: E\n            });\n            if (!t) return console.warn(\"Failed to snapshot the document\");\n            At({\n                type: Oe.FullSnapshot,\n                data: {\n                    node: t,\n                    initialOffset: ge(window)\n                }\n            }, e), Ke.forEach((e)=>e.unlock()), document.adoptedStyleSheets && document.adoptedStyleSheets.length > 0 && H.adoptStyleSheets(document.adoptedStyleSheets, Et.getId(document));\n        };\n        try {\n            const e = [], t = (e)=>{\n                var t;\n                return ze(ot)({\n                    mutationCb: W,\n                    mousemoveCb: (e, t)=>At({\n                            type: Oe.IncrementalSnapshot,\n                            data: {\n                                source: t,\n                                positions: e\n                            }\n                        }),\n                    mouseInteractionCb: (e)=>At({\n                            type: Oe.IncrementalSnapshot,\n                            data: {\n                                source: xe.MouseInteraction,\n                                ...e\n                            }\n                        }),\n                    scrollCb: G,\n                    viewportResizeCb: (e)=>At({\n                            type: Oe.IncrementalSnapshot,\n                            data: {\n                                source: xe.ViewportResize,\n                                ...e\n                            }\n                        }),\n                    inputCb: (e)=>At({\n                            type: Oe.IncrementalSnapshot,\n                            data: {\n                                source: xe.Input,\n                                ...e\n                            }\n                        }),\n                    mediaInteractionCb: (e)=>At({\n                            type: Oe.IncrementalSnapshot,\n                            data: {\n                                source: xe.MediaInteraction,\n                                ...e\n                            }\n                        }),\n                    styleSheetRuleCb: (e)=>At({\n                            type: Oe.IncrementalSnapshot,\n                            data: {\n                                source: xe.StyleSheetRule,\n                                ...e\n                            }\n                        }),\n                    styleDeclarationCb: (e)=>At({\n                            type: Oe.IncrementalSnapshot,\n                            data: {\n                                source: xe.StyleDeclaration,\n                                ...e\n                            }\n                        }),\n                    canvasMutationCb: V,\n                    fontCb: (e)=>At({\n                            type: Oe.IncrementalSnapshot,\n                            data: {\n                                source: xe.Font,\n                                ...e\n                            }\n                        }),\n                    selectionCb: (e)=>{\n                        At({\n                            type: Oe.IncrementalSnapshot,\n                            data: {\n                                source: xe.Selection,\n                                ...e\n                            }\n                        });\n                    },\n                    customElementCb: (e)=>{\n                        At({\n                            type: Oe.IncrementalSnapshot,\n                            data: {\n                                source: xe.CustomElement,\n                                ...e\n                            }\n                        });\n                    },\n                    blockClass: r,\n                    ignoreClass: s,\n                    ignoreSelector: a,\n                    maskTextClass: l,\n                    maskTextSelector: c,\n                    maskInputOptions: F,\n                    inlineStylesheet: d,\n                    sampling: I,\n                    recordDOM: S,\n                    recordCanvas: w,\n                    inlineImages: R,\n                    userTriggeredOnInput: A,\n                    collectFonts: k,\n                    doc: e,\n                    maskInputFn: m,\n                    maskTextFn: f,\n                    keepIframeSrcFn: E,\n                    blockSelector: i,\n                    slimDOMOptions: B,\n                    dataURLOptions: b,\n                    mirror: Et,\n                    iframeManager: X,\n                    stylesheetManager: H,\n                    shadowDomManager: z,\n                    processedNodeManager: P,\n                    canvasManager: Rt,\n                    ignoreCSSAttributes: O,\n                    plugins: (null == (t = null == T ? void 0 : T.filter((e)=>e.observer)) ? void 0 : t.map((e)=>({\n                            observer: e.observer,\n                            options: e.options,\n                            callback: (t)=>At({\n                                    type: Oe.Plugin,\n                                    data: {\n                                        plugin: e.name,\n                                        payload: t\n                                    }\n                                })\n                        }))) || []\n                }, g);\n            };\n            X.addLoadListener((n)=>{\n                try {\n                    e.push(t(n.contentDocument));\n                } catch (e) {\n                    console.warn(e);\n                }\n            });\n            const n = ()=>{\n                kt(), e.push(t(document)), Tt = !0;\n            };\n            return \"interactive\" === document.readyState || \"complete\" === document.readyState ? n() : (e.push(ce(\"DOMContentLoaded\", ()=>{\n                At({\n                    type: Oe.DomContentLoaded,\n                    data: {}\n                }), \"DOMContentLoaded\" === M && n();\n            })), e.push(ce(\"load\", ()=>{\n                At({\n                    type: Oe.Load,\n                    data: {}\n                }), \"load\" === M && n();\n            }, window))), ()=>{\n                e.forEach((e)=>e()), P.destroy(), Tt = !1, Pe = void 0;\n            };\n        } catch (e) {\n            console.warn(e);\n        }\n    }\n    var xt, Lt;\n    Ot.addCustomEvent = (e, t)=>{\n        if (!Tt) throw new Error(\"please add custom event after start recording\");\n        At({\n            type: Oe.Custom,\n            data: {\n                tag: e,\n                payload: t\n            }\n        });\n    }, Ot.freezePage = ()=>{\n        Ke.forEach((e)=>e.freeze());\n    }, Ot.takeFullSnapshot = (e)=>{\n        if (!Tt) throw new Error(\"please take full snapshot after start recording\");\n        kt(e);\n    }, Ot.mirror = Et, (Lt = xt || (xt = {}))[Lt.NotStarted = 0] = \"NotStarted\", Lt[Lt.Running = 1] = \"Running\", Lt[Lt.Stopped = 2] = \"Stopped\";\n    var Dt, Ft = Object.defineProperty, Bt = (e, t, n)=>((e, t, n)=>t in e ? Ft(e, t, {\n                enumerable: !0,\n                configurable: !0,\n                writable: !0,\n                value: n\n            }) : e[t] = n)(e, \"symbol\" != typeof t ? t + \"\" : t, n), Zt = Object.defineProperty, _t = (e, t, n)=>((e, t, n)=>t in e ? Zt(e, t, {\n                enumerable: !0,\n                configurable: !0,\n                writable: !0,\n                value: n\n            }) : e[t] = n)(e, \"symbol\" != typeof t ? t + \"\" : t, n), Yt = Object.defineProperty, Wt = (e, t, n)=>((e, t, n)=>t in e ? Yt(e, t, {\n                enumerable: !0,\n                configurable: !0,\n                writable: !0,\n                value: n\n            }) : e[t] = n)(e, \"symbol\" != typeof t ? t + \"\" : t, n);\n    const Gt = {\n        Node: [\n            \"childNodes\",\n            \"parentNode\",\n            \"parentElement\",\n            \"textContent\"\n        ],\n        ShadowRoot: [\n            \"host\",\n            \"styleSheets\"\n        ],\n        Element: [\n            \"shadowRoot\",\n            \"querySelector\",\n            \"querySelectorAll\"\n        ],\n        MutationObserver: []\n    }, Vt = {\n        Node: [\n            \"contains\",\n            \"getRootNode\"\n        ],\n        ShadowRoot: [\n            \"getSelection\"\n        ],\n        Element: [],\n        MutationObserver: [\n            \"constructor\"\n        ]\n    }, Ht = {};\n    function Xt(e) {\n        if (Ht[e]) return Ht[e];\n        const t = globalThis[e], n = t.prototype, o = e in Gt ? Gt[e] : void 0, r = Boolean(o && o.every((e)=>{\n            var t, o;\n            return Boolean(null == (o = null == (t = Object.getOwnPropertyDescriptor(n, e)) ? void 0 : t.get) ? void 0 : o.toString().includes(\"[native code]\"));\n        })), i = e in Vt ? Vt[e] : void 0, s = Boolean(i && i.every((e)=>{\n            var t;\n            return \"function\" == typeof n[e] && (null == (t = n[e]) ? void 0 : t.toString().includes(\"[native code]\"));\n        }));\n        if (r && s) return Ht[e] = t.prototype, t.prototype;\n        try {\n            const o = document.createElement(\"iframe\");\n            document.body.appendChild(o);\n            const r = o.contentWindow;\n            if (!r) return t.prototype;\n            const i = r[e].prototype;\n            return document.body.removeChild(o), i ? Ht[e] = i : n;\n        } catch  {\n            return n;\n        }\n    }\n    const Pt = {};\n    function zt(e, t, n) {\n        var o;\n        const r = `${e}.${String(n)}`;\n        if (Pt[r]) return Pt[r].call(t);\n        const i = Xt(e), s = null == (o = Object.getOwnPropertyDescriptor(i, n)) ? void 0 : o.get;\n        return s ? (Pt[r] = s, s.call(t)) : t[n];\n    }\n    const Kt = {};\n    function Jt(e, t, n) {\n        const o = `${e}.${String(n)}`;\n        if (Kt[o]) return Kt[o].bind(t);\n        const r = Xt(e)[n];\n        return \"function\" != typeof r ? t[n] : (Kt[o] = r, r.bind(t));\n    }\n    const jt = {\n        childNodes: function(e) {\n            return zt(\"Node\", e, \"childNodes\");\n        },\n        parentNode: function(e) {\n            return zt(\"Node\", e, \"parentNode\");\n        },\n        parentElement: function(e) {\n            return zt(\"Node\", e, \"parentElement\");\n        },\n        textContent: function(e) {\n            return zt(\"Node\", e, \"textContent\");\n        },\n        contains: function(e, t) {\n            return Jt(\"Node\", e, \"contains\")(t);\n        },\n        getRootNode: function(e) {\n            return Jt(\"Node\", e, \"getRootNode\")();\n        },\n        host: function(e) {\n            return e && \"host\" in e ? zt(\"ShadowRoot\", e, \"host\") : null;\n        },\n        styleSheets: function(e) {\n            return e.styleSheets;\n        },\n        shadowRoot: function(e) {\n            return e && \"shadowRoot\" in e ? zt(\"Element\", e, \"shadowRoot\") : null;\n        },\n        querySelector: function(e, t) {\n            return zt(\"Element\", e, \"querySelector\")(t);\n        },\n        querySelectorAll: function(e, t) {\n            return zt(\"Element\", e, \"querySelectorAll\")(t);\n        },\n        mutationObserver: function() {\n            return Xt(\"MutationObserver\").constructor;\n        }\n    };\n    class Ut {\n        constructor(){\n            Wt(this, \"idNodeMap\", new Map), Wt(this, \"nodeMetaMap\", new WeakMap);\n        }\n        getId(e) {\n            var t;\n            if (!e) return -1;\n            const n = null == (t = this.getMeta(e)) ? void 0 : t.id;\n            return null != n ? n : -1;\n        }\n        getNode(e) {\n            return this.idNodeMap.get(e) || null;\n        }\n        getIds() {\n            return Array.from(this.idNodeMap.keys());\n        }\n        getMeta(e) {\n            return this.nodeMetaMap.get(e) || null;\n        }\n        removeNodeFromMap(e) {\n            const t = this.getId(e);\n            this.idNodeMap.delete(t), e.childNodes && e.childNodes.forEach((e)=>this.removeNodeFromMap(e));\n        }\n        has(e) {\n            return this.idNodeMap.has(e);\n        }\n        hasNode(e) {\n            return this.nodeMetaMap.has(e);\n        }\n        add(e, t) {\n            const n = t.id;\n            this.idNodeMap.set(n, e), this.nodeMetaMap.set(e, t);\n        }\n        replace(e, t) {\n            const n = this.getNode(e);\n            if (n) {\n                const e = this.nodeMetaMap.get(n);\n                e && this.nodeMetaMap.set(t, e);\n            }\n            this.idNodeMap.set(e, t);\n        }\n        reset() {\n            this.idNodeMap = new Map, this.nodeMetaMap = new WeakMap;\n        }\n    }\n    function qt(e, t, n) {\n        if (!e) return !1;\n        if (e.nodeType !== e.ELEMENT_NODE) return !!n && qt(jt.parentNode(e), t, n);\n        for(let n = e.classList.length; n--;){\n            const o = e.classList[n];\n            if (t.test(o)) return !0;\n        }\n        return !!n && qt(jt.parentNode(e), t, n);\n    }\n    class Qt {\n        constructor(){\n            __publicField22(this, \"parentElement\", null), __publicField22(this, \"parentNode\", null), __publicField22(this, \"ownerDocument\"), __publicField22(this, \"firstChild\", null), __publicField22(this, \"lastChild\", null), __publicField22(this, \"previousSibling\", null), __publicField22(this, \"nextSibling\", null), __publicField22(this, \"ELEMENT_NODE\", 1), __publicField22(this, \"TEXT_NODE\", 3), __publicField22(this, \"nodeType\"), __publicField22(this, \"nodeName\"), __publicField22(this, \"RRNodeType\");\n        }\n        get childNodes() {\n            const e = [];\n            let t = this.firstChild;\n            for(; t;)e.push(t), t = t.nextSibling;\n            return e;\n        }\n        contains(e) {\n            if (!(e instanceof Qt)) return !1;\n            if (e.ownerDocument !== this.ownerDocument) return !1;\n            if (e === this) return !0;\n            for(; e.parentNode;){\n                if (e.parentNode === this) return !0;\n                e = e.parentNode;\n            }\n            return !1;\n        }\n        appendChild(e) {\n            throw new Error(\"RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.\");\n        }\n        insertBefore(e, t) {\n            throw new Error(\"RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.\");\n        }\n        removeChild(e) {\n            throw new Error(\"RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.\");\n        }\n        toString() {\n            return \"RRNode\";\n        }\n    }\n    const $t = {\n        Node: [\n            \"childNodes\",\n            \"parentNode\",\n            \"parentElement\",\n            \"textContent\"\n        ],\n        ShadowRoot: [\n            \"host\",\n            \"styleSheets\"\n        ],\n        Element: [\n            \"shadowRoot\",\n            \"querySelector\",\n            \"querySelectorAll\"\n        ],\n        MutationObserver: []\n    }, en = {\n        Node: [\n            \"contains\",\n            \"getRootNode\"\n        ],\n        ShadowRoot: [\n            \"getSelection\"\n        ],\n        Element: [],\n        MutationObserver: [\n            \"constructor\"\n        ]\n    }, tn = {};\n    function nn(e) {\n        if (tn[e]) return tn[e];\n        const t = globalThis[e], n = t.prototype, o = e in $t ? $t[e] : void 0, r = Boolean(o && o.every((e)=>{\n            var t, o;\n            return Boolean(null == (o = null == (t = Object.getOwnPropertyDescriptor(n, e)) ? void 0 : t.get) ? void 0 : o.toString().includes(\"[native code]\"));\n        })), i = e in en ? en[e] : void 0, s = Boolean(i && i.every((e)=>{\n            var t;\n            return \"function\" == typeof n[e] && (null == (t = n[e]) ? void 0 : t.toString().includes(\"[native code]\"));\n        }));\n        if (r && s) return tn[e] = t.prototype, t.prototype;\n        try {\n            const o = document.createElement(\"iframe\");\n            document.body.appendChild(o);\n            const r = o.contentWindow;\n            if (!r) return t.prototype;\n            const i = r[e].prototype;\n            return document.body.removeChild(o), i ? tn[e] = i : n;\n        } catch  {\n            return n;\n        }\n    }\n    const on = {};\n    function rn(e, t, n) {\n        var o;\n        const r = `${e}.${String(n)}`;\n        if (on[r]) return on[r].call(t);\n        const i = nn(e), s = null == (o = Object.getOwnPropertyDescriptor(i, n)) ? void 0 : o.get;\n        return s ? (on[r] = s, s.call(t)) : t[n];\n    }\n    const sn = {};\n    function an(e, t, n) {\n        const o = `${e}.${String(n)}`;\n        if (sn[o]) return sn[o].bind(t);\n        const r = nn(e)[n];\n        return \"function\" != typeof r ? t[n] : (sn[o] = r, r.bind(t));\n    }\n    const ln = {\n        childNodes: function(e) {\n            return rn(\"Node\", e, \"childNodes\");\n        },\n        parentNode: function(e) {\n            return rn(\"Node\", e, \"parentNode\");\n        },\n        parentElement: function(e) {\n            return rn(\"Node\", e, \"parentElement\");\n        },\n        textContent: function(e) {\n            return rn(\"Node\", e, \"textContent\");\n        },\n        contains: function(e, t) {\n            return an(\"Node\", e, \"contains\")(t);\n        },\n        getRootNode: function(e) {\n            return an(\"Node\", e, \"getRootNode\")();\n        },\n        host: function(e) {\n            return e && \"host\" in e ? rn(\"ShadowRoot\", e, \"host\") : null;\n        },\n        styleSheets: function(e) {\n            return e.styleSheets;\n        },\n        shadowRoot: function(e) {\n            return e && \"shadowRoot\" in e ? rn(\"Element\", e, \"shadowRoot\") : null;\n        },\n        querySelector: function(e, t) {\n            return rn(\"Element\", e, \"querySelector\")(t);\n        },\n        querySelectorAll: function(e, t) {\n            return rn(\"Element\", e, \"querySelectorAll\")(t);\n        },\n        mutationObserver: function() {\n            return nn(\"MutationObserver\").constructor;\n        }\n    };\n    const cn = \"Please stop import mirror directly. Instead of that,\\r\\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\\r\\nor you can use record.mirror to access the mirror instance during recording.\";\n    let dn = {\n        map: {},\n        getId: ()=>(console.error(cn), -1),\n        getNode: ()=>(console.error(cn), null),\n        removeNodeFromMap () {\n            console.error(cn);\n        },\n        has: ()=>(console.error(cn), !1),\n        reset () {\n            console.error(cn);\n        }\n    };\n    \"undefined\" != typeof window && window.Proxy && window.Reflect && (dn = new Proxy(dn, {\n        get: (e, t, n)=>(\"map\" === t && console.error(cn), Reflect.get(e, t, n))\n    }));\n    let un = Date.now;\n    function hn(e) {\n        if (!e) return null;\n        return e.nodeType === e.ELEMENT_NODE ? e : ln.parentElement(e);\n    }\n    /[1-9][0-9]{12}/.test(Date.now().toString()) || (un = ()=>(new Date).getTime());\n    function pn(e) {\n        var t;\n        let n = null;\n        return \"getRootNode\" in e && (null == (t = ln.getRootNode(e)) ? void 0 : t.nodeType) === Node.DOCUMENT_FRAGMENT_NODE && ln.host(ln.getRootNode(e)) && (n = ln.host(ln.getRootNode(e))), n;\n    }\n    function mn(e) {\n        let t, n = e;\n        for(; t = pn(n);)n = t;\n        return n;\n    }\n    function fn(e) {\n        const t = e.ownerDocument;\n        if (!t) return !1;\n        const n = mn(e);\n        return ln.contains(t, n);\n    }\n    const gn = Object.freeze(Object.defineProperty({\n        __proto__: null,\n        StyleSheetMirror: class {\n            constructor(){\n                _t(this, \"id\", 1), _t(this, \"styleIDMap\", new WeakMap), _t(this, \"idStyleMap\", new Map);\n            }\n            getId(e) {\n                var t;\n                return null !== (t = this.styleIDMap.get(e)) && void 0 !== t ? t : -1;\n            }\n            has(e) {\n                return this.styleIDMap.has(e);\n            }\n            add(e, t) {\n                if (this.has(e)) return this.getId(e);\n                let n;\n                return n = void 0 === t ? this.id++ : t, this.styleIDMap.set(e, n), this.idStyleMap.set(n, e), n;\n            }\n            getStyle(e) {\n                return this.idStyleMap.get(e) || null;\n            }\n            reset() {\n                this.styleIDMap = new WeakMap, this.idStyleMap = new Map, this.id = 1;\n            }\n            generateId() {\n                return this.id++;\n            }\n        },\n        get _mirror () {\n            return dn;\n        },\n        closestElementOfNode: hn,\n        getBaseDimension: function e(t, n) {\n            var o, r;\n            const i = null == (r = null == (o = t.ownerDocument) ? void 0 : o.defaultView) ? void 0 : r.frameElement;\n            if (!i || i === n) return {\n                x: 0,\n                y: 0,\n                relativeScale: 1,\n                absoluteScale: 1\n            };\n            const s = i.getBoundingClientRect(), a = e(i, n), l = s.height / i.clientHeight;\n            return {\n                x: s.x * a.relativeScale + a.x,\n                y: s.y * a.relativeScale + a.y,\n                relativeScale: l,\n                absoluteScale: a.absoluteScale * l\n            };\n        },\n        getNestedRule: function e(t, n) {\n            const o = t[n[0]];\n            return 1 === n.length ? o : e(o.cssRules[n[1]].cssRules, n.slice(2));\n        },\n        getPositionsAndIndex: function(e) {\n            const t = [\n                ...e\n            ], n = t.pop();\n            return {\n                positions: t,\n                index: n\n            };\n        },\n        getRootShadowHost: mn,\n        getShadowHost: pn,\n        getWindowHeight: function() {\n            return window.innerHeight || document.documentElement && document.documentElement.clientHeight || document.body && document.body.clientHeight;\n        },\n        getWindowScroll: function(e) {\n            var t, n, o, r;\n            const i = e.document;\n            return {\n                left: i.scrollingElement ? i.scrollingElement.scrollLeft : void 0 !== e.pageXOffset ? e.pageXOffset : i.documentElement.scrollLeft || (null == i ? void 0 : i.body) && (null == (t = ln.parentElement(i.body)) ? void 0 : t.scrollLeft) || (null == (n = null == i ? void 0 : i.body) ? void 0 : n.scrollLeft) || 0,\n                top: i.scrollingElement ? i.scrollingElement.scrollTop : void 0 !== e.pageYOffset ? e.pageYOffset : (null == i ? void 0 : i.documentElement.scrollTop) || (null == i ? void 0 : i.body) && (null == (o = ln.parentElement(i.body)) ? void 0 : o.scrollTop) || (null == (r = null == i ? void 0 : i.body) ? void 0 : r.scrollTop) || 0\n            };\n        },\n        getWindowWidth: function() {\n            return window.innerWidth || document.documentElement && document.documentElement.clientWidth || document.body && document.body.clientWidth;\n        },\n        hasShadowRoot: function(e) {\n            return !!e && (e instanceof Qt && \"shadowRoot\" in e ? Boolean(e.shadowRoot) : Boolean(ln.shadowRoot(e)));\n        },\n        hookSetter: function e(t, n, o, r) {\n            let i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : window;\n            const s = i.Object.getOwnPropertyDescriptor(t, n);\n            return i.Object.defineProperty(t, n, r ? o : {\n                set (e) {\n                    setTimeout(()=>{\n                        o.set.call(this, e);\n                    }, 0), s && s.set && s.set.call(this, e);\n                }\n            }), ()=>e(t, n, s || {}, !0);\n        },\n        inDom: function(e) {\n            const t = e.ownerDocument;\n            return !!t && (ln.contains(t, e) || fn(e));\n        },\n        isAncestorRemoved: function e(t, n) {\n            if (function(e) {\n                const t = e && \"host\" in e && \"mode\" in e && jt.host(e) || null;\n                return Boolean(t && \"shadowRoot\" in t && jt.shadowRoot(t) === e);\n            }(t)) return !1;\n            const o = n.getId(t);\n            if (!n.has(o)) return !0;\n            const r = ln.parentNode(t);\n            return (!r || r.nodeType !== t.DOCUMENT_NODE) && (!r || e(r, n));\n        },\n        isBlocked: function(e, t, n, o) {\n            if (!e) return !1;\n            const r = hn(e);\n            if (!r) return !1;\n            try {\n                if (\"string\" == typeof t) {\n                    if (r.classList.contains(t)) return !0;\n                    if (o && null !== r.closest(\".\" + t)) return !0;\n                } else if (qt(r, t, o)) return !0;\n            } catch (e) {}\n            if (n) {\n                if (r.matches(n)) return !0;\n                if (o && null !== r.closest(n)) return !0;\n            }\n            return !1;\n        },\n        isIgnored: function(e, t, n) {\n            return !(\"TITLE\" !== e.tagName || !n.headTitleMutations) || -2 === t.getId(e);\n        },\n        isSerialized: function(e, t) {\n            return -1 !== t.getId(e);\n        },\n        isSerializedIframe: function(e, t) {\n            return Boolean(\"IFRAME\" === e.nodeName && t.getMeta(e));\n        },\n        isSerializedStylesheet: function(e, t) {\n            return Boolean(\"LINK\" === e.nodeName && e.nodeType === e.ELEMENT_NODE && e.getAttribute && \"stylesheet\" === e.getAttribute(\"rel\") && t.getMeta(e));\n        },\n        iterateResolveTree: function e(t, n) {\n            n(t.value);\n            for(let o = t.children.length - 1; o >= 0; o--)e(t.children[o], n);\n        },\n        legacy_isTouchEvent: function(e) {\n            return Boolean(e.changedTouches);\n        },\n        get nowTimestamp () {\n            return un;\n        },\n        on: function(e, t) {\n            let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : document;\n            const o = {\n                capture: !0,\n                passive: !0\n            };\n            return n.addEventListener(e, t, o), ()=>n.removeEventListener(e, t, o);\n        },\n        patch: function(e, t, n) {\n            try {\n                if (!(t in e)) return ()=>{};\n                const o = e[t], r = n(o);\n                return \"function\" == typeof r && (r.prototype = r.prototype || {}, Object.defineProperties(r, {\n                    __rrweb_original__: {\n                        enumerable: !1,\n                        value: o\n                    }\n                })), e[t] = r, ()=>{\n                    e[t] = o;\n                };\n            } catch  {\n                return ()=>{};\n            }\n        },\n        polyfill: function() {\n            let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : window;\n            \"NodeList\" in e && !e.NodeList.prototype.forEach && (e.NodeList.prototype.forEach = Array.prototype.forEach), \"DOMTokenList\" in e && !e.DOMTokenList.prototype.forEach && (e.DOMTokenList.prototype.forEach = Array.prototype.forEach);\n        },\n        queueToResolveTrees: function(e) {\n            const t = {}, n = (e, n)=>{\n                const o = {\n                    value: e,\n                    parent: n,\n                    children: []\n                };\n                return t[e.node.id] = o, o;\n            }, o = [];\n            for (const r of e){\n                const { nextId: e, parentId: i } = r;\n                if (e && e in t) {\n                    const i = t[e];\n                    if (i.parent) {\n                        const e = i.parent.children.indexOf(i);\n                        i.parent.children.splice(e, 0, n(r, i.parent));\n                    } else {\n                        const e = o.indexOf(i);\n                        o.splice(e, 0, n(r, null));\n                    }\n                } else if (i in t) {\n                    const e = t[i];\n                    e.children.push(n(r, e));\n                } else o.push(n(r, null));\n            }\n            return o;\n        },\n        shadowHostInDom: fn,\n        throttle: function(e, t) {\n            let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, o = null, r = 0;\n            return function() {\n                for(var i = arguments.length, s = new Array(i), a = 0; a < i; a++)s[a] = arguments[a];\n                const l = Date.now();\n                r || !1 !== n.leading || (r = l);\n                const c = t - (l - r), d = this;\n                c <= 0 || c > t ? (o && (clearTimeout(o), o = null), r = l, e.apply(d, s)) : o || !1 === n.trailing || (o = setTimeout(()=>{\n                    r = !1 === n.leading ? 0 : Date.now(), o = null, e.apply(d, s);\n                }, c));\n            };\n        },\n        uniqueTextMutations: function(e) {\n            const t = new Set, n = [];\n            for(let o = e.length; o--;){\n                const r = e[o];\n                t.has(r.id) || (n.push(r), t.add(r.id));\n            }\n            return n;\n        }\n    }, Symbol.toStringTag, {\n        value: \"Module\"\n    }));\n    for(var yn = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\", In = \"undefined\" == typeof Uint8Array ? [] : new Uint8Array(256), bn = 0; bn < 64; bn++)In[yn.charCodeAt(bn)] = bn;\n    \"undefined\" != typeof window && window.Blob && new Blob([\n        ((e)=>Uint8Array.from(atob(e), (e)=>e.charCodeAt(0)))(\"KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=\")\n    ], {\n        type: \"text/javascript;charset=utf-8\"\n    });\n    try {\n        if (2 !== Array.from([\n            1\n        ], (e)=>2 * e)[0]) {\n            const e = document.createElement(\"iframe\");\n            document.body.appendChild(e), Array.from = (null == (Dt = e.contentWindow) ? void 0 : Dt.Array.from) || Array.from, document.body.removeChild(e);\n        }\n    } catch (e) {\n        console.debug(\"Unable to override Array.from\", e);\n    }\n    var Cn;\n    new Ut, function(e) {\n        e[e.NotStarted = 0] = \"NotStarted\", e[e.Running = 1] = \"Running\", e[e.Stopped = 2] = \"Stopped\";\n    }(Cn || (Cn = {}));\n    class Sn {\n        constructor(e){\n            Bt(this, \"fileName\"), Bt(this, \"functionName\"), Bt(this, \"lineNumber\"), Bt(this, \"columnNumber\"), this.fileName = e.fileName || \"\", this.functionName = e.functionName || \"\", this.lineNumber = e.lineNumber, this.columnNumber = e.columnNumber;\n        }\n        toString() {\n            const e = this.lineNumber || \"\", t = this.columnNumber || \"\";\n            return this.functionName ? `${this.functionName} (${this.fileName}:${e}:${t})` : `${this.fileName}:${e}:${t}`;\n        }\n    }\n    const vn = /(^|@)\\S+:\\d+/, wn = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m, Nn = /^(eval@)?(\\[native code])?$/, Mn = {\n        parse: function(e) {\n            return e ? void 0 !== e.stacktrace || void 0 !== e[\"opera#sourceloc\"] ? this.parseOpera(e) : e.stack && e.stack.match(wn) ? this.parseV8OrIE(e) : e.stack ? this.parseFFOrSafari(e) : (console.warn(\"[console-record-plugin]: Failed to parse error object:\", e), []) : [];\n        },\n        extractLocation: function(e) {\n            if (-1 === e.indexOf(\":\")) return [\n                e\n            ];\n            const t = /(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(e.replace(/[()]/g, \"\"));\n            if (!t) throw new Error(`Cannot parse given url: ${e}`);\n            return [\n                t[1],\n                t[2] || void 0,\n                t[3] || void 0\n            ];\n        },\n        parseV8OrIE: function(e) {\n            return e.stack.split(\"\\n\").filter(function(e) {\n                return !!e.match(wn);\n            }, this).map(function(e) {\n                e.indexOf(\"(eval \") > -1 && (e = e.replace(/eval code/g, \"eval\").replace(/(\\(eval at [^()]*)|(\\),.*$)/g, \"\"));\n                let t = e.replace(/^\\s+/, \"\").replace(/\\(eval code/g, \"(\");\n                const n = t.match(/ (\\((.+):(\\d+):(\\d+)\\)$)/);\n                t = n ? t.replace(n[0], \"\") : t;\n                const o = t.split(/\\s+/).slice(1), r = this.extractLocation(n ? n[1] : o.pop()), i = o.join(\" \") || void 0, s = [\n                    \"eval\",\n                    \"<anonymous>\"\n                ].indexOf(r[0]) > -1 ? void 0 : r[0];\n                return new Sn({\n                    functionName: i,\n                    fileName: s,\n                    lineNumber: r[1],\n                    columnNumber: r[2]\n                });\n            }, this);\n        },\n        parseFFOrSafari: function(e) {\n            return e.stack.split(\"\\n\").filter(function(e) {\n                return !e.match(Nn);\n            }, this).map(function(e) {\n                if (e.indexOf(\" > eval\") > -1 && (e = e.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g, \":$1\")), -1 === e.indexOf(\"@\") && -1 === e.indexOf(\":\")) return new Sn({\n                    functionName: e\n                });\n                {\n                    const t = /((.*\".+\"[^@]*)?[^@]*)(?:@)/, n = e.match(t), o = n && n[1] ? n[1] : void 0, r = this.extractLocation(e.replace(t, \"\"));\n                    return new Sn({\n                        functionName: o,\n                        fileName: r[0],\n                        lineNumber: r[1],\n                        columnNumber: r[2]\n                    });\n                }\n            }, this);\n        },\n        parseOpera: function(e) {\n            return !e.stacktrace || e.message.indexOf(\"\\n\") > -1 && e.message.split(\"\\n\").length > e.stacktrace.split(\"\\n\").length ? this.parseOpera9(e) : e.stack ? this.parseOpera11(e) : this.parseOpera10(e);\n        },\n        parseOpera9: function(e) {\n            const t = /Line (\\d+).*script (?:in )?(\\S+)/i, n = e.message.split(\"\\n\"), o = [];\n            for(let e = 2, r = n.length; e < r; e += 2){\n                const r = t.exec(n[e]);\n                r && o.push(new Sn({\n                    fileName: r[2],\n                    lineNumber: parseFloat(r[1])\n                }));\n            }\n            return o;\n        },\n        parseOpera10: function(e) {\n            const t = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i, n = e.stacktrace.split(\"\\n\"), o = [];\n            for(let e = 0, r = n.length; e < r; e += 2){\n                const r = t.exec(n[e]);\n                r && o.push(new Sn({\n                    functionName: r[3] || void 0,\n                    fileName: r[2],\n                    lineNumber: parseFloat(r[1])\n                }));\n            }\n            return o;\n        },\n        parseOpera11: function(e) {\n            return e.stack.split(\"\\n\").filter(function(e) {\n                return !!e.match(vn) && !e.match(/^Error created at/);\n            }, this).map(function(e) {\n                const t = e.split(\"@\"), n = this.extractLocation(t.pop()), o = (t.shift() || \"\").replace(/<anonymous function(: (\\w+))?>/, \"$2\").replace(/\\([^)]*\\)/g, \"\") || void 0;\n                return new Sn({\n                    functionName: o,\n                    fileName: n[0],\n                    lineNumber: n[1],\n                    columnNumber: n[2]\n                });\n            }, this);\n        }\n    };\n    function An(e) {\n        if (!e || !e.outerHTML) return \"\";\n        let t = \"\";\n        for(; e.parentElement;){\n            let n = e.localName;\n            if (!n) break;\n            n = n.toLowerCase();\n            const o = e.parentElement, r = [];\n            if (o.children && o.children.length > 0) for(let e = 0; e < o.children.length; e++){\n                const t = o.children[e];\n                t.localName && t.localName.toLowerCase && t.localName.toLowerCase() === n && r.push(t);\n            }\n            r.length > 1 && (n += `:eq(${r.indexOf(e)})`), t = n + (t ? \">\" + t : \"\"), e = o;\n        }\n        return t;\n    }\n    function kn(e) {\n        return \"[object Object]\" === Object.prototype.toString.call(e);\n    }\n    function Rn(e, t) {\n        if (0 === t) return !0;\n        const n = Object.keys(e);\n        for (const o of n)if (kn(e[o]) && Rn(e[o], t - 1)) return !0;\n        return !1;\n    }\n    function Tn(e, t) {\n        const n = {\n            numOfKeysLimit: 50,\n            depthOfLimit: 4\n        };\n        Object.assign(n, t);\n        const o = [], r = [];\n        return JSON.stringify(e, function(e, t) {\n            if (o.length > 0) {\n                const n = o.indexOf(this);\n                ~n ? o.splice(n + 1) : o.push(this), ~n ? r.splice(n, 1 / 0, e) : r.push(e), ~o.indexOf(t) && (t = o[0] === t ? \"[Circular ~]\" : \"[Circular ~.\" + r.slice(0, o.indexOf(t)).join(\".\") + \"]\");\n            } else o.push(t);\n            if (null === t) return t;\n            if (void 0 === t) return \"undefined\";\n            if (function(e) {\n                if (kn(e) && Object.keys(e).length > n.numOfKeysLimit) return !0;\n                if (\"function\" == typeof e) return !0;\n                if (kn(e) && Rn(e, n.depthOfLimit)) return !0;\n                return !1;\n            }(t)) return function(e) {\n                let t = e.toString();\n                n.stringLengthLimit && t.length > n.stringLengthLimit && (t = `${t.slice(0, n.stringLengthLimit)}...`);\n                return t;\n            }(t);\n            if (\"bigint\" == typeof t) return t.toString() + \"n\";\n            if (t instanceof Event) {\n                const e = {};\n                for(const n in t){\n                    const o = t[n];\n                    Array.isArray(o) ? e[n] = An(o.length ? o[0] : null) : e[n] = o;\n                }\n                return e;\n            }\n            return t instanceof Node ? t instanceof HTMLElement ? t ? t.outerHTML : \"\" : t.nodeName : t instanceof Error ? t.stack ? t.stack + \"\\nEnd of stack for Error object\" : t.name + \": \" + t.message : t;\n        });\n    }\n    const En = {\n        level: [\n            \"assert\",\n            \"clear\",\n            \"count\",\n            \"countReset\",\n            \"debug\",\n            \"dir\",\n            \"dirxml\",\n            \"error\",\n            \"group\",\n            \"groupCollapsed\",\n            \"groupEnd\",\n            \"info\",\n            \"log\",\n            \"table\",\n            \"time\",\n            \"timeEnd\",\n            \"timeLog\",\n            \"trace\",\n            \"warn\"\n        ],\n        lengthThreshold: 1e3,\n        logger: \"console\"\n    };\n    function On(e, t, n) {\n        const o = n ? Object.assign({}, En, n) : En, r = o.logger;\n        if (!r) return ()=>{};\n        let i;\n        i = \"string\" == typeof r ? t[r] : r;\n        let s = 0, a = !1;\n        const l = [];\n        if (o.level.includes(\"error\")) {\n            const n = (t)=>{\n                const n = t.message, r = t.error, i = Mn.parse(r).map((e)=>e.toString()), s = [\n                    Tn(n, o.stringifyOptions)\n                ];\n                e({\n                    level: \"error\",\n                    trace: i,\n                    payload: s\n                });\n            };\n            t.addEventListener(\"error\", n), l.push(()=>{\n                t.removeEventListener(\"error\", n);\n            });\n            const r = (t)=>{\n                let n, r;\n                t.reason instanceof Error ? (n = t.reason, r = [\n                    Tn(`Uncaught (in promise) ${n.name}: ${n.message}`, o.stringifyOptions)\n                ]) : (n = new Error, r = [\n                    Tn(\"Uncaught (in promise)\", o.stringifyOptions),\n                    Tn(t.reason, o.stringifyOptions)\n                ]);\n                const i = Mn.parse(n).map((e)=>e.toString());\n                e({\n                    level: \"error\",\n                    trace: i,\n                    payload: r\n                });\n            };\n            t.addEventListener(\"unhandledrejection\", r), l.push(()=>{\n                t.removeEventListener(\"unhandledrejection\", r);\n            });\n        }\n        for (const e of o.level)l.push(c(i, e));\n        return ()=>{\n            l.forEach((e)=>e());\n        };\n        function c(t, n) {\n            var r = this;\n            return t[n] ? gn.patch(t, n, (t)=>function() {\n                    for(var i = arguments.length, l = new Array(i), c = 0; c < i; c++)l[c] = arguments[c];\n                    if (t.apply(r, l), !(\"assert\" === n && l[0] || a)) {\n                        a = !0;\n                        try {\n                            const t = Mn.parse(new Error).map((e)=>e.toString()).splice(1), r = (\"assert\" === n ? l.slice(1) : l).map((e)=>Tn(e, o.stringifyOptions));\n                            s++, s < o.lengthThreshold ? e({\n                                level: n,\n                                trace: t,\n                                payload: r\n                            }) : s === o.lengthThreshold && e({\n                                level: \"warn\",\n                                trace: [],\n                                payload: [\n                                    Tn(\"The number of log records reached the threshold.\")\n                                ]\n                            });\n                        } catch (e) {\n                            t(\"rrweb logger error:\", e, ...l);\n                        } finally{\n                            a = !1;\n                        }\n                    }\n                }) : ()=>{};\n        }\n    }\n    const xn = (e)=>({\n            name: \"rrweb/console@1\",\n            observer: On,\n            options: e\n        }), Ln = Array.isArray, Dn = Object.prototype, Fn = Dn.hasOwnProperty, Bn = Dn.toString, Zn = Ln || function(e) {\n        return \"[object Array]\" === Bn.call(e);\n    }, _n = function(e) {\n        return \"function\" == typeof e;\n    }, Yn = function(e) {\n        return e === Object(e) && !Zn(e);\n    }, Wn = function(e) {\n        return void 0 === e;\n    }, Gn = function(e) {\n        return \"[object String]\" == Bn.call(e);\n    }, Vn = function(e) {\n        return null === e;\n    }, Hn = function(e) {\n        return Wn(e) || Vn(e);\n    }, Xn = function(e) {\n        return \"[object Boolean]\" === Bn.call(e);\n    }, Pn = (e)=>e instanceof Document, zn = (e)=>e instanceof FormData, Kn = \"undefined\" != typeof window ? window : void 0, Jn = \"undefined\" != typeof globalThis ? globalThis : Kn, jn = Array.prototype.forEach, Un = null == Jn ? void 0 : Jn.navigator;\n    null == Jn || Jn.document, null == Jn || Jn.location, null == Jn || Jn.fetch, null != Jn && Jn.XMLHttpRequest && \"withCredentials\" in new Jn.XMLHttpRequest && Jn.XMLHttpRequest, null == Jn || Jn.AbortController, null == Un || Un.userAgent;\n    const qn = null != Kn ? Kn : {}, Qn = \"[PostHog.js]\", $n = {\n        _log: function(e) {\n            if (Kn && qn.POSTHOG_DEBUG && !Wn(Kn.console) && Kn.console) {\n                const r = \"__rrweb_original__\" in Kn.console[e] ? Kn.console[e].__rrweb_original__ : Kn.console[e];\n                for(var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), o = 1; o < t; o++)n[o - 1] = arguments[o];\n                r(Qn, ...n);\n            }\n        },\n        info: function() {\n            for(var e = arguments.length, t = new Array(e), n = 0; n < e; n++)t[n] = arguments[n];\n            $n._log(\"log\", ...t);\n        },\n        warn: function() {\n            for(var e = arguments.length, t = new Array(e), n = 0; n < e; n++)t[n] = arguments[n];\n            $n._log(\"warn\", ...t);\n        },\n        error: function() {\n            for(var e = arguments.length, t = new Array(e), n = 0; n < e; n++)t[n] = arguments[n];\n            $n._log(\"error\", ...t);\n        },\n        critical: function() {\n            for(var e = arguments.length, t = new Array(e), n = 0; n < e; n++)t[n] = arguments[n];\n            console.error(Qn, ...t);\n        },\n        uninitializedWarning: (e)=>{\n            $n.error(`You must initialize PostHog before calling ${e}`);\n        }\n    }, eo = {};\n    function to(e, t, n) {\n        if (!Hn(e)) {\n            if (Zn(e)) return function(e, t, n) {\n                if (Zn(e)) {\n                    if (jn && e.forEach === jn) e.forEach(t, n);\n                    else if (\"length\" in e && e.length === +e.length) {\n                        for(let o = 0, r = e.length; o < r; o++)if (o in e && t.call(n, e[o], o) === eo) return;\n                    }\n                }\n            }(e, t, n);\n            if (zn(e)) {\n                for (const o of e.entries())if (t.call(n, o[1], o[0]) === eo) return;\n            } else for(const o in e)if (Fn.call(e, o) && t.call(n, e[o], o) === eo) return;\n        }\n    }\n    const no = function(e) {\n        let t, n, o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"&\";\n        const r = [];\n        return to(e, function(e, o) {\n            Wn(e) || Wn(o) || \"undefined\" === o || (t = encodeURIComponent(e instanceof File ? e.name : e.toString()), n = encodeURIComponent(o), r[r.length] = n + \"=\" + t);\n        }), r.join(o);\n    }, oo = {\n        initiatorTypes: [\n            \"audio\",\n            \"beacon\",\n            \"body\",\n            \"css\",\n            \"early-hint\",\n            \"embed\",\n            \"fetch\",\n            \"frame\",\n            \"iframe\",\n            \"icon\",\n            \"image\",\n            \"img\",\n            \"input\",\n            \"link\",\n            \"navigation\",\n            \"object\",\n            \"ping\",\n            \"script\",\n            \"track\",\n            \"video\",\n            \"xmlhttprequest\"\n        ],\n        maskRequestFn: (e)=>e,\n        recordHeaders: !1,\n        recordBody: !1,\n        recordInitialRequests: !1,\n        recordPerformance: !1,\n        performanceEntryTypeToObserve: [\n            \"first-input\",\n            \"navigation\",\n            \"paint\",\n            \"resource\"\n        ],\n        payloadSizeLimitBytes: 1e6,\n        payloadHostDenyList: [\n            \".lr-ingest.io\",\n            \".ingest.sentry.io\"\n        ]\n    };\n    function ro(e, t, n) {\n        try {\n            if (!(t in e)) return ()=>{};\n            const o = e[t], r = n(o);\n            return _n(r) && (r.prototype = r.prototype || {}, Object.defineProperties(r, {\n                __posthog_wrapped__: {\n                    enumerable: !1,\n                    value: !0\n                }\n            })), e[t] = r, ()=>{\n                e[t] = o;\n            };\n        } catch  {\n            return ()=>{};\n        }\n    }\n    function io(e, t) {\n        var n;\n        const o = function(e) {\n            try {\n                return \"string\" == typeof e ? new URL(e).hostname : \"url\" in e ? new URL(e.url).hostname : e.hostname;\n            } catch  {\n                return null;\n            }\n        }(e), r = {\n            hostname: o,\n            isHostDenied: !1\n        };\n        if (null === (n = t.payloadHostDenyList) || void 0 === n || !n.length || null == o || !o.trim().length) return r;\n        for (const e of t.payloadHostDenyList)if (o.endsWith(e)) return {\n            hostname: o,\n            isHostDenied: !0\n        };\n        return r;\n    }\n    const so = (e)=>\"navigation\" === e.entryType, ao = (e)=>\"resource\" === e.entryType;\n    function lo(e, t) {\n        for(let n = e.length - 1; n >= 0; n -= 1)if (t(e[n])) return e[n];\n    }\n    function co(e, t, n) {\n        if (n.recordInitialRequests) {\n            const o = t.performance.getEntries().filter((e)=>so(e) || ao(e) && n.initiatorTypes.includes(e.initiatorType));\n            e({\n                requests: o.flatMap((e)=>go({\n                        entry: e,\n                        method: void 0,\n                        status: void 0,\n                        networkRequest: {},\n                        isInitial: !0\n                    })),\n                isInitial: !0\n            });\n        }\n        const o = new t.PerformanceObserver((t)=>{\n            const o = t.getEntries().filter((e)=>so(e) || ao(e) && n.initiatorTypes.includes(e.initiatorType) && ((e)=>!n.recordBody && !n.recordHeaders || \"xmlhttprequest\" !== e.initiatorType && \"fetch\" !== e.initiatorType)(e));\n            e({\n                requests: o.flatMap((e)=>go({\n                        entry: e,\n                        method: void 0,\n                        status: void 0,\n                        networkRequest: {}\n                    }))\n            });\n        }), r = PerformanceObserver.supportedEntryTypes.filter((e)=>n.performanceEntryTypeToObserve.includes(e));\n        return o.observe({\n            entryTypes: r\n        }), ()=>{\n            o.disconnect();\n        };\n    }\n    function uo(e, t) {\n        return !!t && (Xn(t) || t[e]);\n    }\n    function ho(e) {\n        let { type: t, recordBody: n, headers: o } = e;\n        function r(e) {\n            const t = Object.keys(o).find((e)=>\"content-type\" === e.toLowerCase()), n = t && o[t];\n            return e.some((e)=>null == n ? void 0 : n.includes(e));\n        }\n        if (!n) return !1;\n        if (Xn(n)) return !0;\n        if (Zn(n)) return r(n);\n        const i = n[t];\n        return Xn(i) ? i : r(i);\n    }\n    async function po(e, t, n, o, r) {\n        let i = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 0;\n        if (i > 10) return $n.warn(\"Failed to get performance entry for request\", {\n            url: n,\n            initiatorType: t\n        }), null;\n        const s = lo(e.performance.getEntriesByName(n), (e)=>ao(e) && e.initiatorType === t && (Wn(o) || e.startTime >= o) && (Wn(r) || e.startTime <= r));\n        return s || (await new Promise((e)=>setTimeout(e, 50 * i)), po(e, t, n, o, r, i + 1));\n    }\n    function mo(e) {\n        let { body: t, options: n, url: o } = e;\n        if (Hn(t)) return null;\n        const { hostname: r, isHostDenied: i } = io(o, n);\n        if (i) return r + \" is in deny list\";\n        if (Gn(t)) return t;\n        if (Pn(t)) return t.textContent;\n        if (zn(t)) return no(t);\n        if (Yn(t)) try {\n            return JSON.stringify(t);\n        } catch  {\n            return \"[SessionReplay] Failed to stringify response object\";\n        }\n        return \"[SessionReplay] Cannot read body of type \" + toString.call(t);\n    }\n    const fo = (e)=>!Vn(e) && (\"navigation\" === e.entryType || \"resource\" === e.entryType);\n    function go(e) {\n        let { entry: t, method: n, status: o, networkRequest: r, isInitial: i, start: s, end: a, url: l, initiatorType: c } = e;\n        s = t ? t.startTime : s, a = t ? t.responseEnd : a;\n        const d = Math.floor(Date.now() - performance.now()), u = Math.floor(d + (s || 0)), h = [\n            {\n                ...t ? t.toJSON() : {\n                    name: l\n                },\n                startTime: Wn(s) ? void 0 : Math.round(s),\n                endTime: Wn(a) ? void 0 : Math.round(a),\n                timeOrigin: d,\n                timestamp: u,\n                method: n,\n                initiatorType: c || (t ? t.initiatorType : void 0),\n                status: o,\n                requestHeaders: r.requestHeaders,\n                requestBody: r.requestBody,\n                responseHeaders: r.responseHeaders,\n                responseBody: r.responseBody,\n                isInitial: i\n            }\n        ];\n        if (fo(t)) for (const e of t.serverTiming || [])h.push({\n            timeOrigin: d,\n            timestamp: u,\n            startTime: Math.round(t.startTime),\n            name: e.name,\n            duration: e.duration,\n            entryType: \"serverTiming\"\n        });\n        return h;\n    }\n    const yo = [\n        \"video/\",\n        \"audio/\"\n    ];\n    function Io(e) {\n        return new Promise((t, n)=>{\n            const o = setTimeout(()=>t(\"[SessionReplay] Timeout while trying to read body\"), 500);\n            try {\n                e.clone().text().then((e)=>t(e), (e)=>n(e)).finally(()=>clearTimeout(o));\n            } catch  {\n                clearTimeout(o), t(\"[SessionReplay] Failed to read body\");\n            }\n        });\n    }\n    async function bo(e) {\n        let { r: t, options: n, url: o } = e;\n        const r = function(e) {\n            var t;\n            let { r: n, options: o, url: r } = e;\n            if (\"chunked\" === n.headers.get(\"Transfer-Encoding\")) return \"Chunked Transfer-Encoding is not supported\";\n            const i = null === (t = n.headers.get(\"Content-Type\")) || void 0 === t ? void 0 : t.toLowerCase(), s = yo.some((e)=>null == i ? void 0 : i.startsWith(e));\n            if (i && s) return `Content-Type ${i} is not supported`;\n            const { hostname: a, isHostDenied: l } = io(r, o);\n            return l ? a + \" is in deny list\" : null;\n        }({\n            r: t,\n            options: n,\n            url: o\n        });\n        return Vn(r) ? Io(t) : Promise.resolve(r);\n    }\n    function Co(e, t, n) {\n        if (!n.initiatorTypes.includes(\"fetch\")) return ()=>{};\n        const o = uo(\"request\", n.recordHeaders), r = uo(\"response\", n.recordHeaders), i = ro(t, \"fetch\", (i)=>async function(s, a) {\n                const l = new Request(s, a);\n                let c;\n                const d = {};\n                let u, h;\n                try {\n                    const e = {};\n                    l.headers.forEach((t, n)=>{\n                        e[n] = t;\n                    }), o && (d.requestHeaders = e), ho({\n                        type: \"request\",\n                        headers: e,\n                        url: s,\n                        recordBody: n.recordBody\n                    }) && (d.requestBody = await async function(e) {\n                        let { r: t, options: n, url: o } = e;\n                        const { hostname: r, isHostDenied: i } = io(o, n);\n                        return i ? Promise.resolve(r + \" is in deny list\") : Io(t);\n                    }({\n                        r: l,\n                        options: n,\n                        url: s\n                    })), u = t.performance.now(), c = await i(l), h = t.performance.now();\n                    const a = {};\n                    return c.headers.forEach((e, t)=>{\n                        a[t] = e;\n                    }), r && (d.responseHeaders = a), ho({\n                        type: \"response\",\n                        headers: a,\n                        url: s,\n                        recordBody: n.recordBody\n                    }) && (d.responseBody = await bo({\n                        r: c,\n                        options: n,\n                        url: s\n                    })), c;\n                } finally{\n                    po(t, \"fetch\", l.url, u, h).then((t)=>{\n                        var n;\n                        const o = go({\n                            entry: t,\n                            method: l.method,\n                            status: null === (n = c) || void 0 === n ? void 0 : n.status,\n                            networkRequest: d,\n                            start: u,\n                            end: h,\n                            url: l.url,\n                            initiatorType: \"fetch\"\n                        });\n                        e({\n                            requests: o\n                        });\n                    }).catch(()=>{});\n                }\n            });\n        return ()=>{\n            i();\n        };\n    }\n    let So = null;\n    function vo(e, t, n) {\n        if (!(\"performance\" in t)) return ()=>{};\n        if (So) return $n.warn(\"Network observer already initialised, doing nothing\"), ()=>{};\n        const o = n ? Object.assign({}, oo, n) : oo, r = (t)=>{\n            const n = [];\n            t.requests.forEach((e)=>{\n                const t = o.maskRequestFn(e);\n                t && n.push(t);\n            }), n.length > 0 && e({\n                ...t,\n                requests: n\n            });\n        }, i = co(r, t, o);\n        let s = ()=>{}, a = ()=>{};\n        return (o.recordHeaders || o.recordBody) && (s = function(e, t, n) {\n            if (!n.initiatorTypes.includes(\"xmlhttprequest\")) return ()=>{};\n            const o = uo(\"request\", n.recordHeaders), r = uo(\"response\", n.recordHeaders), i = ro(t.XMLHttpRequest.prototype, \"open\", (i)=>function(s, a) {\n                    let l = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2], c = arguments.length > 3 ? arguments[3] : void 0, d = arguments.length > 4 ? arguments[4] : void 0;\n                    const u = this, h = new Request(a), p = {};\n                    let m, f;\n                    const g = {}, y = u.setRequestHeader.bind(u);\n                    u.setRequestHeader = (e, t)=>(g[e] = t, y(e, t)), o && (p.requestHeaders = g);\n                    const I = u.send.bind(u);\n                    u.send = (e)=>(ho({\n                            type: \"request\",\n                            headers: g,\n                            url: a,\n                            recordBody: n.recordBody\n                        }) && (p.requestBody = mo({\n                            body: e,\n                            options: n,\n                            url: a\n                        })), m = t.performance.now(), I(e)), u.addEventListener(\"readystatechange\", ()=>{\n                        if (u.readyState !== u.DONE) return;\n                        f = t.performance.now();\n                        const o = {};\n                        u.getAllResponseHeaders().trim().split(/[\\r\\n]+/).forEach((e)=>{\n                            const t = e.split(\": \"), n = t.shift(), r = t.join(\": \");\n                            n && (o[n] = r);\n                        }), r && (p.responseHeaders = o), ho({\n                            type: \"response\",\n                            headers: o,\n                            url: a,\n                            recordBody: n.recordBody\n                        }) && (p.responseBody = mo({\n                            body: u.response,\n                            options: n,\n                            url: a\n                        })), po(t, \"xmlhttprequest\", h.url, m, f).then((t)=>{\n                            const n = go({\n                                entry: t,\n                                method: s,\n                                status: null == u ? void 0 : u.status,\n                                networkRequest: p,\n                                start: m,\n                                end: f,\n                                url: a.toString(),\n                                initiatorType: \"xmlhttprequest\"\n                            });\n                            e({\n                                requests: n\n                            });\n                        }).catch(()=>{});\n                    }), i.call(u, s, a, l, c, d);\n                });\n            return ()=>{\n                i();\n            };\n        }(r, t, o), a = Co(r, t, o)), So = ()=>{\n            i(), s(), a();\n        }, So;\n    }\n    const wo = \"rrweb/network@1\", No = (e)=>({\n            name: wo,\n            observer: vo,\n            options: e\n        });\n    qn.__PosthogExtensions__ = qn.__PosthogExtensions__ || {}, qn.__PosthogExtensions__.rrwebPlugins = {\n        getRecordConsolePlugin: xn,\n        getRecordNetworkPlugin: No\n    }, qn.__PosthogExtensions__.rrweb = {\n        record: Ot,\n        version: \"v2\"\n    }, qn.rrweb = {\n        record: Ot,\n        version: \"v2\"\n    }, qn.rrwebConsoleRecord = {\n        getRecordConsolePlugin: xn\n    }, qn.getRecordNetworkPlugin = No, e.NETWORK_PLUGIN_NAME = wo, e.default = Ot, e.findLast = lo, e.getRecordNetworkPlugin = No, Object.defineProperty(e, \"__esModule\", {\n        value: !0\n    });\n}({});\n\n\n!function() {\n    \"use strict\";\n    let e, n, t;\n    !function(e) {\n        e.Popover = \"popover\", e.API = \"api\", e.Widget = \"widget\";\n    }(e || (e = {})), function(e) {\n        e.Open = \"open\", e.MultipleChoice = \"multiple_choice\", e.SingleChoice = \"single_choice\", e.Rating = \"rating\", e.Link = \"link\";\n    }(n || (n = {})), function(e) {\n        e.NextQuestion = \"next_question\", e.End = \"end\", e.ResponseBased = \"response_based\", e.SpecificQuestion = \"specific_question\";\n    }(t || (t = {}));\n    const o = \"undefined\" != typeof window ? window : void 0, r = \"undefined\" != typeof globalThis ? globalThis : o, i = null == r ? void 0 : r.navigator, l = null == r ? void 0 : r.document;\n    null == r || r.location, null == r || r.fetch, null != r && r.XMLHttpRequest && \"withCredentials\" in new r.XMLHttpRequest && r.XMLHttpRequest, null == r || r.AbortController, null == i || i.userAgent;\n    const a = null != o ? o : {};\n    var s, u, c, d, p, _, f, h, v = {}, g = [], m = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i, y = Array.isArray;\n    function b(e, n) {\n        for(var t in n)e[t] = n[t];\n        return e;\n    }\n    function C(e) {\n        var n = e.parentNode;\n        n && n.removeChild(e);\n    }\n    function x(e, n, t) {\n        var o, r, i, l = {};\n        for(i in n)\"key\" == i ? o = n[i] : \"ref\" == i ? r = n[i] : l[i] = n[i];\n        if (arguments.length > 2 && (l.children = arguments.length > 3 ? s.call(arguments, 2) : t), \"function\" == typeof e && null != e.defaultProps) for(i in e.defaultProps)void 0 === l[i] && (l[i] = e.defaultProps[i]);\n        return k(e, l, o, r, null);\n    }\n    function k(e, n, t, o, r) {\n        var i = {\n            type: e,\n            props: n,\n            key: t,\n            ref: o,\n            __k: null,\n            __: null,\n            __b: 0,\n            __e: null,\n            __d: void 0,\n            __c: null,\n            constructor: void 0,\n            __v: null == r ? ++c : r,\n            __i: -1,\n            __u: 0\n        };\n        return null == r && null != u.vnode && u.vnode(i), i;\n    }\n    function w(e) {\n        return e.children;\n    }\n    function S(e, n) {\n        this.props = e, this.context = n;\n    }\n    function q(e, n) {\n        if (null == n) return e.__ ? q(e.__, e.__i + 1) : null;\n        for(var t; n < e.__k.length; n++)if (null != (t = e.__k[n]) && null != t.__e) return t.__e;\n        return \"function\" == typeof e.type ? q(e) : null;\n    }\n    function T(e) {\n        var n, t;\n        if (null != (e = e.__) && null != e.__c) {\n            for(e.__e = e.__c.base = null, n = 0; n < e.__k.length; n++)if (null != (t = e.__k[n]) && null != t.__e) {\n                e.__e = e.__c.base = t.__e;\n                break;\n            }\n            return T(e);\n        }\n    }\n    function H(e) {\n        (!e.__d && (e.__d = !0) && d.push(e) && !P.__r++ || p !== u.debounceRendering) && ((p = u.debounceRendering) || _)(P);\n    }\n    function P() {\n        var e, n, t, o, r, i, l, a, s;\n        for(d.sort(f); e = d.shift();)e.__d && (n = d.length, o = void 0, i = (r = (t = e).__v).__e, a = [], s = [], (l = t.__P) && ((o = b({}, r)).__v = r.__v + 1, u.vnode && u.vnode(o), Z(l, o, r, t.__n, void 0 !== l.ownerSVGElement, 32 & r.__u ? [\n            i\n        ] : null, a, null == i ? q(r) : i, !!(32 & r.__u), s), o.__.__k[o.__i] = o, N(a, o, s), o.__e != i && T(o)), d.length > n && d.sort(f));\n        P.__r = 0;\n    }\n    function L(e, n, t, o, r, i, l, a, s, u, c) {\n        var d, p, _, f, h, m = o && o.__k || g, b = n.length;\n        for(t.__d = s, function(e, n, t) {\n            var o, r, i, l, a, s = n.length, u = t.length, c = u, d = 0;\n            for(e.__k = [], o = 0; o < s; o++)null != (r = e.__k[o] = null == (r = n[o]) || \"boolean\" == typeof r || \"function\" == typeof r ? null : \"string\" == typeof r || \"number\" == typeof r || \"bigint\" == typeof r || r.constructor == String ? k(null, r, null, null, r) : y(r) ? k(w, {\n                children: r\n            }, null, null, null) : void 0 === r.constructor && r.__b > 0 ? k(r.type, r.props, r.key, r.ref ? r.ref : null, r.__v) : r) ? (r.__ = e, r.__b = e.__b + 1, a = M(r, t, l = o + d, c), r.__i = a, i = null, -1 !== a && (c--, (i = t[a]) && (i.__u |= 131072)), null == i || null === i.__v ? (-1 == a && d--, \"function\" != typeof r.type && (r.__u |= 65536)) : a !== l && (a === l + 1 ? d++ : a > l ? c > s - l ? d += a - l : d-- : d = a < l && a == l - 1 ? a - l : 0, a !== o + d && (r.__u |= 65536))) : (i = t[o]) && null == i.key && i.__e && (i.__e == e.__d && (e.__d = q(i)), B(i, i, !1), t[o] = null, c--);\n            if (c) for(o = 0; o < u; o++)null != (i = t[o]) && 0 == (131072 & i.__u) && (i.__e == e.__d && (e.__d = q(i)), B(i, i));\n        }(t, n, m), s = t.__d, d = 0; d < b; d++)null != (_ = t.__k[d]) && \"boolean\" != typeof _ && \"function\" != typeof _ && (p = -1 === _.__i ? v : m[_.__i] || v, _.__i = d, Z(e, _, p, r, i, l, a, s, u, c), f = _.__e, _.ref && p.ref != _.ref && (p.ref && V(p.ref, null, _), c.push(_.ref, _.__c || f, _)), null == h && null != f && (h = f), 65536 & _.__u || p.__k === _.__k ? s = $(_, s, e) : \"function\" == typeof _.type && void 0 !== _.__d ? s = _.__d : f && (s = f.nextSibling), _.__d = void 0, _.__u &= -196609);\n        t.__d = s, t.__e = h;\n    }\n    function $(e, n, t) {\n        var o, r;\n        if (\"function\" == typeof e.type) {\n            for(o = e.__k, r = 0; o && r < o.length; r++)o[r] && (o[r].__ = e, n = $(o[r], n, t));\n            return n;\n        }\n        return e.__e != n && (t.insertBefore(e.__e, n || null), n = e.__e), n && n.nextSibling;\n    }\n    function M(e, n, t, o) {\n        var r = e.key, i = e.type, l = t - 1, a = t + 1, s = n[t];\n        if (null === s || s && r == s.key && i === s.type) return t;\n        if (o > (null != s && 0 == (131072 & s.__u) ? 1 : 0)) for(; l >= 0 || a < n.length;){\n            if (l >= 0) {\n                if ((s = n[l]) && 0 == (131072 & s.__u) && r == s.key && i === s.type) return l;\n                l--;\n            }\n            if (a < n.length) {\n                if ((s = n[a]) && 0 == (131072 & s.__u) && r == s.key && i === s.type) return a;\n                a++;\n            }\n        }\n        return -1;\n    }\n    function I(e, n, t) {\n        \"-\" === n[0] ? e.setProperty(n, null == t ? \"\" : t) : e[n] = null == t ? \"\" : \"number\" != typeof t || m.test(n) ? t : t + \"px\";\n    }\n    function E(e, n, t, o, r) {\n        var i;\n        e: if (\"style\" === n) {\n            if (\"string\" == typeof t) e.style.cssText = t;\n            else {\n                if (\"string\" == typeof o && (e.style.cssText = o = \"\"), o) for(n in o)t && n in t || I(e.style, n, \"\");\n                if (t) for(n in t)o && t[n] === o[n] || I(e.style, n, t[n]);\n            }\n        } else if (\"o\" === n[0] && \"n\" === n[1]) i = n !== (n = n.replace(/(PointerCapture)$|Capture$/, \"$1\")), n = n.toLowerCase() in e ? n.toLowerCase().slice(2) : n.slice(2), e.l || (e.l = {}), e.l[n + i] = t, t ? o ? t.u = o.u : (t.u = Date.now(), e.addEventListener(n, i ? D : F, i)) : e.removeEventListener(n, i ? D : F, i);\n        else {\n            if (r) n = n.replace(/xlink(H|:h)/, \"h\").replace(/sName$/, \"s\");\n            else if (\"width\" !== n && \"height\" !== n && \"href\" !== n && \"list\" !== n && \"form\" !== n && \"tabIndex\" !== n && \"download\" !== n && \"rowSpan\" !== n && \"colSpan\" !== n && \"role\" !== n && n in e) try {\n                e[n] = null == t ? \"\" : t;\n                break e;\n            } catch (e) {}\n            \"function\" == typeof t || (null == t || !1 === t && \"-\" !== n[4] ? e.removeAttribute(n) : e.setAttribute(n, t));\n        }\n    }\n    function F(e) {\n        var n = this.l[e.type + !1];\n        if (e.t) {\n            if (e.t <= n.u) return;\n        } else e.t = Date.now();\n        return n(u.event ? u.event(e) : e);\n    }\n    function D(e) {\n        return this.l[e.type + !0](u.event ? u.event(e) : e);\n    }\n    function Z(e, n, t, o, r, i, l, a, s, c) {\n        var d, p, _, f, h, v, g, m, C, x, k, q, T, H, P, $ = n.type;\n        if (void 0 !== n.constructor) return null;\n        128 & t.__u && (s = !!(32 & t.__u), i = [\n            a = n.__e = t.__e\n        ]), (d = u.__b) && d(n);\n        e: if (\"function\" == typeof $) try {\n            if (m = n.props, C = (d = $.contextType) && o[d.__c], x = d ? C ? C.props.value : d.__ : o, t.__c ? g = (p = n.__c = t.__c).__ = p.__E : (\"prototype\" in $ && $.prototype.render ? n.__c = p = new $(m, x) : (n.__c = p = new S(m, x), p.constructor = $, p.render = Q), C && C.sub(p), p.props = m, p.state || (p.state = {}), p.context = x, p.__n = o, _ = p.__d = !0, p.__h = [], p._sb = []), null == p.__s && (p.__s = p.state), null != $.getDerivedStateFromProps && (p.__s == p.state && (p.__s = b({}, p.__s)), b(p.__s, $.getDerivedStateFromProps(m, p.__s))), f = p.props, h = p.state, p.__v = n, _) null == $.getDerivedStateFromProps && null != p.componentWillMount && p.componentWillMount(), null != p.componentDidMount && p.__h.push(p.componentDidMount);\n            else {\n                if (null == $.getDerivedStateFromProps && m !== f && null != p.componentWillReceiveProps && p.componentWillReceiveProps(m, x), !p.__e && (null != p.shouldComponentUpdate && !1 === p.shouldComponentUpdate(m, p.__s, x) || n.__v === t.__v)) {\n                    for(n.__v !== t.__v && (p.props = m, p.state = p.__s, p.__d = !1), n.__e = t.__e, n.__k = t.__k, n.__k.forEach(function(e) {\n                        e && (e.__ = n);\n                    }), k = 0; k < p._sb.length; k++)p.__h.push(p._sb[k]);\n                    p._sb = [], p.__h.length && l.push(p);\n                    break e;\n                }\n                null != p.componentWillUpdate && p.componentWillUpdate(m, p.__s, x), null != p.componentDidUpdate && p.__h.push(function() {\n                    p.componentDidUpdate(f, h, v);\n                });\n            }\n            if (p.context = x, p.props = m, p.__P = e, p.__e = !1, q = u.__r, T = 0, \"prototype\" in $ && $.prototype.render) {\n                for(p.state = p.__s, p.__d = !1, q && q(n), d = p.render(p.props, p.state, p.context), H = 0; H < p._sb.length; H++)p.__h.push(p._sb[H]);\n                p._sb = [];\n            } else do p.__d = !1, q && q(n), d = p.render(p.props, p.state, p.context), p.state = p.__s;\n            while (p.__d && ++T < 25);\n            p.state = p.__s, null != p.getChildContext && (o = b(b({}, o), p.getChildContext())), _ || null == p.getSnapshotBeforeUpdate || (v = p.getSnapshotBeforeUpdate(f, h)), L(e, y(P = null != d && d.type === w && null == d.key ? d.props.children : d) ? P : [\n                P\n            ], n, t, o, r, i, l, a, s, c), p.base = n.__e, n.__u &= -161, p.__h.length && l.push(p), g && (p.__E = p.__ = null);\n        } catch (e) {\n            n.__v = null, s || null != i ? (n.__e = a, n.__u |= s ? 160 : 32, i[i.indexOf(a)] = null) : (n.__e = t.__e, n.__k = t.__k), u.__e(e, n, t);\n        }\n        else null == i && n.__v === t.__v ? (n.__k = t.__k, n.__e = t.__e) : n.__e = A(t.__e, n, t, o, r, i, l, s, c);\n        (d = u.diffed) && d(n);\n    }\n    function N(e, n, t) {\n        n.__d = void 0;\n        for(var o = 0; o < t.length; o++)V(t[o], t[++o], t[++o]);\n        u.__c && u.__c(n, e), e.some(function(n) {\n            try {\n                e = n.__h, n.__h = [], e.some(function(e) {\n                    e.call(n);\n                });\n            } catch (e) {\n                u.__e(e, n.__v);\n            }\n        });\n    }\n    function A(e, n, t, o, r, i, l, a, u) {\n        var c, d, p, _, f, h, g, m = t.props, b = n.props, x = n.type;\n        if (\"svg\" === x && (r = !0), null != i) {\n            for(c = 0; c < i.length; c++)if ((f = i[c]) && \"setAttribute\" in f == !!x && (x ? f.localName === x : 3 === f.nodeType)) {\n                e = f, i[c] = null;\n                break;\n            }\n        }\n        if (null == e) {\n            if (null === x) return document.createTextNode(b);\n            e = r ? document.createElementNS(\"http://www.w3.org/2000/svg\", x) : document.createElement(x, b.is && b), i = null, a = !1;\n        }\n        if (null === x) m === b || a && e.data === b || (e.data = b);\n        else {\n            if (i = i && s.call(e.childNodes), m = t.props || v, !a && null != i) for(m = {}, c = 0; c < e.attributes.length; c++)m[(f = e.attributes[c]).name] = f.value;\n            for(c in m)f = m[c], \"children\" == c || (\"dangerouslySetInnerHTML\" == c ? p = f : \"key\" === c || c in b || E(e, c, null, f, r));\n            for(c in b)f = b[c], \"children\" == c ? _ = f : \"dangerouslySetInnerHTML\" == c ? d = f : \"value\" == c ? h = f : \"checked\" == c ? g = f : \"key\" === c || a && \"function\" != typeof f || m[c] === f || E(e, c, f, m[c], r);\n            if (d) a || p && (d.__html === p.__html || d.__html === e.innerHTML) || (e.innerHTML = d.__html), n.__k = [];\n            else if (p && (e.innerHTML = \"\"), L(e, y(_) ? _ : [\n                _\n            ], n, t, o, r && \"foreignObject\" !== x, i, l, i ? i[0] : t.__k && q(t, 0), a, u), null != i) for(c = i.length; c--;)null != i[c] && C(i[c]);\n            a || (c = \"value\", void 0 !== h && (h !== e[c] || \"progress\" === x && !h || \"option\" === x && h !== m[c]) && E(e, c, h, m[c], !1), c = \"checked\", void 0 !== g && g !== e[c] && E(e, c, g, m[c], !1));\n        }\n        return e;\n    }\n    function V(e, n, t) {\n        try {\n            \"function\" == typeof e ? e(n) : e.current = n;\n        } catch (e) {\n            u.__e(e, t);\n        }\n    }\n    function B(e, n, t) {\n        var o, r;\n        if (u.unmount && u.unmount(e), (o = e.ref) && (o.current && o.current !== e.__e || V(o, null, n)), null != (o = e.__c)) {\n            if (o.componentWillUnmount) try {\n                o.componentWillUnmount();\n            } catch (e) {\n                u.__e(e, n);\n            }\n            o.base = o.__P = null, e.__c = void 0;\n        }\n        if (o = e.__k) for(r = 0; r < o.length; r++)o[r] && B(o[r], n, t || \"function\" != typeof e.type);\n        t || null == e.__e || C(e.__e), e.__ = e.__e = e.__d = void 0;\n    }\n    function Q(e, n, t) {\n        return this.constructor(e, t);\n    }\n    function W(e, n, t) {\n        var o, r, i, l;\n        u.__ && u.__(e, n), r = (o = \"function\" == typeof t) ? null : n.__k, i = [], l = [], Z(n, e = (!o && t || n).__k = x(w, null, [\n            e\n        ]), r || v, v, void 0 !== n.ownerSVGElement, !o && t ? [\n            t\n        ] : r ? null : n.firstChild ? s.call(n.childNodes) : null, i, !o && t ? t : r ? r.__e : n.firstChild, o, l), N(i, e, l);\n    }\n    function U(e, n, t) {\n        var o, r, i, l, a = b({}, e.props);\n        for(i in e.type && e.type.defaultProps && (l = e.type.defaultProps), n)\"key\" == i ? o = n[i] : \"ref\" == i ? r = n[i] : a[i] = void 0 === n[i] && void 0 !== l ? l[i] : n[i];\n        return arguments.length > 2 && (a.children = arguments.length > 3 ? s.call(arguments, 2) : t), k(e.type, a, o || e.key, r || e.ref, null);\n    }\n    s = g.slice, u = {\n        __e: function(e, n, t, o) {\n            for(var r, i, l; n = n.__;)if ((r = n.__c) && !r.__) try {\n                if ((i = r.constructor) && null != i.getDerivedStateFromError && (r.setState(i.getDerivedStateFromError(e)), l = r.__d), null != r.componentDidCatch && (r.componentDidCatch(e, o || {}), l = r.__d), l) return r.__E = r;\n            } catch (n) {\n                e = n;\n            }\n            throw e;\n        }\n    }, c = 0, S.prototype.setState = function(e, n) {\n        var t;\n        t = null != this.__s && this.__s !== this.state ? this.__s : this.__s = b({}, this.state), \"function\" == typeof e && (e = e(b({}, t), this.props)), e && b(t, e), null != e && this.__v && (n && this._sb.push(n), H(this));\n    }, S.prototype.forceUpdate = function(e) {\n        this.__v && (this.__e = !0, e && this.__h.push(e), H(this));\n    }, S.prototype.render = w, d = [], _ = \"function\" == typeof Promise ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, f = function(e, n) {\n        return e.__v.__b - n.__v.__b;\n    }, P.__r = 0, h = 0;\n    const j = o, O = l, R = \"seenSurvey_\", z = (e)=>{\n        const n = {\n            left: \"left: 30px;\",\n            right: \"right: 30px;\",\n            center: \"\\n            left: 50%;\\n            transform: translateX(-50%);\\n          \"\n        };\n        return `\\n          .survey-form, .thank-you-message {\\n              position: fixed;\\n              margin: 0px;\\n              bottom: 0px;\\n              color: black;\\n              font-weight: normal;\\n              font-family: -apple-system, BlinkMacSystemFont, \"Inter\", \"Segoe UI\", \"Roboto\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\\n              text-align: left;\\n              max-width: ${parseInt((null == e ? void 0 : e.maxWidth) || \"300\")}px;\\n              width: 100%;\\n              z-index: ${parseInt((null == e ? void 0 : e.zIndex) || \"99999\")};\\n              border: 1.5px solid ${(null == e ? void 0 : e.borderColor) || \"#c9c6c6\"};\\n              border-bottom: 0px;\\n              ${n[(null == e ? void 0 : e.position) || \"right\"] || \"right: 30px;\"}\\n              flex-direction: column;\\n              background: ${(null == e ? void 0 : e.backgroundColor) || \"#eeeded\"};\\n              border-top-left-radius: 10px;\\n              border-top-right-radius: 10px;\\n              box-shadow: -6px 0 16px -8px rgb(0 0 0 / 8%), -9px 0 28px 0 rgb(0 0 0 / 5%), -12px 0 48px 16px rgb(0 0 0 / 3%);\\n          }\\n          \\n          .survey-box, .thank-you-message-container {\\n              padding: 20px 25px 10px;\\n              display: flex;\\n              flex-direction: column;\\n              border-radius: 10px;\\n          }\\n\\n          .thank-you-message {\\n              text-align: center;\\n          }\\n\\n          .form-submit[disabled] {\\n              opacity: 0.6;\\n              filter: grayscale(50%);\\n              cursor: not-allowed;\\n          }\\n          .survey-form textarea {\\n              color: #2d2d2d;\\n              font-size: 14px;\\n              font-family: -apple-system, BlinkMacSystemFont, \"Inter\", \"Segoe UI\", \"Roboto\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\\n              background: white;\\n              color: black;\\n              outline: none;\\n              padding-left: 10px;\\n              padding-right: 10px;\\n              padding-top: 10px;\\n              border-radius: 6px;\\n              border-color: ${(null == e ? void 0 : e.borderColor) || \"#c9c6c6\"};\\n              margin-top: 14px;\\n              width: 100%;\\n              box-sizing: border-box;\\n          }\\n          .survey-box:has(.survey-question:empty):not(:has(.survey-question-description)) textarea {\\n              margin-top: 0;\\n          }\\n          .form-submit {\\n              box-sizing: border-box;\\n              margin: 0;\\n              font-family: inherit;\\n              overflow: visible;\\n              text-transform: none;\\n              position: relative;\\n              display: inline-block;\\n              font-weight: 700;\\n              white-space: nowrap;\\n              text-align: center;\\n              border: 1.5px solid transparent;\\n              cursor: pointer;\\n              user-select: none;\\n              touch-action: manipulation;\\n              padding: 12px;\\n              font-size: 14px;\\n              border-radius: 6px;\\n              outline: 0;\\n              background: ${(null == e ? void 0 : e.submitButtonColor) || \"black\"} !important;\\n              text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.12);\\n              box-shadow: 0 2px 0 rgba(0, 0, 0, 0.045);\\n              width: 100%;\\n          }\\n          .form-cancel {\\n              display: flex;\\n              float: right;\\n              border: none;\\n              background: none;\\n              cursor: pointer;\\n          }\\n          .cancel-btn-wrapper {\\n              position: absolute;\\n              width: 35px;\\n              height: 35px;\\n              border-radius: 100%;\\n              top: 0;\\n              right: 0;\\n              transform: translate(50%, -50%);\\n              background: white;\\n              border: 1.5px solid ${(null == e ? void 0 : e.borderColor) || \"#c9c6c6\"};\\n              display: flex;\\n              justify-content: center;\\n              align-items: center;\\n          }\\n          .bolded { font-weight: 600; }\\n          .buttons {\\n              display: flex;\\n              justify-content: center;\\n          }\\n          .footer-branding {\\n              font-size: 11px;\\n              margin-top: 10px;\\n              text-align: center;\\n              display: flex;\\n              justify-content: center;\\n              gap: 4px;\\n              align-items: center;\\n              font-weight: 500;\\n              background: ${(null == e ? void 0 : e.backgroundColor) || \"#eeeded\"};\\n              text-decoration: none;\\n              backgroundColor: ${(null == e ? void 0 : e.backgroundColor) || \"#eeeded\"};\\n              color: ${G((null == e ? void 0 : e.backgroundColor) || \"#eeeded\")};\\n          }\\n          .survey-question {\\n              font-weight: 500;\\n              font-size: 14px;\\n              background: ${(null == e ? void 0 : e.backgroundColor) || \"#eeeded\"};\\n          }\\n          .question-textarea-wrapper {\\n              display: flex;\\n              flex-direction: column;\\n          }\\n          .survey-question-description {\\n              font-size: 13px;\\n              padding-top: 5px;\\n              background: ${(null == e ? void 0 : e.backgroundColor) || \"#eeeded\"};\\n          }\\n          .ratings-number {\\n              font-size: 16px;\\n              font-weight: 600;\\n              padding: 8px 0px;\\n              border: none;\\n          }\\n          .ratings-number:hover {\\n              cursor: pointer;\\n          }\\n          .rating-options {\\n              margin-top: 14px;\\n          }\\n          .rating-options-number {\\n              display: grid;\\n              border-radius: 6px;\\n              overflow: hidden;\\n              border: 1.5px solid ${(null == e ? void 0 : e.borderColor) || \"#c9c6c6\"};\\n          }\\n          .rating-options-number > .ratings-number {\\n              border-right: 1px solid ${(null == e ? void 0 : e.borderColor) || \"#c9c6c6\"};\\n          }\\n          .rating-options-number > .ratings-number:last-of-type {\\n              border-right: 0px;\\n          }\\n          .rating-options-number .rating-active {\\n              background: ${(null == e ? void 0 : e.ratingButtonActiveColor) || \"black\"};\\n          }\\n          .rating-options-emoji {\\n              display: flex;\\n              justify-content: space-between;\\n          }\\n          .ratings-emoji {\\n              font-size: 16px;\\n              background-color: transparent;\\n              border: none;\\n              padding: 0px;\\n          }\\n          .ratings-emoji:hover {\\n              cursor: pointer;\\n          }\\n          .ratings-emoji.rating-active svg {\\n              fill: ${(null == e ? void 0 : e.ratingButtonActiveColor) || \"black\"};\\n          }\\n          .emoji-svg {\\n              fill: '#939393';\\n          }\\n          .rating-text {\\n              display: flex;\\n              flex-direction: row;\\n              font-size: 11px;\\n              justify-content: space-between;\\n              margin-top: 6px;\\n              background: ${(null == e ? void 0 : e.backgroundColor) || \"#eeeded\"};\\n              opacity: .60;\\n          }\\n          .multiple-choice-options {\\n              margin-top: 13px;\\n              font-size: 14px;\\n          }\\n          .survey-box:has(.survey-question:empty):not(:has(.survey-question-description)) .multiple-choice-options {\\n              margin-top: 0;\\n          }\\n          .multiple-choice-options .choice-option {\\n              display: flex;\\n              align-items: center;\\n              gap: 4px;\\n              font-size: 13px;\\n              cursor: pointer;\\n              margin-bottom: 5px;\\n              position: relative;\\n          }\\n          .multiple-choice-options > .choice-option:last-of-type {\\n              margin-bottom: 0px;\\n          }\\n          .multiple-choice-options input {\\n              cursor: pointer;\\n              position: absolute;\\n              opacity: 0;\\n          }\\n          .choice-check {\\n              position: absolute;\\n              right: 10px;\\n              background: white;\\n          }\\n          .choice-check svg {\\n              display: none;\\n          }\\n          .multiple-choice-options .choice-option:hover .choice-check svg {\\n              display: inline-block;\\n              opacity: .25;\\n          }\\n          .multiple-choice-options input:checked + label + .choice-check svg {\\n              display: inline-block;\\n              opacity: 100% !important;\\n          }\\n          .multiple-choice-options input:checked + label {\\n              font-weight: bold;\\n              border: 1.5px solid rgba(0,0,0);\\n          }\\n          .multiple-choice-options input:checked + label input {\\n              font-weight: bold;\\n          }\\n          .multiple-choice-options label {\\n              width: 100%;\\n              cursor: pointer;\\n              padding: 10px;\\n              border: 1.5px solid rgba(0,0,0,.25);\\n              border-radius: 4px;\\n              background: white;\\n          }\\n          .multiple-choice-options .choice-option-open label {\\n              padding-right: 30px;\\n              display: flex;\\n              flex-wrap: wrap;\\n              gap: 8px;\\n              max-width: 100%;\\n          }\\n          .multiple-choice-options .choice-option-open label span {\\n              width: 100%;\\n          }\\n          .multiple-choice-options .choice-option-open input:disabled + label {\\n              opacity: 0.6;\\n          }\\n          .multiple-choice-options .choice-option-open label input {\\n              position: relative;\\n              opacity: 1;\\n              flex-grow: 1;\\n              border: 0;\\n              outline: 0;\\n          }\\n          .thank-you-message-body {\\n              margin-top: 6px;\\n              font-size: 14px;\\n              background: ${(null == e ? void 0 : e.backgroundColor) || \"#eeeded\"};\\n          }\\n          .thank-you-message-header {\\n              margin: 10px 0px 0px;\\n              background: ${(null == e ? void 0 : e.backgroundColor) || \"#eeeded\"};\\n          }\\n          .thank-you-message-container .form-submit {\\n              margin-top: 20px;\\n              margin-bottom: 10px;\\n          }\\n          .thank-you-message-countdown {\\n              margin-left: 6px;\\n          }\\n          .bottom-section {\\n              margin-top: 14px;\\n          }\\n          `;\n    };\n    function Y(e) {\n        if (\"#\" === e[0]) {\n            const n = e.replace(/^#/, \"\");\n            return \"rgb(\" + parseInt(n.slice(0, 2), 16) + \",\" + parseInt(n.slice(2, 4), 16) + \",\" + parseInt(n.slice(4, 6), 16) + \")\";\n        }\n        return \"rgb(255, 255, 255)\";\n    }\n    function G() {\n        let e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : J;\n        \"#\" === n[0] && (e = Y(n)), n.startsWith(\"rgb\") && (e = n);\n        const t = {\n            aliceblue: \"#f0f8ff\",\n            antiquewhite: \"#faebd7\",\n            aqua: \"#00ffff\",\n            aquamarine: \"#7fffd4\",\n            azure: \"#f0ffff\",\n            beige: \"#f5f5dc\",\n            bisque: \"#ffe4c4\",\n            black: \"#000000\",\n            blanchedalmond: \"#ffebcd\",\n            blue: \"#0000ff\",\n            blueviolet: \"#8a2be2\",\n            brown: \"#a52a2a\",\n            burlywood: \"#deb887\",\n            cadetblue: \"#5f9ea0\",\n            chartreuse: \"#7fff00\",\n            chocolate: \"#d2691e\",\n            coral: \"#ff7f50\",\n            cornflowerblue: \"#6495ed\",\n            cornsilk: \"#fff8dc\",\n            crimson: \"#dc143c\",\n            cyan: \"#00ffff\",\n            darkblue: \"#00008b\",\n            darkcyan: \"#008b8b\",\n            darkgoldenrod: \"#b8860b\",\n            darkgray: \"#a9a9a9\",\n            darkgreen: \"#006400\",\n            darkkhaki: \"#bdb76b\",\n            darkmagenta: \"#8b008b\",\n            darkolivegreen: \"#556b2f\",\n            darkorange: \"#ff8c00\",\n            darkorchid: \"#9932cc\",\n            darkred: \"#8b0000\",\n            darksalmon: \"#e9967a\",\n            darkseagreen: \"#8fbc8f\",\n            darkslateblue: \"#483d8b\",\n            darkslategray: \"#2f4f4f\",\n            darkturquoise: \"#00ced1\",\n            darkviolet: \"#9400d3\",\n            deeppink: \"#ff1493\",\n            deepskyblue: \"#00bfff\",\n            dimgray: \"#696969\",\n            dodgerblue: \"#1e90ff\",\n            firebrick: \"#b22222\",\n            floralwhite: \"#fffaf0\",\n            forestgreen: \"#228b22\",\n            fuchsia: \"#ff00ff\",\n            gainsboro: \"#dcdcdc\",\n            ghostwhite: \"#f8f8ff\",\n            gold: \"#ffd700\",\n            goldenrod: \"#daa520\",\n            gray: \"#808080\",\n            green: \"#008000\",\n            greenyellow: \"#adff2f\",\n            honeydew: \"#f0fff0\",\n            hotpink: \"#ff69b4\",\n            \"indianred \": \"#cd5c5c\",\n            indigo: \"#4b0082\",\n            ivory: \"#fffff0\",\n            khaki: \"#f0e68c\",\n            lavender: \"#e6e6fa\",\n            lavenderblush: \"#fff0f5\",\n            lawngreen: \"#7cfc00\",\n            lemonchiffon: \"#fffacd\",\n            lightblue: \"#add8e6\",\n            lightcoral: \"#f08080\",\n            lightcyan: \"#e0ffff\",\n            lightgoldenrodyellow: \"#fafad2\",\n            lightgrey: \"#d3d3d3\",\n            lightgreen: \"#90ee90\",\n            lightpink: \"#ffb6c1\",\n            lightsalmon: \"#ffa07a\",\n            lightseagreen: \"#20b2aa\",\n            lightskyblue: \"#87cefa\",\n            lightslategray: \"#778899\",\n            lightsteelblue: \"#b0c4de\",\n            lightyellow: \"#ffffe0\",\n            lime: \"#00ff00\",\n            limegreen: \"#32cd32\",\n            linen: \"#faf0e6\",\n            magenta: \"#ff00ff\",\n            maroon: \"#800000\",\n            mediumaquamarine: \"#66cdaa\",\n            mediumblue: \"#0000cd\",\n            mediumorchid: \"#ba55d3\",\n            mediumpurple: \"#9370d8\",\n            mediumseagreen: \"#3cb371\",\n            mediumslateblue: \"#7b68ee\",\n            mediumspringgreen: \"#00fa9a\",\n            mediumturquoise: \"#48d1cc\",\n            mediumvioletred: \"#c71585\",\n            midnightblue: \"#191970\",\n            mintcream: \"#f5fffa\",\n            mistyrose: \"#ffe4e1\",\n            moccasin: \"#ffe4b5\",\n            navajowhite: \"#ffdead\",\n            navy: \"#000080\",\n            oldlace: \"#fdf5e6\",\n            olive: \"#808000\",\n            olivedrab: \"#6b8e23\",\n            orange: \"#ffa500\",\n            orangered: \"#ff4500\",\n            orchid: \"#da70d6\",\n            palegoldenrod: \"#eee8aa\",\n            palegreen: \"#98fb98\",\n            paleturquoise: \"#afeeee\",\n            palevioletred: \"#d87093\",\n            papayawhip: \"#ffefd5\",\n            peachpuff: \"#ffdab9\",\n            peru: \"#cd853f\",\n            pink: \"#ffc0cb\",\n            plum: \"#dda0dd\",\n            powderblue: \"#b0e0e6\",\n            purple: \"#800080\",\n            red: \"#ff0000\",\n            rosybrown: \"#bc8f8f\",\n            royalblue: \"#4169e1\",\n            saddlebrown: \"#8b4513\",\n            salmon: \"#fa8072\",\n            sandybrown: \"#f4a460\",\n            seagreen: \"#2e8b57\",\n            seashell: \"#fff5ee\",\n            sienna: \"#a0522d\",\n            silver: \"#c0c0c0\",\n            skyblue: \"#87ceeb\",\n            slateblue: \"#6a5acd\",\n            slategray: \"#708090\",\n            snow: \"#fffafa\",\n            springgreen: \"#00ff7f\",\n            steelblue: \"#4682b4\",\n            tan: \"#d2b48c\",\n            teal: \"#008080\",\n            thistle: \"#d8bfd8\",\n            tomato: \"#ff6347\",\n            turquoise: \"#40e0d0\",\n            violet: \"#ee82ee\",\n            wheat: \"#f5deb3\",\n            white: \"#ffffff\",\n            whitesmoke: \"#f5f5f5\",\n            yellow: \"#ffff00\",\n            yellowgreen: \"#9acd32\"\n        }[n.toLowerCase()];\n        if (t && (e = Y(t)), !e) return \"black\";\n        const o = e.match(/^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+(?:\\.\\d+)?))?\\)$/);\n        if (o) {\n            const e = parseInt(o[1]), n = parseInt(o[2]), t = parseInt(o[3]);\n            return Math.sqrt(e * e * .299 + n * n * .587 + t * t * .114) > 127.5 ? \"black\" : \"white\";\n        }\n        return \"black\";\n    }\n    const X = {\n        backgroundColor: \"#eeeded\",\n        submitButtonColor: \"black\",\n        submitButtonTextColor: \"white\",\n        ratingButtonColor: \"white\",\n        ratingButtonActiveColor: \"black\",\n        borderColor: \"#c9c6c6\",\n        placeholder: \"Start typing...\",\n        whiteLabel: !1,\n        displayThankYouMessage: !0,\n        thankYouMessageHeader: \"Thank you for your feedback!\",\n        position: \"right\"\n    }, J = \"#eeeded\", K = function() {\n        var e;\n        let n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = arguments.length > 1 ? arguments[1] : void 0, o = arguments.length > 2 ? arguments[2] : void 0;\n        o && (localStorage.setItem(ie(t), \"true\"), o.capture(\"survey sent\", {\n            $survey_name: t.name,\n            $survey_id: t.id,\n            $survey_iteration: t.current_iteration,\n            $survey_iteration_start_date: t.current_iteration_start_date,\n            $survey_questions: t.questions.map((e)=>e.question),\n            sessionRecordingUrl: null === (e = o.get_session_replay_url) || void 0 === e ? void 0 : e.call(o),\n            ...n,\n            $set: {\n                [le(t, \"responded\")]: !0\n            }\n        }), j.dispatchEvent(new Event(\"PHSurveySent\")));\n    }, ee = (e, n, t)=>{\n        var o;\n        !t && n && (n.capture(\"survey dismissed\", {\n            $survey_name: e.name,\n            $survey_id: e.id,\n            $survey_iteration: e.current_iteration,\n            $survey_iteration_start_date: e.current_iteration_start_date,\n            sessionRecordingUrl: null === (o = n.get_session_replay_url) || void 0 === o ? void 0 : o.call(n),\n            $set: {\n                [le(e, \"dismissed\")]: !0\n            }\n        }), localStorage.setItem(ie(e), \"true\"), j.dispatchEvent(new Event(\"PHSurveyClosed\")));\n    }, ne = (e)=>e.map((e)=>({\n                sort: Math.floor(10 * Math.random()),\n                value: e\n            })).sort((e, n)=>e.sort - n.sort).map((e)=>e.value), te = (e, n)=>e.length === n.length && e.every((e, t)=>e === n[t]) ? n.reverse() : n, oe = (e)=>(e.questions.forEach((e, n)=>{\n            e.originalQuestionIndex = n;\n        }), e.appearance && e.appearance.shuffleQuestions ? te(e.questions, ne(e.questions)) : e.questions), re = (e)=>{\n        var n, t;\n        return !(null === (n = e.conditions) || void 0 === n || null === (t = n.events) || void 0 === t || !t.repeatedActivation || !((e)=>{\n            var n, t, o, r, i, l;\n            return null != (null === (n = e.conditions) || void 0 === n || null === (t = n.events) || void 0 === t || null === (o = t.values) || void 0 === o ? void 0 : o.length) && (null === (r = e.conditions) || void 0 === r || null === (i = r.events) || void 0 === i || null === (l = i.values) || void 0 === l ? void 0 : l.length) > 0;\n        })(e));\n    }, ie = (e)=>{\n        let n = `${R}${e.id}`;\n        return e.current_iteration && e.current_iteration > 0 && (n = `${R}${e.id}_${e.current_iteration}`), n;\n    }, le = (e, n)=>{\n        let t = `$survey_${n}/${e.id}`;\n        return e.current_iteration && e.current_iteration > 0 && (t = `$survey_${n}/${e.id}/${e.current_iteration}`), t;\n    }, ae = function(e, n) {\n        var t = {\n            __c: n = \"__cC\" + h++,\n            __: e,\n            Consumer: function(e, n) {\n                return e.children(n);\n            },\n            Provider: function(e) {\n                var t, o;\n                return this.getChildContext || (t = [], (o = {})[n] = this, this.getChildContext = function() {\n                    return o;\n                }, this.shouldComponentUpdate = function(e) {\n                    this.props.value !== e.value && t.some(function(e) {\n                        e.__e = !0, H(e);\n                    });\n                }, this.sub = function(e) {\n                    t.push(e);\n                    var n = e.componentWillUnmount;\n                    e.componentWillUnmount = function() {\n                        t.splice(t.indexOf(e), 1), n && n.call(e);\n                    };\n                }), e.children;\n            }\n        };\n        return t.Provider.__ = t.Consumer.contextType = t;\n    }({\n        isPreviewMode: !1,\n        previewPageIndex: 0,\n        handleCloseSurveyPopup: ()=>{},\n        isPopup: !0\n    }), se = (e)=>{\n        let { component: n, children: t, renderAsHtml: o, style: r } = e;\n        return U(n, o ? {\n            dangerouslySetInnerHTML: {\n                __html: t\n            },\n            style: r\n        } : {\n            children: t,\n            style: r\n        });\n    }, ue = l;\n    var ce, de, pe, _e, fe = 0, he = [], ve = [], ge = u.__b, me = u.__r, ye = u.diffed, be = u.__c, Ce = u.unmount;\n    function xe(e, n) {\n        u.__h && u.__h(de, e, fe || n), fe = 0;\n        var t = de.__H || (de.__H = {\n            __: [],\n            __h: []\n        });\n        return e >= t.__.length && t.__.push({\n            __V: ve\n        }), t.__[e];\n    }\n    function ke(e) {\n        return fe = 1, function(e, n, t) {\n            var o = xe(ce++, 2);\n            if (o.t = e, !o.__c && (o.__ = [\n                Ee(void 0, n),\n                function(e) {\n                    var n = o.__N ? o.__N[0] : o.__[0], t = o.t(n, e);\n                    n !== t && (o.__N = [\n                        t,\n                        o.__[1]\n                    ], o.__c.setState({}));\n                }\n            ], o.__c = de, !de.u)) {\n                var r = function(e, n, t) {\n                    if (!o.__c.__H) return !0;\n                    var r = o.__c.__H.__.filter(function(e) {\n                        return e.__c;\n                    });\n                    if (r.every(function(e) {\n                        return !e.__N;\n                    })) return !i || i.call(this, e, n, t);\n                    var l = !1;\n                    return r.forEach(function(e) {\n                        if (e.__N) {\n                            var n = e.__[0];\n                            e.__ = e.__N, e.__N = void 0, n !== e.__[0] && (l = !0);\n                        }\n                    }), !(!l && o.__c.props === e) && (!i || i.call(this, e, n, t));\n                };\n                de.u = !0;\n                var i = de.shouldComponentUpdate, l = de.componentWillUpdate;\n                de.componentWillUpdate = function(e, n, t) {\n                    if (this.__e) {\n                        var o = i;\n                        i = void 0, r(e, n, t), i = o;\n                    }\n                    l && l.call(this, e, n, t);\n                }, de.shouldComponentUpdate = r;\n            }\n            return o.__N || o.__;\n        }(Ee, e);\n    }\n    function we(e, n) {\n        var t = xe(ce++, 3);\n        !u.__s && Ie(t.__H, n) && (t.__ = e, t.i = n, de.__H.__h.push(t));\n    }\n    function Se(e) {\n        return fe = 5, qe(function() {\n            return {\n                current: e\n            };\n        }, []);\n    }\n    function qe(e, n) {\n        var t = xe(ce++, 7);\n        return Ie(t.__H, n) ? (t.__V = e(), t.i = n, t.__h = e, t.__V) : t.__;\n    }\n    function Te(e) {\n        var n = de.context[e.__c], t = xe(ce++, 9);\n        return t.c = e, n ? (null == t.__ && (t.__ = !0, n.sub(de)), n.props.value) : e.__;\n    }\n    function He() {\n        for(var e; e = he.shift();)if (e.__P && e.__H) try {\n            e.__H.__h.forEach($e), e.__H.__h.forEach(Me), e.__H.__h = [];\n        } catch (n) {\n            e.__H.__h = [], u.__e(n, e.__v);\n        }\n    }\n    u.__b = function(e) {\n        de = null, ge && ge(e);\n    }, u.__r = function(e) {\n        me && me(e), ce = 0;\n        var n = (de = e.__c).__H;\n        n && (pe === de ? (n.__h = [], de.__h = [], n.__.forEach(function(e) {\n            e.__N && (e.__ = e.__N), e.__V = ve, e.__N = e.i = void 0;\n        })) : (n.__h.forEach($e), n.__h.forEach(Me), n.__h = [], ce = 0)), pe = de;\n    }, u.diffed = function(e) {\n        ye && ye(e);\n        var n = e.__c;\n        n && n.__H && (n.__H.__h.length && (1 !== he.push(n) && _e === u.requestAnimationFrame || ((_e = u.requestAnimationFrame) || Le)(He)), n.__H.__.forEach(function(e) {\n            e.i && (e.__H = e.i), e.__V !== ve && (e.__ = e.__V), e.i = void 0, e.__V = ve;\n        })), pe = de = null;\n    }, u.__c = function(e, n) {\n        n.some(function(e) {\n            try {\n                e.__h.forEach($e), e.__h = e.__h.filter(function(e) {\n                    return !e.__ || Me(e);\n                });\n            } catch (t) {\n                n.some(function(e) {\n                    e.__h && (e.__h = []);\n                }), n = [], u.__e(t, e.__v);\n            }\n        }), be && be(e, n);\n    }, u.unmount = function(e) {\n        Ce && Ce(e);\n        var n, t = e.__c;\n        t && t.__H && (t.__H.__.forEach(function(e) {\n            try {\n                $e(e);\n            } catch (e) {\n                n = e;\n            }\n        }), t.__H = void 0, n && u.__e(n, t.__v));\n    };\n    var Pe = \"function\" == typeof requestAnimationFrame;\n    function Le(e) {\n        var n, t = function() {\n            clearTimeout(o), Pe && cancelAnimationFrame(n), setTimeout(e);\n        }, o = setTimeout(t, 100);\n        Pe && (n = requestAnimationFrame(t));\n    }\n    function $e(e) {\n        var n = de, t = e.__c;\n        \"function\" == typeof t && (e.__c = void 0, t()), de = n;\n    }\n    function Me(e) {\n        var n = de;\n        e.__c = e.__(), de = n;\n    }\n    function Ie(e, n) {\n        return !e || e.length !== n.length || n.some(function(n, t) {\n            return n !== e[t];\n        });\n    }\n    function Ee(e, n) {\n        return \"function\" == typeof n ? n(e) : n;\n    }\n    const Fe = Array.isArray, De = Object.prototype.toString, Ze = Fe || function(e) {\n        return \"[object Array]\" === De.call(e);\n    }, Ne = function(e) {\n        return null === e;\n    }, Ae = function(e) {\n        return \"[object Number]\" == De.call(e);\n    };\n    var Ve = 0;\n    function Be(e, n, t, o, r, i) {\n        var l, a, s = {};\n        for(a in n)\"ref\" == a ? l = n[a] : s[a] = n[a];\n        var c = {\n            type: e,\n            props: s,\n            key: t,\n            ref: l,\n            __k: null,\n            __: null,\n            __b: 0,\n            __e: null,\n            __d: void 0,\n            __c: null,\n            constructor: void 0,\n            __v: --Ve,\n            __i: -1,\n            __u: 0,\n            __source: r,\n            __self: i\n        };\n        if (\"function\" == typeof e && (l = e.defaultProps)) for(a in l)void 0 === s[a] && (s[a] = l[a]);\n        return u.vnode && u.vnode(c), c;\n    }\n    const Qe = Be(\"svg\", {\n        className: \"emoji-svg\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        height: \"48\",\n        viewBox: \"0 -960 960 960\",\n        width: \"48\",\n        children: Be(\"path\", {\n            d: \"M626-533q22.5 0 38.25-15.75T680-587q0-22.5-15.75-38.25T626-641q-22.5 0-38.25 15.75T572-587q0 22.5 15.75 38.25T626-533Zm-292 0q22.5 0 38.25-15.75T388-587q0-22.5-15.75-38.25T334-641q-22.5 0-38.25 15.75T280-587q0 22.5 15.75 38.25T334-533Zm146 272q66 0 121.5-35.5T682-393h-52q-23 40-63 61.5T480.5-310q-46.5 0-87-21T331-393h-53q26 61 81 96.5T480-261Zm0 181q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 340q142.375 0 241.188-98.812Q820-337.625 820-480t-98.812-241.188Q622.375-820 480-820t-241.188 98.812Q140-622.375 140-480t98.812 241.188Q337.625-140 480-140Z\"\n        })\n    }), We = Be(\"svg\", {\n        className: \"emoji-svg\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        height: \"48\",\n        viewBox: \"0 -960 960 960\",\n        width: \"48\",\n        children: Be(\"path\", {\n            d: \"M626-533q22.5 0 38.25-15.75T680-587q0-22.5-15.75-38.25T626-641q-22.5 0-38.25 15.75T572-587q0 22.5 15.75 38.25T626-533Zm-292 0q22.5 0 38.25-15.75T388-587q0-22.5-15.75-38.25T334-641q-22.5 0-38.25 15.75T280-587q0 22.5 15.75 38.25T334-533Zm20 194h253v-49H354v49ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 340q142.375 0 241.188-98.812Q820-337.625 820-480t-98.812-241.188Q622.375-820 480-820t-241.188 98.812Q140-622.375 140-480t98.812 241.188Q337.625-140 480-140Z\"\n        })\n    }), Ue = Be(\"svg\", {\n        className: \"emoji-svg\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        height: \"48\",\n        viewBox: \"0 -960 960 960\",\n        width: \"48\",\n        children: Be(\"path\", {\n            d: \"M626-533q22.5 0 38.25-15.75T680-587q0-22.5-15.75-38.25T626-641q-22.5 0-38.25 15.75T572-587q0 22.5 15.75 38.25T626-533Zm-292 0q22.5 0 38.25-15.75T388-587q0-22.5-15.75-38.25T334-641q-22.5 0-38.25 15.75T280-587q0 22.5 15.75 38.25T334-533Zm146.174 116Q413-417 358.5-379.5T278-280h53q22-42 62.173-65t87.5-23Q528-368 567.5-344.5T630-280h52q-25-63-79.826-100-54.826-37-122-37ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 340q142.375 0 241.188-98.812Q820-337.625 820-480t-98.812-241.188Q622.375-820 480-820t-241.188 98.812Q140-622.375 140-480t98.812 241.188Q337.625-140 480-140Z\"\n        })\n    }), je = Be(\"svg\", {\n        className: \"emoji-svg\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        height: \"48\",\n        viewBox: \"0 -960 960 960\",\n        width: \"48\",\n        children: Be(\"path\", {\n            d: \"M480-417q-67 0-121.5 37.5T278-280h404q-25-63-80-100t-122-37Zm-183-72 50-45 45 45 31-36-45-45 45-45-31-36-45 45-50-45-31 36 45 45-45 45 31 36Zm272 0 44-45 51 45 31-36-45-45 45-45-31-36-51 45-44-45-31 36 44 45-44 45 31 36ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 340q142 0 241-99t99-241q0-142-99-241t-241-99q-142 0-241 99t-99 241q0 142 99 241t241 99Z\"\n        })\n    }), Oe = Be(\"svg\", {\n        className: \"emoji-svg\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        height: \"48\",\n        viewBox: \"0 -960 960 960\",\n        width: \"48\",\n        children: Be(\"path\", {\n            d: \"M479.504-261Q537-261 585.5-287q48.5-26 78.5-72.4 6-11.6-.75-22.6-6.75-11-20.25-11H316.918Q303-393 296.5-382t-.5 22.6q30 46.4 78.5 72.4 48.5 26 105.004 26ZM347-578l27 27q7.636 8 17.818 8Q402-543 410-551q8-8 8-18t-8-18l-42-42q-8.8-9-20.9-9-12.1 0-21.1 9l-42 42q-8 7.636-8 17.818Q276-559 284-551q8 8 18 8t18-8l27-27Zm267 0 27 27q7.714 8 18 8t18-8q8-7.636 8-17.818Q685-579 677-587l-42-42q-8.8-9-20.9-9-12.1 0-21.1 9l-42 42q-8 7.714-8 18t8 18q7.636 8 17.818 8Q579-543 587-551l27-27ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 340q142.375 0 241.188-98.812Q820-337.625 820-480t-98.812-241.188Q622.375-820 480-820t-241.188 98.812Q140-622.375 140-480t98.812 241.188Q337.625-140 480-140Z\"\n        })\n    }), Re = Be(\"svg\", {\n        width: \"12\",\n        height: \"12\",\n        viewBox: \"0 0 12 12\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        children: Be(\"path\", {\n            \"fill-rule\": \"evenodd\",\n            \"clip-rule\": \"evenodd\",\n            d: \"M0.164752 0.164752C0.384422 -0.0549175 0.740578 -0.0549175 0.960248 0.164752L6 5.20451L11.0398 0.164752C11.2594 -0.0549175 11.6156 -0.0549175 11.8352 0.164752C12.0549 0.384422 12.0549 0.740578 11.8352 0.960248L6.79549 6L11.8352 11.0398C12.0549 11.2594 12.0549 11.6156 11.8352 11.8352C11.6156 12.0549 11.2594 12.0549 11.0398 11.8352L6 6.79549L0.960248 11.8352C0.740578 12.0549 0.384422 12.0549 0.164752 11.8352C-0.0549175 11.6156 -0.0549175 11.2594 0.164752 11.0398L5.20451 6L0.164752 0.960248C-0.0549175 0.740578 -0.0549175 0.384422 0.164752 0.164752Z\",\n            fill: \"black\"\n        })\n    }), ze = Be(\"svg\", {\n        width: \"77\",\n        height: \"14\",\n        viewBox: \"0 0 77 14\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        children: [\n            Be(\"g\", {\n                \"clip-path\": \"url(#clip0_2415_6911)\",\n                children: [\n                    Be(\"mask\", {\n                        id: \"mask0_2415_6911\",\n                        style: {\n                            maskType: \"luminance\"\n                        },\n                        maskUnits: \"userSpaceOnUse\",\n                        x: \"0\",\n                        y: \"0\",\n                        width: \"77\",\n                        height: \"14\",\n                        children: Be(\"path\", {\n                            d: \"M0.5 0H76.5V14H0.5V0Z\",\n                            fill: \"white\"\n                        })\n                    }),\n                    Be(\"g\", {\n                        mask: \"url(#mask0_2415_6911)\",\n                        children: [\n                            Be(\"path\", {\n                                d: \"M5.77226 8.02931C5.59388 8.37329 5.08474 8.37329 4.90634 8.02931L4.4797 7.20672C4.41155 7.07535 4.41155 6.9207 4.4797 6.78933L4.90634 5.96669C5.08474 5.62276 5.59388 5.62276 5.77226 5.96669L6.19893 6.78933C6.26709 6.9207 6.26709 7.07535 6.19893 7.20672L5.77226 8.02931ZM5.77226 12.6946C5.59388 13.0386 5.08474 13.0386 4.90634 12.6946L4.4797 11.872C4.41155 11.7406 4.41155 11.586 4.4797 11.4546L4.90634 10.632C5.08474 10.288 5.59388 10.288 5.77226 10.632L6.19893 11.4546C6.26709 11.586 6.26709 11.7406 6.19893 11.872L5.77226 12.6946Z\",\n                                fill: \"#1D4AFF\"\n                            }),\n                            Be(\"path\", {\n                                d: \"M0.5 10.9238C0.5 10.508 1.02142 10.2998 1.32637 10.5938L3.54508 12.7327C3.85003 13.0267 3.63405 13.5294 3.20279 13.5294H0.984076C0.716728 13.5294 0.5 13.3205 0.5 13.0627V10.9238ZM0.5 8.67083C0.5 8.79459 0.551001 8.91331 0.641783 9.00081L5.19753 13.3927C5.28831 13.4802 5.41144 13.5294 5.53982 13.5294H8.0421C8.47337 13.5294 8.68936 13.0267 8.3844 12.7327L1.32637 5.92856C1.02142 5.63456 0.5 5.84278 0.5 6.25854V8.67083ZM0.5 4.00556C0.5 4.12932 0.551001 4.24802 0.641783 4.33554L10.0368 13.3927C10.1276 13.4802 10.2508 13.5294 10.3791 13.5294H12.8814C13.3127 13.5294 13.5287 13.0267 13.2237 12.7327L1.32637 1.26329C1.02142 0.969312 0.5 1.17752 0.5 1.59327V4.00556ZM5.33931 4.00556C5.33931 4.12932 5.39033 4.24802 5.4811 4.33554L14.1916 12.7327C14.4965 13.0267 15.0179 12.8185 15.0179 12.4028V9.99047C15.0179 9.86671 14.9669 9.74799 14.8762 9.66049L6.16568 1.26329C5.86071 0.969307 5.33931 1.17752 5.33931 1.59327V4.00556ZM11.005 1.26329C10.7 0.969307 10.1786 1.17752 10.1786 1.59327V4.00556C10.1786 4.12932 10.2296 4.24802 10.3204 4.33554L14.1916 8.06748C14.4965 8.36148 15.0179 8.15325 15.0179 7.7375V5.3252C15.0179 5.20144 14.9669 5.08272 14.8762 4.99522L11.005 1.26329Z\",\n                                fill: \"#F9BD2B\"\n                            }),\n                            Be(\"path\", {\n                                d: \"M21.0852 10.981L16.5288 6.58843C16.2238 6.29443 15.7024 6.50266 15.7024 6.91841V13.0627C15.7024 13.3205 15.9191 13.5294 16.1865 13.5294H23.2446C23.5119 13.5294 23.7287 13.3205 23.7287 13.0627V12.5032C23.7287 12.2455 23.511 12.0396 23.2459 12.0063C22.4323 11.9042 21.6713 11.546 21.0852 10.981ZM18.0252 12.0365C17.5978 12.0365 17.251 11.7021 17.251 11.2901C17.251 10.878 17.5978 10.5436 18.0252 10.5436C18.4527 10.5436 18.7996 10.878 18.7996 11.2901C18.7996 11.7021 18.4527 12.0365 18.0252 12.0365Z\",\n                                fill: \"currentColor\"\n                            }),\n                            Be(\"path\", {\n                                d: \"M0.5 13.0627C0.5 13.3205 0.716728 13.5294 0.984076 13.5294H3.20279C3.63405 13.5294 3.85003 13.0267 3.54508 12.7327L1.32637 10.5938C1.02142 10.2998 0.5 10.508 0.5 10.9238V13.0627ZM5.33931 5.13191L1.32637 1.26329C1.02142 0.969306 0.5 1.17752 0.5 1.59327V4.00556C0.5 4.12932 0.551001 4.24802 0.641783 4.33554L5.33931 8.86412V5.13191ZM1.32637 5.92855C1.02142 5.63455 0.5 5.84278 0.5 6.25853V8.67083C0.5 8.79459 0.551001 8.91331 0.641783 9.00081L5.33931 13.5294V9.79717L1.32637 5.92855Z\",\n                                fill: \"#1D4AFF\"\n                            }),\n                            Be(\"path\", {\n                                d: \"M10.1787 5.3252C10.1787 5.20144 10.1277 5.08272 10.0369 4.99522L6.16572 1.26329C5.8608 0.969306 5.33936 1.17752 5.33936 1.59327V4.00556C5.33936 4.12932 5.39037 4.24802 5.48114 4.33554L10.1787 8.86412V5.3252ZM5.33936 13.5294H8.04214C8.47341 13.5294 8.6894 13.0267 8.38443 12.7327L5.33936 9.79717V13.5294ZM5.33936 5.13191V8.67083C5.33936 8.79459 5.39037 8.91331 5.48114 9.00081L10.1787 13.5294V9.99047C10.1787 9.86671 10.1277 9.74803 10.0369 9.66049L5.33936 5.13191Z\",\n                                fill: \"#F54E00\"\n                            }),\n                            Be(\"path\", {\n                                d: \"M29.375 11.6667H31.3636V8.48772H33.0249C34.8499 8.48772 36.0204 7.4443 36.0204 5.83052C36.0204 4.21681 34.8499 3.17334 33.0249 3.17334H29.375V11.6667ZM31.3636 6.84972V4.81136H32.8236C33.5787 4.81136 34.0318 5.19958 34.0318 5.83052C34.0318 6.4615 33.5787 6.84972 32.8236 6.84972H31.3636ZM39.618 11.7637C41.5563 11.7637 42.9659 10.429 42.9659 8.60905C42.9659 6.78905 41.5563 5.45438 39.618 5.45438C37.6546 5.45438 36.2701 6.78905 36.2701 8.60905C36.2701 10.429 37.6546 11.7637 39.618 11.7637ZM38.1077 8.60905C38.1077 7.63838 38.7118 6.97105 39.618 6.97105C40.5116 6.97105 41.1157 7.63838 41.1157 8.60905C41.1157 9.57972 40.5116 10.2471 39.618 10.2471C38.7118 10.2471 38.1077 9.57972 38.1077 8.60905ZM46.1482 11.7637C47.6333 11.7637 48.6402 10.8658 48.6402 9.81025C48.6402 7.33505 45.2294 8.13585 45.2294 7.16518C45.2294 6.8983 45.5189 6.72843 45.9342 6.72843C46.3622 6.72843 46.8782 6.98318 47.0418 7.54132L48.527 6.94678C48.2375 6.06105 47.1677 5.45438 45.8713 5.45438C44.4743 5.45438 43.6058 6.25518 43.6058 7.21372C43.6058 9.53118 46.9663 8.88812 46.9663 9.84665C46.9663 10.1864 46.6391 10.417 46.1482 10.417C45.4434 10.417 44.9525 9.94376 44.8015 9.3735L43.3164 9.93158C43.6436 10.8537 44.6001 11.7637 46.1482 11.7637ZM53.4241 11.606L53.2982 10.0651C53.0843 10.1743 52.8074 10.2106 52.5808 10.2106C52.1278 10.2106 51.8257 9.89523 51.8257 9.34918V7.03172H53.3612V5.55145H51.8257V3.78001H49.9755V5.55145H48.9687V7.03172H49.9755V9.57972C49.9755 11.06 51.0202 11.7637 52.3921 11.7637C52.7696 11.7637 53.122 11.7031 53.4241 11.606ZM59.8749 3.17334V6.47358H56.376V3.17334H54.3874V11.6667H56.376V8.11158H59.8749V11.6667H61.8761V3.17334H59.8749ZM66.2899 11.7637C68.2281 11.7637 69.6378 10.429 69.6378 8.60905C69.6378 6.78905 68.2281 5.45438 66.2899 5.45438C64.3265 5.45438 62.942 6.78905 62.942 8.60905C62.942 10.429 64.3265 11.7637 66.2899 11.7637ZM64.7796 8.60905C64.7796 7.63838 65.3837 6.97105 66.2899 6.97105C67.1835 6.97105 67.7876 7.63838 67.7876 8.60905C67.7876 9.57972 67.1835 10.2471 66.2899 10.2471C65.3837 10.2471 64.7796 9.57972 64.7796 8.60905ZM73.2088 11.4725C73.901 11.4725 74.5177 11.242 74.845 10.8416V11.424C74.845 12.1034 74.2786 12.5767 73.4102 12.5767C72.7935 12.5767 72.2523 12.2854 72.1642 11.788L70.4776 12.0428C70.7042 13.1955 71.925 13.972 73.4102 13.972C75.361 13.972 76.6574 12.8679 76.6574 11.2298V5.55145H74.8324V6.07318C74.4926 5.69705 73.9136 5.45438 73.171 5.45438C71.409 5.45438 70.3014 6.61918 70.3014 8.46345C70.3014 10.3077 71.409 11.4725 73.2088 11.4725ZM72.1012 8.46345C72.1012 7.55345 72.655 6.97105 73.5109 6.97105C74.3793 6.97105 74.9331 7.55345 74.9331 8.46345C74.9331 9.37345 74.3793 9.95585 73.5109 9.95585C72.655 9.95585 72.1012 9.37345 72.1012 8.46345Z\",\n                                fill: \"currentColor\"\n                            })\n                        ]\n                    })\n                ]\n            }),\n            Be(\"defs\", {\n                children: Be(\"clipPath\", {\n                    id: \"clip0_2415_6911\",\n                    children: Be(\"rect\", {\n                        width: \"76\",\n                        height: \"14\",\n                        fill: \"white\",\n                        transform: \"translate(0.5)\"\n                    })\n                })\n            })\n        ]\n    }), Ye = Be(\"svg\", {\n        width: \"16\",\n        height: \"12\",\n        viewBox: \"0 0 16 12\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        children: Be(\"path\", {\n            d: \"M5.30769 10.6923L4.77736 11.2226C4.91801 11.3633 5.10878 11.4423 5.30769 11.4423C5.5066 11.4423 5.69737 11.3633 5.83802 11.2226L5.30769 10.6923ZM15.5303 1.53033C15.8232 1.23744 15.8232 0.762563 15.5303 0.46967C15.2374 0.176777 14.7626 0.176777 14.4697 0.46967L15.5303 1.53033ZM1.53033 5.85429C1.23744 5.56139 0.762563 5.56139 0.46967 5.85429C0.176777 6.14718 0.176777 6.62205 0.46967 6.91495L1.53033 5.85429ZM5.83802 11.2226L15.5303 1.53033L14.4697 0.46967L4.77736 10.162L5.83802 11.2226ZM0.46967 6.91495L4.77736 11.2226L5.83802 10.162L1.53033 5.85429L0.46967 6.91495Z\",\n            fill: \"currentColor\"\n        })\n    });\n    function Ge() {\n        return Be(\"a\", {\n            href: \"https://posthog.com\",\n            target: \"_blank\",\n            rel: \"noopener\",\n            className: \"footer-branding\",\n            children: [\n                \"Survey by \",\n                ze\n            ]\n        });\n    }\n    function Xe(e) {\n        let { text: n, submitDisabled: t, appearance: r, onSubmit: i, link: l } = e;\n        const { isPreviewMode: a, isPopup: s } = Te(ae), u = r.submitButtonTextColor || G(r.submitButtonColor || X.submitButtonColor);\n        return Be(\"div\", {\n            className: \"bottom-section\",\n            children: [\n                Be(\"div\", {\n                    className: \"buttons\",\n                    children: Be(\"button\", {\n                        className: \"form-submit\",\n                        disabled: t && !a,\n                        type: \"button\",\n                        style: s ? {\n                            color: u\n                        } : {},\n                        onClick: ()=>{\n                            a || (l && (null == o || o.open(l)), i());\n                        },\n                        children: n\n                    })\n                }),\n                !r.whiteLabel && Be(Ge, {})\n            ]\n        });\n    }\n    function Je(e) {\n        let { question: n, description: t, descriptionContentType: o, backgroundColor: r, forceDisableHtml: i } = e;\n        const { isPopup: l } = Te(ae);\n        return Be(\"div\", {\n            style: l ? {\n                backgroundColor: r || X.backgroundColor\n            } : {},\n            children: [\n                Be(\"div\", {\n                    className: \"survey-question\",\n                    children: n\n                }),\n                t && se({\n                    component: x(\"div\", {\n                        className: \"survey-question-description\"\n                    }),\n                    children: t,\n                    renderAsHtml: !i && \"text\" !== o\n                })\n            ]\n        });\n    }\n    function Ke(e) {\n        let { onClick: n } = e;\n        const { isPreviewMode: t } = Te(ae);\n        return Be(\"div\", {\n            className: \"cancel-btn-wrapper\",\n            onClick: n,\n            disabled: t,\n            children: Be(\"button\", {\n                className: \"form-cancel\",\n                onClick: n,\n                disabled: t,\n                children: Re\n            })\n        });\n    }\n    function en(e) {\n        let { header: n, description: t, contentType: o, forceDisableHtml: r, appearance: i, onClose: l, styleOverrides: a } = e;\n        const s = G(i.backgroundColor || X.backgroundColor), { isPopup: u } = Te(ae);\n        return Be(w, {\n            children: Be(\"div\", {\n                className: \"thank-you-message\",\n                style: {\n                    ...a\n                },\n                children: Be(\"div\", {\n                    className: \"thank-you-message-container\",\n                    children: [\n                        u && Be(Ke, {\n                            onClick: ()=>l()\n                        }),\n                        Be(\"h3\", {\n                            className: \"thank-you-message-header\",\n                            style: {\n                                color: s\n                            },\n                            children: n\n                        }),\n                        t && se({\n                            component: x(\"div\", {\n                                className: \"thank-you-message-body\"\n                            }),\n                            children: t,\n                            renderAsHtml: !r && \"text\" !== o,\n                            style: {\n                                color: s\n                            }\n                        }),\n                        u && Be(Xe, {\n                            text: i.thankYouMessageCloseButtonText || \"Close\",\n                            submitDisabled: !1,\n                            appearance: i,\n                            onSubmit: ()=>l()\n                        })\n                    ]\n                })\n            })\n        });\n    }\n    function nn(e) {\n        var n;\n        const t = Se(null), [o, r] = ke(null !== (n = e.defaultTextColor) && void 0 !== n ? n : \"black\");\n        return we(()=>{\n            if (t.current) {\n                const e = function(e) {\n                    const n = j.getComputedStyle(e).backgroundColor;\n                    if (\"rgba(0, 0, 0, 0)\" === n) return \"black\";\n                    const t = n.match(/^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+(?:\\.\\d+)?))?\\)$/);\n                    if (!t) return \"black\";\n                    const o = parseInt(t[1]), r = parseInt(t[2]), i = parseInt(t[3]);\n                    return Math.sqrt(o * o * .299 + r * r * .587 + i * i * .114) > 127.5 ? \"black\" : \"white\";\n                }(t.current);\n                r(e);\n            }\n        }, [\n            e.appearance,\n            e.forceUpdate\n        ]), {\n            ref: t,\n            textColor: o\n        };\n    }\n    function tn(e) {\n        let { question: n, forceDisableHtml: t, appearance: o, onSubmit: r } = e;\n        const i = Se(null), [l, a] = ke(\"\");\n        return Be(\"div\", {\n            ref: i,\n            children: [\n                Be(Je, {\n                    question: n.question,\n                    description: n.description,\n                    descriptionContentType: n.descriptionContentType,\n                    backgroundColor: o.backgroundColor,\n                    forceDisableHtml: t\n                }),\n                Be(\"textarea\", {\n                    rows: 4,\n                    placeholder: null == o ? void 0 : o.placeholder,\n                    onInput: (e)=>a(e.currentTarget.value)\n                }),\n                Be(Xe, {\n                    text: n.buttonText || \"Submit\",\n                    submitDisabled: !l && !n.optional,\n                    appearance: o,\n                    onSubmit: ()=>r(l)\n                })\n            ]\n        });\n    }\n    function on(e) {\n        let { question: n, forceDisableHtml: t, appearance: o, onSubmit: r } = e;\n        return Be(w, {\n            children: [\n                Be(Je, {\n                    question: n.question,\n                    description: n.description,\n                    descriptionContentType: n.descriptionContentType,\n                    forceDisableHtml: t\n                }),\n                Be(Xe, {\n                    text: n.buttonText || \"Submit\",\n                    submitDisabled: !1,\n                    link: n.link,\n                    appearance: o,\n                    onSubmit: ()=>r(\"link clicked\")\n                })\n            ]\n        });\n    }\n    function rn(e) {\n        let { question: n, forceDisableHtml: t, displayQuestionIndex: o, appearance: r, onSubmit: i } = e;\n        const l = n.scale, a = 10 === n.scale ? 0 : 1, [s, u] = ke(null);\n        return Be(w, {\n            children: [\n                Be(Je, {\n                    question: n.question,\n                    description: n.description,\n                    descriptionContentType: n.descriptionContentType,\n                    forceDisableHtml: t,\n                    backgroundColor: r.backgroundColor\n                }),\n                Be(\"div\", {\n                    className: \"rating-section\",\n                    children: [\n                        Be(\"div\", {\n                            className: \"rating-options\",\n                            children: [\n                                \"emoji\" === n.display && Be(\"div\", {\n                                    className: \"rating-options-emoji\",\n                                    children: (3 === n.scale ? sn : un).map((e, n)=>{\n                                        const t = n + 1 === s;\n                                        return Be(\"button\", {\n                                            className: `ratings-emoji question-${o}-rating-${n} ${t ? \"rating-active\" : null}`,\n                                            value: n + 1,\n                                            type: \"button\",\n                                            onClick: ()=>{\n                                                u(n + 1);\n                                            },\n                                            style: {\n                                                fill: t ? r.ratingButtonActiveColor : r.ratingButtonColor,\n                                                borderColor: r.borderColor\n                                            },\n                                            children: e\n                                        }, n);\n                                    })\n                                }),\n                                \"number\" === n.display && Be(\"div\", {\n                                    className: \"rating-options-number\",\n                                    style: {\n                                        gridTemplateColumns: `repeat(${l - a + 1}, minmax(0, 1fr))`\n                                    },\n                                    children: _n(n.scale).map((e, n)=>Be(ln, {\n                                            displayQuestionIndex: o,\n                                            active: s === e,\n                                            appearance: r,\n                                            num: e,\n                                            setActiveNumber: (e)=>{\n                                                u(e);\n                                            }\n                                        }, n))\n                                })\n                            ]\n                        }),\n                        Be(\"div\", {\n                            className: \"rating-text\",\n                            children: [\n                                Be(\"div\", {\n                                    children: n.lowerBoundLabel\n                                }),\n                                Be(\"div\", {\n                                    children: n.upperBoundLabel\n                                })\n                            ]\n                        })\n                    ]\n                }),\n                Be(Xe, {\n                    text: n.buttonText || (null == r ? void 0 : r.submitButtonText) || \"Submit\",\n                    submitDisabled: Ne(s) && !n.optional,\n                    appearance: r,\n                    onSubmit: ()=>i(s)\n                })\n            ]\n        });\n    }\n    function ln(e) {\n        let { num: n, active: t, displayQuestionIndex: o, appearance: r, setActiveNumber: i } = e;\n        const { textColor: l, ref: a } = nn({\n            appearance: r,\n            defaultTextColor: \"black\",\n            forceUpdate: t\n        });\n        return Be(\"button\", {\n            ref: a,\n            className: `ratings-number question-${o}-rating-${n} ${t ? \"rating-active\" : null}`,\n            type: \"button\",\n            onClick: ()=>{\n                i(n);\n            },\n            style: {\n                color: l,\n                backgroundColor: t ? r.ratingButtonActiveColor : r.ratingButtonColor,\n                borderColor: r.borderColor\n            },\n            children: n\n        });\n    }\n    function an(e) {\n        let { question: t, forceDisableHtml: o, displayQuestionIndex: r, appearance: i, onSubmit: l } = e;\n        const a = Se(null), s = qe(()=>((e)=>{\n                if (!e.shuffleOptions) return e.choices;\n                const n = e.choices;\n                let t = \"\";\n                e.hasOpenChoice && (t = n.pop());\n                const o = te(n, ne(n));\n                return e.hasOpenChoice && (e.choices.push(t), o.push(t)), o;\n            })(t), [\n            t\n        ]), [u, c] = ke(t.type === n.MultipleChoice ? [] : null), [d, p] = ke(!1), [_, f] = ke(\"\"), h = t.type === n.SingleChoice ? \"radio\" : \"checkbox\";\n        return Be(\"div\", {\n            ref: a,\n            children: [\n                Be(Je, {\n                    question: t.question,\n                    description: t.description,\n                    descriptionContentType: t.descriptionContentType,\n                    forceDisableHtml: o,\n                    backgroundColor: i.backgroundColor\n                }),\n                Be(\"div\", {\n                    className: \"multiple-choice-options\",\n                    children: s.map((e, o)=>{\n                        let i = \"choice-option\";\n                        const l = e, a = e;\n                        return t.hasOpenChoice && o === t.choices.length - 1 && (i += \" choice-option-open\"), Be(\"div\", {\n                            className: i,\n                            children: [\n                                Be(\"input\", {\n                                    type: h,\n                                    id: `surveyQuestion${r}Choice${o}`,\n                                    name: `question${r}`,\n                                    value: l,\n                                    disabled: !l,\n                                    onInput: ()=>t.hasOpenChoice && o === t.choices.length - 1 ? p(!d) : t.type === n.SingleChoice ? c(l) : t.type === n.MultipleChoice && Ze(u) ? u.includes(l) ? c(u.filter((e)=>e !== l)) : c([\n                                            ...u,\n                                            l\n                                        ]) : void 0\n                                }),\n                                Be(\"label\", {\n                                    htmlFor: `surveyQuestion${r}Choice${o}`,\n                                    style: {\n                                        color: \"black\"\n                                    },\n                                    children: t.hasOpenChoice && o === t.choices.length - 1 ? Be(w, {\n                                        children: [\n                                            Be(\"span\", {\n                                                children: [\n                                                    a,\n                                                    \":\"\n                                                ]\n                                            }),\n                                            Be(\"input\", {\n                                                type: \"text\",\n                                                id: `surveyQuestion${r}Choice${o}Open`,\n                                                name: `question${r}`,\n                                                onInput: (e)=>{\n                                                    const o = e.currentTarget.value;\n                                                    return t.type === n.SingleChoice ? c(o) : t.type === n.MultipleChoice && Ze(u) ? f(o) : void 0;\n                                                }\n                                            })\n                                        ]\n                                    }) : a\n                                }),\n                                Be(\"span\", {\n                                    className: \"choice-check\",\n                                    style: {\n                                        color: \"black\"\n                                    },\n                                    children: Ye\n                                })\n                            ]\n                        });\n                    })\n                }),\n                Be(Xe, {\n                    text: t.buttonText || \"Submit\",\n                    submitDisabled: (Ne(u) || Ze(u) && !d && 0 === u.length || Ze(u) && d && !_ && 0 === u.length && !t.optional) && !t.optional,\n                    appearance: i,\n                    onSubmit: ()=>{\n                        d && t.type === n.MultipleChoice ? Ze(u) && l([\n                            ...u,\n                            _\n                        ]) : l(u);\n                    }\n                })\n            ]\n        });\n    }\n    const sn = [\n        Ue,\n        We,\n        Qe\n    ], un = [\n        je,\n        Ue,\n        We,\n        Qe,\n        Oe\n    ], cn = [\n        1,\n        2,\n        3,\n        4,\n        5\n    ], dn = [\n        1,\n        2,\n        3,\n        4,\n        5,\n        6,\n        7\n    ], pn = [\n        0,\n        1,\n        2,\n        3,\n        4,\n        5,\n        6,\n        7,\n        8,\n        9,\n        10\n    ];\n    function _n(e) {\n        switch(e){\n            case 5:\n            default:\n                return cn;\n            case 7:\n                return dn;\n            case 10:\n                return pn;\n        }\n    }\n    const fn = \"[PostHog.js]\", hn = {\n        _log: function(e) {\n            if (o && a.POSTHOG_DEBUG && !function(e) {\n                return void 0 === e;\n            }(o.console) && o.console) {\n                const i = \"__rrweb_original__\" in o.console[e] ? o.console[e].__rrweb_original__ : o.console[e];\n                for(var n = arguments.length, t = new Array(n > 1 ? n - 1 : 0), r = 1; r < n; r++)t[r - 1] = arguments[r];\n                i(fn, ...t);\n            }\n        },\n        info: function() {\n            for(var e = arguments.length, n = new Array(e), t = 0; t < e; t++)n[t] = arguments[t];\n            hn._log(\"log\", ...n);\n        },\n        warn: function() {\n            for(var e = arguments.length, n = new Array(e), t = 0; t < e; t++)n[t] = arguments[t];\n            hn._log(\"warn\", ...n);\n        },\n        error: function() {\n            for(var e = arguments.length, n = new Array(e), t = 0; t < e; t++)n[t] = arguments[t];\n            hn._log(\"error\", ...n);\n        },\n        critical: function() {\n            for(var e = arguments.length, n = new Array(e), t = 0; t < e; t++)n[t] = arguments[t];\n            console.error(fn, ...n);\n        },\n        uninitializedWarning: (e)=>{\n            hn.error(`You must initialize PostHog before calling ${e}`);\n        }\n    }, vn = o, gn = l;\n    class mn {\n        constructor(e){\n            this.posthog = e, this.surveyInFocus = null;\n        }\n        canShowNextEventBasedSurvey = ()=>{\n            const e = gn.querySelectorAll(\"div[class^=PostHogSurvey]\");\n            var n;\n            return !(e.length > 0) || 1 === (null === (n = e[e.length - 1].shadowRoot) || void 0 === n ? void 0 : n.childElementCount);\n        };\n        handlePopoverSurvey = (e)=>{\n            var n;\n            const t = null === (n = e.conditions) || void 0 === n ? void 0 : n.seenSurveyWaitPeriodInDays, o = localStorage.getItem(\"lastSeenSurveyDate\");\n            if (t && o) {\n                const e = new Date, n = Math.abs(e.getTime() - new Date(o).getTime());\n                if (Math.ceil(n / 864e5) < t) return;\n            }\n            const r = ((e)=>!!localStorage.getItem(ie(e)) && !re(e))(e);\n            if (!r) {\n                this.addSurveyToFocus(e.id);\n                const n = ((e, n, t)=>{\n                    const o = O.createElement(\"div\");\n                    o.className = `PostHogSurvey${n}`;\n                    const r = o.attachShadow({\n                        mode: \"open\"\n                    });\n                    if (e) {\n                        const n = Object.assign(O.createElement(\"style\"), {\n                            innerText: e\n                        });\n                        r.appendChild(n);\n                    }\n                    return O.body.appendChild(o), r;\n                })(z(null == e ? void 0 : e.appearance), e.id);\n                W(Be(Cn, {\n                    posthog: this.posthog,\n                    survey: e,\n                    removeSurveyFromFocus: this.removeSurveyFromFocus,\n                    isPopup: !0\n                }, \"popover-survey\"), n);\n            }\n        };\n        handleWidget = (e)=>{\n            const n = function(e) {\n                var n;\n                const t = ue.createElement(\"div\");\n                t.className = `PostHogWidget${e.id}`;\n                const o = t.attachShadow({\n                    mode: \"open\"\n                }), r = `\\n        .ph-survey-widget-tab {\\n            position: fixed;\\n            top: 50%;\\n            right: 0;\\n            background: ${(null === (n = e.appearance) || void 0 === n ? void 0 : n.widgetColor) || \"#e0a045\"};\\n            color: white;\\n            transform: rotate(-90deg) translate(0, -100%);\\n            transform-origin: right top;\\n            min-width: 40px;\\n            padding: 8px 12px;\\n            font-weight: 500;\\n            border-radius: 3px 3px 0 0;\\n            text-align: center;\\n            cursor: pointer;\\n            z-index: 9999999;\\n        }\\n        .ph-survey-widget-tab:hover {\\n            padding-bottom: 13px;\\n        }\\n        .ph-survey-widget-button {\\n            position: fixed;\\n        }\\n    `;\n                return o.append(Object.assign(ue.createElement(\"style\"), {\n                    innerText: r\n                })), ue.body.appendChild(t), o;\n            }(e), t = z(e.appearance);\n            n.appendChild(Object.assign(gn.createElement(\"style\"), {\n                innerText: t\n            })), W(Be(kn, {\n                posthog: this.posthog,\n                survey: e,\n                removeSurveyFromFocus: this.removeSurveyFromFocus\n            }, \"feedback-survey\"), n);\n        };\n        handleWidgetSelector = (e)=>{\n            var n;\n            const t = (null === (n = e.appearance) || void 0 === n ? void 0 : n.widgetSelector) && gn.querySelector(e.appearance.widgetSelector);\n            if (t) {\n                if (0 === gn.querySelectorAll(`.PostHogWidget${e.id}`).length) this.handleWidget(e);\n                else if (1 === gn.querySelectorAll(`.PostHogWidget${e.id}`).length && !t.getAttribute(\"PHWidgetSurveyClickListener\")) {\n                    var o, r;\n                    const n = null === (o = gn.querySelector(`.PostHogWidget${e.id}`)) || void 0 === o || null === (r = o.shadowRoot) || void 0 === r ? void 0 : r.querySelector(\".survey-form\");\n                    t.addEventListener(\"click\", ()=>{\n                        n && (n.style.display = \"none\" === n.style.display ? \"block\" : \"none\", n.addEventListener(\"PHSurveyClosed\", ()=>{\n                            this.removeSurveyFromFocus(e.id), n.style.display = \"none\";\n                        }));\n                    }), t.setAttribute(\"PHWidgetSurveyClickListener\", \"true\");\n                }\n            }\n        };\n        sortSurveysByAppearanceDelay(e) {\n            return e.sort((e, n)=>{\n                var t, o;\n                return ((null === (t = e.appearance) || void 0 === t ? void 0 : t.surveyPopupDelaySeconds) || 0) - ((null === (o = n.appearance) || void 0 === o ? void 0 : o.surveyPopupDelaySeconds) || 0);\n            });\n        }\n        canRenderSurvey = (n)=>{\n            const t = {\n                visible: !1\n            };\n            if (n.end_date) return t.disabledReason = `survey was completed on ${n.end_date}`, t;\n            if (n.type != e.Popover) return t.disabledReason = \"Only Popover survey types can be rendered\", t;\n            if (!(!n.linked_flag_key || this.posthog.featureFlags.isFeatureEnabled(n.linked_flag_key))) return t.disabledReason = `linked feature flag ${n.linked_flag_key} is false`, t;\n            if (!(!n.targeting_flag_key || this.posthog.featureFlags.isFeatureEnabled(n.targeting_flag_key))) return t.disabledReason = `targeting feature flag ${n.targeting_flag_key} is false`, t;\n            return !n.internal_targeting_flag_key || this.posthog.featureFlags.isFeatureEnabled(n.internal_targeting_flag_key) ? (t.visible = !0, t) : (t.disabledReason = `internal targeting feature flag ${n.internal_targeting_flag_key} is false`, t);\n        };\n        renderSurvey = (e, n)=>{\n            W(Be(Cn, {\n                posthog: this.posthog,\n                survey: e,\n                removeSurveyFromFocus: this.removeSurveyFromFocus,\n                isPopup: !1\n            }, \"popover-survey\"), n);\n        };\n        callSurveysAndEvaluateDisplayLogic = (()=>{\n            var n = this;\n            return function() {\n                var t;\n                let o = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];\n                null === (t = n.posthog) || void 0 === t || t.getActiveMatchingSurveys((t)=>{\n                    const o = t.filter((e)=>\"api\" !== e.type);\n                    n.sortSurveysByAppearanceDelay(o).forEach((t)=>{\n                        if (Ne(n.surveyInFocus)) {\n                            var o, r, i;\n                            if (t.type === e.Widget) \"tab\" === (null === (o = t.appearance) || void 0 === o ? void 0 : o.widgetType) && 0 === gn.querySelectorAll(`.PostHogWidget${t.id}`).length && n.handleWidget(t), \"selector\" === (null === (r = t.appearance) || void 0 === r ? void 0 : r.widgetType) && null !== (i = t.appearance) && void 0 !== i && i.widgetSelector && n.handleWidgetSelector(t);\n                            t.type === e.Popover && n.canShowNextEventBasedSurvey() && n.handlePopoverSurvey(t);\n                        }\n                    });\n                }, o);\n            };\n        })();\n        addSurveyToFocus = (e)=>{\n            Ne(this.surveyInFocus) || hn.error(`Survey ${[\n                ...this.surveyInFocus\n            ]} already in focus. Cannot add survey ${e}.`), this.surveyInFocus = e;\n        };\n        removeSurveyFromFocus = (e)=>{\n            this.surveyInFocus !== e && hn.error(`Survey ${e} is not in focus. Cannot remove survey ${e}.`), this.surveyInFocus = null;\n        };\n        getTestAPI() {\n            return {\n                addSurveyToFocus: this.addSurveyToFocus,\n                removeSurveyFromFocus: this.removeSurveyFromFocus,\n                surveyInFocus: this.surveyInFocus,\n                canShowNextEventBasedSurvey: this.canShowNextEventBasedSurvey,\n                handleWidget: this.handleWidget,\n                handlePopoverSurvey: this.handlePopoverSurvey,\n                handleWidgetSelector: this.handleWidgetSelector,\n                sortSurveysByAppearanceDelay: this.sortSurveysByAppearanceDelay\n            };\n        }\n    }\n    function yn(e) {\n        if (!gn || !vn) return;\n        const n = new mn(e);\n        return n.callSurveysAndEvaluateDisplayLogic(!0), setInterval(()=>{\n            n.callSurveysAndEvaluateDisplayLogic(!1);\n        }, 1e3), n;\n    }\n    function bn(e, n, t, o, r) {\n        const [i, l] = ke(o || 0 === t), [a, s] = ke(!1);\n        return we(()=>{\n            if (o || !n) return;\n            const i = ()=>{\n                r(e.id), l(!1);\n            }, a = ()=>{\n                var n, t;\n                null !== (n = e.appearance) && void 0 !== n && n.displayThankYouMessage ? (s(!0), r(e.id), null !== (t = e.appearance) && void 0 !== t && t.autoDisappear && setTimeout(()=>{\n                    l(!1);\n                }, 5e3)) : (r(e.id), l(!1));\n            }, u = ()=>{\n                var t;\n                l(!0), vn.dispatchEvent(new Event(\"PHSurveyShown\")), n.capture(\"survey shown\", {\n                    $survey_name: e.name,\n                    $survey_id: e.id,\n                    $survey_iteration: e.current_iteration,\n                    $survey_iteration_start_date: e.current_iteration_start_date,\n                    sessionRecordingUrl: null === (t = n.get_session_replay_url) || void 0 === t ? void 0 : t.call(n)\n                }), localStorage.setItem(\"lastSeenSurveyDate\", (new Date).toISOString());\n            };\n            return vn.addEventListener(\"PHSurveyClosed\", i), vn.addEventListener(\"PHSurveySent\", a), t > 0 ? (()=>{\n                const e = setTimeout(()=>{\n                    u();\n                }, t);\n                return ()=>{\n                    clearTimeout(e), vn.removeEventListener(\"PHSurveyClosed\", i), vn.removeEventListener(\"PHSurveySent\", a);\n                };\n            })() : (u(), ()=>{\n                vn.removeEventListener(\"PHSurveyClosed\", i), vn.removeEventListener(\"PHSurveySent\", a);\n            });\n        }, []), {\n            isPopupVisible: i,\n            isSurveySent: a,\n            setIsPopupVisible: l\n        };\n    }\n    function Cn(e) {\n        var n, t, o, r, i, l;\n        let { survey: a, forceDisableHtml: s, posthog: u, style: c, previewPageIndex: d, removeSurveyFromFocus: p, isPopup: _ } = e;\n        const f = Number.isInteger(d), h = null !== (n = a.appearance) && void 0 !== n && n.surveyPopupDelaySeconds ? 1e3 * a.appearance.surveyPopupDelaySeconds : 0, { isPopupVisible: v, isSurveySent: g, setIsPopupVisible: m } = bn(a, u, h, f, p), y = g || d === a.questions.length, b = null !== (t = c) && void 0 !== t && t.left && Ae(null === (o = c) || void 0 === o ? void 0 : o.left) ? {\n            left: c.left - 40\n        } : {};\n        return f && (c = c || {}, c.left = \"unset\", c.right = \"unset\", c.transform = \"unset\"), v ? Be(ae.Provider, {\n            value: {\n                isPreviewMode: f,\n                previewPageIndex: d,\n                handleCloseSurveyPopup: ()=>ee(a, u, f),\n                isPopup: _ || !1\n            },\n            children: y ? Be(en, {\n                header: (null === (r = a.appearance) || void 0 === r ? void 0 : r.thankYouMessageHeader) || \"Thank you!\",\n                description: (null === (i = a.appearance) || void 0 === i ? void 0 : i.thankYouMessageDescription) || \"\",\n                forceDisableHtml: !!s,\n                contentType: null === (l = a.appearance) || void 0 === l ? void 0 : l.thankYouMessageDescriptionContentType,\n                appearance: a.appearance || X,\n                styleOverrides: {\n                    ...c,\n                    ...b\n                },\n                onClose: ()=>m(!1)\n            }) : Be(xn, {\n                survey: a,\n                forceDisableHtml: !!s,\n                posthog: u,\n                styleOverrides: c\n            })\n        }) : Be(w, {});\n    }\n    function xn(e) {\n        var n, o;\n        let { survey: r, forceDisableHtml: i, posthog: l, styleOverrides: a } = e;\n        const s = G((null === (n = r.appearance) || void 0 === n ? void 0 : n.backgroundColor) || X.backgroundColor), [u, c] = ke({}), { isPreviewMode: d, previewPageIndex: p, handleCloseSurveyPopup: _, isPopup: f } = Te(ae), [h, v] = ke(p || 0), g = qe(()=>oe(r), [\n            r\n        ]);\n        we(()=>{\n            v(null != p ? p : 0);\n        }, [\n            p\n        ]);\n        return Be(\"form\", {\n            className: \"survey-form\",\n            style: f ? {\n                color: s,\n                borderColor: null === (o = r.appearance) || void 0 === o ? void 0 : o.borderColor,\n                ...a\n            } : {},\n            children: g.map((e, n)=>{\n                var o;\n                const { originalQuestionIndex: a } = e;\n                return (d ? h === a : h === n) && Be(\"div\", {\n                    className: \"survey-box\",\n                    style: f ? {\n                        backgroundColor: (null === (o = r.appearance) || void 0 === o ? void 0 : o.backgroundColor) || X.backgroundColor\n                    } : {},\n                    children: [\n                        f && Be(Ke, {\n                            onClick: ()=>_()\n                        }),\n                        wn({\n                            question: e,\n                            forceDisableHtml: i,\n                            displayQuestionIndex: n,\n                            appearance: r.appearance || X,\n                            onSubmit: (e)=>((e)=>{\n                                    let { res: n, originalQuestionIndex: o, displayQuestionIndex: i } = e;\n                                    if (!l) return;\n                                    const a = 0 === o ? \"$survey_response\" : `$survey_response_${o}`;\n                                    if (c({\n                                        ...u,\n                                        [a]: n\n                                    }), !l.getNextSurveyStep) return void (i === r.questions.length - 1 ? K({\n                                        ...u,\n                                        [a]: n\n                                    }, r, l) : v(i + 1));\n                                    const s = l.getNextSurveyStep(r, i, n);\n                                    s === t.End ? K({\n                                        ...u,\n                                        [a]: n\n                                    }, r, l) : v(s);\n                                })({\n                                    res: e,\n                                    originalQuestionIndex: a,\n                                    displayQuestionIndex: n\n                                })\n                        })\n                    ]\n                });\n            })\n        });\n    }\n    function kn(e) {\n        var n, t;\n        let { survey: o, forceDisableHtml: r, posthog: i, readOnly: l, removeSurveyFromFocus: a } = e;\n        const [s, u] = ke(!1), [c, d] = ke({}), p = Se(null);\n        return we(()=>{\n            var e, n;\n            if (!l && i) {\n                if (\"tab\" === (null === (e = o.appearance) || void 0 === e ? void 0 : e.widgetType) && p.current) {\n                    var t;\n                    const e = p.current.getBoundingClientRect(), n = {\n                        top: \"50%\",\n                        left: parseInt(\"\" + (e.right - 360)),\n                        bottom: \"auto\",\n                        borderRadius: 10,\n                        borderBottom: `1.5px solid ${(null === (t = o.appearance) || void 0 === t ? void 0 : t.borderColor) || \"#c9c6c6\"}`\n                    };\n                    d(n);\n                }\n                if (\"selector\" === (null === (n = o.appearance) || void 0 === n ? void 0 : n.widgetType)) {\n                    const e = gn.querySelector(o.appearance.widgetSelector || \"\");\n                    null == e || e.addEventListener(\"click\", ()=>{\n                        u(!s);\n                    }), null == e || e.setAttribute(\"PHWidgetSurveyClickListener\", \"true\");\n                }\n            }\n        }, []), Be(w, {\n            children: [\n                \"tab\" === (null === (n = o.appearance) || void 0 === n ? void 0 : n.widgetType) && Be(\"div\", {\n                    className: \"ph-survey-widget-tab\",\n                    ref: p,\n                    onClick: ()=>!l && u(!s),\n                    style: {\n                        color: G(o.appearance.widgetColor)\n                    },\n                    children: [\n                        Be(\"div\", {\n                            className: \"ph-survey-widget-tab-icon\"\n                        }),\n                        (null === (t = o.appearance) || void 0 === t ? void 0 : t.widgetLabel) || \"\"\n                    ]\n                }),\n                s && Be(Cn, {\n                    posthog: i,\n                    survey: o,\n                    forceDisableHtml: r,\n                    style: c,\n                    removeSurveyFromFocus: a,\n                    isPopup: !0\n                }, \"feedback-widget-survey\")\n            ]\n        });\n    }\n    const wn = (e)=>{\n        let { question: t, forceDisableHtml: o, displayQuestionIndex: r, appearance: i, onSubmit: l } = e;\n        const a = {\n            [n.Open]: tn,\n            [n.Link]: on,\n            [n.Rating]: rn,\n            [n.SingleChoice]: an,\n            [n.MultipleChoice]: an\n        }, s = {\n            question: t,\n            forceDisableHtml: o,\n            appearance: i,\n            onSubmit: l\n        }, u = {\n            [n.Open]: {},\n            [n.Link]: {},\n            [n.Rating]: {\n                displayQuestionIndex: r\n            },\n            [n.SingleChoice]: {\n                displayQuestionIndex: r\n            },\n            [n.MultipleChoice]: {\n                displayQuestionIndex: r\n            }\n        };\n        return Be(a[t.type], {\n            ...{\n                ...s,\n                ...u[t.type]\n            }\n        });\n    };\n    a.__PosthogExtensions__ = a.__PosthogExtensions__ || {}, a.__PosthogExtensions__.canActivateRepeatedly = re, a.__PosthogExtensions__.generateSurveys = yn, a.extendPostHogWithSurveys = yn;\n}();\n\n\n!function() {\n    \"use strict\";\n    var e, t, n, r = -1, i = function(e) {\n        addEventListener(\"pageshow\", function(t) {\n            t.persisted && (r = t.timeStamp, e(t));\n        }, !0);\n    }, a = function() {\n        var e = self.performance && performance.getEntriesByType && performance.getEntriesByType(\"navigation\")[0];\n        if (e && e.responseStart > 0 && e.responseStart < performance.now()) return e;\n    }, o = function() {\n        var e = a();\n        return e && e.activationStart || 0;\n    }, c = function(e, t) {\n        var n = a(), i = \"navigate\";\n        return r >= 0 ? i = \"back-forward-cache\" : n && (document.prerendering || o() > 0 ? i = \"prerender\" : document.wasDiscarded ? i = \"restore\" : n.type && (i = n.type.replace(/_/g, \"-\"))), {\n            name: e,\n            value: void 0 === t ? -1 : t,\n            rating: \"good\",\n            delta: 0,\n            entries: [],\n            id: \"v4-\".concat(Date.now(), \"-\").concat(Math.floor(8999999999999 * Math.random()) + 1e12),\n            navigationType: i\n        };\n    }, s = function(e, t, n) {\n        try {\n            if (PerformanceObserver.supportedEntryTypes.includes(e)) {\n                var r = new PerformanceObserver(function(e) {\n                    Promise.resolve().then(function() {\n                        t(e.getEntries());\n                    });\n                });\n                return r.observe(Object.assign({\n                    type: e,\n                    buffered: !0\n                }, n || {})), r;\n            }\n        } catch (e) {}\n    }, u = function(e, t, n, r) {\n        var i, a;\n        return function(o) {\n            t.value >= 0 && (o || r) && ((a = t.value - (i || 0)) || void 0 === i) && (i = t.value, t.delta = a, t.rating = function(e, t) {\n                return e > t[1] ? \"poor\" : e > t[0] ? \"needs-improvement\" : \"good\";\n            }(t.value, n), e(t));\n        };\n    }, d = function(e) {\n        requestAnimationFrame(function() {\n            return requestAnimationFrame(function() {\n                return e();\n            });\n        });\n    }, f = function(e) {\n        document.addEventListener(\"visibilitychange\", function() {\n            \"hidden\" === document.visibilityState && e();\n        });\n    }, l = function(e) {\n        var t = !1;\n        return function() {\n            t || (e(), t = !0);\n        };\n    }, p = -1, m = function() {\n        return \"hidden\" !== document.visibilityState || document.prerendering ? 1 / 0 : 0;\n    }, v = function(e) {\n        \"hidden\" === document.visibilityState && p > -1 && (p = \"visibilitychange\" === e.type ? e.timeStamp : 0, h());\n    }, g = function() {\n        addEventListener(\"visibilitychange\", v, !0), addEventListener(\"prerenderingchange\", v, !0);\n    }, h = function() {\n        removeEventListener(\"visibilitychange\", v, !0), removeEventListener(\"prerenderingchange\", v, !0);\n    }, y = function() {\n        return p < 0 && (p = m(), g(), i(function() {\n            setTimeout(function() {\n                p = m(), g();\n            }, 0);\n        })), {\n            get firstHiddenTime () {\n                return p;\n            }\n        };\n    }, T = function(e) {\n        document.prerendering ? addEventListener(\"prerenderingchange\", function() {\n            return e();\n        }, !0) : e();\n    }, E = [\n        1800,\n        3e3\n    ], b = function(e, t) {\n        t = t || {}, T(function() {\n            var n, r = y(), a = c(\"FCP\"), f = s(\"paint\", function(e) {\n                e.forEach(function(e) {\n                    \"first-contentful-paint\" === e.name && (f.disconnect(), e.startTime < r.firstHiddenTime && (a.value = Math.max(e.startTime - o(), 0), a.entries.push(e), n(!0)));\n                });\n            });\n            f && (n = u(e, a, E, t.reportAllChanges), i(function(r) {\n                a = c(\"FCP\"), n = u(e, a, E, t.reportAllChanges), d(function() {\n                    a.value = performance.now() - r.timeStamp, n(!0);\n                });\n            }));\n        });\n    }, S = [\n        .1,\n        .25\n    ], C = [\n        2500,\n        4e3\n    ], L = {}, w = function() {\n        var e = self.performance && performance.getEntriesByType && performance.getEntriesByType(\"navigation\")[0];\n        if (e && e.responseStart > 0 && e.responseStart < performance.now()) return e;\n    }, M = function(e) {\n        if (\"loading\" === document.readyState) return \"loading\";\n        var t = w();\n        if (t) {\n            if (e < t.domInteractive) return \"loading\";\n            if (0 === t.domContentLoadedEventStart || e < t.domContentLoadedEventStart) return \"dom-interactive\";\n            if (0 === t.domComplete || e < t.domComplete) return \"dom-content-loaded\";\n        }\n        return \"complete\";\n    }, P = function(e) {\n        var t = e.nodeName;\n        return 1 === e.nodeType ? t.toLowerCase() : t.toUpperCase().replace(/^#/, \"\");\n    }, I = function(e, t) {\n        var n = \"\";\n        try {\n            for(; e && 9 !== e.nodeType;){\n                var r = e, i = r.id ? \"#\" + r.id : P(r) + (r.classList && r.classList.value && r.classList.value.trim() && r.classList.value.trim().length ? \".\" + r.classList.value.trim().replace(/\\s+/g, \".\") : \"\");\n                if (n.length + i.length > (t || 100) - 1) return n || i;\n                if (n = n ? i + \">\" + n : i, r.id) break;\n                e = r.parentNode;\n            }\n        } catch (e) {}\n        return n;\n    }, k = -1, A = function(e, t) {\n        var n = w(), r = \"navigate\";\n        return k >= 0 ? r = \"back-forward-cache\" : n && (document.prerendering || function() {\n            var e = w();\n            return e && e.activationStart || 0;\n        }() > 0 ? r = \"prerender\" : document.wasDiscarded ? r = \"restore\" : n.type && (r = n.type.replace(/_/g, \"-\"))), {\n            name: e,\n            value: -1,\n            rating: \"good\",\n            delta: 0,\n            entries: [],\n            id: \"v4-\".concat(Date.now(), \"-\").concat(Math.floor(8999999999999 * Math.random()) + 1e12),\n            navigationType: r\n        };\n    }, _ = function(e, t, n) {\n        try {\n            if (PerformanceObserver.supportedEntryTypes.includes(e)) {\n                var r = new PerformanceObserver(function(e) {\n                    Promise.resolve().then(function() {\n                        t(e.getEntries());\n                    });\n                });\n                return r.observe(Object.assign({\n                    type: e,\n                    buffered: !0\n                }, n || {})), r;\n            }\n        } catch (e) {}\n    }, x = function(e, t, n, r) {\n        var i, a;\n        return function(o) {\n            t.value >= 0 && (o || r) && ((a = t.value - (i || 0)) || void 0 === i) && (i = t.value, t.delta = a, t.rating = function(e, t) {\n                return e > t[1] ? \"poor\" : e > t[0] ? \"needs-improvement\" : \"good\";\n            }(t.value, n), e(t));\n        };\n    }, H = function(e) {\n        document.addEventListener(\"visibilitychange\", function() {\n            \"hidden\" === document.visibilityState && e();\n        });\n    }, q = 0, D = 1 / 0, O = 0, R = function(e) {\n        e.forEach(function(e) {\n            e.interactionId && (D = Math.min(D, e.interactionId), O = Math.max(O, e.interactionId), q = O ? (O - D) / 7 + 1 : 0);\n        });\n    }, F = function() {\n        \"interactionCount\" in performance || e || (e = _(\"event\", R, {\n            type: \"event\",\n            buffered: !0,\n            durationThreshold: 0\n        }));\n    }, N = [], B = new Map, W = 0, j = function() {\n        return (e ? q : performance.interactionCount || 0) - W;\n    }, X = [], V = function(e) {\n        if (X.forEach(function(t) {\n            return t(e);\n        }), e.interactionId || \"first-input\" === e.entryType) {\n            var t = N[N.length - 1], n = B.get(e.interactionId);\n            if (n || N.length < 10 || e.duration > t.latency) {\n                if (n) e.duration > n.latency ? (n.entries = [\n                    e\n                ], n.latency = e.duration) : e.duration === n.latency && e.startTime === n.entries[0].startTime && n.entries.push(e);\n                else {\n                    var r = {\n                        id: e.interactionId,\n                        latency: e.duration,\n                        entries: [\n                            e\n                        ]\n                    };\n                    B.set(r.id, r), N.push(r);\n                }\n                N.sort(function(e, t) {\n                    return t.latency - e.latency;\n                }), N.length > 10 && N.splice(10).forEach(function(e) {\n                    return B.delete(e.id);\n                });\n            }\n        }\n    }, z = function(e) {\n        var t = self.requestIdleCallback || self.setTimeout, n = -1;\n        return e = function(e) {\n            var t = !1;\n            return function() {\n                t || (e(), t = !0);\n            };\n        }(e), \"hidden\" === document.visibilityState ? e() : (n = t(e), H(e)), n;\n    }, U = [\n        200,\n        500\n    ], G = function(e, t) {\n        \"PerformanceEventTiming\" in self && \"interactionId\" in PerformanceEventTiming.prototype && (t = t || {}, function(e) {\n            document.prerendering ? addEventListener(\"prerenderingchange\", function() {\n                return e();\n            }, !0) : e();\n        }(function() {\n            var n;\n            F();\n            var r, i = A(\"INP\"), a = function(e) {\n                z(function() {\n                    e.forEach(V);\n                    var t, n = (t = Math.min(N.length - 1, Math.floor(j() / 50)), N[t]);\n                    n && n.latency !== i.value && (i.value = n.latency, i.entries = n.entries, r());\n                });\n            }, o = _(\"event\", a, {\n                durationThreshold: null !== (n = t.durationThreshold) && void 0 !== n ? n : 40\n            });\n            r = x(e, i, U, t.reportAllChanges), o && (o.observe({\n                type: \"first-input\",\n                buffered: !0\n            }), H(function() {\n                a(o.takeRecords()), r(!0);\n            }), function(e) {\n                addEventListener(\"pageshow\", function(t) {\n                    t.persisted && (k = t.timeStamp, e(t));\n                }, !0);\n            }(function() {\n                W = 0, N.length = 0, B.clear(), i = A(\"INP\"), r = x(e, i, U, t.reportAllChanges);\n            }));\n        }));\n    }, J = [], K = [], Q = new WeakMap, Y = new Map, Z = -1, $ = function(e) {\n        J = J.concat(e), ee();\n    }, ee = function() {\n        Z < 0 && (Z = z(te));\n    }, te = function() {\n        Y.size > 10 && Y.forEach(function(e, t) {\n            B.has(t) || Y.delete(t);\n        });\n        var e = N.map(function(e) {\n            return Q.get(e.entries[0]);\n        }), t = K.length - 50;\n        K = K.filter(function(n, r) {\n            return r >= t || e.includes(n);\n        });\n        for(var r = new Set, i = 0; i < K.length; i++){\n            var a = K[i];\n            ne(a.startTime, a.processingEnd).forEach(function(e) {\n                r.add(e);\n            });\n        }\n        for(var o = 0; o < 50; o++){\n            var c = J[J.length - 1 - o];\n            if (!c || c.startTime < n) break;\n            r.add(c);\n        }\n        J = Array.from(r), Z = -1;\n    };\n    X.push(function(e) {\n        e.interactionId && e.target && !Y.has(e.interactionId) && Y.set(e.interactionId, e.target);\n    }, function(e) {\n        var t, r = e.startTime + e.duration;\n        n = Math.max(n, e.processingEnd);\n        for(var i = K.length - 1; i >= 0; i--){\n            var a = K[i];\n            if (Math.abs(r - a.renderTime) <= 8) {\n                (t = a).startTime = Math.min(e.startTime, t.startTime), t.processingStart = Math.min(e.processingStart, t.processingStart), t.processingEnd = Math.max(e.processingEnd, t.processingEnd), t.entries.push(e);\n                break;\n            }\n        }\n        t || (t = {\n            startTime: e.startTime,\n            processingStart: e.processingStart,\n            processingEnd: e.processingEnd,\n            renderTime: r,\n            entries: [\n                e\n            ]\n        }, K.push(t)), (e.interactionId || \"first-input\" === e.entryType) && Q.set(e, t), ee();\n    });\n    var ne = function(e, t) {\n        for(var n, r = [], i = 0; n = J[i]; i++)if (!(n.startTime + n.duration < e)) {\n            if (n.startTime > t) break;\n            r.push(n);\n        }\n        return r;\n    };\n    const re = \"undefined\" != typeof window ? window : void 0, ie = \"undefined\" != typeof globalThis ? globalThis : re, ae = null == ie ? void 0 : ie.navigator;\n    null == ie || ie.document, null == ie || ie.location, null == ie || ie.fetch, null != ie && ie.XMLHttpRequest && \"withCredentials\" in new ie.XMLHttpRequest && ie.XMLHttpRequest, null == ie || ie.AbortController, null == ae || ae.userAgent;\n    const oe = null != re ? re : {}, ce = {\n        onLCP: function(e, t) {\n            t = t || {}, T(function() {\n                var n, r = y(), a = c(\"LCP\"), p = function(e) {\n                    t.reportAllChanges || (e = e.slice(-1)), e.forEach(function(e) {\n                        e.startTime < r.firstHiddenTime && (a.value = Math.max(e.startTime - o(), 0), a.entries = [\n                            e\n                        ], n());\n                    });\n                }, m = s(\"largest-contentful-paint\", p);\n                if (m) {\n                    n = u(e, a, C, t.reportAllChanges);\n                    var v = l(function() {\n                        L[a.id] || (p(m.takeRecords()), m.disconnect(), L[a.id] = !0, n(!0));\n                    });\n                    [\n                        \"keydown\",\n                        \"click\"\n                    ].forEach(function(e) {\n                        addEventListener(e, function() {\n                            return function(e) {\n                                var t = self.requestIdleCallback || self.setTimeout, n = -1;\n                                return e = l(e), \"hidden\" === document.visibilityState ? e() : (n = t(e), f(e)), n;\n                            }(v);\n                        }, !0);\n                    }), f(v), i(function(r) {\n                        a = c(\"LCP\"), n = u(e, a, C, t.reportAllChanges), d(function() {\n                            a.value = performance.now() - r.timeStamp, L[a.id] = !0, n(!0);\n                        });\n                    });\n                }\n            });\n        },\n        onCLS: function(e, t) {\n            t = t || {}, b(l(function() {\n                var n, r = c(\"CLS\", 0), a = 0, o = [], l = function(e) {\n                    e.forEach(function(e) {\n                        if (!e.hadRecentInput) {\n                            var t = o[0], n = o[o.length - 1];\n                            a && e.startTime - n.startTime < 1e3 && e.startTime - t.startTime < 5e3 ? (a += e.value, o.push(e)) : (a = e.value, o = [\n                                e\n                            ]);\n                        }\n                    }), a > r.value && (r.value = a, r.entries = o, n());\n                }, p = s(\"layout-shift\", l);\n                p && (n = u(e, r, S, t.reportAllChanges), f(function() {\n                    l(p.takeRecords()), n(!0);\n                }), i(function() {\n                    a = 0, r = c(\"CLS\", 0), n = u(e, r, S, t.reportAllChanges), d(function() {\n                        return n();\n                    });\n                }), setTimeout(n, 0));\n            }));\n        },\n        onFCP: b,\n        onINP: function(e, n) {\n            t || (t = _(\"long-animation-frame\", $)), G(function(t) {\n                var n = function(e) {\n                    var t = e.entries[0], n = Q.get(t), r = t.processingStart, i = n.processingEnd, a = n.entries.sort(function(e, t) {\n                        return e.processingStart - t.processingStart;\n                    }), o = ne(t.startTime, i), c = e.entries.find(function(e) {\n                        return e.target;\n                    }), s = c && c.target || Y.get(t.interactionId), u = [\n                        t.startTime + t.duration,\n                        i\n                    ].concat(o.map(function(e) {\n                        return e.startTime + e.duration;\n                    })), d = Math.max.apply(Math, u), f = {\n                        interactionTarget: I(s),\n                        interactionTargetElement: s,\n                        interactionType: t.name.startsWith(\"key\") ? \"keyboard\" : \"pointer\",\n                        interactionTime: t.startTime,\n                        nextPaintTime: d,\n                        processedEventEntries: a,\n                        longAnimationFrameEntries: o,\n                        inputDelay: r - t.startTime,\n                        processingDuration: i - r,\n                        presentationDelay: Math.max(d - i, 0),\n                        loadState: M(t.startTime)\n                    };\n                    return Object.assign(e, {\n                        attribution: f\n                    });\n                }(t);\n                e(n);\n            }, n);\n        }\n    };\n    oe.__PosthogExtensions__ = oe.__PosthogExtensions__ || {}, oe.__PosthogExtensions__.postHogWebVitalsCallbacks = ce, oe.postHogWebVitalsCallbacks = ce;\n}();\n\n\nconst $10f2f5626d5b2085$var$e = \"undefined\" != typeof window ? window : void 0, $10f2f5626d5b2085$var$t = \"undefined\" != typeof globalThis ? globalThis : $10f2f5626d5b2085$var$e, $10f2f5626d5b2085$var$i = Array.prototype, $10f2f5626d5b2085$var$s = $10f2f5626d5b2085$var$i.forEach, $10f2f5626d5b2085$var$n = $10f2f5626d5b2085$var$i.indexOf, $10f2f5626d5b2085$var$r = null == $10f2f5626d5b2085$var$t ? void 0 : $10f2f5626d5b2085$var$t.navigator, $10f2f5626d5b2085$var$o = null == $10f2f5626d5b2085$var$t ? void 0 : $10f2f5626d5b2085$var$t.document, $10f2f5626d5b2085$var$a = null == $10f2f5626d5b2085$var$t ? void 0 : $10f2f5626d5b2085$var$t.location, $10f2f5626d5b2085$var$l = null == $10f2f5626d5b2085$var$t ? void 0 : $10f2f5626d5b2085$var$t.fetch, $10f2f5626d5b2085$var$c = null != $10f2f5626d5b2085$var$t && $10f2f5626d5b2085$var$t.XMLHttpRequest && \"withCredentials\" in new $10f2f5626d5b2085$var$t.XMLHttpRequest ? $10f2f5626d5b2085$var$t.XMLHttpRequest : void 0, $10f2f5626d5b2085$var$u = null == $10f2f5626d5b2085$var$t ? void 0 : $10f2f5626d5b2085$var$t.AbortController, $10f2f5626d5b2085$var$d = null == $10f2f5626d5b2085$var$r ? void 0 : $10f2f5626d5b2085$var$r.userAgent, $10f2f5626d5b2085$var$h = null != $10f2f5626d5b2085$var$e ? $10f2f5626d5b2085$var$e : {};\nconst $10f2f5626d5b2085$var$_ = {\n    DEBUG: !1,\n    LIB_VERSION: \"1.186.1\"\n}, $10f2f5626d5b2085$var$p = Array.isArray, $10f2f5626d5b2085$var$g = Object.prototype, $10f2f5626d5b2085$var$f = $10f2f5626d5b2085$var$g.hasOwnProperty, $10f2f5626d5b2085$var$v = $10f2f5626d5b2085$var$g.toString, $10f2f5626d5b2085$var$m = $10f2f5626d5b2085$var$p || function(e) {\n    return \"[object Array]\" === $10f2f5626d5b2085$var$v.call(e);\n}, $10f2f5626d5b2085$var$y = function(e) {\n    return \"function\" == typeof e;\n}, $10f2f5626d5b2085$var$b = function(e) {\n    return e === Object(e) && !$10f2f5626d5b2085$var$m(e);\n}, $10f2f5626d5b2085$var$w = function(e) {\n    if ($10f2f5626d5b2085$var$b(e)) {\n        for(const t in e)if ($10f2f5626d5b2085$var$f.call(e, t)) return !1;\n        return !0;\n    }\n    return !1;\n}, $10f2f5626d5b2085$var$S = function(e) {\n    return void 0 === e;\n}, $10f2f5626d5b2085$var$E = function(e) {\n    return \"[object String]\" == $10f2f5626d5b2085$var$v.call(e);\n}, $10f2f5626d5b2085$var$k = function(e) {\n    return $10f2f5626d5b2085$var$E(e) && 0 === e.trim().length;\n}, $10f2f5626d5b2085$var$x = function(e) {\n    return null === e;\n}, $10f2f5626d5b2085$var$I = function(e) {\n    return $10f2f5626d5b2085$var$S(e) || $10f2f5626d5b2085$var$x(e);\n}, $10f2f5626d5b2085$var$R = function(e) {\n    return \"[object Number]\" == $10f2f5626d5b2085$var$v.call(e);\n}, $10f2f5626d5b2085$var$P = function(e) {\n    return \"[object Boolean]\" === $10f2f5626d5b2085$var$v.call(e);\n}, $10f2f5626d5b2085$var$F = (e)=>e instanceof FormData, $10f2f5626d5b2085$var$C = \"[PostHog.js]\", $10f2f5626d5b2085$var$T = {\n    _log: function(t) {\n        if ($10f2f5626d5b2085$var$e && ($10f2f5626d5b2085$var$_.DEBUG || $10f2f5626d5b2085$var$h.POSTHOG_DEBUG) && !$10f2f5626d5b2085$var$S($10f2f5626d5b2085$var$e.console) && $10f2f5626d5b2085$var$e.console) {\n            const r = \"__rrweb_original__\" in $10f2f5626d5b2085$var$e.console[t] ? $10f2f5626d5b2085$var$e.console[t].__rrweb_original__ : $10f2f5626d5b2085$var$e.console[t];\n            for(var i = arguments.length, s = new Array(i > 1 ? i - 1 : 0), n = 1; n < i; n++)s[n - 1] = arguments[n];\n            r($10f2f5626d5b2085$var$C, ...s);\n        }\n    },\n    info: function() {\n        for(var e = arguments.length, t = new Array(e), i = 0; i < e; i++)t[i] = arguments[i];\n        $10f2f5626d5b2085$var$T._log(\"log\", ...t);\n    },\n    warn: function() {\n        for(var e = arguments.length, t = new Array(e), i = 0; i < e; i++)t[i] = arguments[i];\n        $10f2f5626d5b2085$var$T._log(\"warn\", ...t);\n    },\n    error: function() {\n        for(var e = arguments.length, t = new Array(e), i = 0; i < e; i++)t[i] = arguments[i];\n        $10f2f5626d5b2085$var$T._log(\"error\", ...t);\n    },\n    critical: function() {\n        for(var e = arguments.length, t = new Array(e), i = 0; i < e; i++)t[i] = arguments[i];\n        console.error($10f2f5626d5b2085$var$C, ...t);\n    },\n    uninitializedWarning: (e)=>{\n        $10f2f5626d5b2085$var$T.error(`You must initialize PostHog before calling ${e}`);\n    }\n}, $10f2f5626d5b2085$var$$ = (e, t, i)=>{\n    if (e.config.disable_external_dependency_loading) return $10f2f5626d5b2085$var$T.warn(`${t} was requested but loading of external scripts is disabled.`), i(\"Loading of external scripts is disabled\");\n    const s = ()=>{\n        if (!$10f2f5626d5b2085$var$o) return i(\"document not found\");\n        const e = $10f2f5626d5b2085$var$o.createElement(\"script\");\n        e.type = \"text/javascript\", e.crossOrigin = \"anonymous\", e.src = t, e.onload = (e)=>i(void 0, e), e.onerror = (e)=>i(e);\n        const s = $10f2f5626d5b2085$var$o.querySelectorAll(\"body > script\");\n        var n;\n        s.length > 0 ? null === (n = s[0].parentNode) || void 0 === n || n.insertBefore(e, s[0]) : $10f2f5626d5b2085$var$o.body.appendChild(e);\n    };\n    null != $10f2f5626d5b2085$var$o && $10f2f5626d5b2085$var$o.body ? s() : null == $10f2f5626d5b2085$var$o || $10f2f5626d5b2085$var$o.addEventListener(\"DOMContentLoaded\", s);\n};\n$10f2f5626d5b2085$var$h.__PosthogExtensions__ = $10f2f5626d5b2085$var$h.__PosthogExtensions__ || {}, $10f2f5626d5b2085$var$h.__PosthogExtensions__.loadExternalDependency = (e, t, i)=>{\n    let s = `/static/${t}.js?v=${e.version}`;\n    if (\"toolbar\" === t) {\n        const e = 3e5;\n        s = `${s}&t=${Math.floor(Date.now() / e) * e}`;\n    }\n    const n = e.requestRouter.endpointFor(\"assets\", s);\n    $10f2f5626d5b2085$var$$(e, n, i);\n}, $10f2f5626d5b2085$var$h.__PosthogExtensions__.loadSiteApp = (e, t, i)=>{\n    const s = e.requestRouter.endpointFor(\"api\", t);\n    $10f2f5626d5b2085$var$$(e, s, i);\n};\nconst $10f2f5626d5b2085$var$A = {}, $10f2f5626d5b2085$var$M = function(e) {\n    return e.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, \"\");\n};\nfunction $10f2f5626d5b2085$var$L(e, t, i) {\n    if ($10f2f5626d5b2085$var$m(e)) {\n        if ($10f2f5626d5b2085$var$s && e.forEach === $10f2f5626d5b2085$var$s) e.forEach(t, i);\n        else if (\"length\" in e && e.length === +e.length) {\n            for(let s = 0, n = e.length; s < n; s++)if (s in e && t.call(i, e[s], s) === $10f2f5626d5b2085$var$A) return;\n        }\n    }\n}\nfunction $10f2f5626d5b2085$var$D(e, t, i) {\n    if (!$10f2f5626d5b2085$var$I(e)) {\n        if ($10f2f5626d5b2085$var$m(e)) return $10f2f5626d5b2085$var$L(e, t, i);\n        if ($10f2f5626d5b2085$var$F(e)) {\n            for (const s of e.entries())if (t.call(i, s[1], s[0]) === $10f2f5626d5b2085$var$A) return;\n        } else for(const s in e)if ($10f2f5626d5b2085$var$f.call(e, s) && t.call(i, e[s], s) === $10f2f5626d5b2085$var$A) return;\n    }\n}\nconst $10f2f5626d5b2085$var$O = function(e) {\n    for(var t = arguments.length, i = new Array(t > 1 ? t - 1 : 0), s = 1; s < t; s++)i[s - 1] = arguments[s];\n    return $10f2f5626d5b2085$var$L(i, function(t) {\n        for(const i in t)void 0 !== t[i] && (e[i] = t[i]);\n    }), e;\n};\nfunction $10f2f5626d5b2085$var$N(e, t) {\n    return -1 !== e.indexOf(t);\n}\nfunction $10f2f5626d5b2085$var$q(e) {\n    const t = Object.keys(e);\n    let i = t.length;\n    const s = new Array(i);\n    for(; i--;)s[i] = [\n        t[i],\n        e[t[i]]\n    ];\n    return s;\n}\nconst $10f2f5626d5b2085$var$B = function(e) {\n    try {\n        return e();\n    } catch  {\n        return;\n    }\n}, $10f2f5626d5b2085$var$H = function(e) {\n    return function() {\n        try {\n            for(var t = arguments.length, i = new Array(t), s = 0; s < t; s++)i[s] = arguments[s];\n            return e.apply(this, i);\n        } catch (e) {\n            $10f2f5626d5b2085$var$T.critical(\"Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A.\"), $10f2f5626d5b2085$var$T.critical(e);\n        }\n    };\n}, $10f2f5626d5b2085$var$U = function(e) {\n    const t = {};\n    return $10f2f5626d5b2085$var$D(e, function(e, i) {\n        $10f2f5626d5b2085$var$E(e) && e.length > 0 && (t[i] = e);\n    }), t;\n}, $10f2f5626d5b2085$var$W = function(e) {\n    return e.replace(/^\\$/, \"\");\n};\nfunction $10f2f5626d5b2085$var$z(e, t) {\n    return function(e, t) {\n        const i = new Set;\n        return function e(s, n) {\n            if (s !== Object(s)) return t ? t(s, n) : s;\n            if (i.has(s)) return;\n            let r;\n            return i.add(s), $10f2f5626d5b2085$var$m(s) ? (r = [], $10f2f5626d5b2085$var$L(s, (t)=>{\n                r.push(e(t));\n            })) : (r = {}, $10f2f5626d5b2085$var$D(s, (t, s)=>{\n                i.has(t) || (r[s] = e(t, s));\n            })), r;\n        }(e);\n    }(e, (e)=>$10f2f5626d5b2085$var$E(e) && !$10f2f5626d5b2085$var$x(t) ? e.slice(0, t) : e);\n}\nconst $10f2f5626d5b2085$var$V = function(e) {\n    let t, i, s, n = \"\", r = 0;\n    for(t = i = 0, r = (e = (e + \"\").replace(/\\r\\n/g, \"\\n\").replace(/\\r/g, \"\\n\")).length, s = 0; s < r; s++){\n        const r = e.charCodeAt(s);\n        let o = null;\n        r < 128 ? i++ : o = r > 127 && r < 2048 ? String.fromCharCode(r >> 6 | 192, 63 & r | 128) : String.fromCharCode(r >> 12 | 224, r >> 6 & 63 | 128, 63 & r | 128), $10f2f5626d5b2085$var$x(o) || (i > t && (n += e.substring(t, i)), n += o, t = i = s + 1);\n    }\n    return i > t && (n += e.substring(t, e.length)), n;\n}, $10f2f5626d5b2085$var$G = function() {\n    function t(e) {\n        return e && (e.preventDefault = t.preventDefault, e.stopPropagation = t.stopPropagation), e;\n    }\n    return t.preventDefault = function() {\n        this.returnValue = !1;\n    }, t.stopPropagation = function() {\n        this.cancelBubble = !0;\n    }, function(i, s, n, r, o) {\n        if (i) {\n            if (i.addEventListener && !r) i.addEventListener(s, n, !!o);\n            else {\n                const r = \"on\" + s, o = i[r];\n                i[r] = function(i, s, n) {\n                    return function(r) {\n                        if (!(r = r || t(null == $10f2f5626d5b2085$var$e ? void 0 : $10f2f5626d5b2085$var$e.event))) return;\n                        let o, a = !0;\n                        $10f2f5626d5b2085$var$y(n) && (o = n(r));\n                        const l = s.call(i, r);\n                        return !1 !== o && !1 !== l || (a = !1), a;\n                    };\n                }(i, n, o);\n            }\n        } else $10f2f5626d5b2085$var$T.error(\"No valid element provided to register_event\");\n    };\n}();\nfunction $10f2f5626d5b2085$var$j(e) {\n    const t = null == e ? void 0 : e.hostname;\n    return !!$10f2f5626d5b2085$var$E(t) && \"herokuapp.com\" !== t.split(\".\").slice(-2).join(\".\");\n}\nfunction $10f2f5626d5b2085$var$Q(e, t) {\n    for(let i = 0; i < e.length; i++)if (t(e[i])) return e[i];\n}\nlet $10f2f5626d5b2085$export$6a00d17b5aff0af;\n!function(e) {\n    e.GZipJS = \"gzip-js\", e.Base64 = \"base64\";\n}($10f2f5626d5b2085$export$6a00d17b5aff0af || ($10f2f5626d5b2085$export$6a00d17b5aff0af = {}));\nconst $10f2f5626d5b2085$export$9dd8f6ec3b5e6004 = [\n    \"fatal\",\n    \"error\",\n    \"warning\",\n    \"log\",\n    \"info\",\n    \"debug\"\n], $10f2f5626d5b2085$var$X = \"$people_distinct_id\", $10f2f5626d5b2085$var$K = \"__alias\", $10f2f5626d5b2085$var$Z = \"__timers\", $10f2f5626d5b2085$var$ee = \"$autocapture_disabled_server_side\", $10f2f5626d5b2085$var$te = \"$heatmaps_enabled_server_side\", $10f2f5626d5b2085$var$ie = \"$exception_capture_enabled_server_side\", $10f2f5626d5b2085$var$se = \"$exception_capture_endpoint_suffix\", $10f2f5626d5b2085$var$ne = \"$web_vitals_enabled_server_side\", $10f2f5626d5b2085$var$re = \"$dead_clicks_enabled_server_side\", $10f2f5626d5b2085$var$oe = \"$web_vitals_allowed_metrics\", $10f2f5626d5b2085$var$ae = \"$session_recording_enabled_server_side\", $10f2f5626d5b2085$var$le = \"$console_log_recording_enabled_server_side\", $10f2f5626d5b2085$var$ce = \"$session_recording_network_payload_capture\", $10f2f5626d5b2085$var$ue = \"$session_recording_canvas_recording\", $10f2f5626d5b2085$var$de = \"$replay_sample_rate\", $10f2f5626d5b2085$var$he = \"$replay_minimum_duration\", $10f2f5626d5b2085$var$_e = \"$sesid\", $10f2f5626d5b2085$var$pe = \"$session_is_sampled\", $10f2f5626d5b2085$var$ge = \"$session_recording_url_trigger_activated_session\", $10f2f5626d5b2085$var$fe = \"$session_recording_event_trigger_activated_session\", $10f2f5626d5b2085$var$ve = \"$enabled_feature_flags\", $10f2f5626d5b2085$var$me = \"$early_access_features\", $10f2f5626d5b2085$var$ye = \"$stored_person_properties\", $10f2f5626d5b2085$var$be = \"$stored_group_properties\", $10f2f5626d5b2085$var$we = \"$surveys\", $10f2f5626d5b2085$var$Se = \"$surveys_activated\", $10f2f5626d5b2085$var$Ee = \"$flag_call_reported\", $10f2f5626d5b2085$var$ke = \"$user_state\", $10f2f5626d5b2085$var$xe = \"$client_session_props\", $10f2f5626d5b2085$var$Ie = \"$capture_rate_limit\", $10f2f5626d5b2085$var$Re = \"$initial_campaign_params\", $10f2f5626d5b2085$var$Pe = \"$initial_referrer_info\", $10f2f5626d5b2085$var$Fe = \"$initial_person_info\", $10f2f5626d5b2085$var$Ce = \"$epp\", $10f2f5626d5b2085$var$Te = \"__POSTHOG_TOOLBAR__\", $10f2f5626d5b2085$var$$e = [\n    $10f2f5626d5b2085$var$X,\n    $10f2f5626d5b2085$var$K,\n    \"__cmpns\",\n    $10f2f5626d5b2085$var$Z,\n    $10f2f5626d5b2085$var$ae,\n    $10f2f5626d5b2085$var$te,\n    $10f2f5626d5b2085$var$_e,\n    $10f2f5626d5b2085$var$ve,\n    $10f2f5626d5b2085$var$ke,\n    $10f2f5626d5b2085$var$me,\n    $10f2f5626d5b2085$var$be,\n    $10f2f5626d5b2085$var$ye,\n    $10f2f5626d5b2085$var$we,\n    $10f2f5626d5b2085$var$Ee,\n    $10f2f5626d5b2085$var$xe,\n    $10f2f5626d5b2085$var$Ie,\n    $10f2f5626d5b2085$var$Re,\n    $10f2f5626d5b2085$var$Pe,\n    $10f2f5626d5b2085$var$Ce\n], $10f2f5626d5b2085$var$Ae = \"$active_feature_flags\", $10f2f5626d5b2085$var$Me = \"$override_feature_flags\", $10f2f5626d5b2085$var$Le = \"$feature_flag_payloads\", $10f2f5626d5b2085$var$De = (e)=>{\n    const t = {};\n    for (const [i, s] of $10f2f5626d5b2085$var$q(e || {}))s && (t[i] = s);\n    return t;\n};\nclass $10f2f5626d5b2085$var$Oe {\n    constructor(e){\n        this.instance = e, this._override_warning = !1, this.featureFlagEventHandlers = [], this.reloadFeatureFlagsQueued = !1, this.reloadFeatureFlagsInAction = !1;\n    }\n    getFlags() {\n        return Object.keys(this.getFlagVariants());\n    }\n    getFlagVariants() {\n        const e = this.instance.get_property($10f2f5626d5b2085$var$ve), t = this.instance.get_property($10f2f5626d5b2085$var$Me);\n        if (!t) return e || {};\n        const i = $10f2f5626d5b2085$var$O({}, e), s = Object.keys(t);\n        for(let e = 0; e < s.length; e++)i[s[e]] = t[s[e]];\n        return this._override_warning || ($10f2f5626d5b2085$var$T.warn(\" Overriding feature flags!\", {\n            enabledFlags: e,\n            overriddenFlags: t,\n            finalFlags: i\n        }), this._override_warning = !0), i;\n    }\n    getFlagPayloads() {\n        return this.instance.get_property($10f2f5626d5b2085$var$Le) || {};\n    }\n    reloadFeatureFlags() {\n        this.reloadFeatureFlagsQueued || (this.reloadFeatureFlagsQueued = !0, this._startReloadTimer());\n    }\n    setAnonymousDistinctId(e) {\n        this.$anon_distinct_id = e;\n    }\n    setReloadingPaused(e) {\n        this.reloadFeatureFlagsInAction = e;\n    }\n    resetRequestQueue() {\n        this.reloadFeatureFlagsQueued = !1;\n    }\n    _startReloadTimer() {\n        this.reloadFeatureFlagsQueued && !this.reloadFeatureFlagsInAction && setTimeout(()=>{\n            !this.reloadFeatureFlagsInAction && this.reloadFeatureFlagsQueued && (this.reloadFeatureFlagsQueued = !1, this._reloadFeatureFlagsRequest());\n        }, 5);\n    }\n    _reloadFeatureFlagsRequest() {\n        if (this.instance.config.advanced_disable_feature_flags) return;\n        this.setReloadingPaused(!0);\n        const e = this.instance.config.token, t = this.instance.get_property($10f2f5626d5b2085$var$ye), i = this.instance.get_property($10f2f5626d5b2085$var$be), s = {\n            token: e,\n            distinct_id: this.instance.get_distinct_id(),\n            groups: this.instance.getGroups(),\n            $anon_distinct_id: this.$anon_distinct_id,\n            person_properties: t,\n            group_properties: i,\n            disable_flags: this.instance.config.advanced_disable_feature_flags || void 0\n        };\n        this.instance._send_request({\n            method: \"POST\",\n            url: this.instance.requestRouter.endpointFor(\"api\", \"/decide/?v=3\"),\n            data: s,\n            compression: this.instance.config.disable_compression ? void 0 : $10f2f5626d5b2085$export$6a00d17b5aff0af.Base64,\n            timeout: this.instance.config.feature_flag_request_timeout_ms,\n            callback: (e)=>{\n                var t;\n                this.setReloadingPaused(!1);\n                let i = !0;\n                200 === e.statusCode && (this.$anon_distinct_id = void 0, i = !1), this.receivedFeatureFlags(null !== (t = e.json) && void 0 !== t ? t : {}, i), this._startReloadTimer();\n            }\n        });\n    }\n    getFeatureFlag(e) {\n        let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n        if (!(this.instance.decideEndpointWasHit || this.getFlags() && this.getFlags().length > 0)) return void $10f2f5626d5b2085$var$T.warn('getFeatureFlag for key \"' + e + \"\\\" failed. Feature flags didn't load in time.\");\n        const i = this.getFlagVariants()[e], s = `${i}`, n = this.instance.get_property($10f2f5626d5b2085$var$Ee) || {};\n        var r;\n        !t.send_event && \"send_event\" in t || e in n && n[e].includes(s) || ($10f2f5626d5b2085$var$m(n[e]) ? n[e].push(s) : n[e] = [\n            s\n        ], null === (r = this.instance.persistence) || void 0 === r || r.register({\n            [$10f2f5626d5b2085$var$Ee]: n\n        }), this.instance.capture(\"$feature_flag_called\", {\n            $feature_flag: e,\n            $feature_flag_response: i\n        }));\n        return i;\n    }\n    getFeatureFlagPayload(e) {\n        return this.getFlagPayloads()[e];\n    }\n    isFeatureEnabled(e) {\n        let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n        if (this.instance.decideEndpointWasHit || this.getFlags() && this.getFlags().length > 0) return !!this.getFeatureFlag(e, t);\n        $10f2f5626d5b2085$var$T.warn('isFeatureEnabled for key \"' + e + \"\\\" failed. Feature flags didn't load in time.\");\n    }\n    addFeatureFlagsHandler(e) {\n        this.featureFlagEventHandlers.push(e);\n    }\n    removeFeatureFlagsHandler(e) {\n        this.featureFlagEventHandlers = this.featureFlagEventHandlers.filter((t)=>t !== e);\n    }\n    receivedFeatureFlags(e, t) {\n        if (!this.instance.persistence) return;\n        this.instance.decideEndpointWasHit = !0;\n        const i = this.getFlagVariants(), s = this.getFlagPayloads();\n        !function(e, t) {\n            let i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, s = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {};\n            const n = e.featureFlags, r = e.featureFlagPayloads;\n            if (!n) return;\n            if ($10f2f5626d5b2085$var$m(n)) {\n                const e = {};\n                if (n) for(let t = 0; t < n.length; t++)e[n[t]] = !0;\n                return void (t && t.register({\n                    [$10f2f5626d5b2085$var$Ae]: n,\n                    [$10f2f5626d5b2085$var$ve]: e\n                }));\n            }\n            let o = n, a = r;\n            e.errorsWhileComputingFlags && (o = {\n                ...i,\n                ...o\n            }, a = {\n                ...s,\n                ...a\n            }), t && t.register({\n                [$10f2f5626d5b2085$var$Ae]: Object.keys($10f2f5626d5b2085$var$De(o)),\n                [$10f2f5626d5b2085$var$ve]: o || {},\n                [$10f2f5626d5b2085$var$Le]: a || {}\n            });\n        }(e, this.instance.persistence, i, s), this._fireFeatureFlagsCallbacks(t);\n    }\n    override(e) {\n        let t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];\n        if (!this.instance.__loaded || !this.instance.persistence) return $10f2f5626d5b2085$var$T.uninitializedWarning(\"posthog.feature_flags.override\");\n        if (this._override_warning = t, !1 === e) this.instance.persistence.unregister($10f2f5626d5b2085$var$Me);\n        else if ($10f2f5626d5b2085$var$m(e)) {\n            const t = {};\n            for(let i = 0; i < e.length; i++)t[e[i]] = !0;\n            this.instance.persistence.register({\n                [$10f2f5626d5b2085$var$Me]: t\n            });\n        } else this.instance.persistence.register({\n            [$10f2f5626d5b2085$var$Me]: e\n        });\n    }\n    onFeatureFlags(e) {\n        if (this.addFeatureFlagsHandler(e), this.instance.decideEndpointWasHit) {\n            const { flags: t, flagVariants: i } = this._prepareFeatureFlagsForCallbacks();\n            e(t, i);\n        }\n        return ()=>this.removeFeatureFlagsHandler(e);\n    }\n    updateEarlyAccessFeatureEnrollment(e, t) {\n        var i;\n        const s = {\n            [`$feature_enrollment/${e}`]: t\n        };\n        this.instance.capture(\"$feature_enrollment_update\", {\n            $feature_flag: e,\n            $feature_enrollment: t,\n            $set: s\n        }), this.setPersonPropertiesForFlags(s, !1);\n        const n = {\n            ...this.getFlagVariants(),\n            [e]: t\n        };\n        null === (i = this.instance.persistence) || void 0 === i || i.register({\n            [$10f2f5626d5b2085$var$Ae]: Object.keys($10f2f5626d5b2085$var$De(n)),\n            [$10f2f5626d5b2085$var$ve]: n\n        }), this._fireFeatureFlagsCallbacks();\n    }\n    getEarlyAccessFeatures(e) {\n        let t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];\n        const i = this.instance.get_property($10f2f5626d5b2085$var$me);\n        if (i && !t) return e(i);\n        this.instance._send_request({\n            transport: \"XHR\",\n            url: this.instance.requestRouter.endpointFor(\"api\", `/api/early_access_features/?token=${this.instance.config.token}`),\n            method: \"GET\",\n            callback: (t)=>{\n                var i;\n                if (!t.json) return;\n                const s = t.json.earlyAccessFeatures;\n                return null === (i = this.instance.persistence) || void 0 === i || i.register({\n                    [$10f2f5626d5b2085$var$me]: s\n                }), e(s);\n            }\n        });\n    }\n    _prepareFeatureFlagsForCallbacks() {\n        const e = this.getFlags(), t = this.getFlagVariants();\n        return {\n            flags: e.filter((e)=>t[e]),\n            flagVariants: Object.keys(t).filter((e)=>t[e]).reduce((e, i)=>(e[i] = t[i], e), {})\n        };\n    }\n    _fireFeatureFlagsCallbacks(e) {\n        const { flags: t, flagVariants: i } = this._prepareFeatureFlagsForCallbacks();\n        this.featureFlagEventHandlers.forEach((s)=>s(t, i, {\n                errorsLoading: e\n            }));\n    }\n    setPersonPropertiesForFlags(e) {\n        let t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];\n        const i = this.instance.get_property($10f2f5626d5b2085$var$ye) || {};\n        this.instance.register({\n            [$10f2f5626d5b2085$var$ye]: {\n                ...i,\n                ...e\n            }\n        }), t && this.instance.reloadFeatureFlags();\n    }\n    resetPersonPropertiesForFlags() {\n        this.instance.unregister($10f2f5626d5b2085$var$ye);\n    }\n    setGroupPropertiesForFlags(e) {\n        let t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];\n        const i = this.instance.get_property($10f2f5626d5b2085$var$be) || {};\n        0 !== Object.keys(i).length && Object.keys(i).forEach((t)=>{\n            i[t] = {\n                ...i[t],\n                ...e[t]\n            }, delete e[t];\n        }), this.instance.register({\n            [$10f2f5626d5b2085$var$be]: {\n                ...i,\n                ...e\n            }\n        }), t && this.instance.reloadFeatureFlags();\n    }\n    resetGroupPropertiesForFlags(e) {\n        if (e) {\n            const t = this.instance.get_property($10f2f5626d5b2085$var$be) || {};\n            this.instance.register({\n                [$10f2f5626d5b2085$var$be]: {\n                    ...t,\n                    [e]: {}\n                }\n            });\n        } else this.instance.unregister($10f2f5626d5b2085$var$be);\n    }\n}\n/**\n * uuidv7: An experimental implementation of the proposed UUID Version 7\n *\n * @license Apache-2.0\n * @copyright 2021-2023 LiosK\n * @packageDocumentation\n *\n * from https://github.com/LiosK/uuidv7/blob/e501462ea3d23241de13192ceae726956f9b3b7d/src/index.ts\n */ Math.trunc || (Math.trunc = function(e) {\n    return e < 0 ? Math.ceil(e) : Math.floor(e);\n}), Number.isInteger || (Number.isInteger = function(e) {\n    return $10f2f5626d5b2085$var$R(e) && isFinite(e) && Math.floor(e) === e;\n});\nconst $10f2f5626d5b2085$var$Ne = \"0123456789abcdef\";\nclass $10f2f5626d5b2085$var$qe {\n    constructor(e){\n        if (this.bytes = e, 16 !== e.length) throw new TypeError(\"not 128-bit length\");\n    }\n    static fromFieldsV7(e, t, i, s) {\n        if (!Number.isInteger(e) || !Number.isInteger(t) || !Number.isInteger(i) || !Number.isInteger(s) || e < 0 || t < 0 || i < 0 || s < 0 || e > 0xffffffffffff || t > 4095 || i > 1073741823 || s > 4294967295) throw new RangeError(\"invalid field value\");\n        const n = new Uint8Array(16);\n        return n[0] = e / 2 ** 40, n[1] = e / 2 ** 32, n[2] = e / 2 ** 24, n[3] = e / 65536, n[4] = e / 256, n[5] = e, n[6] = 112 | t >>> 8, n[7] = t, n[8] = 128 | i >>> 24, n[9] = i >>> 16, n[10] = i >>> 8, n[11] = i, n[12] = s >>> 24, n[13] = s >>> 16, n[14] = s >>> 8, n[15] = s, new $10f2f5626d5b2085$var$qe(n);\n    }\n    toString() {\n        let e = \"\";\n        for(let t = 0; t < this.bytes.length; t++)e = e + $10f2f5626d5b2085$var$Ne.charAt(this.bytes[t] >>> 4) + $10f2f5626d5b2085$var$Ne.charAt(15 & this.bytes[t]), 3 !== t && 5 !== t && 7 !== t && 9 !== t || (e += \"-\");\n        if (36 !== e.length) throw new Error(\"Invalid UUIDv7 was generated\");\n        return e;\n    }\n    clone() {\n        return new $10f2f5626d5b2085$var$qe(this.bytes.slice(0));\n    }\n    equals(e) {\n        return 0 === this.compareTo(e);\n    }\n    compareTo(e) {\n        for(let t = 0; t < 16; t++){\n            const i = this.bytes[t] - e.bytes[t];\n            if (0 !== i) return Math.sign(i);\n        }\n        return 0;\n    }\n}\nclass $10f2f5626d5b2085$var$Be {\n    timestamp = 0;\n    counter = 0;\n    random = new $10f2f5626d5b2085$var$We;\n    generate() {\n        const e = this.generateOrAbort();\n        if ($10f2f5626d5b2085$var$S(e)) {\n            this.timestamp = 0;\n            const e = this.generateOrAbort();\n            if ($10f2f5626d5b2085$var$S(e)) throw new Error(\"Could not generate UUID after timestamp reset\");\n            return e;\n        }\n        return e;\n    }\n    generateOrAbort() {\n        const e = Date.now();\n        if (e > this.timestamp) this.timestamp = e, this.resetCounter();\n        else {\n            if (!(e + 1e4 > this.timestamp)) return;\n            this.counter++, this.counter > 4398046511103 && (this.timestamp++, this.resetCounter());\n        }\n        return $10f2f5626d5b2085$var$qe.fromFieldsV7(this.timestamp, Math.trunc(this.counter / 2 ** 30), this.counter & 2 ** 30 - 1, this.random.nextUint32());\n    }\n    resetCounter() {\n        this.counter = 1024 * this.random.nextUint32() + (1023 & this.random.nextUint32());\n    }\n}\nlet $10f2f5626d5b2085$var$He, $10f2f5626d5b2085$var$Ue = (e)=>{\n    if (\"undefined\" != typeof UUIDV7_DENY_WEAK_RNG && UUIDV7_DENY_WEAK_RNG) throw new Error(\"no cryptographically strong RNG available\");\n    for(let t = 0; t < e.length; t++)e[t] = 65536 * Math.trunc(65536 * Math.random()) + Math.trunc(65536 * Math.random());\n    return e;\n};\n$10f2f5626d5b2085$var$e && !$10f2f5626d5b2085$var$S($10f2f5626d5b2085$var$e.crypto) && crypto.getRandomValues && ($10f2f5626d5b2085$var$Ue = (e)=>crypto.getRandomValues(e));\nclass $10f2f5626d5b2085$var$We {\n    buffer = new Uint32Array(8);\n    cursor = 1 / 0;\n    nextUint32() {\n        return this.cursor >= this.buffer.length && ($10f2f5626d5b2085$var$Ue(this.buffer), this.cursor = 0), this.buffer[this.cursor++];\n    }\n}\nconst $10f2f5626d5b2085$var$ze = ()=>$10f2f5626d5b2085$var$Ve().toString(), $10f2f5626d5b2085$var$Ve = ()=>($10f2f5626d5b2085$var$He || ($10f2f5626d5b2085$var$He = new $10f2f5626d5b2085$var$Be)).generate(), $10f2f5626d5b2085$var$Ge = \"Thu, 01 Jan 1970 00:00:00 GMT\";\nlet $10f2f5626d5b2085$var$je = \"\";\nconst $10f2f5626d5b2085$var$Qe = /[a-z0-9][a-z0-9-]+\\.[a-z]{2,}$/i;\nfunction $10f2f5626d5b2085$var$Je(e, t) {\n    if (t) {\n        let t = function(e) {\n            let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : $10f2f5626d5b2085$var$o;\n            if ($10f2f5626d5b2085$var$je) return $10f2f5626d5b2085$var$je;\n            if (!t) return \"\";\n            if ([\n                \"localhost\",\n                \"127.0.0.1\"\n            ].includes(e)) return \"\";\n            const i = e.split(\".\");\n            let s = Math.min(i.length, 8);\n            const n = \"dmn_chk_\" + $10f2f5626d5b2085$var$ze(), r = new RegExp(\"(^|;)\\\\s*\" + n + \"=1\");\n            for(; !$10f2f5626d5b2085$var$je && s--;){\n                const e = i.slice(s).join(\".\"), o = n + \"=1;domain=.\" + e;\n                t.cookie = o, r.test(t.cookie) && (t.cookie = o + \";expires=\" + $10f2f5626d5b2085$var$Ge, $10f2f5626d5b2085$var$je = e);\n            }\n            return $10f2f5626d5b2085$var$je;\n        }(e);\n        if (!t) {\n            const i = ((e)=>{\n                const t = e.match($10f2f5626d5b2085$var$Qe);\n                return t ? t[0] : \"\";\n            })(e);\n            i !== t && $10f2f5626d5b2085$var$T.info(\"Warning: cookie subdomain discovery mismatch\", i, t), t = i;\n        }\n        return t ? \"; domain=.\" + t : \"\";\n    }\n    return \"\";\n}\nconst $10f2f5626d5b2085$var$Ye = {\n    is_supported: ()=>!!$10f2f5626d5b2085$var$o,\n    error: function(e) {\n        $10f2f5626d5b2085$var$T.error(\"cookieStore error: \" + e);\n    },\n    get: function(e) {\n        if ($10f2f5626d5b2085$var$o) {\n            try {\n                const t = e + \"=\", i = $10f2f5626d5b2085$var$o.cookie.split(\";\").filter((e)=>e.length);\n                for(let e = 0; e < i.length; e++){\n                    let s = i[e];\n                    for(; \" \" == s.charAt(0);)s = s.substring(1, s.length);\n                    if (0 === s.indexOf(t)) return decodeURIComponent(s.substring(t.length, s.length));\n                }\n            } catch  {}\n            return null;\n        }\n    },\n    parse: function(e) {\n        let t;\n        try {\n            t = JSON.parse($10f2f5626d5b2085$var$Ye.get(e)) || {};\n        } catch  {}\n        return t;\n    },\n    set: function(e, t, i, s, n) {\n        if ($10f2f5626d5b2085$var$o) try {\n            let r = \"\", a = \"\";\n            const l = $10f2f5626d5b2085$var$Je($10f2f5626d5b2085$var$o.location.hostname, s);\n            if (i) {\n                const e = new Date;\n                e.setTime(e.getTime() + 24 * i * 3600000), r = \"; expires=\" + e.toUTCString();\n            }\n            n && (a = \"; secure\");\n            const c = e + \"=\" + encodeURIComponent(JSON.stringify(t)) + r + \"; SameSite=Lax; path=/\" + l + a;\n            return c.length > 3686.4 && $10f2f5626d5b2085$var$T.warn(\"cookieStore warning: large cookie, len=\" + c.length), $10f2f5626d5b2085$var$o.cookie = c, c;\n        } catch  {\n            return;\n        }\n    },\n    remove: function(e, t) {\n        try {\n            $10f2f5626d5b2085$var$Ye.set(e, \"\", -1, t);\n        } catch  {\n            return;\n        }\n    }\n};\nlet $10f2f5626d5b2085$var$Xe = null;\nconst $10f2f5626d5b2085$var$Ke = {\n    is_supported: function() {\n        if (!$10f2f5626d5b2085$var$x($10f2f5626d5b2085$var$Xe)) return $10f2f5626d5b2085$var$Xe;\n        let t = !0;\n        if ($10f2f5626d5b2085$var$S($10f2f5626d5b2085$var$e)) t = !1;\n        else try {\n            const e = \"__mplssupport__\", i = \"xyz\";\n            $10f2f5626d5b2085$var$Ke.set(e, i), '\"xyz\"' !== $10f2f5626d5b2085$var$Ke.get(e) && (t = !1), $10f2f5626d5b2085$var$Ke.remove(e);\n        } catch  {\n            t = !1;\n        }\n        return t || $10f2f5626d5b2085$var$T.error(\"localStorage unsupported; falling back to cookie store\"), $10f2f5626d5b2085$var$Xe = t, t;\n    },\n    error: function(e) {\n        $10f2f5626d5b2085$var$T.error(\"localStorage error: \" + e);\n    },\n    get: function(t) {\n        try {\n            return null == $10f2f5626d5b2085$var$e ? void 0 : $10f2f5626d5b2085$var$e.localStorage.getItem(t);\n        } catch (e) {\n            $10f2f5626d5b2085$var$Ke.error(e);\n        }\n        return null;\n    },\n    parse: function(e) {\n        try {\n            return JSON.parse($10f2f5626d5b2085$var$Ke.get(e)) || {};\n        } catch  {}\n        return null;\n    },\n    set: function(t, i) {\n        try {\n            null == $10f2f5626d5b2085$var$e || $10f2f5626d5b2085$var$e.localStorage.setItem(t, JSON.stringify(i));\n        } catch (e) {\n            $10f2f5626d5b2085$var$Ke.error(e);\n        }\n    },\n    remove: function(t) {\n        try {\n            null == $10f2f5626d5b2085$var$e || $10f2f5626d5b2085$var$e.localStorage.removeItem(t);\n        } catch (e) {\n            $10f2f5626d5b2085$var$Ke.error(e);\n        }\n    }\n}, $10f2f5626d5b2085$var$Ze = [\n    \"distinct_id\",\n    $10f2f5626d5b2085$var$_e,\n    $10f2f5626d5b2085$var$pe,\n    $10f2f5626d5b2085$var$Ce\n], $10f2f5626d5b2085$var$et = {\n    ...$10f2f5626d5b2085$var$Ke,\n    parse: function(e) {\n        try {\n            let t = {};\n            try {\n                t = $10f2f5626d5b2085$var$Ye.parse(e) || {};\n            } catch  {}\n            const i = $10f2f5626d5b2085$var$O(t, JSON.parse($10f2f5626d5b2085$var$Ke.get(e) || \"{}\"));\n            return $10f2f5626d5b2085$var$Ke.set(e, i), i;\n        } catch  {}\n        return null;\n    },\n    set: function(e, t, i, s, n, r) {\n        try {\n            $10f2f5626d5b2085$var$Ke.set(e, t, void 0, void 0, r);\n            const o = {};\n            $10f2f5626d5b2085$var$Ze.forEach((e)=>{\n                t[e] && (o[e] = t[e]);\n            }), Object.keys(o).length && $10f2f5626d5b2085$var$Ye.set(e, o, i, s, n, r);\n        } catch (e) {\n            $10f2f5626d5b2085$var$Ke.error(e);\n        }\n    },\n    remove: function(t, i) {\n        try {\n            null == $10f2f5626d5b2085$var$e || $10f2f5626d5b2085$var$e.localStorage.removeItem(t), $10f2f5626d5b2085$var$Ye.remove(t, i);\n        } catch (e) {\n            $10f2f5626d5b2085$var$Ke.error(e);\n        }\n    }\n}, $10f2f5626d5b2085$var$tt = {}, $10f2f5626d5b2085$var$it = {\n    is_supported: function() {\n        return !0;\n    },\n    error: function(e) {\n        $10f2f5626d5b2085$var$T.error(\"memoryStorage error: \" + e);\n    },\n    get: function(e) {\n        return $10f2f5626d5b2085$var$tt[e] || null;\n    },\n    parse: function(e) {\n        return $10f2f5626d5b2085$var$tt[e] || null;\n    },\n    set: function(e, t) {\n        $10f2f5626d5b2085$var$tt[e] = t;\n    },\n    remove: function(e) {\n        delete $10f2f5626d5b2085$var$tt[e];\n    }\n};\nlet $10f2f5626d5b2085$var$st = null;\nconst $10f2f5626d5b2085$var$nt = {\n    is_supported: function() {\n        if (!$10f2f5626d5b2085$var$x($10f2f5626d5b2085$var$st)) return $10f2f5626d5b2085$var$st;\n        if ($10f2f5626d5b2085$var$st = !0, $10f2f5626d5b2085$var$S($10f2f5626d5b2085$var$e)) $10f2f5626d5b2085$var$st = !1;\n        else try {\n            const e = \"__support__\", t = \"xyz\";\n            $10f2f5626d5b2085$var$nt.set(e, t), '\"xyz\"' !== $10f2f5626d5b2085$var$nt.get(e) && ($10f2f5626d5b2085$var$st = !1), $10f2f5626d5b2085$var$nt.remove(e);\n        } catch  {\n            $10f2f5626d5b2085$var$st = !1;\n        }\n        return $10f2f5626d5b2085$var$st;\n    },\n    error: function(e) {\n        $10f2f5626d5b2085$var$T.error(\"sessionStorage error: \", e);\n    },\n    get: function(t) {\n        try {\n            return null == $10f2f5626d5b2085$var$e ? void 0 : $10f2f5626d5b2085$var$e.sessionStorage.getItem(t);\n        } catch (e) {\n            $10f2f5626d5b2085$var$nt.error(e);\n        }\n        return null;\n    },\n    parse: function(e) {\n        try {\n            return JSON.parse($10f2f5626d5b2085$var$nt.get(e)) || null;\n        } catch  {}\n        return null;\n    },\n    set: function(t, i) {\n        try {\n            null == $10f2f5626d5b2085$var$e || $10f2f5626d5b2085$var$e.sessionStorage.setItem(t, JSON.stringify(i));\n        } catch (e) {\n            $10f2f5626d5b2085$var$nt.error(e);\n        }\n    },\n    remove: function(t) {\n        try {\n            null == $10f2f5626d5b2085$var$e || $10f2f5626d5b2085$var$e.sessionStorage.removeItem(t);\n        } catch (e) {\n            $10f2f5626d5b2085$var$nt.error(e);\n        }\n    }\n}, $10f2f5626d5b2085$var$rt = [\n    \"localhost\",\n    \"127.0.0.1\"\n], $10f2f5626d5b2085$var$ot = (e)=>{\n    const t = null == $10f2f5626d5b2085$var$o ? void 0 : $10f2f5626d5b2085$var$o.createElement(\"a\");\n    return $10f2f5626d5b2085$var$S(t) ? null : (t.href = e, t);\n}, $10f2f5626d5b2085$var$at = function(e, t) {\n    return !!function(e) {\n        try {\n            new RegExp(e);\n        } catch  {\n            return !1;\n        }\n        return !0;\n    }(t) && new RegExp(t).test(e);\n}, $10f2f5626d5b2085$var$lt = function(e) {\n    let t, i, s = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"&\";\n    const n = [];\n    return $10f2f5626d5b2085$var$D(e, function(e, s) {\n        $10f2f5626d5b2085$var$S(e) || $10f2f5626d5b2085$var$S(s) || \"undefined\" === s || (t = encodeURIComponent(((e)=>e instanceof File)(e) ? e.name : e.toString()), i = encodeURIComponent(s), n[n.length] = i + \"=\" + t);\n    }), n.join(s);\n}, $10f2f5626d5b2085$var$ct = function(e, t) {\n    const i = ((e.split(\"#\")[0] || \"\").split(\"?\")[1] || \"\").split(\"&\");\n    let s;\n    for(let e = 0; e < i.length; e++){\n        const n = i[e].split(\"=\");\n        if (n[0] === t) {\n            s = n;\n            break;\n        }\n    }\n    if (!$10f2f5626d5b2085$var$m(s) || s.length < 2) return \"\";\n    {\n        let e = s[1];\n        try {\n            e = decodeURIComponent(e);\n        } catch  {\n            $10f2f5626d5b2085$var$T.error(\"Skipping decoding for malformed query param: \" + e);\n        }\n        return e.replace(/\\+/g, \" \");\n    }\n}, $10f2f5626d5b2085$var$ut = function(e, t) {\n    const i = e.match(new RegExp(t + \"=([^&]*)\"));\n    return i ? i[1] : null;\n}, $10f2f5626d5b2085$var$dt = \"Mobile\", $10f2f5626d5b2085$var$ht = \"iOS\", $10f2f5626d5b2085$var$_t = \"Android\", $10f2f5626d5b2085$var$pt = \"Tablet\", $10f2f5626d5b2085$var$gt = $10f2f5626d5b2085$var$_t + \" \" + $10f2f5626d5b2085$var$pt, $10f2f5626d5b2085$var$ft = \"iPad\", $10f2f5626d5b2085$var$vt = \"Apple\", $10f2f5626d5b2085$var$mt = $10f2f5626d5b2085$var$vt + \" Watch\", $10f2f5626d5b2085$var$yt = \"Safari\", $10f2f5626d5b2085$var$bt = \"BlackBerry\", $10f2f5626d5b2085$var$wt = \"Samsung\", $10f2f5626d5b2085$var$St = $10f2f5626d5b2085$var$wt + \"Browser\", $10f2f5626d5b2085$var$Et = $10f2f5626d5b2085$var$wt + \" Internet\", $10f2f5626d5b2085$var$kt = \"Chrome\", $10f2f5626d5b2085$var$xt = $10f2f5626d5b2085$var$kt + \" OS\", $10f2f5626d5b2085$var$It = $10f2f5626d5b2085$var$kt + \" \" + $10f2f5626d5b2085$var$ht, $10f2f5626d5b2085$var$Rt = \"Internet Explorer\", $10f2f5626d5b2085$var$Pt = $10f2f5626d5b2085$var$Rt + \" \" + $10f2f5626d5b2085$var$dt, $10f2f5626d5b2085$var$Ft = \"Opera\", $10f2f5626d5b2085$var$Ct = $10f2f5626d5b2085$var$Ft + \" Mini\", $10f2f5626d5b2085$var$Tt = \"Edge\", $10f2f5626d5b2085$var$$t = \"Microsoft \" + $10f2f5626d5b2085$var$Tt, $10f2f5626d5b2085$var$At = \"Firefox\", $10f2f5626d5b2085$var$Mt = $10f2f5626d5b2085$var$At + \" \" + $10f2f5626d5b2085$var$ht, $10f2f5626d5b2085$var$Lt = \"Nintendo\", $10f2f5626d5b2085$var$Dt = \"PlayStation\", $10f2f5626d5b2085$var$Ot = \"Xbox\", $10f2f5626d5b2085$var$Nt = $10f2f5626d5b2085$var$_t + \" \" + $10f2f5626d5b2085$var$dt, $10f2f5626d5b2085$var$qt = $10f2f5626d5b2085$var$dt + \" \" + $10f2f5626d5b2085$var$yt, $10f2f5626d5b2085$var$Bt = \"Windows\", $10f2f5626d5b2085$var$Ht = $10f2f5626d5b2085$var$Bt + \" Phone\", $10f2f5626d5b2085$var$Ut = \"Nokia\", $10f2f5626d5b2085$var$Wt = \"Ouya\", $10f2f5626d5b2085$var$zt = \"Generic\", $10f2f5626d5b2085$var$Vt = $10f2f5626d5b2085$var$zt + \" \" + $10f2f5626d5b2085$var$dt.toLowerCase(), $10f2f5626d5b2085$var$Gt = $10f2f5626d5b2085$var$zt + \" \" + $10f2f5626d5b2085$var$pt.toLowerCase(), $10f2f5626d5b2085$var$jt = \"Konqueror\", $10f2f5626d5b2085$var$Qt = \"(\\\\d+(\\\\.\\\\d+)?)\", $10f2f5626d5b2085$var$Jt = new RegExp(\"Version/\" + $10f2f5626d5b2085$var$Qt), $10f2f5626d5b2085$var$Yt = new RegExp($10f2f5626d5b2085$var$Ot, \"i\"), $10f2f5626d5b2085$var$Xt = new RegExp($10f2f5626d5b2085$var$Dt + \" \\\\w+\", \"i\"), $10f2f5626d5b2085$var$Kt = new RegExp($10f2f5626d5b2085$var$Lt + \" \\\\w+\", \"i\"), $10f2f5626d5b2085$var$Zt = new RegExp($10f2f5626d5b2085$var$bt + \"|PlayBook|BB10\", \"i\"), $10f2f5626d5b2085$var$ei = {\n    \"NT3.51\": \"NT 3.11\",\n    \"NT4.0\": \"NT 4.0\",\n    \"5.0\": \"2000\",\n    5.1: \"XP\",\n    5.2: \"XP\",\n    \"6.0\": \"Vista\",\n    6.1: \"7\",\n    6.2: \"8\",\n    6.3: \"8.1\",\n    6.4: \"10\",\n    \"10.0\": \"10\"\n};\nconst $10f2f5626d5b2085$var$ti = (e, t)=>t && $10f2f5626d5b2085$var$N(t, $10f2f5626d5b2085$var$vt) || function(e) {\n        return $10f2f5626d5b2085$var$N(e, $10f2f5626d5b2085$var$yt) && !$10f2f5626d5b2085$var$N(e, $10f2f5626d5b2085$var$kt) && !$10f2f5626d5b2085$var$N(e, $10f2f5626d5b2085$var$_t);\n    }(e), $10f2f5626d5b2085$var$ii = function(e, t) {\n    return t = t || \"\", $10f2f5626d5b2085$var$N(e, \" OPR/\") && $10f2f5626d5b2085$var$N(e, \"Mini\") ? $10f2f5626d5b2085$var$Ct : $10f2f5626d5b2085$var$N(e, \" OPR/\") ? $10f2f5626d5b2085$var$Ft : $10f2f5626d5b2085$var$Zt.test(e) ? $10f2f5626d5b2085$var$bt : $10f2f5626d5b2085$var$N(e, \"IE\" + $10f2f5626d5b2085$var$dt) || $10f2f5626d5b2085$var$N(e, \"WPDesktop\") ? $10f2f5626d5b2085$var$Pt : $10f2f5626d5b2085$var$N(e, $10f2f5626d5b2085$var$St) ? $10f2f5626d5b2085$var$Et : $10f2f5626d5b2085$var$N(e, $10f2f5626d5b2085$var$Tt) || $10f2f5626d5b2085$var$N(e, \"Edg/\") ? $10f2f5626d5b2085$var$$t : $10f2f5626d5b2085$var$N(e, \"FBIOS\") ? \"Facebook \" + $10f2f5626d5b2085$var$dt : $10f2f5626d5b2085$var$N(e, \"UCWEB\") || $10f2f5626d5b2085$var$N(e, \"UCBrowser\") ? \"UC Browser\" : $10f2f5626d5b2085$var$N(e, \"CriOS\") ? $10f2f5626d5b2085$var$It : $10f2f5626d5b2085$var$N(e, \"CrMo\") ? $10f2f5626d5b2085$var$kt : $10f2f5626d5b2085$var$N(e, $10f2f5626d5b2085$var$_t) && $10f2f5626d5b2085$var$N(e, $10f2f5626d5b2085$var$yt) ? $10f2f5626d5b2085$var$Nt : $10f2f5626d5b2085$var$N(e, $10f2f5626d5b2085$var$kt) ? $10f2f5626d5b2085$var$kt : $10f2f5626d5b2085$var$N(e, \"FxiOS\") ? $10f2f5626d5b2085$var$Mt : $10f2f5626d5b2085$var$N(e.toLowerCase(), $10f2f5626d5b2085$var$jt.toLowerCase()) ? $10f2f5626d5b2085$var$jt : $10f2f5626d5b2085$var$ti(e, t) ? $10f2f5626d5b2085$var$N(e, $10f2f5626d5b2085$var$dt) ? $10f2f5626d5b2085$var$qt : $10f2f5626d5b2085$var$yt : $10f2f5626d5b2085$var$N(e, $10f2f5626d5b2085$var$At) ? $10f2f5626d5b2085$var$At : $10f2f5626d5b2085$var$N(e, \"MSIE\") || $10f2f5626d5b2085$var$N(e, \"Trident/\") ? $10f2f5626d5b2085$var$Rt : $10f2f5626d5b2085$var$N(e, \"Gecko\") ? $10f2f5626d5b2085$var$At : \"\";\n}, $10f2f5626d5b2085$var$si = {\n    [$10f2f5626d5b2085$var$Pt]: [\n        new RegExp(\"rv:\" + $10f2f5626d5b2085$var$Qt)\n    ],\n    [$10f2f5626d5b2085$var$$t]: [\n        new RegExp($10f2f5626d5b2085$var$Tt + \"?\\\\/\" + $10f2f5626d5b2085$var$Qt)\n    ],\n    [$10f2f5626d5b2085$var$kt]: [\n        new RegExp(\"(\" + $10f2f5626d5b2085$var$kt + \"|CrMo)\\\\/\" + $10f2f5626d5b2085$var$Qt)\n    ],\n    [$10f2f5626d5b2085$var$It]: [\n        new RegExp(\"CriOS\\\\/\" + $10f2f5626d5b2085$var$Qt)\n    ],\n    \"UC Browser\": [\n        new RegExp(\"(UCBrowser|UCWEB)\\\\/\" + $10f2f5626d5b2085$var$Qt)\n    ],\n    [$10f2f5626d5b2085$var$yt]: [\n        $10f2f5626d5b2085$var$Jt\n    ],\n    [$10f2f5626d5b2085$var$qt]: [\n        $10f2f5626d5b2085$var$Jt\n    ],\n    [$10f2f5626d5b2085$var$Ft]: [\n        new RegExp(\"(Opera|OPR)\\\\/\" + $10f2f5626d5b2085$var$Qt)\n    ],\n    [$10f2f5626d5b2085$var$At]: [\n        new RegExp($10f2f5626d5b2085$var$At + \"\\\\/\" + $10f2f5626d5b2085$var$Qt)\n    ],\n    [$10f2f5626d5b2085$var$Mt]: [\n        new RegExp(\"FxiOS\\\\/\" + $10f2f5626d5b2085$var$Qt)\n    ],\n    [$10f2f5626d5b2085$var$jt]: [\n        new RegExp(\"Konqueror[:/]?\" + $10f2f5626d5b2085$var$Qt, \"i\")\n    ],\n    [$10f2f5626d5b2085$var$bt]: [\n        new RegExp($10f2f5626d5b2085$var$bt + \" \" + $10f2f5626d5b2085$var$Qt),\n        $10f2f5626d5b2085$var$Jt\n    ],\n    [$10f2f5626d5b2085$var$Nt]: [\n        new RegExp(\"android\\\\s\" + $10f2f5626d5b2085$var$Qt, \"i\")\n    ],\n    [$10f2f5626d5b2085$var$Et]: [\n        new RegExp($10f2f5626d5b2085$var$St + \"\\\\/\" + $10f2f5626d5b2085$var$Qt)\n    ],\n    [$10f2f5626d5b2085$var$Rt]: [\n        new RegExp(\"(rv:|MSIE )\" + $10f2f5626d5b2085$var$Qt)\n    ],\n    Mozilla: [\n        new RegExp(\"rv:\" + $10f2f5626d5b2085$var$Qt)\n    ]\n}, $10f2f5626d5b2085$var$ni = [\n    [\n        new RegExp($10f2f5626d5b2085$var$Ot + \"; \" + $10f2f5626d5b2085$var$Ot + \" (.*?)[);]\", \"i\"),\n        (e)=>[\n                $10f2f5626d5b2085$var$Ot,\n                e && e[1] || \"\"\n            ]\n    ],\n    [\n        new RegExp($10f2f5626d5b2085$var$Lt, \"i\"),\n        [\n            $10f2f5626d5b2085$var$Lt,\n            \"\"\n        ]\n    ],\n    [\n        new RegExp($10f2f5626d5b2085$var$Dt, \"i\"),\n        [\n            $10f2f5626d5b2085$var$Dt,\n            \"\"\n        ]\n    ],\n    [\n        $10f2f5626d5b2085$var$Zt,\n        [\n            $10f2f5626d5b2085$var$bt,\n            \"\"\n        ]\n    ],\n    [\n        new RegExp($10f2f5626d5b2085$var$Bt, \"i\"),\n        (e, t)=>{\n            if (/Phone/.test(t) || /WPDesktop/.test(t)) return [\n                $10f2f5626d5b2085$var$Ht,\n                \"\"\n            ];\n            if (new RegExp($10f2f5626d5b2085$var$dt).test(t) && !/IEMobile\\b/.test(t)) return [\n                $10f2f5626d5b2085$var$Bt + \" \" + $10f2f5626d5b2085$var$dt,\n                \"\"\n            ];\n            const i = /Windows NT ([0-9.]+)/i.exec(t);\n            if (i && i[1]) {\n                const e = i[1];\n                let s = $10f2f5626d5b2085$var$ei[e] || \"\";\n                return /arm/i.test(t) && (s = \"RT\"), [\n                    $10f2f5626d5b2085$var$Bt,\n                    s\n                ];\n            }\n            return [\n                $10f2f5626d5b2085$var$Bt,\n                \"\"\n            ];\n        }\n    ],\n    [\n        /((iPhone|iPad|iPod).*?OS (\\d+)_(\\d+)_?(\\d+)?|iPhone)/,\n        (e)=>{\n            if (e && e[3]) {\n                const t = [\n                    e[3],\n                    e[4],\n                    e[5] || \"0\"\n                ];\n                return [\n                    $10f2f5626d5b2085$var$ht,\n                    t.join(\".\")\n                ];\n            }\n            return [\n                $10f2f5626d5b2085$var$ht,\n                \"\"\n            ];\n        }\n    ],\n    [\n        /(watch.*\\/(\\d+\\.\\d+\\.\\d+)|watch os,(\\d+\\.\\d+),)/i,\n        (e)=>{\n            let t = \"\";\n            return e && e.length >= 3 && (t = $10f2f5626d5b2085$var$S(e[2]) ? e[3] : e[2]), [\n                \"watchOS\",\n                t\n            ];\n        }\n    ],\n    [\n        new RegExp(\"(\" + $10f2f5626d5b2085$var$_t + \" (\\\\d+)\\\\.(\\\\d+)\\\\.?(\\\\d+)?|\" + $10f2f5626d5b2085$var$_t + \")\", \"i\"),\n        (e)=>{\n            if (e && e[2]) {\n                const t = [\n                    e[2],\n                    e[3],\n                    e[4] || \"0\"\n                ];\n                return [\n                    $10f2f5626d5b2085$var$_t,\n                    t.join(\".\")\n                ];\n            }\n            return [\n                $10f2f5626d5b2085$var$_t,\n                \"\"\n            ];\n        }\n    ],\n    [\n        /Mac OS X (\\d+)[_.](\\d+)[_.]?(\\d+)?/i,\n        (e)=>{\n            const t = [\n                \"Mac OS X\",\n                \"\"\n            ];\n            if (e && e[1]) {\n                const i = [\n                    e[1],\n                    e[2],\n                    e[3] || \"0\"\n                ];\n                t[1] = i.join(\".\");\n            }\n            return t;\n        }\n    ],\n    [\n        /Mac/i,\n        [\n            \"Mac OS X\",\n            \"\"\n        ]\n    ],\n    [\n        /CrOS/,\n        [\n            $10f2f5626d5b2085$var$xt,\n            \"\"\n        ]\n    ],\n    [\n        /Linux|debian/i,\n        [\n            \"Linux\",\n            \"\"\n        ]\n    ]\n], $10f2f5626d5b2085$var$ri = function(e) {\n    return $10f2f5626d5b2085$var$Kt.test(e) ? $10f2f5626d5b2085$var$Lt : $10f2f5626d5b2085$var$Xt.test(e) ? $10f2f5626d5b2085$var$Dt : $10f2f5626d5b2085$var$Yt.test(e) ? $10f2f5626d5b2085$var$Ot : new RegExp($10f2f5626d5b2085$var$Wt, \"i\").test(e) ? $10f2f5626d5b2085$var$Wt : new RegExp(\"(\" + $10f2f5626d5b2085$var$Ht + \"|WPDesktop)\", \"i\").test(e) ? $10f2f5626d5b2085$var$Ht : /iPad/.test(e) ? $10f2f5626d5b2085$var$ft : /iPod/.test(e) ? \"iPod Touch\" : /iPhone/.test(e) ? \"iPhone\" : /(watch)(?: ?os[,/]|\\d,\\d\\/)[\\d.]+/i.test(e) ? $10f2f5626d5b2085$var$mt : $10f2f5626d5b2085$var$Zt.test(e) ? $10f2f5626d5b2085$var$bt : /(kobo)\\s(ereader|touch)/i.test(e) ? \"Kobo\" : new RegExp($10f2f5626d5b2085$var$Ut, \"i\").test(e) ? $10f2f5626d5b2085$var$Ut : /(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\\))/i.test(e) || /(kf[a-z]+)( bui|\\)).+silk\\//i.test(e) ? \"Kindle Fire\" : /(Android|ZTE)/i.test(e) ? !new RegExp($10f2f5626d5b2085$var$dt).test(e) || /(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e) ? /pixel[\\daxl ]{1,6}/i.test(e) && !/pixel c/i.test(e) || /(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e) || /lmy47v/i.test(e) && !/QTAQZ3/i.test(e) ? $10f2f5626d5b2085$var$_t : $10f2f5626d5b2085$var$gt : $10f2f5626d5b2085$var$_t : new RegExp(\"(pda|\" + $10f2f5626d5b2085$var$dt + \")\", \"i\").test(e) ? $10f2f5626d5b2085$var$Vt : new RegExp($10f2f5626d5b2085$var$pt, \"i\").test(e) && !new RegExp($10f2f5626d5b2085$var$pt + \" pc\", \"i\").test(e) ? $10f2f5626d5b2085$var$Gt : \"\";\n}, $10f2f5626d5b2085$var$oi = \"https?://(.*)\", $10f2f5626d5b2085$var$ai = [\n    \"utm_source\",\n    \"utm_medium\",\n    \"utm_campaign\",\n    \"utm_content\",\n    \"utm_term\",\n    \"gclid\",\n    \"gad_source\",\n    \"gclsrc\",\n    \"dclid\",\n    \"gbraid\",\n    \"wbraid\",\n    \"fbclid\",\n    \"msclkid\",\n    \"twclid\",\n    \"li_fat_id\",\n    \"mc_cid\",\n    \"igshid\",\n    \"ttclid\",\n    \"rdt_cid\"\n], $10f2f5626d5b2085$var$li = {\n    campaignParams: function(e) {\n        return $10f2f5626d5b2085$var$o ? this._campaignParamsFromUrl($10f2f5626d5b2085$var$o.URL, e) : {};\n    },\n    _campaignParamsFromUrl: function(e, t) {\n        const i = $10f2f5626d5b2085$var$ai.concat(t || []), s = {};\n        return $10f2f5626d5b2085$var$D(i, function(t) {\n            const i = $10f2f5626d5b2085$var$ct(e, t);\n            s[t] = i || null;\n        }), s;\n    },\n    _searchEngine: function(e) {\n        return e ? 0 === e.search($10f2f5626d5b2085$var$oi + \"google.([^/?]*)\") ? \"google\" : 0 === e.search($10f2f5626d5b2085$var$oi + \"bing.com\") ? \"bing\" : 0 === e.search($10f2f5626d5b2085$var$oi + \"yahoo.com\") ? \"yahoo\" : 0 === e.search($10f2f5626d5b2085$var$oi + \"duckduckgo.com\") ? \"duckduckgo\" : null : null;\n    },\n    _searchInfoFromReferrer: function(e) {\n        const t = $10f2f5626d5b2085$var$li._searchEngine(e), i = \"yahoo\" != t ? \"q\" : \"p\", s = {};\n        if (!$10f2f5626d5b2085$var$x(t)) {\n            s.$search_engine = t;\n            const e = $10f2f5626d5b2085$var$o ? $10f2f5626d5b2085$var$ct($10f2f5626d5b2085$var$o.referrer, i) : \"\";\n            e.length && (s.ph_keyword = e);\n        }\n        return s;\n    },\n    searchInfo: function() {\n        const e = null == $10f2f5626d5b2085$var$o ? void 0 : $10f2f5626d5b2085$var$o.referrer;\n        return e ? this._searchInfoFromReferrer(e) : {};\n    },\n    browser: $10f2f5626d5b2085$var$ii,\n    browserVersion: function(e, t) {\n        const i = $10f2f5626d5b2085$var$ii(e, t), s = $10f2f5626d5b2085$var$si[i];\n        if ($10f2f5626d5b2085$var$S(s)) return null;\n        for(let t = 0; t < s.length; t++){\n            const i = s[t], n = e.match(i);\n            if (n) return parseFloat(n[n.length - 2]);\n        }\n        return null;\n    },\n    browserLanguage: function() {\n        return navigator.language || navigator.userLanguage;\n    },\n    os: function(e) {\n        for(let t = 0; t < $10f2f5626d5b2085$var$ni.length; t++){\n            const [i, s] = $10f2f5626d5b2085$var$ni[t], n = i.exec(e), r = n && ($10f2f5626d5b2085$var$y(s) ? s(n, e) : s);\n            if (r) return r;\n        }\n        return [\n            \"\",\n            \"\"\n        ];\n    },\n    device: $10f2f5626d5b2085$var$ri,\n    deviceType: function(e) {\n        const t = $10f2f5626d5b2085$var$ri(e);\n        return t === $10f2f5626d5b2085$var$ft || t === $10f2f5626d5b2085$var$gt || \"Kobo\" === t || \"Kindle Fire\" === t || t === $10f2f5626d5b2085$var$Gt ? $10f2f5626d5b2085$var$pt : t === $10f2f5626d5b2085$var$Lt || t === $10f2f5626d5b2085$var$Ot || t === $10f2f5626d5b2085$var$Dt || t === $10f2f5626d5b2085$var$Wt ? \"Console\" : t === $10f2f5626d5b2085$var$mt ? \"Wearable\" : t ? $10f2f5626d5b2085$var$dt : \"Desktop\";\n    },\n    referrer: function() {\n        return (null == $10f2f5626d5b2085$var$o ? void 0 : $10f2f5626d5b2085$var$o.referrer) || \"$direct\";\n    },\n    referringDomain: function() {\n        var e;\n        return null != $10f2f5626d5b2085$var$o && $10f2f5626d5b2085$var$o.referrer && (null === (e = $10f2f5626d5b2085$var$ot($10f2f5626d5b2085$var$o.referrer)) || void 0 === e ? void 0 : e.host) || \"$direct\";\n    },\n    referrerInfo: function() {\n        return {\n            $referrer: this.referrer(),\n            $referring_domain: this.referringDomain()\n        };\n    },\n    initialPersonInfo: function() {\n        return {\n            r: this.referrer(),\n            u: null == $10f2f5626d5b2085$var$a ? void 0 : $10f2f5626d5b2085$var$a.href\n        };\n    },\n    initialPersonPropsFromInfo: function(e) {\n        var t;\n        const { r: i, u: s } = e, n = {\n            $initial_referrer: i,\n            $initial_referring_domain: null == i ? void 0 : \"$direct\" == i ? \"$direct\" : null === (t = $10f2f5626d5b2085$var$ot(i)) || void 0 === t ? void 0 : t.host\n        };\n        if (s) {\n            n.$initial_current_url = s;\n            const e = $10f2f5626d5b2085$var$ot(s);\n            n.$initial_host = null == e ? void 0 : e.host, n.$initial_pathname = null == e ? void 0 : e.pathname;\n            $10f2f5626d5b2085$var$D(this._campaignParamsFromUrl(s), function(e, t) {\n                n[\"$initial_\" + $10f2f5626d5b2085$var$W(t)] = e;\n            });\n        }\n        if (i) $10f2f5626d5b2085$var$D(this._searchInfoFromReferrer(i), function(e, t) {\n            n[\"$initial_\" + $10f2f5626d5b2085$var$W(t)] = e;\n        });\n        return n;\n    },\n    timezone: function() {\n        try {\n            return Intl.DateTimeFormat().resolvedOptions().timeZone;\n        } catch  {\n            return;\n        }\n    },\n    properties: function() {\n        if (!$10f2f5626d5b2085$var$d) return {};\n        const [t, i] = $10f2f5626d5b2085$var$li.os($10f2f5626d5b2085$var$d);\n        return $10f2f5626d5b2085$var$O($10f2f5626d5b2085$var$U({\n            $os: t,\n            $os_version: i,\n            $browser: $10f2f5626d5b2085$var$li.browser($10f2f5626d5b2085$var$d, navigator.vendor),\n            $device: $10f2f5626d5b2085$var$li.device($10f2f5626d5b2085$var$d),\n            $device_type: $10f2f5626d5b2085$var$li.deviceType($10f2f5626d5b2085$var$d),\n            $timezone: $10f2f5626d5b2085$var$li.timezone()\n        }), {\n            $current_url: null == $10f2f5626d5b2085$var$a ? void 0 : $10f2f5626d5b2085$var$a.href,\n            $host: null == $10f2f5626d5b2085$var$a ? void 0 : $10f2f5626d5b2085$var$a.host,\n            $pathname: null == $10f2f5626d5b2085$var$a ? void 0 : $10f2f5626d5b2085$var$a.pathname,\n            $raw_user_agent: $10f2f5626d5b2085$var$d.length > 1e3 ? $10f2f5626d5b2085$var$d.substring(0, 997) + \"...\" : $10f2f5626d5b2085$var$d,\n            $browser_version: $10f2f5626d5b2085$var$li.browserVersion($10f2f5626d5b2085$var$d, navigator.vendor),\n            $browser_language: $10f2f5626d5b2085$var$li.browserLanguage(),\n            $screen_height: null == $10f2f5626d5b2085$var$e ? void 0 : $10f2f5626d5b2085$var$e.screen.height,\n            $screen_width: null == $10f2f5626d5b2085$var$e ? void 0 : $10f2f5626d5b2085$var$e.screen.width,\n            $viewport_height: null == $10f2f5626d5b2085$var$e ? void 0 : $10f2f5626d5b2085$var$e.innerHeight,\n            $viewport_width: null == $10f2f5626d5b2085$var$e ? void 0 : $10f2f5626d5b2085$var$e.innerWidth,\n            $lib: \"web\",\n            $lib_version: $10f2f5626d5b2085$var$_.LIB_VERSION,\n            $insert_id: Math.random().toString(36).substring(2, 10) + Math.random().toString(36).substring(2, 10),\n            $time: Date.now() / 1e3\n        });\n    },\n    people_properties: function() {\n        if (!$10f2f5626d5b2085$var$d) return {};\n        const [e, t] = $10f2f5626d5b2085$var$li.os($10f2f5626d5b2085$var$d);\n        return $10f2f5626d5b2085$var$O($10f2f5626d5b2085$var$U({\n            $os: e,\n            $os_version: t,\n            $browser: $10f2f5626d5b2085$var$li.browser($10f2f5626d5b2085$var$d, navigator.vendor)\n        }), {\n            $browser_version: $10f2f5626d5b2085$var$li.browserVersion($10f2f5626d5b2085$var$d, navigator.vendor)\n        });\n    }\n}, $10f2f5626d5b2085$var$ci = [\n    \"cookie\",\n    \"localstorage\",\n    \"localstorage+cookie\",\n    \"sessionstorage\",\n    \"memory\"\n];\nclass $10f2f5626d5b2085$var$ui {\n    constructor(e){\n        this.config = e, this.props = {}, this.campaign_params_saved = !1, this.name = ((e)=>{\n            let t = \"\";\n            return e.token && (t = e.token.replace(/\\+/g, \"PL\").replace(/\\//g, \"SL\").replace(/=/g, \"EQ\")), e.persistence_name ? \"ph_\" + e.persistence_name : \"ph_\" + t + \"_posthog\";\n        })(e), this.storage = this.buildStorage(e), this.load(), e.debug && $10f2f5626d5b2085$var$T.info(\"Persistence loaded\", e.persistence, {\n            ...this.props\n        }), this.update_config(e, e), this.save();\n    }\n    buildStorage(e) {\n        let t;\n        -1 === $10f2f5626d5b2085$var$ci.indexOf(e.persistence.toLowerCase()) && ($10f2f5626d5b2085$var$T.critical(\"Unknown persistence type \" + e.persistence + \"; falling back to localStorage+cookie\"), e.persistence = \"localStorage+cookie\");\n        const i = e.persistence.toLowerCase();\n        return t = \"localstorage\" === i && $10f2f5626d5b2085$var$Ke.is_supported() ? $10f2f5626d5b2085$var$Ke : \"localstorage+cookie\" === i && $10f2f5626d5b2085$var$et.is_supported() ? $10f2f5626d5b2085$var$et : \"sessionstorage\" === i && $10f2f5626d5b2085$var$nt.is_supported() ? $10f2f5626d5b2085$var$nt : \"memory\" === i ? $10f2f5626d5b2085$var$it : \"cookie\" === i ? $10f2f5626d5b2085$var$Ye : $10f2f5626d5b2085$var$et.is_supported() ? $10f2f5626d5b2085$var$et : $10f2f5626d5b2085$var$Ye, t;\n    }\n    properties() {\n        const e = {};\n        return $10f2f5626d5b2085$var$D(this.props, function(t, i) {\n            if (i === $10f2f5626d5b2085$var$ve && $10f2f5626d5b2085$var$b(t)) {\n                const i = Object.keys(t);\n                for(let s = 0; s < i.length; s++)e[`$feature/${i[s]}`] = t[i[s]];\n            } else (function(e, t) {\n                let i = !1;\n                return $10f2f5626d5b2085$var$x(e) ? i : $10f2f5626d5b2085$var$n && e.indexOf === $10f2f5626d5b2085$var$n ? -1 != e.indexOf(t) : ($10f2f5626d5b2085$var$D(e, function(e) {\n                    if (i || (i = e === t)) return $10f2f5626d5b2085$var$A;\n                }), i);\n            })($10f2f5626d5b2085$var$$e, i) || (e[i] = t);\n        }), e;\n    }\n    load() {\n        if (this.disabled) return;\n        const e = this.storage.parse(this.name);\n        e && (this.props = $10f2f5626d5b2085$var$O({}, e));\n    }\n    save() {\n        this.disabled || this.storage.set(this.name, this.props, this.expire_days, this.cross_subdomain, this.secure, this.config.debug);\n    }\n    remove() {\n        this.storage.remove(this.name, !1), this.storage.remove(this.name, !0);\n    }\n    clear() {\n        this.remove(), this.props = {};\n    }\n    register_once(e, t, i) {\n        if ($10f2f5626d5b2085$var$b(e)) {\n            $10f2f5626d5b2085$var$S(t) && (t = \"None\"), this.expire_days = $10f2f5626d5b2085$var$S(i) ? this.default_expiry : i;\n            let s = !1;\n            if ($10f2f5626d5b2085$var$D(e, (e, i)=>{\n                this.props.hasOwnProperty(i) && this.props[i] !== t || (this.props[i] = e, s = !0);\n            }), s) return this.save(), !0;\n        }\n        return !1;\n    }\n    register(e, t) {\n        if ($10f2f5626d5b2085$var$b(e)) {\n            this.expire_days = $10f2f5626d5b2085$var$S(t) ? this.default_expiry : t;\n            let i = !1;\n            if ($10f2f5626d5b2085$var$D(e, (t, s)=>{\n                e.hasOwnProperty(s) && this.props[s] !== t && (this.props[s] = t, i = !0);\n            }), i) return this.save(), !0;\n        }\n        return !1;\n    }\n    unregister(e) {\n        e in this.props && (delete this.props[e], this.save());\n    }\n    update_campaign_params() {\n        if (!this.campaign_params_saved) {\n            const e = $10f2f5626d5b2085$var$li.campaignParams(this.config.custom_campaign_params);\n            $10f2f5626d5b2085$var$w($10f2f5626d5b2085$var$U(e)) || this.register($10f2f5626d5b2085$var$li.campaignParams(this.config.custom_campaign_params)), this.campaign_params_saved = !0;\n        }\n    }\n    update_search_keyword() {\n        this.register($10f2f5626d5b2085$var$li.searchInfo());\n    }\n    update_referrer_info() {\n        this.register_once($10f2f5626d5b2085$var$li.referrerInfo(), void 0);\n    }\n    set_initial_person_info() {\n        this.props[$10f2f5626d5b2085$var$Re] || this.props[$10f2f5626d5b2085$var$Pe] || this.register_once({\n            [$10f2f5626d5b2085$var$Fe]: $10f2f5626d5b2085$var$li.initialPersonInfo()\n        }, void 0);\n    }\n    get_referrer_info() {\n        return $10f2f5626d5b2085$var$U({\n            $referrer: this.props.$referrer,\n            $referring_domain: this.props.$referring_domain\n        });\n    }\n    get_initial_props() {\n        const e = {};\n        $10f2f5626d5b2085$var$D([\n            $10f2f5626d5b2085$var$Pe,\n            $10f2f5626d5b2085$var$Re\n        ], (t)=>{\n            const i = this.props[t];\n            i && $10f2f5626d5b2085$var$D(i, function(t, i) {\n                e[\"$initial_\" + $10f2f5626d5b2085$var$W(i)] = t;\n            });\n        });\n        const t = this.props[$10f2f5626d5b2085$var$Fe];\n        if (t) {\n            const i = $10f2f5626d5b2085$var$li.initialPersonPropsFromInfo(t);\n            $10f2f5626d5b2085$var$O(e, i);\n        }\n        return e;\n    }\n    safe_merge(e) {\n        return $10f2f5626d5b2085$var$D(this.props, function(t, i) {\n            i in e || (e[i] = t);\n        }), e;\n    }\n    update_config(e, t) {\n        if (this.default_expiry = this.expire_days = e.cookie_expiration, this.set_disabled(e.disable_persistence), this.set_cross_subdomain(e.cross_subdomain_cookie), this.set_secure(e.secure_cookie), e.persistence !== t.persistence) {\n            const t = this.buildStorage(e), i = this.props;\n            this.clear(), this.storage = t, this.props = i, this.save();\n        }\n    }\n    set_disabled(e) {\n        this.disabled = e, this.disabled ? this.remove() : this.save();\n    }\n    set_cross_subdomain(e) {\n        e !== this.cross_subdomain && (this.cross_subdomain = e, this.remove(), this.save());\n    }\n    get_cross_subdomain() {\n        return !!this.cross_subdomain;\n    }\n    set_secure(e) {\n        e !== this.secure && (this.secure = e, this.remove(), this.save());\n    }\n    set_event_timer(e, t) {\n        const i = this.props[$10f2f5626d5b2085$var$Z] || {};\n        i[e] = t, this.props[$10f2f5626d5b2085$var$Z] = i, this.save();\n    }\n    remove_event_timer(e) {\n        const t = (this.props[$10f2f5626d5b2085$var$Z] || {})[e];\n        return $10f2f5626d5b2085$var$S(t) || (delete this.props[$10f2f5626d5b2085$var$Z][e], this.save()), t;\n    }\n    get_property(e) {\n        return this.props[e];\n    }\n    set_property(e, t) {\n        this.props[e] = t, this.save();\n    }\n}\nfunction $10f2f5626d5b2085$var$di(e) {\n    var t;\n    return (null === (t = JSON.stringify(e, function() {\n        const e = [];\n        return function(t, i) {\n            if ($10f2f5626d5b2085$var$b(i)) {\n                for(; e.length > 0 && e.at(-1) !== this;)e.pop();\n                return e.includes(i) ? \"[Circular]\" : (e.push(i), i);\n            }\n            return i;\n        };\n    }())) || void 0 === t ? void 0 : t.length) || 0;\n}\nfunction $10f2f5626d5b2085$var$hi(e) {\n    let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 6606028.8;\n    if (e.size >= t && e.data.length > 1) {\n        const t = Math.floor(e.data.length / 2), i = e.data.slice(0, t), s = e.data.slice(t);\n        return [\n            $10f2f5626d5b2085$var$hi({\n                size: $10f2f5626d5b2085$var$di(i),\n                data: i,\n                sessionId: e.sessionId,\n                windowId: e.windowId\n            }),\n            $10f2f5626d5b2085$var$hi({\n                size: $10f2f5626d5b2085$var$di(s),\n                data: s,\n                sessionId: e.sessionId,\n                windowId: e.windowId\n            })\n        ].flatMap((e)=>e);\n    }\n    return [\n        e\n    ];\n}\nvar $10f2f5626d5b2085$var$_i = ((e)=>(e[e.DomContentLoaded = 0] = \"DomContentLoaded\", e[e.Load = 1] = \"Load\", e[e.FullSnapshot = 2] = \"FullSnapshot\", e[e.IncrementalSnapshot = 3] = \"IncrementalSnapshot\", e[e.Meta = 4] = \"Meta\", e[e.Custom = 5] = \"Custom\", e[e.Plugin = 6] = \"Plugin\", e))($10f2f5626d5b2085$var$_i || {}), $10f2f5626d5b2085$var$pi = ((e)=>(e[e.Mutation = 0] = \"Mutation\", e[e.MouseMove = 1] = \"MouseMove\", e[e.MouseInteraction = 2] = \"MouseInteraction\", e[e.Scroll = 3] = \"Scroll\", e[e.ViewportResize = 4] = \"ViewportResize\", e[e.Input = 5] = \"Input\", e[e.TouchMove = 6] = \"TouchMove\", e[e.MediaInteraction = 7] = \"MediaInteraction\", e[e.StyleSheetRule = 8] = \"StyleSheetRule\", e[e.CanvasMutation = 9] = \"CanvasMutation\", e[e.Font = 10] = \"Font\", e[e.Log = 11] = \"Log\", e[e.Drag = 12] = \"Drag\", e[e.StyleDeclaration = 13] = \"StyleDeclaration\", e[e.Selection = 14] = \"Selection\", e[e.AdoptedStyleSheet = 15] = \"AdoptedStyleSheet\", e[e.CustomElement = 16] = \"CustomElement\", e))($10f2f5626d5b2085$var$pi || {});\nfunction $10f2f5626d5b2085$var$gi(e) {\n    var t;\n    return e.id === $10f2f5626d5b2085$var$Te || !(null === (t = e.closest) || void 0 === t || !t.call(e, \".toolbar-global-fade-container\"));\n}\nfunction $10f2f5626d5b2085$var$fi(e) {\n    return !!e && 1 === e.nodeType;\n}\nfunction $10f2f5626d5b2085$var$vi(e, t) {\n    return !!e && !!e.tagName && e.tagName.toLowerCase() === t.toLowerCase();\n}\nfunction $10f2f5626d5b2085$var$mi(e) {\n    return !!e && 3 === e.nodeType;\n}\nfunction $10f2f5626d5b2085$var$yi(e) {\n    return !!e && 11 === e.nodeType;\n}\nfunction $10f2f5626d5b2085$var$bi(e) {\n    return e ? $10f2f5626d5b2085$var$M(e).split(/\\s+/) : [];\n}\nfunction $10f2f5626d5b2085$var$wi(t) {\n    const i = null == $10f2f5626d5b2085$var$e ? void 0 : $10f2f5626d5b2085$var$e.location.href;\n    return !!(i && t && t.some((e)=>i.match(e)));\n}\nfunction $10f2f5626d5b2085$var$Si(e) {\n    let t = \"\";\n    switch(typeof e.className){\n        case \"string\":\n            t = e.className;\n            break;\n        case \"object\":\n            t = (e.className && \"baseVal\" in e.className ? e.className.baseVal : null) || e.getAttribute(\"class\") || \"\";\n            break;\n        default:\n            t = \"\";\n    }\n    return $10f2f5626d5b2085$var$bi(t);\n}\nfunction $10f2f5626d5b2085$var$Ei(e) {\n    return $10f2f5626d5b2085$var$I(e) ? null : $10f2f5626d5b2085$var$M(e).split(/(\\s+)/).filter((e)=>$10f2f5626d5b2085$var$Oi(e)).join(\"\").replace(/[\\r\\n]/g, \" \").replace(/[ ]+/g, \" \").substring(0, 255);\n}\nfunction $10f2f5626d5b2085$var$ki(e) {\n    let t = \"\";\n    return $10f2f5626d5b2085$var$Fi(e) && !$10f2f5626d5b2085$var$Ci(e) && e.childNodes && e.childNodes.length && $10f2f5626d5b2085$var$D(e.childNodes, function(e) {\n        var i;\n        $10f2f5626d5b2085$var$mi(e) && e.textContent && (t += null !== (i = $10f2f5626d5b2085$var$Ei(e.textContent)) && void 0 !== i ? i : \"\");\n    }), $10f2f5626d5b2085$var$M(t);\n}\nfunction $10f2f5626d5b2085$var$xi(e) {\n    var t;\n    return $10f2f5626d5b2085$var$S(e.target) ? e.srcElement || null : null !== (t = e.target) && void 0 !== t && t.shadowRoot ? e.composedPath()[0] || null : e.target || null;\n}\nconst $10f2f5626d5b2085$var$Ii = [\n    \"a\",\n    \"button\",\n    \"form\",\n    \"input\",\n    \"select\",\n    \"textarea\",\n    \"label\"\n];\nfunction $10f2f5626d5b2085$var$Ri(e) {\n    const t = e.parentNode;\n    return !(!t || !$10f2f5626d5b2085$var$fi(t)) && t;\n}\nfunction $10f2f5626d5b2085$var$Pi(t, i) {\n    let s = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : void 0, n = arguments.length > 3 ? arguments[3] : void 0, r = arguments.length > 4 ? arguments[4] : void 0;\n    if (!$10f2f5626d5b2085$var$e || !t || $10f2f5626d5b2085$var$vi(t, \"html\") || !$10f2f5626d5b2085$var$fi(t)) return !1;\n    if (null != s && s.url_allowlist && !$10f2f5626d5b2085$var$wi(s.url_allowlist)) return !1;\n    if (null != s && s.url_ignorelist && $10f2f5626d5b2085$var$wi(s.url_ignorelist)) return !1;\n    if (null != s && s.dom_event_allowlist) {\n        const e = s.dom_event_allowlist;\n        if (e && !e.some((e)=>i.type === e)) return !1;\n    }\n    let o = !1;\n    const a = [\n        t\n    ];\n    let l = !0, c = t;\n    for(; c.parentNode && !$10f2f5626d5b2085$var$vi(c, \"body\");)if ($10f2f5626d5b2085$var$yi(c.parentNode)) a.push(c.parentNode.host), c = c.parentNode.host;\n    else {\n        if (l = $10f2f5626d5b2085$var$Ri(c), !l) break;\n        if (n || $10f2f5626d5b2085$var$Ii.indexOf(l.tagName.toLowerCase()) > -1) o = !0;\n        else {\n            const t = $10f2f5626d5b2085$var$e.getComputedStyle(l);\n            t && \"pointer\" === t.getPropertyValue(\"cursor\") && (o = !0);\n        }\n        a.push(l), c = l;\n    }\n    if (!function(e, t) {\n        const i = null == t ? void 0 : t.element_allowlist;\n        if ($10f2f5626d5b2085$var$S(i)) return !0;\n        for (const t of e)if (i.some((e)=>t.tagName.toLowerCase() === e)) return !0;\n        return !1;\n    }(a, s)) return !1;\n    if (!function(e, t) {\n        const i = null == t ? void 0 : t.css_selector_allowlist;\n        if ($10f2f5626d5b2085$var$S(i)) return !0;\n        for (const t of e)if (i.some((e)=>t.matches(e))) return !0;\n        return !1;\n    }(a, s)) return !1;\n    const u = $10f2f5626d5b2085$var$e.getComputedStyle(t);\n    if (u && \"pointer\" === u.getPropertyValue(\"cursor\") && \"click\" === i.type) return !0;\n    const d = t.tagName.toLowerCase();\n    switch(d){\n        case \"html\":\n            return !1;\n        case \"form\":\n            return (r || [\n                \"submit\"\n            ]).indexOf(i.type) >= 0;\n        case \"input\":\n        case \"select\":\n        case \"textarea\":\n            return (r || [\n                \"change\",\n                \"click\"\n            ]).indexOf(i.type) >= 0;\n        default:\n            return o ? (r || [\n                \"click\"\n            ]).indexOf(i.type) >= 0 : (r || [\n                \"click\"\n            ]).indexOf(i.type) >= 0 && ($10f2f5626d5b2085$var$Ii.indexOf(d) > -1 || \"true\" === t.getAttribute(\"contenteditable\"));\n    }\n}\nfunction $10f2f5626d5b2085$var$Fi(e) {\n    for(let t = e; t.parentNode && !$10f2f5626d5b2085$var$vi(t, \"body\"); t = t.parentNode){\n        const e = $10f2f5626d5b2085$var$Si(t);\n        if ($10f2f5626d5b2085$var$N(e, \"ph-sensitive\") || $10f2f5626d5b2085$var$N(e, \"ph-no-capture\")) return !1;\n    }\n    if ($10f2f5626d5b2085$var$N($10f2f5626d5b2085$var$Si(e), \"ph-include\")) return !0;\n    const t = e.type || \"\";\n    if ($10f2f5626d5b2085$var$E(t)) switch(t.toLowerCase()){\n        case \"hidden\":\n        case \"password\":\n            return !1;\n    }\n    const i = e.name || e.id || \"\";\n    if ($10f2f5626d5b2085$var$E(i)) {\n        if (/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g, \"\"))) return !1;\n    }\n    return !0;\n}\nfunction $10f2f5626d5b2085$var$Ci(e) {\n    return !!($10f2f5626d5b2085$var$vi(e, \"input\") && ![\n        \"button\",\n        \"checkbox\",\n        \"submit\",\n        \"reset\"\n    ].includes(e.type) || $10f2f5626d5b2085$var$vi(e, \"select\") || $10f2f5626d5b2085$var$vi(e, \"textarea\") || \"true\" === e.getAttribute(\"contenteditable\"));\n}\nconst $10f2f5626d5b2085$var$Ti = \"(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})\", $10f2f5626d5b2085$var$$i = new RegExp(`^(?:${$10f2f5626d5b2085$var$Ti})$`), $10f2f5626d5b2085$var$Ai = new RegExp($10f2f5626d5b2085$var$Ti), $10f2f5626d5b2085$var$Mi = \"\\\\d{3}-?\\\\d{2}-?\\\\d{4}\", $10f2f5626d5b2085$var$Li = new RegExp(`^(${$10f2f5626d5b2085$var$Mi})$`), $10f2f5626d5b2085$var$Di = new RegExp(`(${$10f2f5626d5b2085$var$Mi})`);\nfunction $10f2f5626d5b2085$var$Oi(e) {\n    let t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];\n    if ($10f2f5626d5b2085$var$I(e)) return !1;\n    if ($10f2f5626d5b2085$var$E(e)) {\n        e = $10f2f5626d5b2085$var$M(e);\n        if ((t ? $10f2f5626d5b2085$var$$i : $10f2f5626d5b2085$var$Ai).test((e || \"\").replace(/[- ]/g, \"\"))) return !1;\n        if ((t ? $10f2f5626d5b2085$var$Li : $10f2f5626d5b2085$var$Di).test(e)) return !1;\n    }\n    return !0;\n}\nfunction $10f2f5626d5b2085$var$Ni(e) {\n    let t = $10f2f5626d5b2085$var$ki(e);\n    return t = `${t} ${$10f2f5626d5b2085$var$qi(e)}`.trim(), $10f2f5626d5b2085$var$Oi(t) ? t : \"\";\n}\nfunction $10f2f5626d5b2085$var$qi(e) {\n    let t = \"\";\n    return e && e.childNodes && e.childNodes.length && $10f2f5626d5b2085$var$D(e.childNodes, function(e) {\n        var i;\n        if (e && \"span\" === (null === (i = e.tagName) || void 0 === i ? void 0 : i.toLowerCase())) try {\n            const i = $10f2f5626d5b2085$var$ki(e);\n            t = `${t} ${i}`.trim(), e.childNodes && e.childNodes.length && (t = `${t} ${$10f2f5626d5b2085$var$qi(e)}`.trim());\n        } catch (e) {\n            $10f2f5626d5b2085$var$T.error(e);\n        }\n    }), t;\n}\nfunction $10f2f5626d5b2085$var$Bi(e) {\n    return function(e) {\n        const t = e.map((e)=>{\n            var t, i;\n            let s = \"\";\n            if (e.tag_name && (s += e.tag_name), e.attr_class) {\n                e.attr_class.sort();\n                for (const t of e.attr_class)s += `.${t.replace(/\"/g, \"\")}`;\n            }\n            const n = {\n                ...e.text ? {\n                    text: e.text\n                } : {},\n                \"nth-child\": null !== (t = e.nth_child) && void 0 !== t ? t : 0,\n                \"nth-of-type\": null !== (i = e.nth_of_type) && void 0 !== i ? i : 0,\n                ...e.href ? {\n                    href: e.href\n                } : {},\n                ...e.attr_id ? {\n                    attr_id: e.attr_id\n                } : {},\n                ...e.attributes\n            }, r = {};\n            return $10f2f5626d5b2085$var$q(n).sort((e, t)=>{\n                let [i] = e, [s] = t;\n                return i.localeCompare(s);\n            }).forEach((e)=>{\n                let [t, i] = e;\n                return r[$10f2f5626d5b2085$var$Hi(t.toString())] = $10f2f5626d5b2085$var$Hi(i.toString());\n            }), s += \":\", s += $10f2f5626d5b2085$var$q(n).map((e)=>{\n                let [t, i] = e;\n                return `${t}=\"${i}\"`;\n            }).join(\"\"), s;\n        });\n        return t.join(\";\");\n    }(function(e) {\n        return e.map((e)=>{\n            var t, i;\n            const s = {\n                text: null === (t = e.$el_text) || void 0 === t ? void 0 : t.slice(0, 400),\n                tag_name: e.tag_name,\n                href: null === (i = e.attr__href) || void 0 === i ? void 0 : i.slice(0, 2048),\n                attr_class: $10f2f5626d5b2085$var$Ui(e),\n                attr_id: e.attr__id,\n                nth_child: e.nth_child,\n                nth_of_type: e.nth_of_type,\n                attributes: {}\n            };\n            return $10f2f5626d5b2085$var$q(e).filter((e)=>{\n                let [t] = e;\n                return 0 === t.indexOf(\"attr__\");\n            }).forEach((e)=>{\n                let [t, i] = e;\n                return s.attributes[t] = i;\n            }), s;\n        });\n    }(e));\n}\nfunction $10f2f5626d5b2085$var$Hi(e) {\n    return e.replace(/\"|\\\\\"/g, '\\\\\"');\n}\nfunction $10f2f5626d5b2085$var$Ui(e) {\n    const t = e.attr__class;\n    return t ? $10f2f5626d5b2085$var$m(t) ? t : $10f2f5626d5b2085$var$bi(t) : void 0;\n}\nconst $10f2f5626d5b2085$var$Wi = \"[SessionRecording]\", $10f2f5626d5b2085$var$zi = \"redacted\", $10f2f5626d5b2085$var$Vi = {\n    initiatorTypes: [\n        \"audio\",\n        \"beacon\",\n        \"body\",\n        \"css\",\n        \"early-hint\",\n        \"embed\",\n        \"fetch\",\n        \"frame\",\n        \"iframe\",\n        \"icon\",\n        \"image\",\n        \"img\",\n        \"input\",\n        \"link\",\n        \"navigation\",\n        \"object\",\n        \"ping\",\n        \"script\",\n        \"track\",\n        \"video\",\n        \"xmlhttprequest\"\n    ],\n    maskRequestFn: (e)=>e,\n    recordHeaders: !1,\n    recordBody: !1,\n    recordInitialRequests: !1,\n    recordPerformance: !1,\n    performanceEntryTypeToObserve: [\n        \"first-input\",\n        \"navigation\",\n        \"paint\",\n        \"resource\"\n    ],\n    payloadSizeLimitBytes: 1e6,\n    payloadHostDenyList: [\n        \".lr-ingest.io\",\n        \".ingest.sentry.io\"\n    ]\n}, $10f2f5626d5b2085$var$Gi = [\n    \"authorization\",\n    \"x-forwarded-for\",\n    \"authorization\",\n    \"cookie\",\n    \"set-cookie\",\n    \"x-api-key\",\n    \"x-real-ip\",\n    \"remote-addr\",\n    \"forwarded\",\n    \"proxy-authorization\",\n    \"x-csrf-token\",\n    \"x-csrftoken\",\n    \"x-xsrf-token\"\n], $10f2f5626d5b2085$var$ji = [\n    \"password\",\n    \"secret\",\n    \"passwd\",\n    \"api_key\",\n    \"apikey\",\n    \"auth\",\n    \"credentials\",\n    \"mysql_pwd\",\n    \"privatekey\",\n    \"private_key\",\n    \"token\"\n], $10f2f5626d5b2085$var$Qi = [\n    \"/s/\",\n    \"/e/\",\n    \"/i/\"\n];\nfunction $10f2f5626d5b2085$var$Ji(e, t, i, s) {\n    if ($10f2f5626d5b2085$var$I(e)) return e;\n    let n = (null == t ? void 0 : t[\"content-length\"]) || function(e) {\n        return new Blob([\n            e\n        ]).size;\n    }(e);\n    return $10f2f5626d5b2085$var$E(n) && (n = parseInt(n)), n > i ? $10f2f5626d5b2085$var$Wi + ` ${s} body too large to record (${n} bytes)` : e;\n}\nfunction $10f2f5626d5b2085$var$Yi(e, t) {\n    if ($10f2f5626d5b2085$var$I(e)) return e;\n    let i = e;\n    return $10f2f5626d5b2085$var$Oi(i, !1) || (i = $10f2f5626d5b2085$var$Wi + \" \" + t + \" body \" + $10f2f5626d5b2085$var$zi), $10f2f5626d5b2085$var$D($10f2f5626d5b2085$var$ji, (e)=>{\n        var s, n;\n        null !== (s = i) && void 0 !== s && s.length && -1 !== (null === (n = i) || void 0 === n ? void 0 : n.indexOf(e)) && (i = $10f2f5626d5b2085$var$Wi + \" \" + t + \" body \" + $10f2f5626d5b2085$var$zi + \" as might contain: \" + e);\n    }), i;\n}\nconst $10f2f5626d5b2085$var$Xi = (e, t)=>{\n    const i = {\n        payloadSizeLimitBytes: $10f2f5626d5b2085$var$Vi.payloadSizeLimitBytes,\n        performanceEntryTypeToObserve: [\n            ...$10f2f5626d5b2085$var$Vi.performanceEntryTypeToObserve\n        ],\n        payloadHostDenyList: [\n            ...t.payloadHostDenyList || [],\n            ...$10f2f5626d5b2085$var$Vi.payloadHostDenyList\n        ]\n    }, s = !1 !== e.session_recording.recordHeaders && t.recordHeaders, n = !1 !== e.session_recording.recordBody && t.recordBody, r = !1 !== e.capture_performance && t.recordPerformance, o = ((e)=>{\n        var t;\n        const i = Math.min(1e6, null !== (t = e.payloadSizeLimitBytes) && void 0 !== t ? t : 1e6);\n        return (e)=>(null != e && e.requestBody && (e.requestBody = $10f2f5626d5b2085$var$Ji(e.requestBody, e.requestHeaders, i, \"Request\")), null != e && e.responseBody && (e.responseBody = $10f2f5626d5b2085$var$Ji(e.responseBody, e.responseHeaders, i, \"Response\")), e);\n    })(i), a = (e)=>o(((e)=>{\n            const t = $10f2f5626d5b2085$var$ot(e.name);\n            if (!(t && t.pathname && $10f2f5626d5b2085$var$Qi.some((e)=>0 === t.pathname.indexOf(e)))) return e;\n        })(((e)=>{\n            const t = e.requestHeaders;\n            return $10f2f5626d5b2085$var$I(t) || $10f2f5626d5b2085$var$D(Object.keys(null != t ? t : {}), (e)=>{\n                $10f2f5626d5b2085$var$Gi.includes(e.toLowerCase()) && (t[e] = $10f2f5626d5b2085$var$zi);\n            }), e;\n        })(e))), l = $10f2f5626d5b2085$var$y(e.session_recording.maskNetworkRequestFn);\n    return l && $10f2f5626d5b2085$var$y(e.session_recording.maskCapturedNetworkRequestFn) && $10f2f5626d5b2085$var$T.warn(\"Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored.\"), l && (e.session_recording.maskCapturedNetworkRequestFn = (t)=>{\n        const i = e.session_recording.maskNetworkRequestFn({\n            url: t.name\n        });\n        return {\n            ...t,\n            name: null == i ? void 0 : i.url\n        };\n    }), i.maskRequestFn = $10f2f5626d5b2085$var$y(e.session_recording.maskCapturedNetworkRequestFn) ? (t)=>{\n        var i, s, n;\n        const r = a(t);\n        return r && null !== (i = null === (s = (n = e.session_recording).maskCapturedNetworkRequestFn) || void 0 === s ? void 0 : s.call(n, r)) && void 0 !== i ? i : void 0;\n    } : (e)=>(function(e) {\n            if (!$10f2f5626d5b2085$var$S(e)) return e.requestBody = $10f2f5626d5b2085$var$Yi(e.requestBody, \"Request\"), e.responseBody = $10f2f5626d5b2085$var$Yi(e.responseBody, \"Response\"), e;\n        })(a(e)), {\n        ...$10f2f5626d5b2085$var$Vi,\n        ...i,\n        recordHeaders: s,\n        recordBody: n,\n        recordPerformance: r,\n        recordInitialRequests: r\n    };\n};\nfunction $10f2f5626d5b2085$var$Ki(e, t, i, s) {\n    return t > i && ($10f2f5626d5b2085$var$T.warn(\"min cannot be greater than max.\"), t = i), $10f2f5626d5b2085$var$R(e) ? e > i ? (s && $10f2f5626d5b2085$var$T.warn(s + \" cannot be  greater than max: \" + i + \". Using max value instead.\"), i) : e < t ? (s && $10f2f5626d5b2085$var$T.warn(s + \" cannot be less than min: \" + t + \". Using min value instead.\"), t) : e : (s && $10f2f5626d5b2085$var$T.warn(s + \" must be a number. Defaulting to max value:\" + i), i);\n}\nclass $10f2f5626d5b2085$var$Zi {\n    bucketSize = 100;\n    refillRate = 10;\n    mutationBuckets = {};\n    loggedTracker = {};\n    constructor(e){\n        var t, i;\n        let s = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n        this.rrweb = e, this.options = s, this.refillRate = $10f2f5626d5b2085$var$Ki(null !== (t = this.options.refillRate) && void 0 !== t ? t : this.refillRate, 0, 100, \"mutation throttling refill rate\"), this.bucketSize = $10f2f5626d5b2085$var$Ki(null !== (i = this.options.bucketSize) && void 0 !== i ? i : this.bucketSize, 0, 100, \"mutation throttling bucket size\"), setInterval(()=>{\n            this.refillBuckets();\n        }, 1e3);\n    }\n    refillBuckets = ()=>{\n        Object.keys(this.mutationBuckets).forEach((e)=>{\n            this.mutationBuckets[e] = this.mutationBuckets[e] + this.refillRate, this.mutationBuckets[e] >= this.bucketSize && delete this.mutationBuckets[e];\n        });\n    };\n    getNodeOrRelevantParent = (e)=>{\n        const t = this.rrweb.mirror.getNode(e);\n        if (\"svg\" !== (null == t ? void 0 : t.nodeName) && t instanceof Element) {\n            const e = t.closest(\"svg\");\n            if (e) return [\n                this.rrweb.mirror.getId(e),\n                e\n            ];\n        }\n        return [\n            e,\n            t\n        ];\n    };\n    numberOfChanges = (e)=>{\n        var t, i, s, n, r, o, a, l;\n        return (null !== (t = null === (i = e.removes) || void 0 === i ? void 0 : i.length) && void 0 !== t ? t : 0) + (null !== (s = null === (n = e.attributes) || void 0 === n ? void 0 : n.length) && void 0 !== s ? s : 0) + (null !== (r = null === (o = e.texts) || void 0 === o ? void 0 : o.length) && void 0 !== r ? r : 0) + (null !== (a = null === (l = e.adds) || void 0 === l ? void 0 : l.length) && void 0 !== a ? a : 0);\n    };\n    throttleMutations = (e)=>{\n        if (3 !== e.type || 0 !== e.data.source) return e;\n        const t = e.data, i = this.numberOfChanges(t);\n        t.attributes && (t.attributes = t.attributes.filter((e)=>{\n            var t;\n            const [i, s] = this.getNodeOrRelevantParent(e.id);\n            if (0 === this.mutationBuckets[i]) return !1;\n            var n, r;\n            (this.mutationBuckets[i] = null !== (t = this.mutationBuckets[i]) && void 0 !== t ? t : this.bucketSize, this.mutationBuckets[i] = Math.max(this.mutationBuckets[i] - 1, 0), 0 === this.mutationBuckets[i]) && (this.loggedTracker[i] || (this.loggedTracker[i] = !0, null === (n = (r = this.options).onBlockedNode) || void 0 === n || n.call(r, i, s)));\n            return e;\n        }));\n        const s = this.numberOfChanges(t);\n        return 0 !== s || i === s ? e : void 0;\n    };\n}\nvar $10f2f5626d5b2085$var$es = Uint8Array, $10f2f5626d5b2085$var$ts = Uint16Array, $10f2f5626d5b2085$var$is = Uint32Array, $10f2f5626d5b2085$var$ss = new $10f2f5626d5b2085$var$es([\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    1,\n    1,\n    1,\n    1,\n    2,\n    2,\n    2,\n    2,\n    3,\n    3,\n    3,\n    3,\n    4,\n    4,\n    4,\n    4,\n    5,\n    5,\n    5,\n    5,\n    0,\n    0,\n    0,\n    0\n]), $10f2f5626d5b2085$var$ns = new $10f2f5626d5b2085$var$es([\n    0,\n    0,\n    0,\n    0,\n    1,\n    1,\n    2,\n    2,\n    3,\n    3,\n    4,\n    4,\n    5,\n    5,\n    6,\n    6,\n    7,\n    7,\n    8,\n    8,\n    9,\n    9,\n    10,\n    10,\n    11,\n    11,\n    12,\n    12,\n    13,\n    13,\n    0,\n    0\n]), $10f2f5626d5b2085$var$rs = new $10f2f5626d5b2085$var$es([\n    16,\n    17,\n    18,\n    0,\n    8,\n    7,\n    9,\n    6,\n    10,\n    5,\n    11,\n    4,\n    12,\n    3,\n    13,\n    2,\n    14,\n    1,\n    15\n]), $10f2f5626d5b2085$var$os = function(e, t) {\n    for(var i = new $10f2f5626d5b2085$var$ts(31), s = 0; s < 31; ++s)i[s] = t += 1 << e[s - 1];\n    var n = new $10f2f5626d5b2085$var$is(i[30]);\n    for(s = 1; s < 30; ++s)for(var r = i[s]; r < i[s + 1]; ++r)n[r] = r - i[s] << 5 | s;\n    return [\n        i,\n        n\n    ];\n}, $10f2f5626d5b2085$var$as = $10f2f5626d5b2085$var$os($10f2f5626d5b2085$var$ss, 2), $10f2f5626d5b2085$var$ls = $10f2f5626d5b2085$var$as[0], $10f2f5626d5b2085$var$cs = $10f2f5626d5b2085$var$as[1];\n$10f2f5626d5b2085$var$ls[28] = 258, $10f2f5626d5b2085$var$cs[258] = 28;\nfor(var $10f2f5626d5b2085$var$us = $10f2f5626d5b2085$var$os($10f2f5626d5b2085$var$ns, 0)[1], $10f2f5626d5b2085$var$ds = new $10f2f5626d5b2085$var$ts(32768), $10f2f5626d5b2085$var$hs = 0; $10f2f5626d5b2085$var$hs < 32768; ++$10f2f5626d5b2085$var$hs){\n    var $10f2f5626d5b2085$var$_s = (43690 & $10f2f5626d5b2085$var$hs) >>> 1 | (21845 & $10f2f5626d5b2085$var$hs) << 1;\n    $10f2f5626d5b2085$var$_s = (61680 & ($10f2f5626d5b2085$var$_s = (52428 & $10f2f5626d5b2085$var$_s) >>> 2 | (13107 & $10f2f5626d5b2085$var$_s) << 2)) >>> 4 | (3855 & $10f2f5626d5b2085$var$_s) << 4, $10f2f5626d5b2085$var$ds[$10f2f5626d5b2085$var$hs] = ((65280 & $10f2f5626d5b2085$var$_s) >>> 8 | (255 & $10f2f5626d5b2085$var$_s) << 8) >>> 1;\n}\nvar $10f2f5626d5b2085$var$ps = function(e, t, i) {\n    for(var s = e.length, n = 0, r = new $10f2f5626d5b2085$var$ts(t); n < s; ++n)++r[e[n] - 1];\n    var o, a = new $10f2f5626d5b2085$var$ts(t);\n    for(n = 0; n < t; ++n)a[n] = a[n - 1] + r[n - 1] << 1;\n    if (i) {\n        o = new $10f2f5626d5b2085$var$ts(1 << t);\n        var l = 15 - t;\n        for(n = 0; n < s; ++n)if (e[n]) for(var c = n << 4 | e[n], u = t - e[n], d = a[e[n] - 1]++ << u, h = d | (1 << u) - 1; d <= h; ++d)o[$10f2f5626d5b2085$var$ds[d] >>> l] = c;\n    } else for(o = new $10f2f5626d5b2085$var$ts(s), n = 0; n < s; ++n)o[n] = $10f2f5626d5b2085$var$ds[a[e[n] - 1]++] >>> 15 - e[n];\n    return o;\n}, $10f2f5626d5b2085$var$gs = new $10f2f5626d5b2085$var$es(288);\nfor($10f2f5626d5b2085$var$hs = 0; $10f2f5626d5b2085$var$hs < 144; ++$10f2f5626d5b2085$var$hs)$10f2f5626d5b2085$var$gs[$10f2f5626d5b2085$var$hs] = 8;\nfor($10f2f5626d5b2085$var$hs = 144; $10f2f5626d5b2085$var$hs < 256; ++$10f2f5626d5b2085$var$hs)$10f2f5626d5b2085$var$gs[$10f2f5626d5b2085$var$hs] = 9;\nfor($10f2f5626d5b2085$var$hs = 256; $10f2f5626d5b2085$var$hs < 280; ++$10f2f5626d5b2085$var$hs)$10f2f5626d5b2085$var$gs[$10f2f5626d5b2085$var$hs] = 7;\nfor($10f2f5626d5b2085$var$hs = 280; $10f2f5626d5b2085$var$hs < 288; ++$10f2f5626d5b2085$var$hs)$10f2f5626d5b2085$var$gs[$10f2f5626d5b2085$var$hs] = 8;\nvar $10f2f5626d5b2085$var$fs = new $10f2f5626d5b2085$var$es(32);\nfor($10f2f5626d5b2085$var$hs = 0; $10f2f5626d5b2085$var$hs < 32; ++$10f2f5626d5b2085$var$hs)$10f2f5626d5b2085$var$fs[$10f2f5626d5b2085$var$hs] = 5;\nvar $10f2f5626d5b2085$var$vs = $10f2f5626d5b2085$var$ps($10f2f5626d5b2085$var$gs, 9, 0), $10f2f5626d5b2085$var$ms = $10f2f5626d5b2085$var$ps($10f2f5626d5b2085$var$fs, 5, 0), $10f2f5626d5b2085$var$ys = function(e) {\n    return (e / 8 >> 0) + (7 & e && 1);\n}, $10f2f5626d5b2085$var$bs = function(e, t, i) {\n    (null == i || i > e.length) && (i = e.length);\n    var s = new (e instanceof $10f2f5626d5b2085$var$ts ? $10f2f5626d5b2085$var$ts : e instanceof $10f2f5626d5b2085$var$is ? $10f2f5626d5b2085$var$is : $10f2f5626d5b2085$var$es)(i - t);\n    return s.set(e.subarray(t, i)), s;\n}, $10f2f5626d5b2085$var$ws = function(e, t, i) {\n    i <<= 7 & t;\n    var s = t / 8 >> 0;\n    e[s] |= i, e[s + 1] |= i >>> 8;\n}, $10f2f5626d5b2085$var$Ss = function(e, t, i) {\n    i <<= 7 & t;\n    var s = t / 8 >> 0;\n    e[s] |= i, e[s + 1] |= i >>> 8, e[s + 2] |= i >>> 16;\n}, $10f2f5626d5b2085$var$Es = function(e, t) {\n    for(var i = [], s = 0; s < e.length; ++s)e[s] && i.push({\n        s: s,\n        f: e[s]\n    });\n    var n = i.length, r = i.slice();\n    if (!n) return [\n        new $10f2f5626d5b2085$var$es(0),\n        0\n    ];\n    if (1 == n) {\n        var o = new $10f2f5626d5b2085$var$es(i[0].s + 1);\n        return o[i[0].s] = 1, [\n            o,\n            1\n        ];\n    }\n    i.sort(function(e, t) {\n        return e.f - t.f;\n    }), i.push({\n        s: -1,\n        f: 25001\n    });\n    var a = i[0], l = i[1], c = 0, u = 1, d = 2;\n    for(i[0] = {\n        s: -1,\n        f: a.f + l.f,\n        l: a,\n        r: l\n    }; u != n - 1;)a = i[i[c].f < i[d].f ? c++ : d++], l = i[c != u && i[c].f < i[d].f ? c++ : d++], i[u++] = {\n        s: -1,\n        f: a.f + l.f,\n        l: a,\n        r: l\n    };\n    var h = r[0].s;\n    for(s = 1; s < n; ++s)r[s].s > h && (h = r[s].s);\n    var _ = new $10f2f5626d5b2085$var$ts(h + 1), p = $10f2f5626d5b2085$var$ks(i[u - 1], _, 0);\n    if (p > t) {\n        s = 0;\n        var g = 0, f = p - t, v = 1 << f;\n        for(r.sort(function(e, t) {\n            return _[t.s] - _[e.s] || e.f - t.f;\n        }); s < n; ++s){\n            var m = r[s].s;\n            if (!(_[m] > t)) break;\n            g += v - (1 << p - _[m]), _[m] = t;\n        }\n        for(g >>>= f; g > 0;){\n            var y = r[s].s;\n            _[y] < t ? g -= 1 << t - _[y]++ - 1 : ++s;\n        }\n        for(; s >= 0 && g; --s){\n            var b = r[s].s;\n            _[b] == t && (--_[b], ++g);\n        }\n        p = t;\n    }\n    return [\n        new $10f2f5626d5b2085$var$es(_),\n        p\n    ];\n}, $10f2f5626d5b2085$var$ks = function(e, t, i) {\n    return -1 == e.s ? Math.max($10f2f5626d5b2085$var$ks(e.l, t, i + 1), $10f2f5626d5b2085$var$ks(e.r, t, i + 1)) : t[e.s] = i;\n}, $10f2f5626d5b2085$var$xs = function(e) {\n    for(var t = e.length; t && !e[--t];);\n    for(var i = new $10f2f5626d5b2085$var$ts(++t), s = 0, n = e[0], r = 1, o = function(e) {\n        i[s++] = e;\n    }, a = 1; a <= t; ++a)if (e[a] == n && a != t) ++r;\n    else {\n        if (!n && r > 2) {\n            for(; r > 138; r -= 138)o(32754);\n            r > 2 && (o(r > 10 ? r - 11 << 5 | 28690 : r - 3 << 5 | 12305), r = 0);\n        } else if (r > 3) {\n            for(o(n), --r; r > 6; r -= 6)o(8304);\n            r > 2 && (o(r - 3 << 5 | 8208), r = 0);\n        }\n        for(; r--;)o(n);\n        r = 1, n = e[a];\n    }\n    return [\n        i.subarray(0, s),\n        t\n    ];\n}, $10f2f5626d5b2085$var$Is = function(e, t) {\n    for(var i = 0, s = 0; s < t.length; ++s)i += e[s] * t[s];\n    return i;\n}, $10f2f5626d5b2085$var$Rs = function(e, t, i) {\n    var s = i.length, n = $10f2f5626d5b2085$var$ys(t + 2);\n    e[n] = 255 & s, e[n + 1] = s >>> 8, e[n + 2] = 255 ^ e[n], e[n + 3] = 255 ^ e[n + 1];\n    for(var r = 0; r < s; ++r)e[n + r + 4] = i[r];\n    return 8 * (n + 4 + s);\n}, $10f2f5626d5b2085$var$Ps = function(e, t, i, s, n, r, o, a, l, c, u) {\n    $10f2f5626d5b2085$var$ws(t, u++, i), ++n[256];\n    for(var d = $10f2f5626d5b2085$var$Es(n, 15), h = d[0], _ = d[1], p = $10f2f5626d5b2085$var$Es(r, 15), g = p[0], f = p[1], v = $10f2f5626d5b2085$var$xs(h), m = v[0], y = v[1], b = $10f2f5626d5b2085$var$xs(g), w = b[0], S = b[1], E = new $10f2f5626d5b2085$var$ts(19), k = 0; k < m.length; ++k)E[31 & m[k]]++;\n    for(k = 0; k < w.length; ++k)E[31 & w[k]]++;\n    for(var x = $10f2f5626d5b2085$var$Es(E, 7), I = x[0], R = x[1], P = 19; P > 4 && !I[$10f2f5626d5b2085$var$rs[P - 1]]; --P);\n    var F, C, T, $, A = c + 5 << 3, M = $10f2f5626d5b2085$var$Is(n, $10f2f5626d5b2085$var$gs) + $10f2f5626d5b2085$var$Is(r, $10f2f5626d5b2085$var$fs) + o, L = $10f2f5626d5b2085$var$Is(n, h) + $10f2f5626d5b2085$var$Is(r, g) + o + 14 + 3 * P + $10f2f5626d5b2085$var$Is(E, I) + (2 * E[16] + 3 * E[17] + 7 * E[18]);\n    if (A <= M && A <= L) return $10f2f5626d5b2085$var$Rs(t, u, e.subarray(l, l + c));\n    if ($10f2f5626d5b2085$var$ws(t, u, 1 + (L < M)), u += 2, L < M) {\n        F = $10f2f5626d5b2085$var$ps(h, _, 0), C = h, T = $10f2f5626d5b2085$var$ps(g, f, 0), $ = g;\n        var D = $10f2f5626d5b2085$var$ps(I, R, 0);\n        $10f2f5626d5b2085$var$ws(t, u, y - 257), $10f2f5626d5b2085$var$ws(t, u + 5, S - 1), $10f2f5626d5b2085$var$ws(t, u + 10, P - 4), u += 14;\n        for(k = 0; k < P; ++k)$10f2f5626d5b2085$var$ws(t, u + 3 * k, I[$10f2f5626d5b2085$var$rs[k]]);\n        u += 3 * P;\n        for(var O = [\n            m,\n            w\n        ], N = 0; N < 2; ++N){\n            var q = O[N];\n            for(k = 0; k < q.length; ++k){\n                var B = 31 & q[k];\n                $10f2f5626d5b2085$var$ws(t, u, D[B]), u += I[B], B > 15 && ($10f2f5626d5b2085$var$ws(t, u, q[k] >>> 5 & 127), u += q[k] >>> 12);\n            }\n        }\n    } else F = $10f2f5626d5b2085$var$vs, C = $10f2f5626d5b2085$var$gs, T = $10f2f5626d5b2085$var$ms, $ = $10f2f5626d5b2085$var$fs;\n    for(k = 0; k < a; ++k)if (s[k] > 255) {\n        B = s[k] >>> 18 & 31;\n        $10f2f5626d5b2085$var$Ss(t, u, F[B + 257]), u += C[B + 257], B > 7 && ($10f2f5626d5b2085$var$ws(t, u, s[k] >>> 23 & 31), u += $10f2f5626d5b2085$var$ss[B]);\n        var H = 31 & s[k];\n        $10f2f5626d5b2085$var$Ss(t, u, T[H]), u += $[H], H > 3 && ($10f2f5626d5b2085$var$Ss(t, u, s[k] >>> 5 & 8191), u += $10f2f5626d5b2085$var$ns[H]);\n    } else $10f2f5626d5b2085$var$Ss(t, u, F[s[k]]), u += C[s[k]];\n    return $10f2f5626d5b2085$var$Ss(t, u, F[256]), u + C[256];\n}, $10f2f5626d5b2085$var$Fs = new $10f2f5626d5b2085$var$is([\n    65540,\n    131080,\n    131088,\n    131104,\n    262176,\n    1048704,\n    1048832,\n    2114560,\n    2117632\n]), $10f2f5626d5b2085$var$Cs = function() {\n    for(var e = new $10f2f5626d5b2085$var$is(256), t = 0; t < 256; ++t){\n        for(var i = t, s = 9; --s;)i = (1 & i && 3988292384) ^ i >>> 1;\n        e[t] = i;\n    }\n    return e;\n}(), $10f2f5626d5b2085$var$Ts = function() {\n    var e = 4294967295;\n    return {\n        p: function(t) {\n            for(var i = e, s = 0; s < t.length; ++s)i = $10f2f5626d5b2085$var$Cs[255 & i ^ t[s]] ^ i >>> 8;\n            e = i;\n        },\n        d: function() {\n            return 4294967295 ^ e;\n        }\n    };\n}, $10f2f5626d5b2085$var$$s = function(e, t, i, s, n) {\n    return function(e, t, i, s, n, r) {\n        var o = e.length, a = new $10f2f5626d5b2085$var$es(s + o + 5 * (1 + Math.floor(o / 7e3)) + n), l = a.subarray(s, a.length - n), c = 0;\n        if (!t || o < 8) for(var u = 0; u <= o; u += 65535){\n            var d = u + 65535;\n            d < o ? c = $10f2f5626d5b2085$var$Rs(l, c, e.subarray(u, d)) : (l[u] = r, c = $10f2f5626d5b2085$var$Rs(l, c, e.subarray(u, o)));\n        }\n        else {\n            for(var h = $10f2f5626d5b2085$var$Fs[t - 1], _ = h >>> 13, p = 8191 & h, g = (1 << i) - 1, f = new $10f2f5626d5b2085$var$ts(32768), v = new $10f2f5626d5b2085$var$ts(g + 1), m = Math.ceil(i / 3), y = 2 * m, b = function(t) {\n                return (e[t] ^ e[t + 1] << m ^ e[t + 2] << y) & g;\n            }, w = new $10f2f5626d5b2085$var$is(25e3), S = new $10f2f5626d5b2085$var$ts(288), E = new $10f2f5626d5b2085$var$ts(32), k = 0, x = 0, I = (u = 0, 0), R = 0, P = 0; u < o; ++u){\n                var F = b(u), C = 32767 & u, T = v[F];\n                if (f[C] = T, v[F] = C, R <= u) {\n                    var $ = o - u;\n                    if ((k > 7e3 || I > 24576) && $ > 423) {\n                        c = $10f2f5626d5b2085$var$Ps(e, l, 0, w, S, E, x, I, P, u - P, c), I = k = x = 0, P = u;\n                        for(var A = 0; A < 286; ++A)S[A] = 0;\n                        for(A = 0; A < 30; ++A)E[A] = 0;\n                    }\n                    var M = 2, L = 0, D = p, O = C - T & 32767;\n                    if ($ > 2 && F == b(u - O)) for(var N = Math.min(_, $) - 1, q = Math.min(32767, u), B = Math.min(258, $); O <= q && --D && C != T;){\n                        if (e[u + M] == e[u + M - O]) {\n                            for(var H = 0; H < B && e[u + H] == e[u + H - O]; ++H);\n                            if (H > M) {\n                                if (M = H, L = O, H > N) break;\n                                var U = Math.min(O, H - 2), W = 0;\n                                for(A = 0; A < U; ++A){\n                                    var z = u - O + A + 32768 & 32767, V = z - f[z] + 32768 & 32767;\n                                    V > W && (W = V, T = z);\n                                }\n                            }\n                        }\n                        O += (C = T) - (T = f[C]) + 32768 & 32767;\n                    }\n                    if (L) {\n                        w[I++] = 268435456 | $10f2f5626d5b2085$var$cs[M] << 18 | $10f2f5626d5b2085$var$us[L];\n                        var G = 31 & $10f2f5626d5b2085$var$cs[M], j = 31 & $10f2f5626d5b2085$var$us[L];\n                        x += $10f2f5626d5b2085$var$ss[G] + $10f2f5626d5b2085$var$ns[j], ++S[257 + G], ++E[j], R = u + M, ++k;\n                    } else w[I++] = e[u], ++S[e[u]];\n                }\n            }\n            c = $10f2f5626d5b2085$var$Ps(e, l, r, w, S, E, x, I, P, u - P, c);\n        }\n        return $10f2f5626d5b2085$var$bs(a, 0, s + $10f2f5626d5b2085$var$ys(c) + n);\n    }(e, null == t.level ? 6 : t.level, null == t.mem ? Math.ceil(1.5 * Math.max(8, Math.min(13, Math.log(e.length)))) : 12 + t.mem, i, s, !n);\n}, $10f2f5626d5b2085$var$As = function(e, t, i) {\n    for(; i; ++t)e[t] = i, i >>>= 8;\n}, $10f2f5626d5b2085$var$Ms = function(e, t) {\n    var i = t.filename;\n    if (e[0] = 31, e[1] = 139, e[2] = 8, e[8] = t.level < 2 ? 4 : 9 == t.level ? 2 : 0, e[9] = 3, 0 != t.mtime && $10f2f5626d5b2085$var$As(e, 4, Math.floor(new Date(t.mtime || Date.now()) / 1e3)), i) {\n        e[3] = 8;\n        for(var s = 0; s <= i.length; ++s)e[s + 10] = i.charCodeAt(s);\n    }\n}, $10f2f5626d5b2085$var$Ls = function(e) {\n    return 10 + (e.filename && e.filename.length + 1 || 0);\n};\nfunction $10f2f5626d5b2085$var$Ds(e, t) {\n    void 0 === t && (t = {});\n    var i = $10f2f5626d5b2085$var$Ts(), s = e.length;\n    i.p(e);\n    var n = $10f2f5626d5b2085$var$$s(e, t, $10f2f5626d5b2085$var$Ls(t), 8), r = n.length;\n    return $10f2f5626d5b2085$var$Ms(n, t), $10f2f5626d5b2085$var$As(n, r - 8, i.d()), $10f2f5626d5b2085$var$As(n, r - 4, s), n;\n}\nfunction $10f2f5626d5b2085$var$Os(e, t) {\n    var i = e.length;\n    if (\"undefined\" != typeof TextEncoder) return (new TextEncoder).encode(e);\n    for(var s = new $10f2f5626d5b2085$var$es(e.length + (e.length >>> 1)), n = 0, r = function(e) {\n        s[n++] = e;\n    }, o = 0; o < i; ++o){\n        if (n + 5 > s.length) {\n            var a = new $10f2f5626d5b2085$var$es(n + 8 + (i - o << 1));\n            a.set(s), s = a;\n        }\n        var l = e.charCodeAt(o);\n        l < 128 || t ? r(l) : l < 2048 ? (r(192 | l >>> 6), r(128 | 63 & l)) : l > 55295 && l < 57344 ? (r(240 | (l = 65536 + (1047552 & l) | 1023 & e.charCodeAt(++o)) >>> 18), r(128 | l >>> 12 & 63), r(128 | l >>> 6 & 63), r(128 | 63 & l)) : (r(224 | l >>> 12), r(128 | l >>> 6 & 63), r(128 | 63 & l));\n    }\n    return $10f2f5626d5b2085$var$bs(s, 0, n);\n}\nconst $10f2f5626d5b2085$var$Ns = 3e5, $10f2f5626d5b2085$var$qs = [\n    $10f2f5626d5b2085$var$pi.MouseMove,\n    $10f2f5626d5b2085$var$pi.MouseInteraction,\n    $10f2f5626d5b2085$var$pi.Scroll,\n    $10f2f5626d5b2085$var$pi.ViewportResize,\n    $10f2f5626d5b2085$var$pi.Input,\n    $10f2f5626d5b2085$var$pi.TouchMove,\n    $10f2f5626d5b2085$var$pi.MediaInteraction,\n    $10f2f5626d5b2085$var$pi.Drag\n], $10f2f5626d5b2085$var$Bs = (e)=>({\n        rrwebMethod: e,\n        enqueuedAt: Date.now(),\n        attempt: 1\n    }), $10f2f5626d5b2085$var$Hs = \"[SessionRecording]\";\nfunction $10f2f5626d5b2085$var$Us(e) {\n    return function(e, t) {\n        for(var i = \"\", s = 0; s < e.length;){\n            var n = e[s++];\n            n < 128 || t ? i += String.fromCharCode(n) : n < 224 ? i += String.fromCharCode((31 & n) << 6 | 63 & e[s++]) : n < 240 ? i += String.fromCharCode((15 & n) << 12 | (63 & e[s++]) << 6 | 63 & e[s++]) : (n = ((15 & n) << 18 | (63 & e[s++]) << 12 | (63 & e[s++]) << 6 | 63 & e[s++]) - 65536, i += String.fromCharCode(55296 | n >> 10, 56320 | 1023 & n));\n        }\n        return i;\n    }($10f2f5626d5b2085$var$Ds($10f2f5626d5b2085$var$Os(JSON.stringify(e))), !0);\n}\nfunction $10f2f5626d5b2085$var$Ws(e) {\n    return e.type === $10f2f5626d5b2085$var$_i.Custom && \"sessionIdle\" === e.data.tag;\n}\nfunction $10f2f5626d5b2085$var$zs(e, t) {\n    return t.some((t)=>\"regex\" === t.matching && new RegExp(t.url).test(e));\n}\nclass $10f2f5626d5b2085$var$Vs {\n    queuedRRWebEvents = [];\n    isIdle = !1;\n    _linkedFlagSeen = !1;\n    _lastActivityTimestamp = Date.now();\n    _linkedFlag = null;\n    _removePageViewCaptureHook = void 0;\n    _onSessionIdListener = void 0;\n    _persistDecideOnSessionListener = void 0;\n    _samplingSessionListener = void 0;\n    _urlTriggers = [];\n    _urlBlocklist = [];\n    _urlBlocked = !1;\n    _eventTriggers = [];\n    _removeEventTriggerCaptureHook = void 0;\n    _forceAllowLocalhostNetworkCapture = !1;\n    get sessionIdleThresholdMilliseconds() {\n        return this.instance.config.session_recording.session_idle_threshold_ms || 3e5;\n    }\n    get rrwebRecord() {\n        var e, t;\n        return null == $10f2f5626d5b2085$var$h || null === (e = $10f2f5626d5b2085$var$h.__PosthogExtensions__) || void 0 === e || null === (t = e.rrweb) || void 0 === t ? void 0 : t.record;\n    }\n    get started() {\n        return this._captureStarted;\n    }\n    get sessionManager() {\n        if (!this.instance.sessionManager) throw new Error($10f2f5626d5b2085$var$Hs + \" must be started with a valid sessionManager.\");\n        return this.instance.sessionManager;\n    }\n    get fullSnapshotIntervalMillis() {\n        var e, t;\n        return \"trigger_pending\" === this.triggerStatus ? 6e4 : null !== (e = null === (t = this.instance.config.session_recording) || void 0 === t ? void 0 : t.full_snapshot_interval_millis) && void 0 !== e ? e : $10f2f5626d5b2085$var$Ns;\n    }\n    get isSampled() {\n        const e = this.instance.get_property($10f2f5626d5b2085$var$pe);\n        return $10f2f5626d5b2085$var$P(e) ? e : null;\n    }\n    get sessionDuration() {\n        var e, t;\n        const i = null === (e = this.buffer) || void 0 === e ? void 0 : e.data[(null === (t = this.buffer) || void 0 === t ? void 0 : t.data.length) - 1], { sessionStartTimestamp: s } = this.sessionManager.checkAndGetSessionAndWindowId(!0);\n        return i ? i.timestamp - s : null;\n    }\n    get isRecordingEnabled() {\n        const t = !!this.instance.get_property($10f2f5626d5b2085$var$ae), i = !this.instance.config.disable_session_recording;\n        return $10f2f5626d5b2085$var$e && t && i;\n    }\n    get isConsoleLogCaptureEnabled() {\n        const e = !!this.instance.get_property($10f2f5626d5b2085$var$le), t = this.instance.config.enable_recording_console_log;\n        return null != t ? t : e;\n    }\n    get canvasRecording() {\n        var e, t, i, s, n, r;\n        const o = this.instance.config.session_recording.captureCanvas, a = this.instance.get_property($10f2f5626d5b2085$var$ue), l = null !== (e = null !== (t = null == o ? void 0 : o.recordCanvas) && void 0 !== t ? t : null == a ? void 0 : a.enabled) && void 0 !== e && e, c = null !== (i = null !== (s = null == o ? void 0 : o.canvasFps) && void 0 !== s ? s : null == a ? void 0 : a.fps) && void 0 !== i ? i : 0, u = null !== (n = null !== (r = null == o ? void 0 : o.canvasQuality) && void 0 !== r ? r : null == a ? void 0 : a.quality) && void 0 !== n ? n : 0;\n        return {\n            enabled: l,\n            fps: $10f2f5626d5b2085$var$Ki(c, 0, 12, \"canvas recording fps\"),\n            quality: $10f2f5626d5b2085$var$Ki(u, 0, 1, \"canvas recording quality\")\n        };\n    }\n    get networkPayloadCapture() {\n        var e, t;\n        const i = this.instance.get_property($10f2f5626d5b2085$var$ce), s = {\n            recordHeaders: null === (e = this.instance.config.session_recording) || void 0 === e ? void 0 : e.recordHeaders,\n            recordBody: null === (t = this.instance.config.session_recording) || void 0 === t ? void 0 : t.recordBody\n        }, n = (null == s ? void 0 : s.recordHeaders) || (null == i ? void 0 : i.recordHeaders), r = (null == s ? void 0 : s.recordBody) || (null == i ? void 0 : i.recordBody), o = $10f2f5626d5b2085$var$b(this.instance.config.capture_performance) ? this.instance.config.capture_performance.network_timing : this.instance.config.capture_performance, a = !!($10f2f5626d5b2085$var$P(o) ? o : null == i ? void 0 : i.capturePerformance);\n        return n || r || a ? {\n            recordHeaders: n,\n            recordBody: r,\n            recordPerformance: a\n        } : void 0;\n    }\n    get sampleRate() {\n        const e = this.instance.get_property($10f2f5626d5b2085$var$de);\n        return $10f2f5626d5b2085$var$R(e) ? e : null;\n    }\n    get minimumDuration() {\n        const e = this.instance.get_property($10f2f5626d5b2085$var$he);\n        return $10f2f5626d5b2085$var$R(e) ? e : null;\n    }\n    get status() {\n        return this.receivedDecide ? this.isRecordingEnabled ? $10f2f5626d5b2085$var$I(this._linkedFlag) || this._linkedFlagSeen ? \"trigger_pending\" === this.triggerStatus ? \"buffering\" : this._urlBlocked ? \"paused\" : $10f2f5626d5b2085$var$P(this.isSampled) ? this.isSampled ? \"sampled\" : \"disabled\" : \"active\" : \"buffering\" : \"disabled\" : \"buffering\";\n    }\n    get urlTriggerStatus() {\n        var e;\n        if (0 === this._urlTriggers.length) return \"trigger_disabled\";\n        return (null === (e = this.instance) || void 0 === e ? void 0 : e.get_property($10f2f5626d5b2085$var$ge)) === this.sessionId ? \"trigger_activated\" : \"trigger_pending\";\n    }\n    get eventTriggerStatus() {\n        var e;\n        if (0 === this._eventTriggers.length) return \"trigger_disabled\";\n        return (null === (e = this.instance) || void 0 === e ? void 0 : e.get_property($10f2f5626d5b2085$var$fe)) === this.sessionId ? \"trigger_activated\" : \"trigger_pending\";\n    }\n    get triggerStatus() {\n        const e = \"trigger_activated\" === this.eventTriggerStatus || \"trigger_activated\" === this.urlTriggerStatus, t = \"trigger_pending\" === this.eventTriggerStatus || \"trigger_pending\" === this.urlTriggerStatus;\n        return e ? \"trigger_activated\" : t ? \"trigger_pending\" : \"trigger_disabled\";\n    }\n    constructor(e){\n        if (this.instance = e, this._captureStarted = !1, this._endpoint = \"/s/\", this.stopRrweb = void 0, this.receivedDecide = !1, !this.instance.sessionManager) throw $10f2f5626d5b2085$var$T.error($10f2f5626d5b2085$var$Hs + \" started without valid sessionManager\"), new Error($10f2f5626d5b2085$var$Hs + \" started without valid sessionManager. This is a bug.\");\n        const { sessionId: t, windowId: i } = this.sessionManager.checkAndGetSessionAndWindowId();\n        this.sessionId = t, this.windowId = i, this.buffer = this.clearBuffer(), this.sessionIdleThresholdMilliseconds >= this.sessionManager.sessionTimeoutMs && $10f2f5626d5b2085$var$T.warn($10f2f5626d5b2085$var$Hs + ` session_idle_threshold_ms (${this.sessionIdleThresholdMilliseconds}) is greater than the session timeout (${this.sessionManager.sessionTimeoutMs}). Session will never be detected as idle`);\n    }\n    _onBeforeUnload = ()=>{\n        this._flushBuffer();\n    };\n    _onOffline = ()=>{\n        this._tryAddCustomEvent(\"browser offline\", {});\n    };\n    _onOnline = ()=>{\n        this._tryAddCustomEvent(\"browser online\", {});\n    };\n    _onVisibilityChange = ()=>{\n        if (null != $10f2f5626d5b2085$var$o && $10f2f5626d5b2085$var$o.visibilityState) {\n            const e = \"window \" + $10f2f5626d5b2085$var$o.visibilityState;\n            this._tryAddCustomEvent(e, {});\n        }\n    };\n    startIfEnabledOrStop(t) {\n        this.isRecordingEnabled ? (this._startCapture(t), null == $10f2f5626d5b2085$var$e || $10f2f5626d5b2085$var$e.addEventListener(\"beforeunload\", this._onBeforeUnload), null == $10f2f5626d5b2085$var$e || $10f2f5626d5b2085$var$e.addEventListener(\"offline\", this._onOffline), null == $10f2f5626d5b2085$var$e || $10f2f5626d5b2085$var$e.addEventListener(\"online\", this._onOnline), null == $10f2f5626d5b2085$var$e || $10f2f5626d5b2085$var$e.addEventListener(\"visibilitychange\", this._onVisibilityChange), this._setupSampling(), this._addEventTriggerListener(), $10f2f5626d5b2085$var$I(this._removePageViewCaptureHook) && (this._removePageViewCaptureHook = this.instance._addCaptureHook((t)=>{\n            try {\n                if (\"$pageview\" === t) {\n                    const t = $10f2f5626d5b2085$var$e ? this._maskUrl($10f2f5626d5b2085$var$e.location.href) : \"\";\n                    if (!t) return;\n                    this._tryAddCustomEvent(\"$pageview\", {\n                        href: t\n                    });\n                }\n            } catch (e) {\n                $10f2f5626d5b2085$var$T.error(\"Could not add $pageview to rrweb session\", e);\n            }\n        })), this._onSessionIdListener || (this._onSessionIdListener = this.sessionManager.onSessionId((e, t, i)=>{\n            var s, n, r, o;\n            i && (this._tryAddCustomEvent(\"$session_id_change\", {\n                sessionId: e,\n                windowId: t,\n                changeReason: i\n            }), null === (s = this.instance) || void 0 === s || null === (n = s.persistence) || void 0 === n || n.unregister($10f2f5626d5b2085$var$fe), null === (r = this.instance) || void 0 === r || null === (o = r.persistence) || void 0 === o || o.unregister($10f2f5626d5b2085$var$ge));\n        }))) : this.stopRecording();\n    }\n    stopRecording() {\n        var t, i, s, n;\n        this._captureStarted && this.stopRrweb && (this.stopRrweb(), this.stopRrweb = void 0, this._captureStarted = !1, null == $10f2f5626d5b2085$var$e || $10f2f5626d5b2085$var$e.removeEventListener(\"beforeunload\", this._onBeforeUnload), null == $10f2f5626d5b2085$var$e || $10f2f5626d5b2085$var$e.removeEventListener(\"offline\", this._onOffline), null == $10f2f5626d5b2085$var$e || $10f2f5626d5b2085$var$e.removeEventListener(\"online\", this._onOnline), null == $10f2f5626d5b2085$var$e || $10f2f5626d5b2085$var$e.removeEventListener(\"visibilitychange\", this._onVisibilityChange), this.clearBuffer(), clearInterval(this._fullSnapshotTimer), null === (t = this._removePageViewCaptureHook) || void 0 === t || t.call(this), this._removePageViewCaptureHook = void 0, null === (i = this._removeEventTriggerCaptureHook) || void 0 === i || i.call(this), this._removeEventTriggerCaptureHook = void 0, null === (s = this._onSessionIdListener) || void 0 === s || s.call(this), this._onSessionIdListener = void 0, null === (n = this._samplingSessionListener) || void 0 === n || n.call(this), this._samplingSessionListener = void 0, $10f2f5626d5b2085$var$T.info($10f2f5626d5b2085$var$Hs + \" stopped\"));\n    }\n    makeSamplingDecision(e) {\n        var t;\n        const i = this.sessionId !== e, s = this.sampleRate;\n        var n;\n        if (!$10f2f5626d5b2085$var$R(s)) return void (null === (n = this.instance.persistence) || void 0 === n || n.register({\n            [$10f2f5626d5b2085$var$pe]: null\n        }));\n        const r = this.isSampled;\n        let o;\n        const a = i || !$10f2f5626d5b2085$var$P(r);\n        if (a) o = Math.random() < s;\n        else o = r;\n        a && (o ? this._reportStarted(\"sampled\") : $10f2f5626d5b2085$var$T.warn($10f2f5626d5b2085$var$Hs + ` Sample rate (${s}) has determined that this sessionId (${e}) will not be sent to the server.`), this._tryAddCustomEvent(\"samplingDecisionMade\", {\n            sampleRate: s,\n            isSampled: o\n        })), null === (t = this.instance.persistence) || void 0 === t || t.register({\n            [$10f2f5626d5b2085$var$pe]: o\n        });\n    }\n    afterDecideResponse(e) {\n        var t, i, s, n, r, o;\n        (this._persistDecideResponse(e), this._linkedFlag = (null === (t = e.sessionRecording) || void 0 === t ? void 0 : t.linkedFlag) || null, null !== (i = e.sessionRecording) && void 0 !== i && i.endpoint) && (this._endpoint = null === (o = e.sessionRecording) || void 0 === o ? void 0 : o.endpoint);\n        if (this._setupSampling(), !$10f2f5626d5b2085$var$I(this._linkedFlag) && !this._linkedFlagSeen) {\n            const e = $10f2f5626d5b2085$var$E(this._linkedFlag) ? this._linkedFlag : this._linkedFlag.flag, t = $10f2f5626d5b2085$var$E(this._linkedFlag) ? null : this._linkedFlag.variant;\n            this.instance.onFeatureFlags((i, s)=>{\n                const n = $10f2f5626d5b2085$var$b(s) && e in s, r = t ? s[e] === t : n;\n                r && this._reportStarted(\"linked_flag_matched\", {\n                    linkedFlag: e,\n                    linkedVariant: t\n                }), this._linkedFlagSeen = r;\n            });\n        }\n        null !== (s = e.sessionRecording) && void 0 !== s && s.urlTriggers && (this._urlTriggers = e.sessionRecording.urlTriggers), null !== (n = e.sessionRecording) && void 0 !== n && n.urlBlocklist && (this._urlBlocklist = e.sessionRecording.urlBlocklist), null !== (r = e.sessionRecording) && void 0 !== r && r.eventTriggers && (this._eventTriggers = e.sessionRecording.eventTriggers), this.receivedDecide = !0, this.startIfEnabledOrStop();\n    }\n    _setupSampling() {\n        $10f2f5626d5b2085$var$R(this.sampleRate) && $10f2f5626d5b2085$var$I(this._samplingSessionListener) && (this._samplingSessionListener = this.sessionManager.onSessionId((e)=>{\n            this.makeSamplingDecision(e);\n        }));\n    }\n    _persistDecideResponse(e) {\n        if (this.instance.persistence) {\n            var t;\n            const i = this.instance.persistence, s = ()=>{\n                var t, s, n, r, o, a, l;\n                const c = null === (t = e.sessionRecording) || void 0 === t ? void 0 : t.sampleRate, u = $10f2f5626d5b2085$var$I(c) ? null : parseFloat(c), d = null === (s = e.sessionRecording) || void 0 === s ? void 0 : s.minimumDurationMilliseconds;\n                i.register({\n                    [$10f2f5626d5b2085$var$ae]: !!e.sessionRecording,\n                    [$10f2f5626d5b2085$var$le]: null === (n = e.sessionRecording) || void 0 === n ? void 0 : n.consoleLogRecordingEnabled,\n                    [$10f2f5626d5b2085$var$ce]: {\n                        capturePerformance: e.capturePerformance,\n                        ...null === (r = e.sessionRecording) || void 0 === r ? void 0 : r.networkPayloadCapture\n                    },\n                    [$10f2f5626d5b2085$var$ue]: {\n                        enabled: null === (o = e.sessionRecording) || void 0 === o ? void 0 : o.recordCanvas,\n                        fps: null === (a = e.sessionRecording) || void 0 === a ? void 0 : a.canvasFps,\n                        quality: null === (l = e.sessionRecording) || void 0 === l ? void 0 : l.canvasQuality\n                    },\n                    [$10f2f5626d5b2085$var$de]: u,\n                    [$10f2f5626d5b2085$var$he]: $10f2f5626d5b2085$var$S(d) ? null : d\n                });\n            };\n            s(), null === (t = this._persistDecideOnSessionListener) || void 0 === t || t.call(this), this._persistDecideOnSessionListener = this.sessionManager.onSessionId(s);\n        }\n    }\n    log(e) {\n        var t;\n        let i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"log\";\n        null === (t = this.instance.sessionRecording) || void 0 === t || t.onRRwebEmit({\n            type: 6,\n            data: {\n                plugin: \"rrweb/console@1\",\n                payload: {\n                    level: i,\n                    trace: [],\n                    payload: [\n                        JSON.stringify(e)\n                    ]\n                }\n            },\n            timestamp: Date.now()\n        });\n    }\n    _startCapture(e) {\n        if (!$10f2f5626d5b2085$var$S(Object.assign) && !$10f2f5626d5b2085$var$S(Array.from) && !(this._captureStarted || this.instance.config.disable_session_recording || this.instance.consent.isOptedOut())) {\n            var t, i;\n            if (this._captureStarted = !0, this.sessionManager.checkAndGetSessionAndWindowId(), this.rrwebRecord) this._onScriptLoaded();\n            else null === (t = $10f2f5626d5b2085$var$h.__PosthogExtensions__) || void 0 === t || null === (i = t.loadExternalDependency) || void 0 === i || i.call(t, this.instance, \"recorder\", (e)=>{\n                if (e) return $10f2f5626d5b2085$var$T.error($10f2f5626d5b2085$var$Hs + \" could not load recorder\", e);\n                this._onScriptLoaded();\n            });\n            $10f2f5626d5b2085$var$T.info($10f2f5626d5b2085$var$Hs + \" starting\"), \"active\" === this.status && this._reportStarted(e || \"recording_initialized\");\n        }\n    }\n    isInteractiveEvent(e) {\n        var t;\n        return 3 === e.type && -1 !== $10f2f5626d5b2085$var$qs.indexOf(null === (t = e.data) || void 0 === t ? void 0 : t.source);\n    }\n    _updateWindowAndSessionIds(e) {\n        const t = this.isInteractiveEvent(e);\n        if (!t && !this.isIdle) e.timestamp - this._lastActivityTimestamp > this.sessionIdleThresholdMilliseconds && (this.isIdle = !0, clearInterval(this._fullSnapshotTimer), this._tryAddCustomEvent(\"sessionIdle\", {\n            eventTimestamp: e.timestamp,\n            lastActivityTimestamp: this._lastActivityTimestamp,\n            threshold: this.sessionIdleThresholdMilliseconds,\n            bufferLength: this.buffer.data.length,\n            bufferSize: this.buffer.size\n        }), this._flushBuffer());\n        let i = !1;\n        if (t && (this._lastActivityTimestamp = e.timestamp, this.isIdle && (this.isIdle = !1, this._tryAddCustomEvent(\"sessionNoLongerIdle\", {\n            reason: \"user activity\",\n            type: e.type\n        }), i = !0)), this.isIdle) return;\n        const { windowId: s, sessionId: n } = this.sessionManager.checkAndGetSessionAndWindowId(!t, e.timestamp), r = this.sessionId !== n, o = this.windowId !== s;\n        this.windowId = s, this.sessionId = n, r || o ? (this.stopRecording(), this.startIfEnabledOrStop(\"session_id_changed\")) : i && this._scheduleFullSnapshot();\n    }\n    _tryRRWebMethod(e) {\n        try {\n            return e.rrwebMethod(), !0;\n        } catch (t) {\n            return this.queuedRRWebEvents.length < 10 ? this.queuedRRWebEvents.push({\n                enqueuedAt: e.enqueuedAt || Date.now(),\n                attempt: e.attempt++,\n                rrwebMethod: e.rrwebMethod\n            }) : $10f2f5626d5b2085$var$T.warn($10f2f5626d5b2085$var$Hs + \" could not emit queued rrweb event.\", t, e), !1;\n        }\n    }\n    _tryAddCustomEvent(e, t) {\n        return this._tryRRWebMethod($10f2f5626d5b2085$var$Bs(()=>this.rrwebRecord.addCustomEvent(e, t)));\n    }\n    _tryTakeFullSnapshot() {\n        return this._tryRRWebMethod($10f2f5626d5b2085$var$Bs(()=>this.rrwebRecord.takeFullSnapshot()));\n    }\n    _onScriptLoaded() {\n        var e;\n        const t = {\n            blockClass: \"ph-no-capture\",\n            blockSelector: void 0,\n            ignoreClass: \"ph-ignore-input\",\n            maskTextClass: \"ph-mask\",\n            maskTextSelector: void 0,\n            maskTextFn: void 0,\n            maskAllInputs: !0,\n            maskInputOptions: {\n                password: !0\n            },\n            maskInputFn: void 0,\n            slimDOMOptions: {},\n            collectFonts: !1,\n            inlineStylesheet: !0,\n            recordCrossOriginIframes: !1\n        }, i = this.instance.config.session_recording;\n        for (const [e, s] of Object.entries(i || {}))e in t && (\"maskInputOptions\" === e ? t.maskInputOptions = {\n            password: !0,\n            ...s\n        } : t[e] = s);\n        if (this.canvasRecording && this.canvasRecording.enabled && (t.recordCanvas = !0, t.sampling = {\n            canvas: this.canvasRecording.fps\n        }, t.dataURLOptions = {\n            type: \"image/webp\",\n            quality: this.canvasRecording.quality\n        }), !this.rrwebRecord) return void $10f2f5626d5b2085$var$T.error($10f2f5626d5b2085$var$Hs + \"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.\");\n        this.mutationRateLimiter = null !== (e = this.mutationRateLimiter) && void 0 !== e ? e : new $10f2f5626d5b2085$var$Zi(this.rrwebRecord, {\n            refillRate: this.instance.config.session_recording.__mutationRateLimiterRefillRate,\n            bucketSize: this.instance.config.session_recording.__mutationRateLimiterBucketSize,\n            onBlockedNode: (e, t)=>{\n                const i = `Too many mutations on node '${e}'. Rate limiting. This could be due to SVG animations or something similar`;\n                $10f2f5626d5b2085$var$T.info(i, {\n                    node: t\n                }), this.log($10f2f5626d5b2085$var$Hs + \" \" + i, \"warn\");\n            }\n        });\n        const s = this._gatherRRWebPlugins();\n        this.stopRrweb = this.rrwebRecord({\n            emit: (e)=>{\n                this.onRRwebEmit(e);\n            },\n            plugins: s,\n            ...t\n        }), this._lastActivityTimestamp = Date.now(), this.isIdle = !1, this._tryAddCustomEvent(\"$session_options\", {\n            sessionRecordingOptions: t,\n            activePlugins: s.map((e)=>null == e ? void 0 : e.name)\n        }), this._tryAddCustomEvent(\"$posthog_config\", {\n            config: this.instance.config\n        });\n    }\n    _scheduleFullSnapshot() {\n        if (this._fullSnapshotTimer && clearInterval(this._fullSnapshotTimer), this.isIdle) return;\n        const e = this.fullSnapshotIntervalMillis;\n        e && (this._fullSnapshotTimer = setInterval(()=>{\n            this._tryTakeFullSnapshot();\n        }, e));\n    }\n    _gatherRRWebPlugins() {\n        var e, t, i, s;\n        const n = [], r = null === (e = $10f2f5626d5b2085$var$h.__PosthogExtensions__) || void 0 === e || null === (t = e.rrwebPlugins) || void 0 === t ? void 0 : t.getRecordConsolePlugin;\n        r && this.isConsoleLogCaptureEnabled && n.push(r());\n        const o = null === (i = $10f2f5626d5b2085$var$h.__PosthogExtensions__) || void 0 === i || null === (s = i.rrwebPlugins) || void 0 === s ? void 0 : s.getRecordNetworkPlugin;\n        if (this.networkPayloadCapture && $10f2f5626d5b2085$var$y(o)) !$10f2f5626d5b2085$var$rt.includes(location.hostname) || this._forceAllowLocalhostNetworkCapture ? n.push(o($10f2f5626d5b2085$var$Xi(this.instance.config, this.networkPayloadCapture))) : $10f2f5626d5b2085$var$T.info($10f2f5626d5b2085$var$Hs + \" NetworkCapture not started because we are on localhost.\");\n        return n;\n    }\n    onRRwebEmit(e) {\n        var t;\n        if (this._processQueuedEvents(), !e || !$10f2f5626d5b2085$var$b(e)) return;\n        if (e.type === $10f2f5626d5b2085$var$_i.Meta) {\n            const t = this._maskUrl(e.data.href);\n            if (this._lastHref = t, !t) return;\n            e.data.href = t;\n        } else this._pageViewFallBack();\n        if (this._checkUrlTriggerConditions(), \"paused\" === this.status && !function(e) {\n            return e.type === $10f2f5626d5b2085$var$_i.Custom && \"recording paused\" === e.data.tag;\n        }(e)) return;\n        e.type === $10f2f5626d5b2085$var$_i.FullSnapshot && this._scheduleFullSnapshot(), e.type === $10f2f5626d5b2085$var$_i.FullSnapshot && \"trigger_pending\" === this.triggerStatus && this.clearBuffer();\n        const i = this.mutationRateLimiter ? this.mutationRateLimiter.throttleMutations(e) : e;\n        if (!i) return;\n        const s = function(e) {\n            const t = e;\n            if (t && $10f2f5626d5b2085$var$b(t) && 6 === t.type && $10f2f5626d5b2085$var$b(t.data) && \"rrweb/console@1\" === t.data.plugin) {\n                t.data.payload.payload.length > 10 && (t.data.payload.payload = t.data.payload.payload.slice(0, 10), t.data.payload.payload.push(\"...[truncated]\"));\n                const i = [];\n                for(let e = 0; e < t.data.payload.payload.length; e++)t.data.payload.payload[e] && t.data.payload.payload[e].length > 2e3 ? i.push(t.data.payload.payload[e].slice(0, 2e3) + \"...[truncated]\") : i.push(t.data.payload.payload[e]);\n                return t.data.payload.payload = i, e;\n            }\n            return e;\n        }(i);\n        if (this._updateWindowAndSessionIds(s), this.isIdle && !$10f2f5626d5b2085$var$Ws(s)) return;\n        if ($10f2f5626d5b2085$var$Ws(s)) {\n            const e = s.data.payload;\n            if (e) {\n                const t = e.lastActivityTimestamp, i = e.threshold;\n                s.timestamp = t + i;\n            }\n        }\n        const n = null === (t = this.instance.config.session_recording.compress_events) || void 0 === t || t ? function(e) {\n            if ($10f2f5626d5b2085$var$di(e) < 1024) return e;\n            try {\n                if (e.type === $10f2f5626d5b2085$var$_i.FullSnapshot) return {\n                    ...e,\n                    data: $10f2f5626d5b2085$var$Us(e.data),\n                    cv: \"2024-10\"\n                };\n                if (e.type === $10f2f5626d5b2085$var$_i.IncrementalSnapshot && e.data.source === $10f2f5626d5b2085$var$pi.Mutation) return {\n                    ...e,\n                    cv: \"2024-10\",\n                    data: {\n                        ...e.data,\n                        texts: $10f2f5626d5b2085$var$Us(e.data.texts),\n                        attributes: $10f2f5626d5b2085$var$Us(e.data.attributes),\n                        removes: $10f2f5626d5b2085$var$Us(e.data.removes),\n                        adds: $10f2f5626d5b2085$var$Us(e.data.adds)\n                    }\n                };\n                if (e.type === $10f2f5626d5b2085$var$_i.IncrementalSnapshot && e.data.source === $10f2f5626d5b2085$var$pi.StyleSheetRule) return {\n                    ...e,\n                    cv: \"2024-10\",\n                    data: {\n                        ...e.data,\n                        adds: $10f2f5626d5b2085$var$Us(e.data.adds),\n                        removes: $10f2f5626d5b2085$var$Us(e.data.removes)\n                    }\n                };\n            } catch (e) {\n                $10f2f5626d5b2085$var$T.error($10f2f5626d5b2085$var$Hs + \" could not compress event - will use uncompressed event\", e);\n            }\n            return e;\n        }(s) : s, r = {\n            $snapshot_bytes: $10f2f5626d5b2085$var$di(n),\n            $snapshot_data: n,\n            $session_id: this.sessionId,\n            $window_id: this.windowId\n        };\n        \"disabled\" !== this.status ? this._captureSnapshotBuffered(r) : this.clearBuffer();\n    }\n    _pageViewFallBack() {\n        if (this.instance.config.capture_pageview || !$10f2f5626d5b2085$var$e) return;\n        const t = this._maskUrl($10f2f5626d5b2085$var$e.location.href);\n        this._lastHref !== t && (this._tryAddCustomEvent(\"$url_changed\", {\n            href: t\n        }), this._lastHref = t);\n    }\n    _processQueuedEvents() {\n        if (this.queuedRRWebEvents.length) {\n            const e = [\n                ...this.queuedRRWebEvents\n            ];\n            this.queuedRRWebEvents = [], e.forEach((e)=>{\n                Date.now() - e.enqueuedAt <= 2e3 && this._tryRRWebMethod(e);\n            });\n        }\n    }\n    _maskUrl(e) {\n        const t = this.instance.config.session_recording;\n        if (t.maskNetworkRequestFn) {\n            var i;\n            let s = {\n                url: e\n            };\n            return s = t.maskNetworkRequestFn(s), null === (i = s) || void 0 === i ? void 0 : i.url;\n        }\n        return e;\n    }\n    clearBuffer() {\n        return this.buffer = {\n            size: 0,\n            data: [],\n            sessionId: this.sessionId,\n            windowId: this.windowId\n        }, this.buffer;\n    }\n    _flushBuffer() {\n        this.flushBufferTimer && (clearTimeout(this.flushBufferTimer), this.flushBufferTimer = void 0);\n        const e = this.minimumDuration, t = this.sessionDuration, i = $10f2f5626d5b2085$var$R(t) && t >= 0, s = $10f2f5626d5b2085$var$R(e) && i && t < e;\n        if (\"buffering\" === this.status || s) return this.flushBufferTimer = setTimeout(()=>{\n            this._flushBuffer();\n        }, 2e3), this.buffer;\n        if (this.buffer.data.length > 0) $10f2f5626d5b2085$var$hi(this.buffer).forEach((e)=>{\n            this._captureSnapshot({\n                $snapshot_bytes: e.size,\n                $snapshot_data: e.data,\n                $session_id: e.sessionId,\n                $window_id: e.windowId\n            });\n        });\n        return this.clearBuffer();\n    }\n    _captureSnapshotBuffered(e) {\n        var t;\n        const i = 2 + ((null === (t = this.buffer) || void 0 === t ? void 0 : t.data.length) || 0);\n        !this.isIdle && (this.buffer.size + e.$snapshot_bytes + i > 943718.4 || this.buffer.sessionId !== this.sessionId) && (this.buffer = this._flushBuffer()), this.buffer.size += e.$snapshot_bytes, this.buffer.data.push(e.$snapshot_data), this.flushBufferTimer || this.isIdle || (this.flushBufferTimer = setTimeout(()=>{\n            this._flushBuffer();\n        }, 2e3));\n    }\n    _captureSnapshot(e) {\n        this.instance.capture(\"$snapshot\", e, {\n            _url: this.instance.requestRouter.endpointFor(\"api\", this._endpoint),\n            _noTruncate: !0,\n            _batchKey: \"recordings\",\n            skip_client_rate_limiting: !0\n        });\n    }\n    _checkUrlTriggerConditions() {\n        if (void 0 === $10f2f5626d5b2085$var$e || !$10f2f5626d5b2085$var$e.location.href) return;\n        const t = $10f2f5626d5b2085$var$e.location.href, i = \"paused\" === this.status, s = $10f2f5626d5b2085$var$zs(t, this._urlBlocklist);\n        s && !i ? this._pauseRecording() : !s && i && this._resumeRecording(), $10f2f5626d5b2085$var$zs(t, this._urlTriggers) && this._activateTrigger(\"url\");\n    }\n    _activateTrigger(e) {\n        var t, i;\n        \"trigger_pending\" === this.triggerStatus && (null === (t = this.instance) || void 0 === t || null === (i = t.persistence) || void 0 === i || i.register({\n            [\"url\" === e ? $10f2f5626d5b2085$var$ge : $10f2f5626d5b2085$var$fe]: this.sessionId\n        }), this._flushBuffer(), this._reportStarted(e + \"_trigger_matched\"));\n    }\n    _pauseRecording() {\n        var e, t;\n        \"paused\" !== this.status && (this._urlBlocked = !0, null == $10f2f5626d5b2085$var$o || null === (e = $10f2f5626d5b2085$var$o.body) || void 0 === e || null === (t = e.classList) || void 0 === t || t.add(\"ph-no-capture\"), clearInterval(this._fullSnapshotTimer), setTimeout(()=>{\n            this._flushBuffer();\n        }, 100), $10f2f5626d5b2085$var$T.info($10f2f5626d5b2085$var$Hs + \" recording paused due to URL blocker\"), this._tryAddCustomEvent(\"recording paused\", {\n            reason: \"url blocker\"\n        }));\n    }\n    _resumeRecording() {\n        var e, t;\n        \"paused\" === this.status && (this._urlBlocked = !1, null == $10f2f5626d5b2085$var$o || null === (e = $10f2f5626d5b2085$var$o.body) || void 0 === e || null === (t = e.classList) || void 0 === t || t.remove(\"ph-no-capture\"), this._tryTakeFullSnapshot(), this._scheduleFullSnapshot(), this._tryAddCustomEvent(\"recording resumed\", {\n            reason: \"left blocked url\"\n        }), $10f2f5626d5b2085$var$T.info($10f2f5626d5b2085$var$Hs + \" recording resumed\"));\n    }\n    _addEventTriggerListener() {\n        0 !== this._eventTriggers.length && $10f2f5626d5b2085$var$I(this._removeEventTriggerCaptureHook) && (this._removeEventTriggerCaptureHook = this.instance.on(\"eventCaptured\", (e)=>{\n            try {\n                this._eventTriggers.includes(e.event) && this._activateTrigger(\"event\");\n            } catch (e) {\n                $10f2f5626d5b2085$var$T.error($10f2f5626d5b2085$var$Hs + \"Could not activate event trigger\", e);\n            }\n        }));\n    }\n    overrideLinkedFlag() {\n        this._linkedFlagSeen = !0, this._reportStarted(\"linked_flag_overridden\");\n    }\n    overrideSampling() {\n        var e;\n        null === (e = this.instance.persistence) || void 0 === e || e.register({\n            [$10f2f5626d5b2085$var$pe]: !0\n        }), this._reportStarted(\"sampling_overridden\");\n    }\n    overrideTrigger(e) {\n        this._activateTrigger(e);\n    }\n    _reportStarted(e, t) {\n        this.instance.register_for_session({\n            $session_recording_start_reason: e\n        }), $10f2f5626d5b2085$var$T.info($10f2f5626d5b2085$var$Hs + \" \" + e.replace(\"_\", \" \"), t), $10f2f5626d5b2085$var$N([\n            \"recording_initialized\",\n            \"session_id_changed\"\n        ], e) || this._tryAddCustomEvent(e, t);\n    }\n}\nclass $10f2f5626d5b2085$var$Gs {\n    constructor(e){\n        this.instance = e, this.instance.decideEndpointWasHit = this.instance._hasBootstrappedFeatureFlags();\n    }\n    call() {\n        const e = {\n            token: this.instance.config.token,\n            distinct_id: this.instance.get_distinct_id(),\n            groups: this.instance.getGroups(),\n            person_properties: this.instance.get_property($10f2f5626d5b2085$var$ye),\n            group_properties: this.instance.get_property($10f2f5626d5b2085$var$be),\n            disable_flags: this.instance.config.advanced_disable_feature_flags || this.instance.config.advanced_disable_feature_flags_on_first_load || void 0\n        };\n        this.instance._send_request({\n            method: \"POST\",\n            url: this.instance.requestRouter.endpointFor(\"api\", \"/decide/?v=3\"),\n            data: e,\n            compression: this.instance.config.disable_compression ? void 0 : $10f2f5626d5b2085$export$6a00d17b5aff0af.Base64,\n            timeout: this.instance.config.feature_flag_request_timeout_ms,\n            callback: (e)=>this.parseDecideResponse(e.json)\n        });\n    }\n    parseDecideResponse(e) {\n        this.instance.featureFlags.setReloadingPaused(!1), this.instance.featureFlags._startReloadTimer();\n        const t = !e;\n        if (this.instance.config.advanced_disable_feature_flags_on_first_load || this.instance.config.advanced_disable_feature_flags || this.instance.featureFlags.receivedFeatureFlags(null != e ? e : {}, t), t) $10f2f5626d5b2085$var$T.error(\"Failed to fetch feature flags from PostHog.\");\n        else {\n            if (!$10f2f5626d5b2085$var$o || !$10f2f5626d5b2085$var$o.body) return $10f2f5626d5b2085$var$T.info(\"document not ready yet, trying again in 500 milliseconds...\"), void setTimeout(()=>{\n                this.parseDecideResponse(e);\n            }, 500);\n            if (this.instance._afterDecideResponse(e), e.siteApps) {\n                if (this.instance.config.opt_in_site_apps) for (const { id: t, url: r } of e.siteApps){\n                    var i, s, n;\n                    $10f2f5626d5b2085$var$h[`__$$ph_site_app_${t}`] = this.instance, null === (i = $10f2f5626d5b2085$var$h.__PosthogExtensions__) || void 0 === i || null === (s = (n = i).loadSiteApp) || void 0 === s || s.call(n, this.instance, r, (e)=>{\n                        if (e) return $10f2f5626d5b2085$var$T.error(`Error while initializing PostHog app with config id ${t}`, e);\n                    });\n                }\n                else e.siteApps.length > 0 && $10f2f5626d5b2085$var$T.error('PostHog site apps are disabled. Enable the \"opt_in_site_apps\" config to proceed.');\n            }\n        }\n    }\n}\nconst $10f2f5626d5b2085$var$js = null != $10f2f5626d5b2085$var$e && $10f2f5626d5b2085$var$e.location ? $10f2f5626d5b2085$var$ut($10f2f5626d5b2085$var$e.location.hash, \"__posthog\") || $10f2f5626d5b2085$var$ut(location.hash, \"state\") : null, $10f2f5626d5b2085$var$Qs = \"_postHogToolbarParams\";\nvar $10f2f5626d5b2085$var$Js;\n!function(e) {\n    e[e.UNINITIALIZED = 0] = \"UNINITIALIZED\", e[e.LOADING = 1] = \"LOADING\", e[e.LOADED = 2] = \"LOADED\";\n}($10f2f5626d5b2085$var$Js || ($10f2f5626d5b2085$var$Js = {}));\nclass $10f2f5626d5b2085$var$Ys {\n    constructor(e){\n        this.instance = e;\n    }\n    setToolbarState(e) {\n        $10f2f5626d5b2085$var$h.ph_toolbar_state = e;\n    }\n    getToolbarState() {\n        var e;\n        return null !== (e = $10f2f5626d5b2085$var$h.ph_toolbar_state) && void 0 !== e ? e : $10f2f5626d5b2085$var$Js.UNINITIALIZED;\n    }\n    maybeLoadToolbar() {\n        var t, i;\n        let s = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : void 0, n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : void 0, r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : void 0;\n        if (!$10f2f5626d5b2085$var$e || !$10f2f5626d5b2085$var$o) return !1;\n        s = null !== (t = s) && void 0 !== t ? t : $10f2f5626d5b2085$var$e.location, r = null !== (i = r) && void 0 !== i ? i : $10f2f5626d5b2085$var$e.history;\n        try {\n            if (!n) {\n                try {\n                    $10f2f5626d5b2085$var$e.localStorage.setItem(\"test\", \"test\"), $10f2f5626d5b2085$var$e.localStorage.removeItem(\"test\");\n                } catch  {\n                    return !1;\n                }\n                n = null == $10f2f5626d5b2085$var$e ? void 0 : $10f2f5626d5b2085$var$e.localStorage;\n            }\n            const t = $10f2f5626d5b2085$var$js || $10f2f5626d5b2085$var$ut(s.hash, \"__posthog\") || $10f2f5626d5b2085$var$ut(s.hash, \"state\");\n            let i;\n            const o = t ? $10f2f5626d5b2085$var$B(()=>JSON.parse(atob(decodeURIComponent(t)))) || $10f2f5626d5b2085$var$B(()=>JSON.parse(decodeURIComponent(t))) : null;\n            return o && \"ph_authorize\" === o.action ? (i = o, i.source = \"url\", i && Object.keys(i).length > 0 && (o.desiredHash ? s.hash = o.desiredHash : r ? r.replaceState(r.state, \"\", s.pathname + s.search) : s.hash = \"\")) : (i = JSON.parse(n.getItem($10f2f5626d5b2085$var$Qs) || \"{}\"), i.source = \"localstorage\", delete i.userIntent), !(!i.token || this.instance.config.token !== i.token) && (this.loadToolbar(i), !0);\n        } catch  {\n            return !1;\n        }\n    }\n    _callLoadToolbar(e) {\n        ($10f2f5626d5b2085$var$h.ph_load_toolbar || $10f2f5626d5b2085$var$h.ph_load_editor)(e, this.instance);\n    }\n    loadToolbar(t) {\n        const i = !(null == $10f2f5626d5b2085$var$o || !$10f2f5626d5b2085$var$o.getElementById($10f2f5626d5b2085$var$Te));\n        if (!$10f2f5626d5b2085$var$e || i) return !1;\n        const s = \"custom\" === this.instance.requestRouter.region && this.instance.config.advanced_disable_toolbar_metrics, n = {\n            token: this.instance.config.token,\n            ...t,\n            apiURL: this.instance.requestRouter.endpointFor(\"ui\"),\n            ...s ? {\n                instrument: !1\n            } : {}\n        };\n        if ($10f2f5626d5b2085$var$e.localStorage.setItem($10f2f5626d5b2085$var$Qs, JSON.stringify({\n            ...n,\n            source: void 0\n        })), this.getToolbarState() === $10f2f5626d5b2085$var$Js.LOADED) this._callLoadToolbar(n);\n        else if (this.getToolbarState() === $10f2f5626d5b2085$var$Js.UNINITIALIZED) {\n            var r, a;\n            this.setToolbarState($10f2f5626d5b2085$var$Js.LOADING), null === (r = $10f2f5626d5b2085$var$h.__PosthogExtensions__) || void 0 === r || null === (a = r.loadExternalDependency) || void 0 === a || a.call(r, this.instance, \"toolbar\", (e)=>{\n                if (e) return $10f2f5626d5b2085$var$T.error(\"Failed to load toolbar\", e), void this.setToolbarState($10f2f5626d5b2085$var$Js.UNINITIALIZED);\n                this.setToolbarState($10f2f5626d5b2085$var$Js.LOADED), this._callLoadToolbar(n);\n            }), $10f2f5626d5b2085$var$G($10f2f5626d5b2085$var$e, \"turbolinks:load\", ()=>{\n                this.setToolbarState($10f2f5626d5b2085$var$Js.UNINITIALIZED), this.loadToolbar(n);\n            });\n        }\n        return !0;\n    }\n    _loadEditor(e) {\n        return this.loadToolbar(e);\n    }\n    maybeLoadEditor() {\n        let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : void 0, t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : void 0, i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : void 0;\n        return this.maybeLoadToolbar(e, t, i);\n    }\n}\nclass $10f2f5626d5b2085$var$Xs {\n    isPaused = !0;\n    queue = [];\n    flushTimeoutMs = 3e3;\n    constructor(e){\n        this.sendRequest = e;\n    }\n    enqueue(e) {\n        this.queue.push(e), this.flushTimeout || this.setFlushTimeout();\n    }\n    unload() {\n        this.clearFlushTimeout();\n        const e = this.queue.length > 0 ? this.formatQueue() : {}, t = Object.values(e), i = [\n            ...t.filter((e)=>0 === e.url.indexOf(\"/e\")),\n            ...t.filter((e)=>0 !== e.url.indexOf(\"/e\"))\n        ];\n        i.map((e)=>{\n            this.sendRequest({\n                ...e,\n                transport: \"sendBeacon\"\n            });\n        });\n    }\n    enable() {\n        this.isPaused = !1, this.setFlushTimeout();\n    }\n    setFlushTimeout() {\n        this.isPaused || (this.flushTimeout = setTimeout(()=>{\n            if (this.clearFlushTimeout(), this.queue.length > 0) {\n                const e = this.formatQueue();\n                for(const t in e){\n                    const i = e[t], s = (new Date).getTime();\n                    i.data && $10f2f5626d5b2085$var$m(i.data) && $10f2f5626d5b2085$var$D(i.data, (e)=>{\n                        e.offset = Math.abs(e.timestamp - s), delete e.timestamp;\n                    }), this.sendRequest(i);\n                }\n            }\n        }, this.flushTimeoutMs));\n    }\n    clearFlushTimeout() {\n        clearTimeout(this.flushTimeout), this.flushTimeout = void 0;\n    }\n    formatQueue() {\n        const e = {};\n        return $10f2f5626d5b2085$var$D(this.queue, (t)=>{\n            var i;\n            const s = t, n = (s ? s.batchKey : null) || s.url;\n            $10f2f5626d5b2085$var$S(e[n]) && (e[n] = {\n                ...s,\n                data: []\n            }), null === (i = e[n].data) || void 0 === i || i.push(s.data);\n        }), this.queue = [], e;\n    }\n}\nconst $10f2f5626d5b2085$var$Ks = !!$10f2f5626d5b2085$var$c || !!$10f2f5626d5b2085$var$l, $10f2f5626d5b2085$var$Zs = \"text/plain\", $10f2f5626d5b2085$var$en = (e, t)=>{\n    const [i, s] = e.split(\"?\"), n = {\n        ...t\n    };\n    null == s || s.split(\"&\").forEach((e)=>{\n        const [t] = e.split(\"=\");\n        delete n[t];\n    });\n    let r = $10f2f5626d5b2085$var$lt(n);\n    return r = r ? (s ? s + \"&\" : \"\") + r : s, `${i}?${r}`;\n}, $10f2f5626d5b2085$var$tn = (e)=>{\n    let { data: t, compression: i } = e;\n    if (!t) return;\n    if (i === $10f2f5626d5b2085$export$6a00d17b5aff0af.GZipJS) {\n        const e = $10f2f5626d5b2085$var$Ds($10f2f5626d5b2085$var$Os(JSON.stringify(t)), {\n            mtime: 0\n        }), i = new Blob([\n            e\n        ], {\n            type: $10f2f5626d5b2085$var$Zs\n        });\n        return {\n            contentType: $10f2f5626d5b2085$var$Zs,\n            body: i,\n            estimatedSize: i.size\n        };\n    }\n    if (i === $10f2f5626d5b2085$export$6a00d17b5aff0af.Base64) {\n        const e = function(e) {\n            const t = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n            let i, s, n, r, o, a, l, c, u = 0, d = 0, h = \"\";\n            const _ = [];\n            if (!e) return e;\n            e = $10f2f5626d5b2085$var$V(e);\n            do i = e.charCodeAt(u++), s = e.charCodeAt(u++), n = e.charCodeAt(u++), c = i << 16 | s << 8 | n, r = c >> 18 & 63, o = c >> 12 & 63, a = c >> 6 & 63, l = 63 & c, _[d++] = t.charAt(r) + t.charAt(o) + t.charAt(a) + t.charAt(l);\n            while (u < e.length);\n            switch(h = _.join(\"\"), e.length % 3){\n                case 1:\n                    h = h.slice(0, -2) + \"==\";\n                    break;\n                case 2:\n                    h = h.slice(0, -1) + \"=\";\n            }\n            return h;\n        }(JSON.stringify(t)), i = ((e)=>\"data=\" + encodeURIComponent(\"string\" == typeof e ? e : JSON.stringify(e)))(e);\n        return {\n            contentType: \"application/x-www-form-urlencoded\",\n            body: i,\n            estimatedSize: new Blob([\n                i\n            ]).size\n        };\n    }\n    const s = JSON.stringify(t);\n    return {\n        contentType: \"application/json\",\n        body: s,\n        estimatedSize: new Blob([\n            s\n        ]).size\n    };\n}, $10f2f5626d5b2085$var$sn = (e)=>{\n    var t;\n    const i = new $10f2f5626d5b2085$var$c;\n    i.open(e.method || \"GET\", e.url, !0);\n    const { contentType: s, body: n } = null !== (t = $10f2f5626d5b2085$var$tn(e)) && void 0 !== t ? t : {};\n    $10f2f5626d5b2085$var$D(e.headers, function(e, t) {\n        i.setRequestHeader(t, e);\n    }), s && i.setRequestHeader(\"Content-Type\", s), e.timeout && (i.timeout = e.timeout), i.withCredentials = !0, i.onreadystatechange = ()=>{\n        if (4 === i.readyState) {\n            var t;\n            const s = {\n                statusCode: i.status,\n                text: i.responseText\n            };\n            if (200 === i.status) try {\n                s.json = JSON.parse(i.responseText);\n            } catch  {}\n            null === (t = e.callback) || void 0 === t || t.call(e, s);\n        }\n    }, i.send(n);\n}, $10f2f5626d5b2085$var$nn = (e)=>{\n    var t, i;\n    const { contentType: s, body: n, estimatedSize: r } = null !== (t = $10f2f5626d5b2085$var$tn(e)) && void 0 !== t ? t : {}, o = new Headers;\n    $10f2f5626d5b2085$var$D(e.headers, function(e, t) {\n        o.append(t, e);\n    }), s && o.append(\"Content-Type\", s);\n    const a = e.url;\n    let c = null;\n    if ($10f2f5626d5b2085$var$u) {\n        const t = new $10f2f5626d5b2085$var$u;\n        c = {\n            signal: t.signal,\n            timeout: setTimeout(()=>t.abort(), e.timeout)\n        };\n    }\n    $10f2f5626d5b2085$var$l(a, {\n        method: (null == e ? void 0 : e.method) || \"GET\",\n        headers: o,\n        keepalive: \"POST\" === e.method && (r || 0) < 52428.8,\n        body: n,\n        signal: null === (i = c) || void 0 === i ? void 0 : i.signal\n    }).then((t)=>t.text().then((i)=>{\n            var s;\n            const n = {\n                statusCode: t.status,\n                text: i\n            };\n            if (200 === t.status) try {\n                n.json = JSON.parse(i);\n            } catch (e) {\n                $10f2f5626d5b2085$var$T.error(e);\n            }\n            null === (s = e.callback) || void 0 === s || s.call(e, n);\n        })).catch((t)=>{\n        var i;\n        $10f2f5626d5b2085$var$T.error(t), null === (i = e.callback) || void 0 === i || i.call(e, {\n            statusCode: 0,\n            text: t\n        });\n    }).finally(()=>c ? clearTimeout(c.timeout) : null);\n}, $10f2f5626d5b2085$var$rn = (e)=>{\n    const t = $10f2f5626d5b2085$var$en(e.url, {\n        beacon: \"1\"\n    });\n    try {\n        var i;\n        const { contentType: s, body: n } = null !== (i = $10f2f5626d5b2085$var$tn(e)) && void 0 !== i ? i : {}, o = \"string\" == typeof n ? new Blob([\n            n\n        ], {\n            type: s\n        }) : n;\n        $10f2f5626d5b2085$var$r.sendBeacon(t, o);\n    } catch  {}\n}, $10f2f5626d5b2085$var$on = [];\n$10f2f5626d5b2085$var$c && $10f2f5626d5b2085$var$on.push({\n    transport: \"XHR\",\n    method: $10f2f5626d5b2085$var$sn\n}), $10f2f5626d5b2085$var$l && $10f2f5626d5b2085$var$on.push({\n    transport: \"fetch\",\n    method: $10f2f5626d5b2085$var$nn\n}), null != $10f2f5626d5b2085$var$r && $10f2f5626d5b2085$var$r.sendBeacon && $10f2f5626d5b2085$var$on.push({\n    transport: \"sendBeacon\",\n    method: $10f2f5626d5b2085$var$rn\n});\nclass $10f2f5626d5b2085$var$an {\n    isPolling = !1;\n    pollIntervalMs = 3e3;\n    queue = [];\n    constructor(t){\n        this.instance = t, this.queue = [], this.areWeOnline = !0, !$10f2f5626d5b2085$var$S($10f2f5626d5b2085$var$e) && \"onLine\" in $10f2f5626d5b2085$var$e.navigator && (this.areWeOnline = $10f2f5626d5b2085$var$e.navigator.onLine, $10f2f5626d5b2085$var$e.addEventListener(\"online\", ()=>{\n            this.areWeOnline = !0, this.flush();\n        }), $10f2f5626d5b2085$var$e.addEventListener(\"offline\", ()=>{\n            this.areWeOnline = !1;\n        }));\n    }\n    retriableRequest(e) {\n        let { retriesPerformedSoFar: t, ...i } = e;\n        $10f2f5626d5b2085$var$R(t) && t > 0 && (i.url = $10f2f5626d5b2085$var$en(i.url, {\n            retry_count: t\n        })), this.instance._send_request({\n            ...i,\n            callback: (e)=>{\n                var s;\n                200 !== e.statusCode && (e.statusCode < 400 || e.statusCode >= 500) && (null != t ? t : 0) < 10 ? this.enqueue({\n                    retriesPerformedSoFar: t,\n                    ...i\n                }) : null === (s = i.callback) || void 0 === s || s.call(i, e);\n            }\n        });\n    }\n    enqueue(e) {\n        const t = e.retriesPerformedSoFar || 0;\n        e.retriesPerformedSoFar = t + 1;\n        const i = function(e) {\n            const t = 3e3 * 2 ** e, i = t / 2, s = Math.min(18e5, t), n = (Math.random() - .5) * (s - i);\n            return Math.ceil(s + n);\n        }(t), s = Date.now() + i;\n        this.queue.push({\n            retryAt: s,\n            requestOptions: e\n        });\n        let n = `Enqueued failed request for retry in ${i}`;\n        navigator.onLine || (n += \" (Browser is offline)\"), $10f2f5626d5b2085$var$T.warn(n), this.isPolling || (this.isPolling = !0, this.poll());\n    }\n    poll() {\n        this.poller && clearTimeout(this.poller), this.poller = setTimeout(()=>{\n            this.areWeOnline && this.queue.length > 0 && this.flush(), this.poll();\n        }, this.pollIntervalMs);\n    }\n    flush() {\n        const e = Date.now(), t = [], i = this.queue.filter((i)=>i.retryAt < e || (t.push(i), !1));\n        if (this.queue = t, i.length > 0) for (const { requestOptions: e } of i)this.retriableRequest(e);\n    }\n    unload() {\n        this.poller && (clearTimeout(this.poller), this.poller = void 0);\n        for (const { requestOptions: e } of this.queue)try {\n            this.instance._send_request({\n                ...e,\n                transport: \"sendBeacon\"\n            });\n        } catch (e) {\n            $10f2f5626d5b2085$var$T.error(e);\n        }\n        this.queue = [];\n    }\n}\nclass $10f2f5626d5b2085$var$ln {\n    _sessionIdChangedHandlers = [];\n    constructor(e, t, i, s){\n        var n;\n        this.config = e, this.persistence = t, this._windowId = void 0, this._sessionId = void 0, this._sessionStartTimestamp = null, this._sessionActivityTimestamp = null, this._sessionIdGenerator = i || $10f2f5626d5b2085$var$ze, this._windowIdGenerator = s || $10f2f5626d5b2085$var$ze;\n        const r = e.persistence_name || e.token, o = e.session_idle_timeout_seconds || 1800;\n        if (this._sessionTimeoutMs = 1e3 * $10f2f5626d5b2085$var$Ki(o, 60, 1800, \"session_idle_timeout_seconds\"), this._window_id_storage_key = \"ph_\" + r + \"_window_id\", this._primary_window_exists_storage_key = \"ph_\" + r + \"_primary_window_exists\", this._canUseSessionStorage()) {\n            const e = $10f2f5626d5b2085$var$nt.parse(this._window_id_storage_key), t = $10f2f5626d5b2085$var$nt.parse(this._primary_window_exists_storage_key);\n            e && !t ? this._windowId = e : $10f2f5626d5b2085$var$nt.remove(this._window_id_storage_key), $10f2f5626d5b2085$var$nt.set(this._primary_window_exists_storage_key, !0);\n        }\n        if (null !== (n = this.config.bootstrap) && void 0 !== n && n.sessionID) try {\n            const e = ((e)=>{\n                const t = e.replace(/-/g, \"\");\n                if (32 !== t.length) throw new Error(\"Not a valid UUID\");\n                if (\"7\" !== t[12]) throw new Error(\"Not a UUIDv7\");\n                return parseInt(t.substring(0, 12), 16);\n            })(this.config.bootstrap.sessionID);\n            this._setSessionId(this.config.bootstrap.sessionID, (new Date).getTime(), e);\n        } catch (e) {\n            $10f2f5626d5b2085$var$T.error(\"Invalid sessionID in bootstrap\", e);\n        }\n        this._listenToReloadWindow();\n    }\n    get sessionTimeoutMs() {\n        return this._sessionTimeoutMs;\n    }\n    onSessionId(e) {\n        return $10f2f5626d5b2085$var$S(this._sessionIdChangedHandlers) && (this._sessionIdChangedHandlers = []), this._sessionIdChangedHandlers.push(e), this._sessionId && e(this._sessionId, this._windowId), ()=>{\n            this._sessionIdChangedHandlers = this._sessionIdChangedHandlers.filter((t)=>t !== e);\n        };\n    }\n    _canUseSessionStorage() {\n        return \"memory\" !== this.config.persistence && !this.persistence.disabled && $10f2f5626d5b2085$var$nt.is_supported();\n    }\n    _setWindowId(e) {\n        e !== this._windowId && (this._windowId = e, this._canUseSessionStorage() && $10f2f5626d5b2085$var$nt.set(this._window_id_storage_key, e));\n    }\n    _getWindowId() {\n        return this._windowId ? this._windowId : this._canUseSessionStorage() ? $10f2f5626d5b2085$var$nt.parse(this._window_id_storage_key) : null;\n    }\n    _setSessionId(e, t, i) {\n        e === this._sessionId && t === this._sessionActivityTimestamp && i === this._sessionStartTimestamp || (this._sessionStartTimestamp = i, this._sessionActivityTimestamp = t, this._sessionId = e, this.persistence.register({\n            [$10f2f5626d5b2085$var$_e]: [\n                t,\n                e,\n                i\n            ]\n        }));\n    }\n    _getSessionId() {\n        if (this._sessionId && this._sessionActivityTimestamp && this._sessionStartTimestamp) return [\n            this._sessionActivityTimestamp,\n            this._sessionId,\n            this._sessionStartTimestamp\n        ];\n        const e = this.persistence.props[$10f2f5626d5b2085$var$_e];\n        return $10f2f5626d5b2085$var$m(e) && 2 === e.length && e.push(e[0]), e || [\n            0,\n            null,\n            0\n        ];\n    }\n    resetSessionId() {\n        this._setSessionId(null, null, null);\n    }\n    _listenToReloadWindow() {\n        null == $10f2f5626d5b2085$var$e || $10f2f5626d5b2085$var$e.addEventListener(\"beforeunload\", ()=>{\n            this._canUseSessionStorage() && $10f2f5626d5b2085$var$nt.remove(this._primary_window_exists_storage_key);\n        });\n    }\n    checkAndGetSessionAndWindowId() {\n        let e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];\n        const t = (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null) || (new Date).getTime();\n        let [i, s, n] = this._getSessionId(), r = this._getWindowId();\n        const o = $10f2f5626d5b2085$var$R(n) && n > 0 && Math.abs(t - n) > 864e5;\n        let a = !1;\n        const l = !s, c = !e && Math.abs(t - i) > this.sessionTimeoutMs;\n        l || c || o ? (s = this._sessionIdGenerator(), r = this._windowIdGenerator(), $10f2f5626d5b2085$var$T.info(\"[SessionId] new session ID generated\", {\n            sessionId: s,\n            windowId: r,\n            changeReason: {\n                noSessionId: l,\n                activityTimeout: c,\n                sessionPastMaximumLength: o\n            }\n        }), n = t, a = !0) : r || (r = this._windowIdGenerator(), a = !0);\n        const u = 0 === i || !e || o ? t : i, d = 0 === n ? (new Date).getTime() : n;\n        return this._setWindowId(r), this._setSessionId(s, u, d), a && this._sessionIdChangedHandlers.forEach((e)=>e(s, r, a ? {\n                noSessionId: l,\n                activityTimeout: c,\n                sessionPastMaximumLength: o\n            } : void 0)), {\n            sessionId: s,\n            windowId: r,\n            sessionStartTimestamp: d,\n            changeReason: a ? {\n                noSessionId: l,\n                activityTimeout: c,\n                sessionPastMaximumLength: o\n            } : void 0,\n            lastActivityTimestamp: i\n        };\n    }\n}\nlet $10f2f5626d5b2085$var$cn;\n!function(e) {\n    e.US = \"us\", e.EU = \"eu\", e.CUSTOM = \"custom\";\n}($10f2f5626d5b2085$var$cn || ($10f2f5626d5b2085$var$cn = {}));\nconst $10f2f5626d5b2085$var$un = \"i.posthog.com\";\nclass $10f2f5626d5b2085$var$dn {\n    _regionCache = {};\n    constructor(e){\n        this.instance = e;\n    }\n    get apiHost() {\n        const e = this.instance.config.api_host.trim().replace(/\\/$/, \"\");\n        return \"https://app.posthog.com\" === e ? \"https://us.i.posthog.com\" : e;\n    }\n    get uiHost() {\n        var e;\n        let t = null === (e = this.instance.config.ui_host) || void 0 === e ? void 0 : e.replace(/\\/$/, \"\");\n        return t || (t = this.apiHost.replace(`.${$10f2f5626d5b2085$var$un}`, \".posthog.com\")), \"https://app.posthog.com\" === t ? \"https://us.posthog.com\" : t;\n    }\n    get region() {\n        return this._regionCache[this.apiHost] || (/https:\\/\\/(app|us|us-assets)(\\.i)?\\.posthog\\.com/i.test(this.apiHost) ? this._regionCache[this.apiHost] = $10f2f5626d5b2085$var$cn.US : /https:\\/\\/(eu|eu-assets)(\\.i)?\\.posthog\\.com/i.test(this.apiHost) ? this._regionCache[this.apiHost] = $10f2f5626d5b2085$var$cn.EU : this._regionCache[this.apiHost] = $10f2f5626d5b2085$var$cn.CUSTOM), this._regionCache[this.apiHost];\n    }\n    endpointFor(e) {\n        let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"\";\n        if (t && (t = \"/\" === t[0] ? t : `/${t}`), \"ui\" === e) return this.uiHost + t;\n        if (this.region === $10f2f5626d5b2085$var$cn.CUSTOM) return this.apiHost + t;\n        const i = $10f2f5626d5b2085$var$un + t;\n        switch(e){\n            case \"assets\":\n                return `https://${this.region}-assets.${i}`;\n            case \"api\":\n                return `https://${this.region}.${i}`;\n        }\n    }\n}\nconst $10f2f5626d5b2085$var$hn = \"posthog-js\";\nfunction $10f2f5626d5b2085$var$_n(e) {\n    let { organization: t, projectId: i, prefix: s, severityAllowList: n = [\n        \"error\"\n    ] } = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n    return (r)=>{\n        var o, a, l, c, u;\n        if (!(\"*\" === n || n.includes(r.level)) || !e.__loaded) return r;\n        r.tags || (r.tags = {});\n        const d = e.requestRouter.endpointFor(\"ui\", `/project/${e.config.token}/person/${e.get_distinct_id()}`);\n        r.tags[\"PostHog Person URL\"] = d, e.sessionRecordingStarted() && (r.tags[\"PostHog Recording URL\"] = e.get_session_replay_url({\n            withTimestamp: !0\n        }));\n        const h = (null === (o = r.exception) || void 0 === o ? void 0 : o.values) || [];\n        h.map((e)=>{\n            e.stacktrace && (e.stacktrace.type = \"raw\");\n        });\n        const _ = {\n            $exception_message: (null === (a = h[0]) || void 0 === a ? void 0 : a.value) || r.message,\n            $exception_type: null === (l = h[0]) || void 0 === l ? void 0 : l.type,\n            $exception_personURL: d,\n            $exception_level: r.level,\n            $exception_list: h,\n            $sentry_event_id: r.event_id,\n            $sentry_exception: r.exception,\n            $sentry_exception_message: (null === (c = h[0]) || void 0 === c ? void 0 : c.value) || r.message,\n            $sentry_exception_type: null === (u = h[0]) || void 0 === u ? void 0 : u.type,\n            $sentry_tags: r.tags,\n            $level: r.level\n        };\n        return t && i && (_.$sentry_url = (s || \"https://sentry.io/organizations/\") + t + \"/issues/?project=\" + i + \"&query=\" + r.event_id), e.exceptions.sendExceptionEvent(_), r;\n    };\n}\nclass $10f2f5626d5b2085$var$pn {\n    constructor(e, t, i, s, n){\n        this.name = $10f2f5626d5b2085$var$hn, this.setupOnce = function(r) {\n            r($10f2f5626d5b2085$var$_n(e, {\n                organization: t,\n                projectId: i,\n                prefix: s,\n                severityAllowList: n\n            }));\n        };\n    }\n}\nfunction $10f2f5626d5b2085$var$gn(e, t) {\n    const i = e.config.segment;\n    if (!i) return t();\n    !function(e, t) {\n        const i = e.config.segment;\n        if (!i) return t();\n        const s = (i)=>{\n            const s = ()=>i.anonymousId() || $10f2f5626d5b2085$var$ze();\n            e.config.get_device_id = s, i.id() && (e.register({\n                distinct_id: i.id(),\n                $device_id: s()\n            }), e.persistence.set_property($10f2f5626d5b2085$var$ke, \"identified\")), t();\n        }, n = i.user();\n        \"then\" in n && $10f2f5626d5b2085$var$y(n.then) ? n.then((e)=>s(e)) : s(n);\n    }(e, ()=>{\n        i.register(((e)=>{\n            Promise && Promise.resolve || $10f2f5626d5b2085$var$T.warn(\"This browser does not have Promise support, and can not use the segment integration\");\n            const t = (t, i)=>{\n                var s;\n                if (!i) return t;\n                t.event.userId || t.event.anonymousId === e.get_distinct_id() || ($10f2f5626d5b2085$var$T.info(\"Segment integration does not have a userId set, resetting PostHog\"), e.reset()), t.event.userId && t.event.userId !== e.get_distinct_id() && ($10f2f5626d5b2085$var$T.info(\"Segment integration has a userId set, identifying with PostHog\"), e.identify(t.event.userId));\n                const n = e._calculate_event_properties(i, null !== (s = t.event.properties) && void 0 !== s ? s : {}, new Date);\n                return t.event.properties = Object.assign({}, n, t.event.properties), t;\n            };\n            return {\n                name: \"PostHog JS\",\n                type: \"enrichment\",\n                version: \"1.0.0\",\n                isLoaded: ()=>!0,\n                load: ()=>Promise.resolve(),\n                track: (e)=>t(e, e.event.event),\n                page: (e)=>t(e, \"$pageview\"),\n                identify: (e)=>t(e, \"$identify\"),\n                screen: (e)=>t(e, \"$screen\")\n            };\n        })(e)).then(()=>{\n            t();\n        });\n    });\n}\nclass $10f2f5626d5b2085$var$fn {\n    constructor(e){\n        this._instance = e;\n    }\n    doPageView(t) {\n        var i;\n        const s = this._previousPageViewProperties(t);\n        return this._currentPath = null !== (i = null == $10f2f5626d5b2085$var$e ? void 0 : $10f2f5626d5b2085$var$e.location.pathname) && void 0 !== i ? i : \"\", this._instance.scrollManager.resetContext(), this._prevPageviewTimestamp = t, s;\n    }\n    doPageLeave(e) {\n        return this._previousPageViewProperties(e);\n    }\n    _previousPageViewProperties(e) {\n        const t = this._currentPath, i = this._prevPageviewTimestamp, s = this._instance.scrollManager.getContext();\n        if (!i) return {};\n        let n = {};\n        if (s) {\n            let { maxScrollHeight: e, lastScrollY: t, maxScrollY: i, maxContentHeight: r, lastContentY: o, maxContentY: a } = s;\n            if (!($10f2f5626d5b2085$var$S(e) || $10f2f5626d5b2085$var$S(t) || $10f2f5626d5b2085$var$S(i) || $10f2f5626d5b2085$var$S(r) || $10f2f5626d5b2085$var$S(o) || $10f2f5626d5b2085$var$S(a))) {\n                e = Math.ceil(e), t = Math.ceil(t), i = Math.ceil(i), r = Math.ceil(r), o = Math.ceil(o), a = Math.ceil(a);\n                n = {\n                    $prev_pageview_last_scroll: t,\n                    $prev_pageview_last_scroll_percentage: e <= 1 ? 1 : $10f2f5626d5b2085$var$Ki(t / e, 0, 1),\n                    $prev_pageview_max_scroll: i,\n                    $prev_pageview_max_scroll_percentage: e <= 1 ? 1 : $10f2f5626d5b2085$var$Ki(i / e, 0, 1),\n                    $prev_pageview_last_content: o,\n                    $prev_pageview_last_content_percentage: r <= 1 ? 1 : $10f2f5626d5b2085$var$Ki(o / r, 0, 1),\n                    $prev_pageview_max_content: a,\n                    $prev_pageview_max_content_percentage: r <= 1 ? 1 : $10f2f5626d5b2085$var$Ki(a / r, 0, 1)\n                };\n            }\n        }\n        return t && (n.$prev_pageview_pathname = t), i && (n.$prev_pageview_duration = (e.getTime() - i.getTime()) / 1e3), n;\n    }\n}\nlet $10f2f5626d5b2085$export$22779822dd24228f, $10f2f5626d5b2085$export$9c2ac61661d417f8, $10f2f5626d5b2085$export$bbed2da3bd3bb001;\n!function(e) {\n    e.Popover = \"popover\", e.API = \"api\", e.Widget = \"widget\";\n}($10f2f5626d5b2085$export$22779822dd24228f || ($10f2f5626d5b2085$export$22779822dd24228f = {})), function(e) {\n    e.Open = \"open\", e.MultipleChoice = \"multiple_choice\", e.SingleChoice = \"single_choice\", e.Rating = \"rating\", e.Link = \"link\";\n}($10f2f5626d5b2085$export$9c2ac61661d417f8 || ($10f2f5626d5b2085$export$9c2ac61661d417f8 = {})), function(e) {\n    e.NextQuestion = \"next_question\", e.End = \"end\", e.ResponseBased = \"response_based\", e.SpecificQuestion = \"specific_question\";\n}($10f2f5626d5b2085$export$bbed2da3bd3bb001 || ($10f2f5626d5b2085$export$bbed2da3bd3bb001 = {}));\nclass $10f2f5626d5b2085$var$bn {\n    events = {};\n    constructor(){\n        this.events = {};\n    }\n    on(e, t) {\n        return this.events[e] || (this.events[e] = []), this.events[e].push(t), ()=>{\n            this.events[e] = this.events[e].filter((e)=>e !== t);\n        };\n    }\n    emit(e, t) {\n        for (const i of this.events[e] || [])i(t);\n        for (const i of this.events[\"*\"] || [])i(e, t);\n    }\n}\nclass $10f2f5626d5b2085$var$wn {\n    _debugEventEmitter = new $10f2f5626d5b2085$var$bn;\n    constructor(e){\n        this.instance = e, this.actionEvents = new Set, this.actionRegistry = new Set;\n    }\n    init() {\n        var e;\n        if (!$10f2f5626d5b2085$var$S(null === (e = this.instance) || void 0 === e ? void 0 : e._addCaptureHook)) {\n            var t;\n            const e = (e, t)=>{\n                this.on(e, t);\n            };\n            null === (t = this.instance) || void 0 === t || t._addCaptureHook(e);\n        }\n    }\n    register(e) {\n        var t, i;\n        if (!$10f2f5626d5b2085$var$S(null === (t = this.instance) || void 0 === t ? void 0 : t._addCaptureHook) && (e.forEach((e)=>{\n            var t, i;\n            null === (t = this.actionRegistry) || void 0 === t || t.add(e), null === (i = e.steps) || void 0 === i || i.forEach((e)=>{\n                var t;\n                null === (t = this.actionEvents) || void 0 === t || t.add((null == e ? void 0 : e.event) || \"\");\n            });\n        }), null !== (i = this.instance) && void 0 !== i && i.autocapture)) {\n            var s;\n            const t = new Set;\n            e.forEach((e)=>{\n                var i;\n                null === (i = e.steps) || void 0 === i || i.forEach((e)=>{\n                    null != e && e.selector && t.add(null == e ? void 0 : e.selector);\n                });\n            }), null === (s = this.instance) || void 0 === s || s.autocapture.setElementSelectors(t);\n        }\n    }\n    on(e, t) {\n        var i;\n        null != t && 0 != e.length && (this.actionEvents.has(e) || this.actionEvents.has(null == t ? void 0 : t.event)) && this.actionRegistry && (null === (i = this.actionRegistry) || void 0 === i ? void 0 : i.size) > 0 && this.actionRegistry.forEach((e)=>{\n            this.checkAction(t, e) && this._debugEventEmitter.emit(\"actionCaptured\", e.name);\n        });\n    }\n    _addActionHook(e) {\n        this.onAction(\"actionCaptured\", (t)=>e(t));\n    }\n    checkAction(e, t) {\n        if (null == (null == t ? void 0 : t.steps)) return !1;\n        for (const i of t.steps)if (this.checkStep(e, i)) return !0;\n        return !1;\n    }\n    onAction(e, t) {\n        return this._debugEventEmitter.on(e, t);\n    }\n    checkStep = (e, t)=>this.checkStepEvent(e, t) && this.checkStepUrl(e, t) && this.checkStepElement(e, t);\n    checkStepEvent = (e, t)=>null == t || !t.event || (null == e ? void 0 : e.event) === (null == t ? void 0 : t.event);\n    checkStepUrl(e, t) {\n        if (null != t && t.url) {\n            var i;\n            const s = null == e || null === (i = e.properties) || void 0 === i ? void 0 : i.$current_url;\n            if (!s || \"string\" != typeof s) return !1;\n            if (!$10f2f5626d5b2085$var$wn.matchString(s, null == t ? void 0 : t.url, (null == t ? void 0 : t.url_matching) || \"contains\")) return !1;\n        }\n        return !0;\n    }\n    static matchString(t, i, s) {\n        switch(s){\n            case \"regex\":\n                return !!$10f2f5626d5b2085$var$e && $10f2f5626d5b2085$var$at(t, i);\n            case \"exact\":\n                return i === t;\n            case \"contains\":\n                const s1 = $10f2f5626d5b2085$var$wn.escapeStringRegexp(i).replace(/_/g, \".\").replace(/%/g, \".*\");\n                return $10f2f5626d5b2085$var$at(t, s1);\n            default:\n                return !1;\n        }\n    }\n    static escapeStringRegexp(e) {\n        return e.replace(/[|\\\\{}()[\\]^$+*?.]/g, \"\\\\$&\").replace(/-/g, \"\\\\x2d\");\n    }\n    checkStepElement(e, t) {\n        if (null != t && t.href || null != t && t.tag_name || null != t && t.text) {\n            if (!this.getElementsList(e).some((e)=>!(null != t && t.href && !$10f2f5626d5b2085$var$wn.matchString(e.href || \"\", null == t ? void 0 : t.href, (null == t ? void 0 : t.href_matching) || \"exact\")) && (null == t || !t.tag_name || e.tag_name === (null == t ? void 0 : t.tag_name)) && !(null != t && t.text && !$10f2f5626d5b2085$var$wn.matchString(e.text || \"\", null == t ? void 0 : t.text, (null == t ? void 0 : t.text_matching) || \"exact\") && !$10f2f5626d5b2085$var$wn.matchString(e.$el_text || \"\", null == t ? void 0 : t.text, (null == t ? void 0 : t.text_matching) || \"exact\")))) return !1;\n        }\n        if (null != t && t.selector) {\n            var i;\n            const s = null == e || null === (i = e.properties) || void 0 === i ? void 0 : i.$element_selectors;\n            if (!s) return !1;\n            if (!s.includes(null == t ? void 0 : t.selector)) return !1;\n        }\n        return !0;\n    }\n    getElementsList(e) {\n        return null == (null == e ? void 0 : e.properties.$elements) ? [] : null == e ? void 0 : e.properties.$elements;\n    }\n}\nclass $10f2f5626d5b2085$var$Sn {\n    static SURVEY_SHOWN_EVENT_NAME = \"survey shown\";\n    constructor(e){\n        this.instance = e, this.eventToSurveys = new Map, this.actionToSurveys = new Map;\n    }\n    register(e) {\n        var t;\n        $10f2f5626d5b2085$var$S(null === (t = this.instance) || void 0 === t ? void 0 : t._addCaptureHook) || (this.setupEventBasedSurveys(e), this.setupActionBasedSurveys(e));\n    }\n    setupActionBasedSurveys(e) {\n        const t = e.filter((e)=>{\n            var t, i, s, n;\n            return (null === (t = e.conditions) || void 0 === t ? void 0 : t.actions) && (null === (i = e.conditions) || void 0 === i || null === (s = i.actions) || void 0 === s || null === (n = s.values) || void 0 === n ? void 0 : n.length) > 0;\n        });\n        if (0 !== t.length) {\n            if (null == this.actionMatcher) {\n                this.actionMatcher = new $10f2f5626d5b2085$var$wn(this.instance), this.actionMatcher.init();\n                const e = (e)=>{\n                    this.onAction(e);\n                };\n                this.actionMatcher._addActionHook(e);\n            }\n            t.forEach((e)=>{\n                var t, i, s, n, r, o, a, l, c, u;\n                e.conditions && null !== (t = e.conditions) && void 0 !== t && t.actions && null !== (i = e.conditions) && void 0 !== i && null !== (s = i.actions) && void 0 !== s && s.values && (null === (n = e.conditions) || void 0 === n || null === (r = n.actions) || void 0 === r || null === (o = r.values) || void 0 === o ? void 0 : o.length) > 0 && (null === (a = this.actionMatcher) || void 0 === a || a.register(e.conditions.actions.values), null === (l = e.conditions) || void 0 === l || null === (c = l.actions) || void 0 === c || null === (u = c.values) || void 0 === u || u.forEach((t)=>{\n                    if (t && t.name) {\n                        const i = this.actionToSurveys.get(t.name);\n                        i && i.push(e.id), this.actionToSurveys.set(t.name, i || [\n                            e.id\n                        ]);\n                    }\n                }));\n            });\n        }\n    }\n    setupEventBasedSurveys(e) {\n        var t;\n        if (0 === e.filter((e)=>{\n            var t, i, s, n;\n            return (null === (t = e.conditions) || void 0 === t ? void 0 : t.events) && (null === (i = e.conditions) || void 0 === i || null === (s = i.events) || void 0 === s || null === (n = s.values) || void 0 === n ? void 0 : n.length) > 0;\n        }).length) return;\n        null === (t = this.instance) || void 0 === t || t._addCaptureHook((e, t)=>{\n            this.onEvent(e, t);\n        }), e.forEach((e)=>{\n            var t, i, s;\n            null === (t = e.conditions) || void 0 === t || null === (i = t.events) || void 0 === i || null === (s = i.values) || void 0 === s || s.forEach((t)=>{\n                if (t && t.name) {\n                    const i = this.eventToSurveys.get(t.name);\n                    i && i.push(e.id), this.eventToSurveys.set(t.name, i || [\n                        e.id\n                    ]);\n                }\n            });\n        });\n    }\n    onEvent(e, t) {\n        var i, s;\n        const n = (null === (i = this.instance) || void 0 === i || null === (s = i.persistence) || void 0 === s ? void 0 : s.props[$10f2f5626d5b2085$var$Se]) || [];\n        if ($10f2f5626d5b2085$var$Sn.SURVEY_SHOWN_EVENT_NAME == e && t && n.length > 0) {\n            var r;\n            const e = null == t || null === (r = t.properties) || void 0 === r ? void 0 : r.$survey_id;\n            if (e) {\n                const t = n.indexOf(e);\n                t >= 0 && (n.splice(t, 1), this._updateActivatedSurveys(n));\n            }\n        } else this.eventToSurveys.has(e) && this._updateActivatedSurveys(n.concat(this.eventToSurveys.get(e) || []));\n    }\n    onAction(e) {\n        var t, i;\n        const s = (null === (t = this.instance) || void 0 === t || null === (i = t.persistence) || void 0 === i ? void 0 : i.props[$10f2f5626d5b2085$var$Se]) || [];\n        this.actionToSurveys.has(e) && this._updateActivatedSurveys(s.concat(this.actionToSurveys.get(e) || []));\n    }\n    _updateActivatedSurveys(e) {\n        var t, i;\n        null === (t = this.instance) || void 0 === t || null === (i = t.persistence) || void 0 === i || i.register({\n            [$10f2f5626d5b2085$var$Se]: [\n                ...new Set(e)\n            ]\n        });\n    }\n    getSurveys() {\n        var e, t;\n        const i = null === (e = this.instance) || void 0 === e || null === (t = e.persistence) || void 0 === t ? void 0 : t.props[$10f2f5626d5b2085$var$Se];\n        return i || [];\n    }\n    getEventToSurveys() {\n        return this.eventToSurveys;\n    }\n    _getActionMatcher() {\n        return this.actionMatcher;\n    }\n}\nvar $10f2f5626d5b2085$var$En, $10f2f5626d5b2085$var$kn, $10f2f5626d5b2085$var$xn, $10f2f5626d5b2085$var$In, $10f2f5626d5b2085$var$Rn, $10f2f5626d5b2085$var$Pn, $10f2f5626d5b2085$var$Fn, $10f2f5626d5b2085$var$Cn, $10f2f5626d5b2085$var$Tn = {}, $10f2f5626d5b2085$var$$n = [], $10f2f5626d5b2085$var$An = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i, $10f2f5626d5b2085$var$Mn = Array.isArray;\nfunction $10f2f5626d5b2085$var$Ln(e, t) {\n    for(var i in t)e[i] = t[i];\n    return e;\n}\nfunction $10f2f5626d5b2085$var$Dn(e) {\n    var t = e.parentNode;\n    t && t.removeChild(e);\n}\nfunction $10f2f5626d5b2085$var$On(e, t, i, s, n) {\n    var r = {\n        type: e,\n        props: t,\n        key: i,\n        ref: s,\n        __k: null,\n        __: null,\n        __b: 0,\n        __e: null,\n        __d: void 0,\n        __c: null,\n        constructor: void 0,\n        __v: null == n ? ++$10f2f5626d5b2085$var$xn : n,\n        __i: -1,\n        __u: 0\n    };\n    return null == n && null != $10f2f5626d5b2085$var$kn.vnode && $10f2f5626d5b2085$var$kn.vnode(r), r;\n}\nfunction $10f2f5626d5b2085$var$Nn(e) {\n    return e.children;\n}\nfunction $10f2f5626d5b2085$var$qn(e, t) {\n    this.props = e, this.context = t;\n}\nfunction $10f2f5626d5b2085$var$Bn(e, t) {\n    if (null == t) return e.__ ? $10f2f5626d5b2085$var$Bn(e.__, e.__i + 1) : null;\n    for(var i; t < e.__k.length; t++)if (null != (i = e.__k[t]) && null != i.__e) return i.__e;\n    return \"function\" == typeof e.type ? $10f2f5626d5b2085$var$Bn(e) : null;\n}\nfunction $10f2f5626d5b2085$var$Hn(e) {\n    var t, i;\n    if (null != (e = e.__) && null != e.__c) {\n        for(e.__e = e.__c.base = null, t = 0; t < e.__k.length; t++)if (null != (i = e.__k[t]) && null != i.__e) {\n            e.__e = e.__c.base = i.__e;\n            break;\n        }\n        return $10f2f5626d5b2085$var$Hn(e);\n    }\n}\nfunction $10f2f5626d5b2085$var$Un(e) {\n    (!e.__d && (e.__d = !0) && $10f2f5626d5b2085$var$In.push(e) && !$10f2f5626d5b2085$var$Wn.__r++ || $10f2f5626d5b2085$var$Rn !== $10f2f5626d5b2085$var$kn.debounceRendering) && (($10f2f5626d5b2085$var$Rn = $10f2f5626d5b2085$var$kn.debounceRendering) || $10f2f5626d5b2085$var$Pn)($10f2f5626d5b2085$var$Wn);\n}\nfunction $10f2f5626d5b2085$var$Wn() {\n    var e, t, i, s, n, r, o, a, l;\n    for($10f2f5626d5b2085$var$In.sort($10f2f5626d5b2085$var$Fn); e = $10f2f5626d5b2085$var$In.shift();)e.__d && (t = $10f2f5626d5b2085$var$In.length, s = void 0, r = (n = (i = e).__v).__e, a = [], l = [], (o = i.__P) && ((s = $10f2f5626d5b2085$var$Ln({}, n)).__v = n.__v + 1, $10f2f5626d5b2085$var$kn.vnode && $10f2f5626d5b2085$var$kn.vnode(s), $10f2f5626d5b2085$var$Kn(o, s, n, i.__n, void 0 !== o.ownerSVGElement, 32 & n.__u ? [\n        r\n    ] : null, a, null == r ? $10f2f5626d5b2085$var$Bn(n) : r, !!(32 & n.__u), l), s.__.__k[s.__i] = s, $10f2f5626d5b2085$var$Zn(a, s, l), s.__e != r && $10f2f5626d5b2085$var$Hn(s)), $10f2f5626d5b2085$var$In.length > t && $10f2f5626d5b2085$var$In.sort($10f2f5626d5b2085$var$Fn));\n    $10f2f5626d5b2085$var$Wn.__r = 0;\n}\nfunction $10f2f5626d5b2085$var$zn(e, t, i, s, n, r, o, a, l, c, u) {\n    var d, h, _, p, g, f = s && s.__k || $10f2f5626d5b2085$var$$n, v = t.length;\n    for(i.__d = l, $10f2f5626d5b2085$var$Vn(i, t, f), l = i.__d, d = 0; d < v; d++)null != (_ = i.__k[d]) && \"boolean\" != typeof _ && \"function\" != typeof _ && (h = -1 === _.__i ? $10f2f5626d5b2085$var$Tn : f[_.__i] || $10f2f5626d5b2085$var$Tn, _.__i = d, $10f2f5626d5b2085$var$Kn(e, _, h, n, r, o, a, l, c, u), p = _.__e, _.ref && h.ref != _.ref && (h.ref && $10f2f5626d5b2085$var$tr(h.ref, null, _), u.push(_.ref, _.__c || p, _)), null == g && null != p && (g = p), 65536 & _.__u || h.__k === _.__k ? l = $10f2f5626d5b2085$var$Gn(_, l, e) : \"function\" == typeof _.type && void 0 !== _.__d ? l = _.__d : p && (l = p.nextSibling), _.__d = void 0, _.__u &= -196609);\n    i.__d = l, i.__e = g;\n}\nfunction $10f2f5626d5b2085$var$Vn(e, t, i) {\n    var s, n, r, o, a, l = t.length, c = i.length, u = c, d = 0;\n    for(e.__k = [], s = 0; s < l; s++)null != (n = e.__k[s] = null == (n = t[s]) || \"boolean\" == typeof n || \"function\" == typeof n ? null : \"string\" == typeof n || \"number\" == typeof n || \"bigint\" == typeof n || n.constructor == String ? $10f2f5626d5b2085$var$On(null, n, null, null, n) : $10f2f5626d5b2085$var$Mn(n) ? $10f2f5626d5b2085$var$On($10f2f5626d5b2085$var$Nn, {\n        children: n\n    }, null, null, null) : void 0 === n.constructor && n.__b > 0 ? $10f2f5626d5b2085$var$On(n.type, n.props, n.key, n.ref ? n.ref : null, n.__v) : n) ? (n.__ = e, n.__b = e.__b + 1, a = $10f2f5626d5b2085$var$jn(n, i, o = s + d, u), n.__i = a, r = null, -1 !== a && (u--, (r = i[a]) && (r.__u |= 131072)), null == r || null === r.__v ? (-1 == a && d--, \"function\" != typeof n.type && (n.__u |= 65536)) : a !== o && (a === o + 1 ? d++ : a > o ? u > l - o ? d += a - o : d-- : d = a < o && a == o - 1 ? a - o : 0, a !== s + d && (n.__u |= 65536))) : (r = i[s]) && null == r.key && r.__e && (r.__e == e.__d && (e.__d = $10f2f5626d5b2085$var$Bn(r)), $10f2f5626d5b2085$var$ir(r, r, !1), i[s] = null, u--);\n    if (u) for(s = 0; s < c; s++)null != (r = i[s]) && 0 == (131072 & r.__u) && (r.__e == e.__d && (e.__d = $10f2f5626d5b2085$var$Bn(r)), $10f2f5626d5b2085$var$ir(r, r));\n}\nfunction $10f2f5626d5b2085$var$Gn(e, t, i) {\n    var s, n;\n    if (\"function\" == typeof e.type) {\n        for(s = e.__k, n = 0; s && n < s.length; n++)s[n] && (s[n].__ = e, t = $10f2f5626d5b2085$var$Gn(s[n], t, i));\n        return t;\n    }\n    return e.__e != t && (i.insertBefore(e.__e, t || null), t = e.__e), t && t.nextSibling;\n}\nfunction $10f2f5626d5b2085$var$jn(e, t, i, s) {\n    var n = e.key, r = e.type, o = i - 1, a = i + 1, l = t[i];\n    if (null === l || l && n == l.key && r === l.type) return i;\n    if (s > (null != l && 0 == (131072 & l.__u) ? 1 : 0)) for(; o >= 0 || a < t.length;){\n        if (o >= 0) {\n            if ((l = t[o]) && 0 == (131072 & l.__u) && n == l.key && r === l.type) return o;\n            o--;\n        }\n        if (a < t.length) {\n            if ((l = t[a]) && 0 == (131072 & l.__u) && n == l.key && r === l.type) return a;\n            a++;\n        }\n    }\n    return -1;\n}\nfunction $10f2f5626d5b2085$var$Qn(e, t, i) {\n    \"-\" === t[0] ? e.setProperty(t, null == i ? \"\" : i) : e[t] = null == i ? \"\" : \"number\" != typeof i || $10f2f5626d5b2085$var$An.test(t) ? i : i + \"px\";\n}\nfunction $10f2f5626d5b2085$var$Jn(e, t, i, s, n) {\n    var r;\n    e: if (\"style\" === t) {\n        if (\"string\" == typeof i) e.style.cssText = i;\n        else {\n            if (\"string\" == typeof s && (e.style.cssText = s = \"\"), s) for(t in s)i && t in i || $10f2f5626d5b2085$var$Qn(e.style, t, \"\");\n            if (i) for(t in i)s && i[t] === s[t] || $10f2f5626d5b2085$var$Qn(e.style, t, i[t]);\n        }\n    } else if (\"o\" === t[0] && \"n\" === t[1]) r = t !== (t = t.replace(/(PointerCapture)$|Capture$/, \"$1\")), t = t.toLowerCase() in e ? t.toLowerCase().slice(2) : t.slice(2), e.l || (e.l = {}), e.l[t + r] = i, i ? s ? i.u = s.u : (i.u = Date.now(), e.addEventListener(t, r ? $10f2f5626d5b2085$var$Xn : $10f2f5626d5b2085$var$Yn, r)) : e.removeEventListener(t, r ? $10f2f5626d5b2085$var$Xn : $10f2f5626d5b2085$var$Yn, r);\n    else {\n        if (n) t = t.replace(/xlink(H|:h)/, \"h\").replace(/sName$/, \"s\");\n        else if (\"width\" !== t && \"height\" !== t && \"href\" !== t && \"list\" !== t && \"form\" !== t && \"tabIndex\" !== t && \"download\" !== t && \"rowSpan\" !== t && \"colSpan\" !== t && \"role\" !== t && t in e) try {\n            e[t] = null == i ? \"\" : i;\n            break e;\n        } catch (e) {}\n        \"function\" == typeof i || (null == i || !1 === i && \"-\" !== t[4] ? e.removeAttribute(t) : e.setAttribute(t, i));\n    }\n}\nfunction $10f2f5626d5b2085$var$Yn(e) {\n    var t = this.l[e.type + !1];\n    if (e.t) {\n        if (e.t <= t.u) return;\n    } else e.t = Date.now();\n    return t($10f2f5626d5b2085$var$kn.event ? $10f2f5626d5b2085$var$kn.event(e) : e);\n}\nfunction $10f2f5626d5b2085$var$Xn(e) {\n    return this.l[e.type + !0]($10f2f5626d5b2085$var$kn.event ? $10f2f5626d5b2085$var$kn.event(e) : e);\n}\nfunction $10f2f5626d5b2085$var$Kn(e, t, i, s, n, r, o, a, l, c) {\n    var u, d, h, _, p, g, f, v, m, y, b, w, S, E, k, x = t.type;\n    if (void 0 !== t.constructor) return null;\n    128 & i.__u && (l = !!(32 & i.__u), r = [\n        a = t.__e = i.__e\n    ]), (u = $10f2f5626d5b2085$var$kn.__b) && u(t);\n    e: if (\"function\" == typeof x) try {\n        if (v = t.props, m = (u = x.contextType) && s[u.__c], y = u ? m ? m.props.value : u.__ : s, i.__c ? f = (d = t.__c = i.__c).__ = d.__E : (\"prototype\" in x && x.prototype.render ? t.__c = d = new x(v, y) : (t.__c = d = new $10f2f5626d5b2085$var$qn(v, y), d.constructor = x, d.render = $10f2f5626d5b2085$var$sr), m && m.sub(d), d.props = v, d.state || (d.state = {}), d.context = y, d.__n = s, h = d.__d = !0, d.__h = [], d._sb = []), null == d.__s && (d.__s = d.state), null != x.getDerivedStateFromProps && (d.__s == d.state && (d.__s = $10f2f5626d5b2085$var$Ln({}, d.__s)), $10f2f5626d5b2085$var$Ln(d.__s, x.getDerivedStateFromProps(v, d.__s))), _ = d.props, p = d.state, d.__v = t, h) null == x.getDerivedStateFromProps && null != d.componentWillMount && d.componentWillMount(), null != d.componentDidMount && d.__h.push(d.componentDidMount);\n        else {\n            if (null == x.getDerivedStateFromProps && v !== _ && null != d.componentWillReceiveProps && d.componentWillReceiveProps(v, y), !d.__e && (null != d.shouldComponentUpdate && !1 === d.shouldComponentUpdate(v, d.__s, y) || t.__v === i.__v)) {\n                for(t.__v !== i.__v && (d.props = v, d.state = d.__s, d.__d = !1), t.__e = i.__e, t.__k = i.__k, t.__k.forEach(function(e) {\n                    e && (e.__ = t);\n                }), b = 0; b < d._sb.length; b++)d.__h.push(d._sb[b]);\n                d._sb = [], d.__h.length && o.push(d);\n                break e;\n            }\n            null != d.componentWillUpdate && d.componentWillUpdate(v, d.__s, y), null != d.componentDidUpdate && d.__h.push(function() {\n                d.componentDidUpdate(_, p, g);\n            });\n        }\n        if (d.context = y, d.props = v, d.__P = e, d.__e = !1, w = $10f2f5626d5b2085$var$kn.__r, S = 0, \"prototype\" in x && x.prototype.render) {\n            for(d.state = d.__s, d.__d = !1, w && w(t), u = d.render(d.props, d.state, d.context), E = 0; E < d._sb.length; E++)d.__h.push(d._sb[E]);\n            d._sb = [];\n        } else do d.__d = !1, w && w(t), u = d.render(d.props, d.state, d.context), d.state = d.__s;\n        while (d.__d && ++S < 25);\n        d.state = d.__s, null != d.getChildContext && (s = $10f2f5626d5b2085$var$Ln($10f2f5626d5b2085$var$Ln({}, s), d.getChildContext())), h || null == d.getSnapshotBeforeUpdate || (g = d.getSnapshotBeforeUpdate(_, p)), $10f2f5626d5b2085$var$zn(e, $10f2f5626d5b2085$var$Mn(k = null != u && u.type === $10f2f5626d5b2085$var$Nn && null == u.key ? u.props.children : u) ? k : [\n            k\n        ], t, i, s, n, r, o, a, l, c), d.base = t.__e, t.__u &= -161, d.__h.length && o.push(d), f && (d.__E = d.__ = null);\n    } catch (e) {\n        t.__v = null, l || null != r ? (t.__e = a, t.__u |= l ? 160 : 32, r[r.indexOf(a)] = null) : (t.__e = i.__e, t.__k = i.__k), $10f2f5626d5b2085$var$kn.__e(e, t, i);\n    }\n    else null == r && t.__v === i.__v ? (t.__k = i.__k, t.__e = i.__e) : t.__e = $10f2f5626d5b2085$var$er(i.__e, t, i, s, n, r, o, l, c);\n    (u = $10f2f5626d5b2085$var$kn.diffed) && u(t);\n}\nfunction $10f2f5626d5b2085$var$Zn(e, t, i) {\n    t.__d = void 0;\n    for(var s = 0; s < i.length; s++)$10f2f5626d5b2085$var$tr(i[s], i[++s], i[++s]);\n    $10f2f5626d5b2085$var$kn.__c && $10f2f5626d5b2085$var$kn.__c(t, e), e.some(function(t) {\n        try {\n            e = t.__h, t.__h = [], e.some(function(e) {\n                e.call(t);\n            });\n        } catch (e) {\n            $10f2f5626d5b2085$var$kn.__e(e, t.__v);\n        }\n    });\n}\nfunction $10f2f5626d5b2085$var$er(e, t, i, s, n, r, o, a, l) {\n    var c, u, d, h, _, p, g, f = i.props, v = t.props, m = t.type;\n    if (\"svg\" === m && (n = !0), null != r) {\n        for(c = 0; c < r.length; c++)if ((_ = r[c]) && \"setAttribute\" in _ == !!m && (m ? _.localName === m : 3 === _.nodeType)) {\n            e = _, r[c] = null;\n            break;\n        }\n    }\n    if (null == e) {\n        if (null === m) return document.createTextNode(v);\n        e = n ? document.createElementNS(\"http://www.w3.org/2000/svg\", m) : document.createElement(m, v.is && v), r = null, a = !1;\n    }\n    if (null === m) f === v || a && e.data === v || (e.data = v);\n    else {\n        if (r = r && $10f2f5626d5b2085$var$En.call(e.childNodes), f = i.props || $10f2f5626d5b2085$var$Tn, !a && null != r) for(f = {}, c = 0; c < e.attributes.length; c++)f[(_ = e.attributes[c]).name] = _.value;\n        for(c in f)_ = f[c], \"children\" == c || (\"dangerouslySetInnerHTML\" == c ? d = _ : \"key\" === c || c in v || $10f2f5626d5b2085$var$Jn(e, c, null, _, n));\n        for(c in v)_ = v[c], \"children\" == c ? h = _ : \"dangerouslySetInnerHTML\" == c ? u = _ : \"value\" == c ? p = _ : \"checked\" == c ? g = _ : \"key\" === c || a && \"function\" != typeof _ || f[c] === _ || $10f2f5626d5b2085$var$Jn(e, c, _, f[c], n);\n        if (u) a || d && (u.__html === d.__html || u.__html === e.innerHTML) || (e.innerHTML = u.__html), t.__k = [];\n        else if (d && (e.innerHTML = \"\"), $10f2f5626d5b2085$var$zn(e, $10f2f5626d5b2085$var$Mn(h) ? h : [\n            h\n        ], t, i, s, n && \"foreignObject\" !== m, r, o, r ? r[0] : i.__k && $10f2f5626d5b2085$var$Bn(i, 0), a, l), null != r) for(c = r.length; c--;)null != r[c] && $10f2f5626d5b2085$var$Dn(r[c]);\n        a || (c = \"value\", void 0 !== p && (p !== e[c] || \"progress\" === m && !p || \"option\" === m && p !== f[c]) && $10f2f5626d5b2085$var$Jn(e, c, p, f[c], !1), c = \"checked\", void 0 !== g && g !== e[c] && $10f2f5626d5b2085$var$Jn(e, c, g, f[c], !1));\n    }\n    return e;\n}\nfunction $10f2f5626d5b2085$var$tr(e, t, i) {\n    try {\n        \"function\" == typeof e ? e(t) : e.current = t;\n    } catch (e) {\n        $10f2f5626d5b2085$var$kn.__e(e, i);\n    }\n}\nfunction $10f2f5626d5b2085$var$ir(e, t, i) {\n    var s, n;\n    if ($10f2f5626d5b2085$var$kn.unmount && $10f2f5626d5b2085$var$kn.unmount(e), (s = e.ref) && (s.current && s.current !== e.__e || $10f2f5626d5b2085$var$tr(s, null, t)), null != (s = e.__c)) {\n        if (s.componentWillUnmount) try {\n            s.componentWillUnmount();\n        } catch (e) {\n            $10f2f5626d5b2085$var$kn.__e(e, t);\n        }\n        s.base = s.__P = null, e.__c = void 0;\n    }\n    if (s = e.__k) for(n = 0; n < s.length; n++)s[n] && $10f2f5626d5b2085$var$ir(s[n], t, i || \"function\" != typeof e.type);\n    i || null == e.__e || $10f2f5626d5b2085$var$Dn(e.__e), e.__ = e.__e = e.__d = void 0;\n}\nfunction $10f2f5626d5b2085$var$sr(e, t, i) {\n    return this.constructor(e, i);\n}\n$10f2f5626d5b2085$var$En = $10f2f5626d5b2085$var$$n.slice, $10f2f5626d5b2085$var$kn = {\n    __e: function(e, t, i, s) {\n        for(var n, r, o; t = t.__;)if ((n = t.__c) && !n.__) try {\n            if ((r = n.constructor) && null != r.getDerivedStateFromError && (n.setState(r.getDerivedStateFromError(e)), o = n.__d), null != n.componentDidCatch && (n.componentDidCatch(e, s || {}), o = n.__d), o) return n.__E = n;\n        } catch (t) {\n            e = t;\n        }\n        throw e;\n    }\n}, $10f2f5626d5b2085$var$xn = 0, $10f2f5626d5b2085$var$qn.prototype.setState = function(e, t) {\n    var i;\n    i = null != this.__s && this.__s !== this.state ? this.__s : this.__s = $10f2f5626d5b2085$var$Ln({}, this.state), \"function\" == typeof e && (e = e($10f2f5626d5b2085$var$Ln({}, i), this.props)), e && $10f2f5626d5b2085$var$Ln(i, e), null != e && this.__v && (t && this._sb.push(t), $10f2f5626d5b2085$var$Un(this));\n}, $10f2f5626d5b2085$var$qn.prototype.forceUpdate = function(e) {\n    this.__v && (this.__e = !0, e && this.__h.push(e), $10f2f5626d5b2085$var$Un(this));\n}, $10f2f5626d5b2085$var$qn.prototype.render = $10f2f5626d5b2085$var$Nn, $10f2f5626d5b2085$var$In = [], $10f2f5626d5b2085$var$Pn = \"function\" == typeof Promise ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, $10f2f5626d5b2085$var$Fn = function(e, t) {\n    return e.__v.__b - t.__v.__b;\n}, $10f2f5626d5b2085$var$Wn.__r = 0, $10f2f5626d5b2085$var$Cn = 0;\n!function(e, t) {\n    var i = {\n        __c: t = \"__cC\" + $10f2f5626d5b2085$var$Cn++,\n        __: e,\n        Consumer: function(e, t) {\n            return e.children(t);\n        },\n        Provider: function(e) {\n            var i, s;\n            return this.getChildContext || (i = [], (s = {})[t] = this, this.getChildContext = function() {\n                return s;\n            }, this.shouldComponentUpdate = function(e) {\n                this.props.value !== e.value && i.some(function(e) {\n                    e.__e = !0, $10f2f5626d5b2085$var$Un(e);\n                });\n            }, this.sub = function(e) {\n                i.push(e);\n                var t = e.componentWillUnmount;\n                e.componentWillUnmount = function() {\n                    i.splice(i.indexOf(e), 1), t && t.call(e);\n                };\n            }), e.children;\n        }\n    };\n    i.Provider.__ = i.Consumer.contextType = i;\n}({\n    isPreviewMode: !1,\n    previewPageIndex: 0,\n    handleCloseSurveyPopup: ()=>{},\n    isPopup: !0\n});\nconst $10f2f5626d5b2085$var$nr = \"[Surveys]\", $10f2f5626d5b2085$var$rr = {\n    icontains: (t)=>!!$10f2f5626d5b2085$var$e && $10f2f5626d5b2085$var$e.location.href.toLowerCase().indexOf(t.toLowerCase()) > -1,\n    not_icontains: (t)=>!!$10f2f5626d5b2085$var$e && -1 === $10f2f5626d5b2085$var$e.location.href.toLowerCase().indexOf(t.toLowerCase()),\n    regex: (t)=>!!$10f2f5626d5b2085$var$e && $10f2f5626d5b2085$var$at($10f2f5626d5b2085$var$e.location.href, t),\n    not_regex: (t)=>!!$10f2f5626d5b2085$var$e && !$10f2f5626d5b2085$var$at($10f2f5626d5b2085$var$e.location.href, t),\n    exact: (t)=>(null == $10f2f5626d5b2085$var$e ? void 0 : $10f2f5626d5b2085$var$e.location.href) === t,\n    is_not: (t)=>(null == $10f2f5626d5b2085$var$e ? void 0 : $10f2f5626d5b2085$var$e.location.href) !== t\n};\nclass $10f2f5626d5b2085$var$or {\n    constructor(e){\n        this.instance = e, this._surveyEventReceiver = null;\n    }\n    afterDecideResponse(e) {\n        this._decideServerResponse = !!e.surveys, this.loadIfEnabled();\n    }\n    reset() {\n        localStorage.removeItem(\"lastSeenSurveyDate\");\n        const e = (()=>{\n            const e = [];\n            for(let t = 0; t < localStorage.length; t++){\n                const i = localStorage.key(t);\n                null != i && i.startsWith(\"seenSurvey_\") && e.push(i);\n            }\n            return e;\n        })();\n        e.forEach((e)=>localStorage.removeItem(e));\n    }\n    loadIfEnabled() {\n        var e;\n        const t = null == $10f2f5626d5b2085$var$h || null === (e = $10f2f5626d5b2085$var$h.__PosthogExtensions__) || void 0 === e ? void 0 : e.generateSurveys;\n        var i, s;\n        this.instance.config.disable_surveys || !this._decideServerResponse || t || (null == this._surveyEventReceiver && (this._surveyEventReceiver = new $10f2f5626d5b2085$var$Sn(this.instance)), null === (i = $10f2f5626d5b2085$var$h.__PosthogExtensions__) || void 0 === i || null === (s = i.loadExternalDependency) || void 0 === s || s.call(i, this.instance, \"surveys\", (e)=>{\n            var t, i;\n            if (e) return $10f2f5626d5b2085$var$T.error($10f2f5626d5b2085$var$nr, \"Could not load surveys script\", e);\n            this._surveyManager = null === (t = $10f2f5626d5b2085$var$h.__PosthogExtensions__) || void 0 === t || null === (i = t.generateSurveys) || void 0 === i ? void 0 : i.call(t, this.instance);\n        }));\n    }\n    getSurveys(e) {\n        let t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];\n        if (this.instance.config.disable_surveys) return e([]);\n        null == this._surveyEventReceiver && (this._surveyEventReceiver = new $10f2f5626d5b2085$var$Sn(this.instance));\n        const i = this.instance.get_property($10f2f5626d5b2085$var$we);\n        if (i && !t) return e(i);\n        this.instance._send_request({\n            url: this.instance.requestRouter.endpointFor(\"api\", `/api/surveys/?token=${this.instance.config.token}`),\n            method: \"GET\",\n            transport: \"XHR\",\n            callback: (t)=>{\n                var i;\n                if (200 !== t.statusCode || !t.json) return e([]);\n                const s = t.json.surveys || [], n = s.filter((e)=>{\n                    var t, i, s, n, r, o, a, l, c, u, d, h;\n                    return (null === (t = e.conditions) || void 0 === t ? void 0 : t.events) && (null === (i = e.conditions) || void 0 === i || null === (s = i.events) || void 0 === s ? void 0 : s.values) && (null === (n = e.conditions) || void 0 === n || null === (r = n.events) || void 0 === r || null === (o = r.values) || void 0 === o ? void 0 : o.length) > 0 || (null === (a = e.conditions) || void 0 === a ? void 0 : a.actions) && (null === (l = e.conditions) || void 0 === l || null === (c = l.actions) || void 0 === c ? void 0 : c.values) && (null === (u = e.conditions) || void 0 === u || null === (d = u.actions) || void 0 === d || null === (h = d.values) || void 0 === h ? void 0 : h.length) > 0;\n                });\n                var r;\n                n.length > 0 && (null === (r = this._surveyEventReceiver) || void 0 === r || r.register(n));\n                return null === (i = this.instance.persistence) || void 0 === i || i.register({\n                    [$10f2f5626d5b2085$var$we]: s\n                }), e(s);\n            }\n        });\n    }\n    getActiveMatchingSurveys(e) {\n        let t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];\n        this.getSurveys((t)=>{\n            var i;\n            const s = t.filter((e)=>!(!e.start_date || e.end_date)).filter((e)=>{\n                var t, i, s, n;\n                if (!e.conditions) return !0;\n                const r = null === (t = e.conditions) || void 0 === t || !t.url || $10f2f5626d5b2085$var$rr[null !== (i = null === (s = e.conditions) || void 0 === s ? void 0 : s.urlMatchType) && void 0 !== i ? i : \"icontains\"](e.conditions.url), a = null === (n = e.conditions) || void 0 === n || !n.selector || (null == $10f2f5626d5b2085$var$o ? void 0 : $10f2f5626d5b2085$var$o.querySelector(e.conditions.selector));\n                return r && a;\n            }), n = null === (i = this._surveyEventReceiver) || void 0 === i ? void 0 : i.getSurveys(), r = s.filter((e)=>{\n                var t, i, s, r, o, a, l, c, u, d;\n                if (!e.linked_flag_key && !e.targeting_flag_key && !e.internal_targeting_flag_key) return !0;\n                const h = !e.linked_flag_key || this.instance.featureFlags.isFeatureEnabled(e.linked_flag_key), _ = !e.targeting_flag_key || this.instance.featureFlags.isFeatureEnabled(e.targeting_flag_key), p = (null === (t = e.conditions) || void 0 === t ? void 0 : t.events) && (null === (i = e.conditions) || void 0 === i || null === (s = i.events) || void 0 === s ? void 0 : s.values) && (null === (r = e.conditions) || void 0 === r || null === (o = r.events) || void 0 === o ? void 0 : o.values.length) > 0, g = (null === (a = e.conditions) || void 0 === a ? void 0 : a.actions) && (null === (l = e.conditions) || void 0 === l || null === (c = l.actions) || void 0 === c ? void 0 : c.values) && (null === (u = e.conditions) || void 0 === u || null === (d = u.actions) || void 0 === d ? void 0 : d.values.length) > 0, f = !p && !g || (null == n ? void 0 : n.includes(e.id)), v = this._canActivateRepeatedly(e), m = !(e.internal_targeting_flag_key && !v) || this.instance.featureFlags.isFeatureEnabled(e.internal_targeting_flag_key);\n                return h && _ && m && f;\n            });\n            return e(r);\n        }, t);\n    }\n    getNextSurveyStep(e, t, i) {\n        var s;\n        const n = e.questions[t], r = t + 1;\n        if (null === (s = n.branching) || void 0 === s || !s.type) return t === e.questions.length - 1 ? $10f2f5626d5b2085$export$bbed2da3bd3bb001.End : r;\n        if (n.branching.type === $10f2f5626d5b2085$export$bbed2da3bd3bb001.End) return $10f2f5626d5b2085$export$bbed2da3bd3bb001.End;\n        if (n.branching.type === $10f2f5626d5b2085$export$bbed2da3bd3bb001.SpecificQuestion) {\n            if (Number.isInteger(n.branching.index)) return n.branching.index;\n        } else if (n.branching.type === $10f2f5626d5b2085$export$bbed2da3bd3bb001.ResponseBased) {\n            if (n.type === $10f2f5626d5b2085$export$9c2ac61661d417f8.SingleChoice) {\n                var o, a;\n                const e = n.choices.indexOf(`${i}`);\n                if (null !== (o = n.branching) && void 0 !== o && null !== (a = o.responseValues) && void 0 !== a && a.hasOwnProperty(e)) {\n                    const t = n.branching.responseValues[e];\n                    return Number.isInteger(t) ? t : t === $10f2f5626d5b2085$export$bbed2da3bd3bb001.End ? $10f2f5626d5b2085$export$bbed2da3bd3bb001.End : r;\n                }\n            } else if (n.type === $10f2f5626d5b2085$export$9c2ac61661d417f8.Rating) {\n                var l, c;\n                if (\"number\" != typeof i || !Number.isInteger(i)) throw new Error(\"The response type must be an integer\");\n                const e = function(e, t) {\n                    if (3 === t) {\n                        if (e < 1 || e > 3) throw new Error(\"The response must be in range 1-3\");\n                        return 1 === e ? \"negative\" : 2 === e ? \"neutral\" : \"positive\";\n                    }\n                    if (5 === t) {\n                        if (e < 1 || e > 5) throw new Error(\"The response must be in range 1-5\");\n                        return e <= 2 ? \"negative\" : 3 === e ? \"neutral\" : \"positive\";\n                    }\n                    if (7 === t) {\n                        if (e < 1 || e > 7) throw new Error(\"The response must be in range 1-7\");\n                        return e <= 3 ? \"negative\" : 4 === e ? \"neutral\" : \"positive\";\n                    }\n                    if (10 === t) {\n                        if (e < 0 || e > 10) throw new Error(\"The response must be in range 0-10\");\n                        return e <= 6 ? \"detractors\" : e <= 8 ? \"passives\" : \"promoters\";\n                    }\n                    throw new Error(\"The scale must be one of: 3, 5, 7, 10\");\n                }(i, n.scale);\n                if (null !== (l = n.branching) && void 0 !== l && null !== (c = l.responseValues) && void 0 !== c && c.hasOwnProperty(e)) {\n                    const t = n.branching.responseValues[e];\n                    return Number.isInteger(t) ? t : t === $10f2f5626d5b2085$export$bbed2da3bd3bb001.End ? $10f2f5626d5b2085$export$bbed2da3bd3bb001.End : r;\n                }\n            }\n            return r;\n        }\n        return $10f2f5626d5b2085$var$T.warn($10f2f5626d5b2085$var$nr, \"Falling back to next question index due to unexpected branching type\"), r;\n    }\n    _canActivateRepeatedly(e) {\n        var t;\n        return $10f2f5626d5b2085$var$I(null === (t = $10f2f5626d5b2085$var$h.__PosthogExtensions__) || void 0 === t ? void 0 : t.canActivateRepeatedly) ? ($10f2f5626d5b2085$var$T.warn($10f2f5626d5b2085$var$nr, \"canActivateRepeatedly is not defined, must init before calling\"), !1) : $10f2f5626d5b2085$var$h.__PosthogExtensions__.canActivateRepeatedly(e);\n    }\n    canRenderSurvey(e) {\n        $10f2f5626d5b2085$var$I(this._surveyManager) ? $10f2f5626d5b2085$var$T.warn($10f2f5626d5b2085$var$nr, \"canActivateRepeatedly is not defined, must init before calling\") : this.getSurveys((t)=>{\n            const i = t.filter((t)=>t.id === e)[0];\n            this._surveyManager.canRenderSurvey(i);\n        });\n    }\n    renderSurvey(e, t) {\n        $10f2f5626d5b2085$var$I(this._surveyManager) ? $10f2f5626d5b2085$var$T.warn($10f2f5626d5b2085$var$nr, \"canActivateRepeatedly is not defined, must init before calling\") : this.getSurveys((i)=>{\n            const s = i.filter((t)=>t.id === e)[0];\n            this._surveyManager.renderSurvey(s, null == $10f2f5626d5b2085$var$o ? void 0 : $10f2f5626d5b2085$var$o.querySelector(t));\n        });\n    }\n}\nclass $10f2f5626d5b2085$var$ar {\n    serverLimits = {};\n    lastEventRateLimited = !1;\n    constructor(e){\n        var t, i;\n        this.instance = e, this.captureEventsPerSecond = (null === (t = e.config.rate_limiting) || void 0 === t ? void 0 : t.events_per_second) || 10, this.captureEventsBurstLimit = Math.max((null === (i = e.config.rate_limiting) || void 0 === i ? void 0 : i.events_burst_limit) || 10 * this.captureEventsPerSecond, this.captureEventsPerSecond), this.lastEventRateLimited = this.clientRateLimitContext(!0).isRateLimited;\n    }\n    clientRateLimitContext() {\n        var e, t, i;\n        let s = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];\n        const n = (new Date).getTime(), r = null !== (e = null === (t = this.instance.persistence) || void 0 === t ? void 0 : t.get_property($10f2f5626d5b2085$var$Ie)) && void 0 !== e ? e : {\n            tokens: this.captureEventsBurstLimit,\n            last: n\n        };\n        r.tokens += (n - r.last) / 1e3 * this.captureEventsPerSecond, r.last = n, r.tokens > this.captureEventsBurstLimit && (r.tokens = this.captureEventsBurstLimit);\n        const o = r.tokens < 1;\n        return o || s || (r.tokens = Math.max(0, r.tokens - 1)), !o || this.lastEventRateLimited || s || this.instance.capture(\"$$client_ingestion_warning\", {\n            $$client_ingestion_warning_message: `posthog-js client rate limited. Config is set to ${this.captureEventsPerSecond} events per second and ${this.captureEventsBurstLimit} events burst limit.`\n        }, {\n            skip_client_rate_limiting: !0\n        }), this.lastEventRateLimited = o, null === (i = this.instance.persistence) || void 0 === i || i.set_property($10f2f5626d5b2085$var$Ie, r), {\n            isRateLimited: o,\n            remainingTokens: r.tokens\n        };\n    }\n    isServerRateLimited(e) {\n        const t = this.serverLimits[e || \"events\"] || !1;\n        return !1 !== t && (new Date).getTime() < t;\n    }\n    checkForLimiting = (e)=>{\n        const t = e.text;\n        if (t && t.length) try {\n            const e = JSON.parse(t);\n            (e.quota_limited || []).forEach((e)=>{\n                $10f2f5626d5b2085$var$T.info(`[RateLimiter] ${e || \"events\"} is quota limited.`), this.serverLimits[e] = (new Date).getTime() + 6e4;\n            });\n        } catch (e) {\n            return void $10f2f5626d5b2085$var$T.warn(`[RateLimiter] could not rate limit - continuing. Error: \"${null == e ? void 0 : e.message}\"`, {\n                text: t\n            });\n        }\n    };\n}\nconst $10f2f5626d5b2085$var$lr = ()=>({\n        initialPathName: (null == $10f2f5626d5b2085$var$a ? void 0 : $10f2f5626d5b2085$var$a.pathname) || \"\",\n        referringDomain: $10f2f5626d5b2085$var$li.referringDomain(),\n        ...$10f2f5626d5b2085$var$li.campaignParams()\n    });\nclass $10f2f5626d5b2085$var$cr {\n    constructor(e, t, i){\n        this._sessionIdManager = e, this._persistence = t, this._sessionSourceParamGenerator = i || $10f2f5626d5b2085$var$lr, this._sessionIdManager.onSessionId(this._onSessionIdCallback);\n    }\n    _getStoredProps() {\n        return this._persistence.props[$10f2f5626d5b2085$var$xe];\n    }\n    _onSessionIdCallback = (e)=>{\n        const t = this._getStoredProps();\n        if (t && t.sessionId === e) return;\n        const i = {\n            sessionId: e,\n            props: this._sessionSourceParamGenerator()\n        };\n        this._persistence.register({\n            [$10f2f5626d5b2085$var$xe]: i\n        });\n    };\n    getSessionProps() {\n        var e;\n        const t = null === (e = this._getStoredProps()) || void 0 === e ? void 0 : e.props;\n        return t ? {\n            $client_session_initial_referring_host: t.referringDomain,\n            $client_session_initial_pathname: t.initialPathName,\n            $client_session_initial_utm_source: t.utm_source,\n            $client_session_initial_utm_campaign: t.utm_campaign,\n            $client_session_initial_utm_medium: t.utm_medium,\n            $client_session_initial_utm_content: t.utm_content,\n            $client_session_initial_utm_term: t.utm_term\n        } : {};\n    }\n}\nconst $10f2f5626d5b2085$var$ur = [\n    \"ahrefsbot\",\n    \"ahrefssiteaudit\",\n    \"applebot\",\n    \"baiduspider\",\n    \"bingbot\",\n    \"bingpreview\",\n    \"bot.htm\",\n    \"bot.php\",\n    \"crawler\",\n    \"deepscan\",\n    \"duckduckbot\",\n    \"facebookexternal\",\n    \"facebookcatalog\",\n    \"gptbot\",\n    \"http://yandex.com/bots\",\n    \"hubspot\",\n    \"ia_archiver\",\n    \"linkedinbot\",\n    \"mj12bot\",\n    \"msnbot\",\n    \"nessus\",\n    \"petalbot\",\n    \"pinterest\",\n    \"prerender\",\n    \"rogerbot\",\n    \"screaming frog\",\n    \"semrushbot\",\n    \"sitebulb\",\n    \"slurp\",\n    \"turnitin\",\n    \"twitterbot\",\n    \"vercelbot\",\n    \"yahoo! slurp\",\n    \"yandexbot\",\n    \"headlesschrome\",\n    \"cypress\",\n    \"Google-HotelAdsVerifier\",\n    \"adsbot-google\",\n    \"apis-google\",\n    \"duplexweb-google\",\n    \"feedfetcher-google\",\n    \"google favicon\",\n    \"google web preview\",\n    \"google-read-aloud\",\n    \"googlebot\",\n    \"googleweblight\",\n    \"mediapartners-google\",\n    \"storebot-google\",\n    \"Bytespider;\"\n], $10f2f5626d5b2085$var$dr = function(e, t) {\n    if (!e) return !1;\n    const i = e.toLowerCase();\n    return $10f2f5626d5b2085$var$ur.concat(t || []).some((e)=>{\n        const t = e.toLowerCase();\n        return -1 !== i.indexOf(t);\n    });\n}, $10f2f5626d5b2085$var$hr = function(e, t) {\n    if (!e) return !1;\n    const i = e.userAgent;\n    if (i && $10f2f5626d5b2085$var$dr(i, t)) return !0;\n    try {\n        const i = null == e ? void 0 : e.userAgentData;\n        if (null != i && i.brands && i.brands.some((e)=>$10f2f5626d5b2085$var$dr(null == e ? void 0 : e.brand, t))) return !0;\n    } catch  {}\n    return !!e.webdriver;\n};\nclass $10f2f5626d5b2085$var$_r {\n    constructor(){\n        this.clicks = [];\n    }\n    isRageClick(e, t, i) {\n        const s = this.clicks[this.clicks.length - 1];\n        if (s && Math.abs(e - s.x) + Math.abs(t - s.y) < 30 && i - s.timestamp < 1e3) {\n            if (this.clicks.push({\n                x: e,\n                y: t,\n                timestamp: i\n            }), 3 === this.clicks.length) return !0;\n        } else this.clicks = [\n            {\n                x: e,\n                y: t,\n                timestamp: i\n            }\n        ];\n        return !1;\n    }\n}\nconst $10f2f5626d5b2085$var$pr = \"[Dead Clicks]\", $10f2f5626d5b2085$var$gr = ()=>!0, $10f2f5626d5b2085$var$fr = (e)=>{\n    var t;\n    const i = !(null === (t = e.instance.persistence) || void 0 === t || !t.get_property($10f2f5626d5b2085$var$re)), s = e.instance.config.capture_dead_clicks;\n    return $10f2f5626d5b2085$var$P(s) ? s : i;\n};\nclass $10f2f5626d5b2085$var$vr {\n    get lazyLoadedDeadClicksAutocapture() {\n        return this._lazyLoadedDeadClicksAutocapture;\n    }\n    constructor(e, t, i){\n        this.instance = e, this.isEnabled = t, this.onCapture = i, this.startIfEnabled();\n    }\n    afterDecideResponse(e) {\n        this.instance.persistence && this.instance.persistence.register({\n            [$10f2f5626d5b2085$var$re]: null == e ? void 0 : e.captureDeadClicks\n        }), this.startIfEnabled();\n    }\n    startIfEnabled() {\n        this.isEnabled(this) && this.loadScript(()=>{\n            this.start();\n        });\n    }\n    loadScript(e) {\n        var t, i, s;\n        null !== (t = $10f2f5626d5b2085$var$h.__PosthogExtensions__) && void 0 !== t && t.initDeadClicksAutocapture && e(), null === (i = $10f2f5626d5b2085$var$h.__PosthogExtensions__) || void 0 === i || null === (s = i.loadExternalDependency) || void 0 === s || s.call(i, this.instance, \"dead-clicks-autocapture\", (t)=>{\n            t ? $10f2f5626d5b2085$var$T.error($10f2f5626d5b2085$var$pr + \" failed to load script\", t) : e();\n        });\n    }\n    start() {\n        var e;\n        if ($10f2f5626d5b2085$var$o) {\n            if (!this._lazyLoadedDeadClicksAutocapture && null !== (e = $10f2f5626d5b2085$var$h.__PosthogExtensions__) && void 0 !== e && e.initDeadClicksAutocapture) {\n                const e = $10f2f5626d5b2085$var$b(this.instance.config.capture_dead_clicks) ? this.instance.config.capture_dead_clicks : {};\n                e.__onCapture = this.onCapture, this._lazyLoadedDeadClicksAutocapture = $10f2f5626d5b2085$var$h.__PosthogExtensions__.initDeadClicksAutocapture(this.instance, e), this._lazyLoadedDeadClicksAutocapture.start($10f2f5626d5b2085$var$o), $10f2f5626d5b2085$var$T.info(`${$10f2f5626d5b2085$var$pr} starting...`);\n            }\n        } else $10f2f5626d5b2085$var$T.error($10f2f5626d5b2085$var$pr + \" `document` not found. Cannot start.\");\n    }\n    stop() {\n        this._lazyLoadedDeadClicksAutocapture && (this._lazyLoadedDeadClicksAutocapture.stop(), this._lazyLoadedDeadClicksAutocapture = void 0, $10f2f5626d5b2085$var$T.info(`${$10f2f5626d5b2085$var$pr} stopping...`));\n    }\n}\nclass $10f2f5626d5b2085$var$mr {\n    rageclicks = new $10f2f5626d5b2085$var$_r;\n    _enabledServerSide = !1;\n    _initialized = !1;\n    _flushInterval = null;\n    constructor(t){\n        var i;\n        this.instance = t, this._enabledServerSide = !(null === (i = this.instance.persistence) || void 0 === i || !i.props[$10f2f5626d5b2085$var$te]), null == $10f2f5626d5b2085$var$e || $10f2f5626d5b2085$var$e.addEventListener(\"beforeunload\", ()=>{\n            this.flush();\n        });\n    }\n    get flushIntervalMilliseconds() {\n        let e = 5e3;\n        return $10f2f5626d5b2085$var$b(this.instance.config.capture_heatmaps) && this.instance.config.capture_heatmaps.flush_interval_milliseconds && (e = this.instance.config.capture_heatmaps.flush_interval_milliseconds), e;\n    }\n    get isEnabled() {\n        return $10f2f5626d5b2085$var$S(this.instance.config.capture_heatmaps) ? $10f2f5626d5b2085$var$S(this.instance.config.enable_heatmaps) ? this._enabledServerSide : this.instance.config.enable_heatmaps : !1 !== this.instance.config.capture_heatmaps;\n    }\n    startIfEnabled() {\n        if (this.isEnabled) {\n            if (this._initialized) return;\n            $10f2f5626d5b2085$var$T.info(\"[heatmaps] starting...\"), this._setupListeners(), this._flushInterval = setInterval(this.flush.bind(this), this.flushIntervalMilliseconds);\n        } else {\n            var e, t;\n            clearInterval(null !== (e = this._flushInterval) && void 0 !== e ? e : void 0), null === (t = this.deadClicksCapture) || void 0 === t || t.stop(), this.getAndClearBuffer();\n        }\n    }\n    afterDecideResponse(e) {\n        const t = !!e.heatmaps;\n        this.instance.persistence && this.instance.persistence.register({\n            [$10f2f5626d5b2085$var$te]: t\n        }), this._enabledServerSide = t, this.startIfEnabled();\n    }\n    getAndClearBuffer() {\n        const e = this.buffer;\n        return this.buffer = void 0, e;\n    }\n    _onDeadClick(e) {\n        this._onClick(e.originalEvent, \"deadclick\");\n    }\n    _setupListeners() {\n        $10f2f5626d5b2085$var$e && $10f2f5626d5b2085$var$o && ($10f2f5626d5b2085$var$G($10f2f5626d5b2085$var$o, \"click\", (t)=>this._onClick(t || (null == $10f2f5626d5b2085$var$e ? void 0 : $10f2f5626d5b2085$var$e.event)), !1, !0), $10f2f5626d5b2085$var$G($10f2f5626d5b2085$var$o, \"mousemove\", (t)=>this._onMouseMove(t || (null == $10f2f5626d5b2085$var$e ? void 0 : $10f2f5626d5b2085$var$e.event)), !1, !0), this.deadClicksCapture = new $10f2f5626d5b2085$var$vr(this.instance, $10f2f5626d5b2085$var$gr, this._onDeadClick.bind(this)), this.deadClicksCapture.startIfEnabled(), this._initialized = !0);\n    }\n    _getProperties(t, i) {\n        const s = this.instance.scrollManager.scrollY(), n = this.instance.scrollManager.scrollX(), r = this.instance.scrollManager.scrollElement(), o = function(t, i, s) {\n            let n = t;\n            for(; n && $10f2f5626d5b2085$var$fi(n) && !$10f2f5626d5b2085$var$vi(n, \"body\");){\n                if (n === s) return !1;\n                if ($10f2f5626d5b2085$var$N(i, null == $10f2f5626d5b2085$var$e ? void 0 : $10f2f5626d5b2085$var$e.getComputedStyle(n).position)) return !0;\n                n = $10f2f5626d5b2085$var$Ri(n);\n            }\n            return !1;\n        }($10f2f5626d5b2085$var$xi(t), [\n            \"fixed\",\n            \"sticky\"\n        ], r);\n        return {\n            x: t.clientX + (o ? 0 : n),\n            y: t.clientY + (o ? 0 : s),\n            target_fixed: o,\n            type: i\n        };\n    }\n    _onClick(e) {\n        var t;\n        let i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"click\";\n        if ($10f2f5626d5b2085$var$gi(e.target)) return;\n        const s = this._getProperties(e, i);\n        null !== (t = this.rageclicks) && void 0 !== t && t.isRageClick(e.clientX, e.clientY, (new Date).getTime()) && this._capture({\n            ...s,\n            type: \"rageclick\"\n        }), this._capture(s);\n    }\n    _onMouseMove(e) {\n        $10f2f5626d5b2085$var$gi(e.target) || (clearTimeout(this._mouseMoveTimeout), this._mouseMoveTimeout = setTimeout(()=>{\n            this._capture(this._getProperties(e, \"mousemove\"));\n        }, 500));\n    }\n    _capture(t) {\n        if (!$10f2f5626d5b2085$var$e) return;\n        const i = $10f2f5626d5b2085$var$e.location.href;\n        this.buffer = this.buffer || {}, this.buffer[i] || (this.buffer[i] = []), this.buffer[i].push(t);\n    }\n    flush() {\n        this.buffer && !$10f2f5626d5b2085$var$w(this.buffer) && this.instance.capture(\"$$heatmap\", {\n            $heatmap_data: this.getAndClearBuffer()\n        });\n    }\n}\nclass $10f2f5626d5b2085$var$yr {\n    constructor(e){\n        this.instance = e;\n    }\n    getContext() {\n        return this.context;\n    }\n    resetContext() {\n        const e = this.context;\n        return setTimeout(this._updateScrollData, 0), e;\n    }\n    _updateScrollData = ()=>{\n        var e, t, i, s;\n        this.context || (this.context = {});\n        const n = this.scrollElement(), r = this.scrollY(), o = n ? Math.max(0, n.scrollHeight - n.clientHeight) : 0, a = r + ((null == n ? void 0 : n.clientHeight) || 0), l = (null == n ? void 0 : n.scrollHeight) || 0;\n        this.context.lastScrollY = Math.ceil(r), this.context.maxScrollY = Math.max(r, null !== (e = this.context.maxScrollY) && void 0 !== e ? e : 0), this.context.maxScrollHeight = Math.max(o, null !== (t = this.context.maxScrollHeight) && void 0 !== t ? t : 0), this.context.lastContentY = a, this.context.maxContentY = Math.max(a, null !== (i = this.context.maxContentY) && void 0 !== i ? i : 0), this.context.maxContentHeight = Math.max(l, null !== (s = this.context.maxContentHeight) && void 0 !== s ? s : 0);\n    };\n    startMeasuringScrollPosition() {\n        null == $10f2f5626d5b2085$var$e || $10f2f5626d5b2085$var$e.addEventListener(\"scroll\", this._updateScrollData, !0), null == $10f2f5626d5b2085$var$e || $10f2f5626d5b2085$var$e.addEventListener(\"scrollend\", this._updateScrollData, !0), null == $10f2f5626d5b2085$var$e || $10f2f5626d5b2085$var$e.addEventListener(\"resize\", this._updateScrollData);\n    }\n    scrollElement() {\n        if (!this.instance.config.scroll_root_selector) return null == $10f2f5626d5b2085$var$e ? void 0 : $10f2f5626d5b2085$var$e.document.documentElement;\n        {\n            const t = $10f2f5626d5b2085$var$m(this.instance.config.scroll_root_selector) ? this.instance.config.scroll_root_selector : [\n                this.instance.config.scroll_root_selector\n            ];\n            for (const i of t){\n                const t = null == $10f2f5626d5b2085$var$e ? void 0 : $10f2f5626d5b2085$var$e.document.querySelector(i);\n                if (t) return t;\n            }\n        }\n    }\n    scrollY() {\n        if (this.instance.config.scroll_root_selector) {\n            const e = this.scrollElement();\n            return e && e.scrollTop || 0;\n        }\n        return $10f2f5626d5b2085$var$e && ($10f2f5626d5b2085$var$e.scrollY || $10f2f5626d5b2085$var$e.pageYOffset || $10f2f5626d5b2085$var$e.document.documentElement.scrollTop) || 0;\n    }\n    scrollX() {\n        if (this.instance.config.scroll_root_selector) {\n            const e = this.scrollElement();\n            return e && e.scrollLeft || 0;\n        }\n        return $10f2f5626d5b2085$var$e && ($10f2f5626d5b2085$var$e.scrollX || $10f2f5626d5b2085$var$e.pageXOffset || $10f2f5626d5b2085$var$e.document.documentElement.scrollLeft) || 0;\n    }\n}\nconst $10f2f5626d5b2085$var$br = \"$copy_autocapture\";\nfunction $10f2f5626d5b2085$var$wr(e, t) {\n    return t.length > e ? t.slice(0, e) + \"...\" : t;\n}\nfunction $10f2f5626d5b2085$var$Sr(e) {\n    if (e.previousElementSibling) return e.previousElementSibling;\n    let t = e;\n    do t = t.previousSibling;\n    while (t && !$10f2f5626d5b2085$var$fi(t));\n    return t;\n}\nfunction $10f2f5626d5b2085$var$Er(e, t, i, s) {\n    const n = e.tagName.toLowerCase(), r = {\n        tag_name: n\n    };\n    $10f2f5626d5b2085$var$Ii.indexOf(n) > -1 && !i && (\"a\" === n.toLowerCase() || \"button\" === n.toLowerCase() ? r.$el_text = $10f2f5626d5b2085$var$wr(1024, $10f2f5626d5b2085$var$Ni(e)) : r.$el_text = $10f2f5626d5b2085$var$wr(1024, $10f2f5626d5b2085$var$ki(e)));\n    const o = $10f2f5626d5b2085$var$Si(e);\n    o.length > 0 && (r.classes = o.filter(function(e) {\n        return \"\" !== e;\n    })), $10f2f5626d5b2085$var$D(e.attributes, function(i) {\n        var n;\n        if ((!$10f2f5626d5b2085$var$Ci(e) || -1 !== [\n            \"name\",\n            \"id\",\n            \"class\",\n            \"aria-label\"\n        ].indexOf(i.name)) && (null == s || !s.includes(i.name)) && !t && $10f2f5626d5b2085$var$Oi(i.value) && (n = i.name, !$10f2f5626d5b2085$var$E(n) || \"_ngcontent\" !== n.substring(0, 10) && \"_nghost\" !== n.substring(0, 7))) {\n            let e = i.value;\n            \"class\" === i.name && (e = $10f2f5626d5b2085$var$bi(e).join(\" \")), r[\"attr__\" + i.name] = $10f2f5626d5b2085$var$wr(1024, e);\n        }\n    });\n    let a = 1, l = 1, c = e;\n    for(; c = $10f2f5626d5b2085$var$Sr(c);)a++, c.tagName === e.tagName && l++;\n    return r.nth_child = a, r.nth_of_type = l, r;\n}\nfunction $10f2f5626d5b2085$var$kr(t, i) {\n    var s, n;\n    let { e: r, maskAllElementAttributes: o, maskAllText: a, elementAttributeIgnoreList: l, elementsChainAsString: c } = i;\n    const u = [\n        t\n    ];\n    let d = t;\n    for(; d.parentNode && !$10f2f5626d5b2085$var$vi(d, \"body\");)$10f2f5626d5b2085$var$yi(d.parentNode) ? (u.push(d.parentNode.host), d = d.parentNode.host) : (u.push(d.parentNode), d = d.parentNode);\n    const h = [], _ = {};\n    let p, g = !1, f = !1;\n    if ($10f2f5626d5b2085$var$D(u, (e)=>{\n        const t = $10f2f5626d5b2085$var$Fi(e);\n        \"a\" === e.tagName.toLowerCase() && (g = e.getAttribute(\"href\"), g = t && g && $10f2f5626d5b2085$var$Oi(g) && g);\n        $10f2f5626d5b2085$var$N($10f2f5626d5b2085$var$Si(e), \"ph-no-capture\") && (f = !0), h.push($10f2f5626d5b2085$var$Er(e, o, a, l));\n        const i = function(e) {\n            if (!$10f2f5626d5b2085$var$Fi(e)) return {};\n            const t = {};\n            return $10f2f5626d5b2085$var$D(e.attributes, function(e) {\n                if (e.name && 0 === e.name.indexOf(\"data-ph-capture-attribute\")) {\n                    const i = e.name.replace(\"data-ph-capture-attribute-\", \"\"), s = e.value;\n                    i && s && $10f2f5626d5b2085$var$Oi(s) && (t[i] = s);\n                }\n            }), t;\n        }(e);\n        $10f2f5626d5b2085$var$O(_, i);\n    }), f) return {\n        props: {},\n        explicitNoCapture: f\n    };\n    if (a || (\"a\" === t.tagName.toLowerCase() || \"button\" === t.tagName.toLowerCase() ? h[0].$el_text = $10f2f5626d5b2085$var$Ni(t) : h[0].$el_text = $10f2f5626d5b2085$var$ki(t)), g) {\n        var v, m;\n        h[0].attr__href = g;\n        const t = null === (v = $10f2f5626d5b2085$var$ot(g)) || void 0 === v ? void 0 : v.host, i = null == $10f2f5626d5b2085$var$e || null === (m = $10f2f5626d5b2085$var$e.location) || void 0 === m ? void 0 : m.host;\n        t && i && t !== i && (p = g);\n    }\n    return {\n        props: $10f2f5626d5b2085$var$O({\n            $event_type: r.type,\n            $ce_version: 1\n        }, c ? {\n            $elements_chain: $10f2f5626d5b2085$var$Bi(h)\n        } : {\n            $elements: h\n        }, null !== (s = h[0]) && void 0 !== s && s.$el_text ? {\n            $el_text: null === (n = h[0]) || void 0 === n ? void 0 : n.$el_text\n        } : {}, p && \"click\" === r.type ? {\n            $external_click_url: p\n        } : {}, _)\n    };\n}\nclass $10f2f5626d5b2085$var$xr {\n    _initialized = !1;\n    _isDisabledServerSide = null;\n    rageclicks = new $10f2f5626d5b2085$var$_r;\n    _elementsChainAsString = !1;\n    constructor(e){\n        this.instance = e, this._elementSelectors = null;\n    }\n    get config() {\n        var e, t;\n        const i = $10f2f5626d5b2085$var$b(this.instance.config.autocapture) ? this.instance.config.autocapture : {};\n        return i.url_allowlist = null === (e = i.url_allowlist) || void 0 === e ? void 0 : e.map((e)=>new RegExp(e)), i.url_ignorelist = null === (t = i.url_ignorelist) || void 0 === t ? void 0 : t.map((e)=>new RegExp(e)), i;\n    }\n    _addDomEventHandlers() {\n        if (!this.isBrowserSupported()) return void $10f2f5626d5b2085$var$T.info(\"Disabling Automatic Event Collection because this browser is not supported\");\n        if (!$10f2f5626d5b2085$var$e || !$10f2f5626d5b2085$var$o) return;\n        const t = (t)=>{\n            t = t || (null == $10f2f5626d5b2085$var$e ? void 0 : $10f2f5626d5b2085$var$e.event);\n            try {\n                this._captureEvent(t);\n            } catch (e) {\n                $10f2f5626d5b2085$var$T.error(\"Failed to capture event\", e);\n            }\n        }, i = (t)=>{\n            t = t || (null == $10f2f5626d5b2085$var$e ? void 0 : $10f2f5626d5b2085$var$e.event), this._captureEvent(t, $10f2f5626d5b2085$var$br);\n        };\n        $10f2f5626d5b2085$var$G($10f2f5626d5b2085$var$o, \"submit\", t, !1, !0), $10f2f5626d5b2085$var$G($10f2f5626d5b2085$var$o, \"change\", t, !1, !0), $10f2f5626d5b2085$var$G($10f2f5626d5b2085$var$o, \"click\", t, !1, !0), this.config.capture_copied_text && ($10f2f5626d5b2085$var$G($10f2f5626d5b2085$var$o, \"copy\", i, !1, !0), $10f2f5626d5b2085$var$G($10f2f5626d5b2085$var$o, \"cut\", i, !1, !0));\n    }\n    startIfEnabled() {\n        this.isEnabled && !this._initialized && (this._addDomEventHandlers(), this._initialized = !0);\n    }\n    afterDecideResponse(e) {\n        e.elementsChainAsString && (this._elementsChainAsString = e.elementsChainAsString), this.instance.persistence && this.instance.persistence.register({\n            [$10f2f5626d5b2085$var$ee]: !!e.autocapture_opt_out\n        }), this._isDisabledServerSide = !!e.autocapture_opt_out, this.startIfEnabled();\n    }\n    setElementSelectors(e) {\n        this._elementSelectors = e;\n    }\n    getElementSelectors(e) {\n        var t;\n        const i = [];\n        return null === (t = this._elementSelectors) || void 0 === t || t.forEach((t)=>{\n            const s = null == $10f2f5626d5b2085$var$o ? void 0 : $10f2f5626d5b2085$var$o.querySelectorAll(t);\n            null == s || s.forEach((s)=>{\n                e === s && i.push(t);\n            });\n        }), i;\n    }\n    get isEnabled() {\n        var e, t;\n        const i = null === (e = this.instance.persistence) || void 0 === e ? void 0 : e.props[$10f2f5626d5b2085$var$ee], s = this._isDisabledServerSide;\n        if ($10f2f5626d5b2085$var$x(s) && !$10f2f5626d5b2085$var$P(i) && !this.instance.config.advanced_disable_decide) return !1;\n        const n = null !== (t = this._isDisabledServerSide) && void 0 !== t ? t : !!i;\n        return !!this.instance.config.autocapture && !n;\n    }\n    _captureEvent(t) {\n        let i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"$autocapture\";\n        if (!this.isEnabled) return;\n        let s = $10f2f5626d5b2085$var$xi(t);\n        var n;\n        ($10f2f5626d5b2085$var$mi(s) && (s = s.parentNode || null), \"$autocapture\" === i && \"click\" === t.type && t instanceof MouseEvent) && this.instance.config.rageclick && null !== (n = this.rageclicks) && void 0 !== n && n.isRageClick(t.clientX, t.clientY, (new Date).getTime()) && this._captureEvent(t, \"$rageclick\");\n        const r = i === $10f2f5626d5b2085$var$br;\n        if (s && $10f2f5626d5b2085$var$Pi(s, t, this.config, r, r ? [\n            \"copy\",\n            \"cut\"\n        ] : void 0)) {\n            const { props: n, explicitNoCapture: r } = $10f2f5626d5b2085$var$kr(s, {\n                e: t,\n                maskAllElementAttributes: this.instance.config.mask_all_element_attributes,\n                maskAllText: this.instance.config.mask_all_text,\n                elementAttributeIgnoreList: this.config.element_attribute_ignorelist,\n                elementsChainAsString: this._elementsChainAsString\n            });\n            if (r) return !1;\n            const a = this.getElementSelectors(s);\n            if (a && a.length > 0 && (n.$element_selectors = a), i === $10f2f5626d5b2085$var$br) {\n                var o;\n                const i = $10f2f5626d5b2085$var$Ei(null == $10f2f5626d5b2085$var$e || null === (o = $10f2f5626d5b2085$var$e.getSelection()) || void 0 === o ? void 0 : o.toString()), s = t.type || \"clipboard\";\n                if (!i) return !1;\n                n.$selected_content = i, n.$copy_type = s;\n            }\n            return this.instance.capture(i, n), !0;\n        }\n    }\n    isBrowserSupported() {\n        return $10f2f5626d5b2085$var$y(null == $10f2f5626d5b2085$var$o ? void 0 : $10f2f5626d5b2085$var$o.querySelectorAll);\n    }\n}\nclass $10f2f5626d5b2085$var$Ir {\n    _restoreXHRPatch = void 0;\n    _restoreFetchPatch = void 0;\n    constructor(e){\n        this.instance = e;\n    }\n    _loadScript(e) {\n        var t, i, s;\n        null !== (t = $10f2f5626d5b2085$var$h.__PosthogExtensions__) && void 0 !== t && t.tracingHeadersPatchFns && e(), null === (i = $10f2f5626d5b2085$var$h.__PosthogExtensions__) || void 0 === i || null === (s = i.loadExternalDependency) || void 0 === s || s.call(i, this.instance, \"tracing-headers\", (t)=>{\n            if (t) return $10f2f5626d5b2085$var$T.error(\"[TRACING-HEADERS] failed to load script\", t);\n            e();\n        });\n    }\n    startIfEnabledOrStop() {\n        var e, t;\n        this.instance.config.__add_tracing_headers ? this._loadScript(this._startCapturing) : (null === (e = this._restoreXHRPatch) || void 0 === e || e.call(this), null === (t = this._restoreFetchPatch) || void 0 === t || t.call(this), this._restoreXHRPatch = void 0, this._restoreFetchPatch = void 0);\n    }\n    _startCapturing = ()=>{\n        var e, t, i, s;\n        $10f2f5626d5b2085$var$S(this._restoreXHRPatch) && (null === (e = $10f2f5626d5b2085$var$h.__PosthogExtensions__) || void 0 === e || null === (t = e.tracingHeadersPatchFns) || void 0 === t || t._patchXHR(this.instance.sessionManager));\n        $10f2f5626d5b2085$var$S(this._restoreFetchPatch) && (null === (i = $10f2f5626d5b2085$var$h.__PosthogExtensions__) || void 0 === i || null === (s = i.tracingHeadersPatchFns) || void 0 === s || s._patchFetch(this.instance.sessionManager));\n    };\n}\nlet $10f2f5626d5b2085$var$Rr;\n!function(e) {\n    e[e.PENDING = -1] = \"PENDING\", e[e.DENIED = 0] = \"DENIED\", e[e.GRANTED = 1] = \"GRANTED\";\n}($10f2f5626d5b2085$var$Rr || ($10f2f5626d5b2085$var$Rr = {}));\nclass $10f2f5626d5b2085$var$Pr {\n    constructor(e){\n        this.instance = e;\n    }\n    get config() {\n        return this.instance.config;\n    }\n    get consent() {\n        return this.getDnt() ? $10f2f5626d5b2085$var$Rr.DENIED : this.storedConsent;\n    }\n    isOptedOut() {\n        return this.consent === $10f2f5626d5b2085$var$Rr.DENIED || this.consent === $10f2f5626d5b2085$var$Rr.PENDING && this.config.opt_out_capturing_by_default;\n    }\n    isOptedIn() {\n        return !this.isOptedOut();\n    }\n    optInOut(e) {\n        this.storage.set(this.storageKey, e ? 1 : 0, this.config.cookie_expiration, this.config.cross_subdomain_cookie, this.config.secure_cookie);\n    }\n    reset() {\n        this.storage.remove(this.storageKey, this.config.cross_subdomain_cookie);\n    }\n    get storageKey() {\n        const { token: e, opt_out_capturing_cookie_prefix: t } = this.instance.config;\n        return (t || \"__ph_opt_in_out_\") + e;\n    }\n    get storedConsent() {\n        const e = this.storage.get(this.storageKey);\n        return \"1\" === e ? $10f2f5626d5b2085$var$Rr.GRANTED : \"0\" === e ? $10f2f5626d5b2085$var$Rr.DENIED : $10f2f5626d5b2085$var$Rr.PENDING;\n    }\n    get storage() {\n        if (!this._storage) {\n            const e = this.config.opt_out_capturing_persistence_type;\n            this._storage = \"localStorage\" === e ? $10f2f5626d5b2085$var$Ke : $10f2f5626d5b2085$var$Ye;\n            const t = \"localStorage\" === e ? $10f2f5626d5b2085$var$Ye : $10f2f5626d5b2085$var$Ke;\n            t.get(this.storageKey) && (this._storage.get(this.storageKey) || this.optInOut(\"1\" === t.get(this.storageKey)), t.remove(this.storageKey, this.config.cross_subdomain_cookie));\n        }\n        return this._storage;\n    }\n    getDnt() {\n        return !!this.config.respect_dnt && !!$10f2f5626d5b2085$var$Q([\n            null == $10f2f5626d5b2085$var$r ? void 0 : $10f2f5626d5b2085$var$r.doNotTrack,\n            null == $10f2f5626d5b2085$var$r ? void 0 : $10f2f5626d5b2085$var$r.msDoNotTrack,\n            $10f2f5626d5b2085$var$h.doNotTrack\n        ], (e)=>$10f2f5626d5b2085$var$N([\n                !0,\n                1,\n                \"1\",\n                \"yes\"\n            ], e));\n    }\n}\nconst $10f2f5626d5b2085$var$Fr = \"[Exception Autocapture]\";\nclass $10f2f5626d5b2085$var$Cr {\n    originalOnUnhandledRejectionHandler = void 0;\n    constructor(e){\n        var t;\n        this.instance = e, this.remoteEnabled = !(null === (t = this.instance.persistence) || void 0 === t || !t.props[$10f2f5626d5b2085$var$ie]), this.startIfEnabled();\n    }\n    get isEnabled() {\n        var e;\n        return null !== (e = this.remoteEnabled) && void 0 !== e && e;\n    }\n    get isCapturing() {\n        var t;\n        return !(null == $10f2f5626d5b2085$var$e || null === (t = $10f2f5626d5b2085$var$e.onerror) || void 0 === t || !t.__POSTHOG_INSTRUMENTED__);\n    }\n    get hasHandlers() {\n        return this.originalOnUnhandledRejectionHandler || this.unwrapOnError;\n    }\n    startIfEnabled() {\n        this.isEnabled && !this.isCapturing && ($10f2f5626d5b2085$var$T.info($10f2f5626d5b2085$var$Fr + \" enabled, starting...\"), this.loadScript(this.startCapturing));\n    }\n    loadScript(e) {\n        var t, i;\n        this.hasHandlers && e(), null === (t = $10f2f5626d5b2085$var$h.__PosthogExtensions__) || void 0 === t || null === (i = t.loadExternalDependency) || void 0 === i || i.call(t, this.instance, \"exception-autocapture\", (t)=>{\n            if (t) return $10f2f5626d5b2085$var$T.error($10f2f5626d5b2085$var$Fr + \" failed to load script\", t);\n            e();\n        });\n    }\n    startCapturing = ()=>{\n        var t, i, s, n;\n        if (!$10f2f5626d5b2085$var$e || !this.isEnabled || this.hasHandlers || this.isCapturing) return;\n        const r = null === (t = $10f2f5626d5b2085$var$h.__PosthogExtensions__) || void 0 === t || null === (i = t.errorWrappingFunctions) || void 0 === i ? void 0 : i.wrapOnError, o = null === (s = $10f2f5626d5b2085$var$h.__PosthogExtensions__) || void 0 === s || null === (n = s.errorWrappingFunctions) || void 0 === n ? void 0 : n.wrapUnhandledRejection;\n        if (r && o) try {\n            this.unwrapOnError = r(this.captureException.bind(this)), this.unwrapUnhandledRejection = o(this.captureException.bind(this));\n        } catch (e) {\n            $10f2f5626d5b2085$var$T.error($10f2f5626d5b2085$var$Fr + \" failed to start\", e), this.stopCapturing();\n        }\n        else $10f2f5626d5b2085$var$T.error($10f2f5626d5b2085$var$Fr + \" failed to load error wrapping functions - cannot start\");\n    };\n    stopCapturing() {\n        var e, t;\n        null === (e = this.unwrapOnError) || void 0 === e || e.call(this), null === (t = this.unwrapUnhandledRejection) || void 0 === t || t.call(this);\n    }\n    afterDecideResponse(e) {\n        const t = e.autocaptureExceptions;\n        this.remoteEnabled = !!t || !1, this.instance.persistence && this.instance.persistence.register({\n            [$10f2f5626d5b2085$var$ie]: this.remoteEnabled\n        }), this.startIfEnabled();\n    }\n    captureException(e) {\n        const t = this.instance.requestRouter.endpointFor(\"ui\");\n        e.$exception_personURL = `${t}/project/${this.instance.config.token}/person/${this.instance.get_distinct_id()}`, this.instance.exceptions.sendExceptionEvent(e);\n    }\n}\nconst $10f2f5626d5b2085$var$Tr = 9e5, $10f2f5626d5b2085$var$$r = \"[Web Vitals]\";\nclass $10f2f5626d5b2085$var$Ar {\n    _enabledServerSide = !1;\n    _initialized = !1;\n    buffer = {\n        url: void 0,\n        metrics: [],\n        firstMetricTimestamp: void 0\n    };\n    constructor(e){\n        var t;\n        this.instance = e, this._enabledServerSide = !(null === (t = this.instance.persistence) || void 0 === t || !t.props[$10f2f5626d5b2085$var$ne]), this.startIfEnabled();\n    }\n    get allowedMetrics() {\n        var e, t;\n        const i = $10f2f5626d5b2085$var$b(this.instance.config.capture_performance) ? null === (e = this.instance.config.capture_performance) || void 0 === e ? void 0 : e.web_vitals_allowed_metrics : void 0;\n        return $10f2f5626d5b2085$var$S(i) ? (null === (t = this.instance.persistence) || void 0 === t ? void 0 : t.props[$10f2f5626d5b2085$var$oe]) || [\n            \"CLS\",\n            \"FCP\",\n            \"INP\",\n            \"LCP\"\n        ] : i;\n    }\n    get flushToCaptureTimeoutMs() {\n        return ($10f2f5626d5b2085$var$b(this.instance.config.capture_performance) ? this.instance.config.capture_performance.web_vitals_delayed_flush_ms : void 0) || 5e3;\n    }\n    get _maxAllowedValue() {\n        const e = $10f2f5626d5b2085$var$b(this.instance.config.capture_performance) && $10f2f5626d5b2085$var$R(this.instance.config.capture_performance.__web_vitals_max_value) ? this.instance.config.capture_performance.__web_vitals_max_value : $10f2f5626d5b2085$var$Tr;\n        return 0 < e && e <= 6e4 ? $10f2f5626d5b2085$var$Tr : e;\n    }\n    get isEnabled() {\n        const e = $10f2f5626d5b2085$var$b(this.instance.config.capture_performance) ? this.instance.config.capture_performance.web_vitals : void 0;\n        return $10f2f5626d5b2085$var$P(e) ? e : this._enabledServerSide;\n    }\n    startIfEnabled() {\n        this.isEnabled && !this._initialized && ($10f2f5626d5b2085$var$T.info($10f2f5626d5b2085$var$$r + \" enabled, starting...\"), this.loadScript(this._startCapturing));\n    }\n    afterDecideResponse(e) {\n        const t = $10f2f5626d5b2085$var$b(e.capturePerformance) && !!e.capturePerformance.web_vitals, i = $10f2f5626d5b2085$var$b(e.capturePerformance) ? e.capturePerformance.web_vitals_allowed_metrics : void 0;\n        this.instance.persistence && (this.instance.persistence.register({\n            [$10f2f5626d5b2085$var$ne]: t\n        }), this.instance.persistence.register({\n            [$10f2f5626d5b2085$var$oe]: i\n        })), this._enabledServerSide = t, this.startIfEnabled();\n    }\n    loadScript(e) {\n        var t, i, s;\n        null !== (t = $10f2f5626d5b2085$var$h.__PosthogExtensions__) && void 0 !== t && t.postHogWebVitalsCallbacks && e(), null === (i = $10f2f5626d5b2085$var$h.__PosthogExtensions__) || void 0 === i || null === (s = i.loadExternalDependency) || void 0 === s || s.call(i, this.instance, \"web-vitals\", (t)=>{\n            t ? $10f2f5626d5b2085$var$T.error($10f2f5626d5b2085$var$$r + \" failed to load script\", t) : e();\n        });\n    }\n    _currentURL() {\n        const t = $10f2f5626d5b2085$var$e ? $10f2f5626d5b2085$var$e.location.href : void 0;\n        return t || $10f2f5626d5b2085$var$T.error($10f2f5626d5b2085$var$$r + \"Could not determine current URL\"), t;\n    }\n    _flushToCapture = ()=>{\n        clearTimeout(this._delayedFlushTimer), 0 !== this.buffer.metrics.length && (this.instance.capture(\"$web_vitals\", this.buffer.metrics.reduce((e, t)=>({\n                ...e,\n                [`$web_vitals_${t.name}_event`]: {\n                    ...t\n                },\n                [`$web_vitals_${t.name}_value`]: t.value\n            }), {})), this.buffer = {\n            url: void 0,\n            metrics: [],\n            firstMetricTimestamp: void 0\n        });\n    };\n    _addToBuffer = (e)=>{\n        var t;\n        const i = null === (t = this.instance.sessionManager) || void 0 === t ? void 0 : t.checkAndGetSessionAndWindowId(!0);\n        if ($10f2f5626d5b2085$var$S(i)) return void $10f2f5626d5b2085$var$T.error($10f2f5626d5b2085$var$$r + \"Could not read session ID. Dropping metrics!\");\n        this.buffer = this.buffer || {\n            url: void 0,\n            metrics: [],\n            firstMetricTimestamp: void 0\n        };\n        const s = this._currentURL();\n        if ($10f2f5626d5b2085$var$S(s)) return;\n        if ($10f2f5626d5b2085$var$I(null == e ? void 0 : e.name) || $10f2f5626d5b2085$var$I(null == e ? void 0 : e.value)) return void $10f2f5626d5b2085$var$T.error($10f2f5626d5b2085$var$$r + \"Invalid metric received\", e);\n        if (this._maxAllowedValue && e.value >= this._maxAllowedValue) return void $10f2f5626d5b2085$var$T.error($10f2f5626d5b2085$var$$r + \"Ignoring metric with value >= \" + this._maxAllowedValue, e);\n        this.buffer.url !== s && (this._flushToCapture(), this._delayedFlushTimer = setTimeout(this._flushToCapture, this.flushToCaptureTimeoutMs)), $10f2f5626d5b2085$var$S(this.buffer.url) && (this.buffer.url = s), this.buffer.firstMetricTimestamp = $10f2f5626d5b2085$var$S(this.buffer.firstMetricTimestamp) ? Date.now() : this.buffer.firstMetricTimestamp, e.attribution && e.attribution.interactionTargetElement && (e.attribution.interactionTargetElement = void 0), this.buffer.metrics.push({\n            ...e,\n            $current_url: s,\n            $session_id: i.sessionId,\n            $window_id: i.windowId,\n            timestamp: Date.now()\n        }), this.buffer.metrics.length === this.allowedMetrics.length && this._flushToCapture();\n    };\n    _startCapturing = ()=>{\n        let e, t, i, s;\n        const n = $10f2f5626d5b2085$var$h.__PosthogExtensions__;\n        $10f2f5626d5b2085$var$S(n) || $10f2f5626d5b2085$var$S(n.postHogWebVitalsCallbacks) || ({ onLCP: e, onCLS: t, onFCP: i, onINP: s } = n.postHogWebVitalsCallbacks), e && t && i && s ? (this.allowedMetrics.indexOf(\"LCP\") > -1 && e(this._addToBuffer.bind(this)), this.allowedMetrics.indexOf(\"CLS\") > -1 && t(this._addToBuffer.bind(this)), this.allowedMetrics.indexOf(\"FCP\") > -1 && i(this._addToBuffer.bind(this)), this.allowedMetrics.indexOf(\"INP\") > -1 && s(this._addToBuffer.bind(this)), this._initialized = !0) : $10f2f5626d5b2085$var$T.error($10f2f5626d5b2085$var$$r + \"web vitals callbacks not loaded - not starting\");\n    };\n}\nconst $10f2f5626d5b2085$var$Mr = {\n    icontains: (t, i)=>!!$10f2f5626d5b2085$var$e && i.href.toLowerCase().indexOf(t.toLowerCase()) > -1,\n    not_icontains: (t, i)=>!!$10f2f5626d5b2085$var$e && -1 === i.href.toLowerCase().indexOf(t.toLowerCase()),\n    regex: (t, i)=>!!$10f2f5626d5b2085$var$e && $10f2f5626d5b2085$var$at(i.href, t),\n    not_regex: (t, i)=>!!$10f2f5626d5b2085$var$e && !$10f2f5626d5b2085$var$at(i.href, t),\n    exact: (e, t)=>t.href === e,\n    is_not: (e, t)=>t.href !== e\n};\nclass $10f2f5626d5b2085$var$Lr {\n    constructor(e){\n        this.instance = e;\n        const t = (e)=>{\n            this.applyFeatureFlagChanges(e);\n        };\n        this.instance.onFeatureFlags && this.instance.onFeatureFlags(t), this._flagToExperiments = new Map;\n    }\n    applyFeatureFlagChanges(e) {\n        $10f2f5626d5b2085$var$I(this._flagToExperiments) || this.instance.config.disable_web_experiments || ($10f2f5626d5b2085$var$Lr.logInfo(\"applying feature flags\", e), e.forEach((e)=>{\n            var t;\n            if (this._flagToExperiments && null !== (t = this._flagToExperiments) && void 0 !== t && t.has(e)) {\n                var i;\n                const t = this.instance.getFeatureFlag(e), s = null === (i = this._flagToExperiments) || void 0 === i ? void 0 : i.get(e);\n                t && null != s && s.variants[t] && this.applyTransforms(s.name, t, s.variants[t].transforms);\n            }\n        }));\n    }\n    afterDecideResponse(e) {\n        this._is_bot() ? $10f2f5626d5b2085$var$Lr.logInfo(\"Refusing to render web experiment since the viewer is a likely bot\") : (this._featureFlags = e.featureFlags, this.loadIfEnabled(), this.previewWebExperiment());\n    }\n    previewWebExperiment() {\n        const e = $10f2f5626d5b2085$var$Lr.getWindowLocation();\n        if (null != e && e.search) {\n            const t = $10f2f5626d5b2085$var$ct(null == e ? void 0 : e.search, \"__experiment_id\"), i = $10f2f5626d5b2085$var$ct(null == e ? void 0 : e.search, \"__experiment_variant\");\n            t && i && ($10f2f5626d5b2085$var$Lr.logInfo(`previewing web experiments ${t} && ${i}`), this.getWebExperiments((e)=>{\n                this.showPreviewWebExperiment(parseInt(t), i, e);\n            }, !1, !0));\n        }\n    }\n    loadIfEnabled() {\n        this.instance.config.disable_web_experiments || this.getWebExperimentsAndEvaluateDisplayLogic();\n    }\n    getWebExperimentsAndEvaluateDisplayLogic = (()=>{\n        var e = this;\n        return function() {\n            let t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];\n            e.getWebExperiments((t)=>{\n                $10f2f5626d5b2085$var$Lr.logInfo(\"retrieved web experiments from the server\"), e._flagToExperiments = new Map, t.forEach((t)=>{\n                    if (t.feature_flag_key && e._featureFlags && e._featureFlags[t.feature_flag_key]) {\n                        var i;\n                        if (e._flagToExperiments) $10f2f5626d5b2085$var$Lr.logInfo(\"setting flag key \", t.feature_flag_key, \" to web experiment \", t), null === (i = e._flagToExperiments) || void 0 === i || i.set(t.feature_flag_key, t);\n                        const s = e._featureFlags[t.feature_flag_key];\n                        s && t.variants[s] && e.applyTransforms(t.name, s, t.variants[s].transforms);\n                    } else if (t.variants) for(const i in t.variants){\n                        const s = t.variants[i];\n                        $10f2f5626d5b2085$var$Lr.matchesTestVariant(s) && e.applyTransforms(t.name, i, s.transforms);\n                    }\n                });\n            }, t);\n        };\n    })();\n    getWebExperiments(e, t, i) {\n        if (this.instance.config.disable_web_experiments && !i) return e([]);\n        const s = this.instance.get_property(\"$web_experiments\");\n        if (s && !t) return e(s);\n        this.instance._send_request({\n            url: this.instance.requestRouter.endpointFor(\"api\", `/api/web_experiments/?token=${this.instance.config.token}`),\n            method: \"GET\",\n            transport: \"XHR\",\n            callback: (t)=>{\n                if (200 !== t.statusCode || !t.json) return e([]);\n                const i = t.json.experiments || [];\n                return e(i);\n            }\n        });\n    }\n    showPreviewWebExperiment(e, t, i) {\n        const s = i.filter((t)=>t.id === e);\n        s && s.length > 0 && ($10f2f5626d5b2085$var$Lr.logInfo(`Previewing web experiment [${s[0].name}] with variant [${t}]`), this.applyTransforms(s[0].name, t, s[0].variants[t].transforms, !0));\n    }\n    static matchesTestVariant(e) {\n        return !$10f2f5626d5b2085$var$I(e.conditions) && $10f2f5626d5b2085$var$Lr.matchUrlConditions(e) && $10f2f5626d5b2085$var$Lr.matchUTMConditions(e);\n    }\n    static matchUrlConditions(e) {\n        var t;\n        if ($10f2f5626d5b2085$var$I(e.conditions) || $10f2f5626d5b2085$var$I(null === (t = e.conditions) || void 0 === t ? void 0 : t.url)) return !0;\n        const i = $10f2f5626d5b2085$var$Lr.getWindowLocation();\n        if (i) {\n            var s, n, r;\n            return null === (s = e.conditions) || void 0 === s || !s.url || $10f2f5626d5b2085$var$Mr[null !== (n = null === (r = e.conditions) || void 0 === r ? void 0 : r.urlMatchType) && void 0 !== n ? n : \"icontains\"](e.conditions.url, i);\n        }\n        return !1;\n    }\n    static getWindowLocation() {\n        return null == $10f2f5626d5b2085$var$e ? void 0 : $10f2f5626d5b2085$var$e.location;\n    }\n    static matchUTMConditions(e) {\n        var t;\n        if ($10f2f5626d5b2085$var$I(e.conditions) || $10f2f5626d5b2085$var$I(null === (t = e.conditions) || void 0 === t ? void 0 : t.utm)) return !0;\n        const i = $10f2f5626d5b2085$var$li.campaignParams();\n        if (i.utm_source) {\n            var s, n, r, o, a, l, c, u, d, h, _, p, g, f, v, m;\n            const t = null === (s = e.conditions) || void 0 === s || null === (n = s.utm) || void 0 === n || !n.utm_campaign || (null === (r = e.conditions) || void 0 === r || null === (o = r.utm) || void 0 === o ? void 0 : o.utm_campaign) == i.utm_campaign, y = null === (a = e.conditions) || void 0 === a || null === (l = a.utm) || void 0 === l || !l.utm_source || (null === (c = e.conditions) || void 0 === c || null === (u = c.utm) || void 0 === u ? void 0 : u.utm_source) == i.utm_source, b = null === (d = e.conditions) || void 0 === d || null === (h = d.utm) || void 0 === h || !h.utm_medium || (null === (_ = e.conditions) || void 0 === _ || null === (p = _.utm) || void 0 === p ? void 0 : p.utm_medium) == i.utm_medium, w = null === (g = e.conditions) || void 0 === g || null === (f = g.utm) || void 0 === f || !f.utm_term || (null === (v = e.conditions) || void 0 === v || null === (m = v.utm) || void 0 === m ? void 0 : m.utm_term) == i.utm_term;\n            return t && b && w && y;\n        }\n        return !1;\n    }\n    static logInfo(e) {\n        for(var t = arguments.length, i = new Array(t > 1 ? t - 1 : 0), s = 1; s < t; s++)i[s - 1] = arguments[s];\n        $10f2f5626d5b2085$var$T.info(`[WebExperiments] ${e}`, i);\n    }\n    applyTransforms(e, t, i, s) {\n        var n;\n        this._is_bot() ? $10f2f5626d5b2085$var$Lr.logInfo(\"Refusing to render web experiment since the viewer is a likely bot\") : \"control\" !== t ? i.forEach((i)=>{\n            if (i.selector) {\n                var n;\n                $10f2f5626d5b2085$var$Lr.logInfo(`applying transform of variant ${t} for experiment ${e} `, i);\n                let o = 0;\n                const a = null === (n = document) || void 0 === n ? void 0 : n.querySelectorAll(i.selector);\n                var r;\n                if (null == a || a.forEach((e)=>{\n                    const t = e;\n                    o += 1, i.attributes && i.attributes.forEach((e)=>{\n                        switch(e.name){\n                            case \"text\":\n                                t.innerText = e.value;\n                                break;\n                            case \"html\":\n                                t.innerHTML = e.value;\n                                break;\n                            case \"cssClass\":\n                                t.className = e.value;\n                                break;\n                            default:\n                                t.setAttribute(e.name, e.value);\n                        }\n                    }), i.text && (t.innerText = i.text), i.html && (t.parentElement ? t.parentElement.innerHTML = i.html : t.innerHTML = i.html), i.css && t.setAttribute(\"style\", i.css);\n                }), this.instance && this.instance.capture) this.instance.capture(\"$web_experiment_applied\", {\n                    $web_experiment_name: e,\n                    $web_experiment_variant: t,\n                    $web_experiment_preview: s,\n                    $web_experiment_document_url: null === (r = $10f2f5626d5b2085$var$Lr.getWindowLocation()) || void 0 === r ? void 0 : r.href,\n                    $web_experiment_elements_modified: o\n                });\n            }\n        }) : ($10f2f5626d5b2085$var$Lr.logInfo(\"Control variants leave the page unmodified.\"), this.instance && this.instance.capture && this.instance.capture(\"$web_experiment_applied\", {\n            $web_experiment_name: e,\n            $web_experiment_preview: s,\n            $web_experiment_variant: t,\n            $web_experiment_document_url: null === (n = $10f2f5626d5b2085$var$Lr.getWindowLocation()) || void 0 === n ? void 0 : n.href,\n            $web_experiment_elements_modified: 0\n        }));\n    }\n    _is_bot() {\n        return $10f2f5626d5b2085$var$r && this.instance ? $10f2f5626d5b2085$var$hr($10f2f5626d5b2085$var$r, this.instance.config.custom_blocked_useragents) : void 0;\n    }\n}\nconst $10f2f5626d5b2085$var$Dr = \"/e/\";\nclass $10f2f5626d5b2085$var$Or {\n    constructor(e){\n        var t;\n        this.instance = e, this._endpointSuffix = (null === (t = this.instance.persistence) || void 0 === t ? void 0 : t.props[$10f2f5626d5b2085$var$se]) || $10f2f5626d5b2085$var$Dr;\n    }\n    get endpoint() {\n        return this.instance.requestRouter.endpointFor(\"api\", this._endpointSuffix);\n    }\n    afterDecideResponse(e) {\n        const t = e.autocaptureExceptions;\n        this._endpointSuffix = $10f2f5626d5b2085$var$b(t) && t.endpoint || $10f2f5626d5b2085$var$Dr, this.instance.persistence && this.instance.persistence.register({\n            [$10f2f5626d5b2085$var$se]: this._endpointSuffix\n        });\n    }\n    sendExceptionEvent(e) {\n        this.instance.capture(\"$exception\", e, {\n            _noTruncate: !0,\n            _batchKey: \"exceptionEvent\",\n            _url: this.endpoint\n        });\n    }\n}\nconst $10f2f5626d5b2085$var$Nr = {}, $10f2f5626d5b2085$var$qr = ()=>{}, $10f2f5626d5b2085$var$Br = \"posthog\";\nlet $10f2f5626d5b2085$var$Hr = !$10f2f5626d5b2085$var$Ks && -1 === (null == $10f2f5626d5b2085$var$d ? void 0 : $10f2f5626d5b2085$var$d.indexOf(\"MSIE\")) && -1 === (null == $10f2f5626d5b2085$var$d ? void 0 : $10f2f5626d5b2085$var$d.indexOf(\"Mozilla\"));\nconst $10f2f5626d5b2085$var$Ur = ()=>{\n    var t;\n    return {\n        api_host: \"https://us.i.posthog.com\",\n        ui_host: null,\n        token: \"\",\n        autocapture: !0,\n        rageclick: !0,\n        cross_subdomain_cookie: $10f2f5626d5b2085$var$j(null == $10f2f5626d5b2085$var$o ? void 0 : $10f2f5626d5b2085$var$o.location),\n        persistence: \"localStorage+cookie\",\n        persistence_name: \"\",\n        loaded: $10f2f5626d5b2085$var$qr,\n        store_google: !0,\n        custom_campaign_params: [],\n        custom_blocked_useragents: [],\n        save_referrer: !0,\n        capture_pageview: !0,\n        capture_pageleave: \"if_capture_pageview\",\n        debug: $10f2f5626d5b2085$var$a && $10f2f5626d5b2085$var$E(null == $10f2f5626d5b2085$var$a ? void 0 : $10f2f5626d5b2085$var$a.search) && -1 !== $10f2f5626d5b2085$var$a.search.indexOf(\"__posthog_debug=true\") || !1,\n        verbose: !1,\n        cookie_expiration: 365,\n        upgrade: !1,\n        disable_session_recording: !1,\n        disable_persistence: !1,\n        disable_web_experiments: !0,\n        disable_surveys: !1,\n        enable_recording_console_log: void 0,\n        secure_cookie: \"https:\" === (null == $10f2f5626d5b2085$var$e || null === (t = $10f2f5626d5b2085$var$e.location) || void 0 === t ? void 0 : t.protocol),\n        ip: !0,\n        opt_out_capturing_by_default: !1,\n        opt_out_persistence_by_default: !1,\n        opt_out_useragent_filter: !1,\n        opt_out_capturing_persistence_type: \"localStorage\",\n        opt_out_capturing_cookie_prefix: null,\n        opt_in_site_apps: !1,\n        property_denylist: [],\n        respect_dnt: !1,\n        sanitize_properties: null,\n        request_headers: {},\n        inapp_protocol: \"//\",\n        inapp_link_new_window: !1,\n        request_batching: !0,\n        properties_string_max_length: 65535,\n        session_recording: {},\n        mask_all_element_attributes: !1,\n        mask_all_text: !1,\n        advanced_disable_decide: !1,\n        advanced_disable_feature_flags: !1,\n        advanced_disable_feature_flags_on_first_load: !1,\n        advanced_disable_toolbar_metrics: !1,\n        feature_flag_request_timeout_ms: 3e3,\n        on_request_error: (e)=>{\n            const t = \"Bad HTTP status: \" + e.statusCode + \" \" + e.text;\n            $10f2f5626d5b2085$var$T.error(t);\n        },\n        get_device_id: (e)=>e,\n        _onCapture: $10f2f5626d5b2085$var$qr,\n        capture_performance: void 0,\n        name: \"posthog\",\n        bootstrap: {},\n        disable_compression: !1,\n        session_idle_timeout_seconds: 1800,\n        person_profiles: \"identified_only\",\n        __add_tracing_headers: !1\n    };\n}, $10f2f5626d5b2085$var$Wr = (e)=>{\n    const t = {};\n    $10f2f5626d5b2085$var$S(e.process_person) || (t.person_profiles = e.process_person), $10f2f5626d5b2085$var$S(e.xhr_headers) || (t.request_headers = e.xhr_headers), $10f2f5626d5b2085$var$S(e.cookie_name) || (t.persistence_name = e.cookie_name), $10f2f5626d5b2085$var$S(e.disable_cookie) || (t.disable_persistence = e.disable_cookie);\n    const i = $10f2f5626d5b2085$var$O({}, t, e);\n    return $10f2f5626d5b2085$var$m(e.property_blacklist) && ($10f2f5626d5b2085$var$S(e.property_denylist) ? i.property_denylist = e.property_blacklist : $10f2f5626d5b2085$var$m(e.property_denylist) ? i.property_denylist = [\n        ...e.property_blacklist,\n        ...e.property_denylist\n    ] : $10f2f5626d5b2085$var$T.error(\"Invalid value for property_denylist config: \" + e.property_denylist)), i;\n};\nclass $10f2f5626d5b2085$var$zr {\n    get _forceAllowLocalhost() {\n        return this.__forceAllowLocalhost;\n    }\n    set _forceAllowLocalhost(e) {\n        $10f2f5626d5b2085$var$T.error(\"WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`\"), this.__forceAllowLocalhost = e;\n    }\n    __forceAllowLocalhost = !1;\n}\nclass $10f2f5626d5b2085$export$a9d6b9cbf49b8241 {\n    webPerformance = new $10f2f5626d5b2085$var$zr;\n    version = $10f2f5626d5b2085$var$_.LIB_VERSION;\n    _internalEventEmitter = new $10f2f5626d5b2085$var$bn;\n    constructor(){\n        this.config = $10f2f5626d5b2085$var$Ur(), this.decideEndpointWasHit = !1, this.SentryIntegration = $10f2f5626d5b2085$var$pn, this.sentryIntegration = (e)=>(function(e, t) {\n                const i = $10f2f5626d5b2085$var$_n(e, t);\n                return {\n                    name: $10f2f5626d5b2085$var$hn,\n                    processEvent: (e)=>i(e)\n                };\n            })(this, e), this.__request_queue = [], this.__loaded = !1, this.analyticsDefaultEndpoint = \"/e/\", this._initialPageviewCaptured = !1, this._initialPersonProfilesConfig = null, this.featureFlags = new $10f2f5626d5b2085$var$Oe(this), this.toolbar = new $10f2f5626d5b2085$var$Ys(this), this.scrollManager = new $10f2f5626d5b2085$var$yr(this), this.pageViewManager = new $10f2f5626d5b2085$var$fn(this), this.surveys = new $10f2f5626d5b2085$var$or(this), this.experiments = new $10f2f5626d5b2085$var$Lr(this), this.exceptions = new $10f2f5626d5b2085$var$Or(this), this.rateLimiter = new $10f2f5626d5b2085$var$ar(this), this.requestRouter = new $10f2f5626d5b2085$var$dn(this), this.consent = new $10f2f5626d5b2085$var$Pr(this), this.people = {\n            set: (e, t, i)=>{\n                const s = $10f2f5626d5b2085$var$E(e) ? {\n                    [e]: t\n                } : e;\n                this.setPersonProperties(s), null == i || i({});\n            },\n            set_once: (e, t, i)=>{\n                const s = $10f2f5626d5b2085$var$E(e) ? {\n                    [e]: t\n                } : e;\n                this.setPersonProperties(void 0, s), null == i || i({});\n            }\n        }, this.on(\"eventCaptured\", (e)=>$10f2f5626d5b2085$var$T.info(`send \"${null == e ? void 0 : e.event}\"`, e));\n    }\n    init(e, t, i) {\n        if (i && i !== $10f2f5626d5b2085$var$Br) {\n            var s;\n            const n = null !== (s = $10f2f5626d5b2085$var$Nr[i]) && void 0 !== s ? s : new $10f2f5626d5b2085$export$a9d6b9cbf49b8241;\n            return n._init(e, t, i), $10f2f5626d5b2085$var$Nr[i] = n, $10f2f5626d5b2085$var$Nr[$10f2f5626d5b2085$var$Br][i] = n, n;\n        }\n        return this._init(e, t, i);\n    }\n    _init(t) {\n        var i, s;\n        let n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r = arguments.length > 2 ? arguments[2] : void 0;\n        if ($10f2f5626d5b2085$var$S(t) || $10f2f5626d5b2085$var$k(t)) return $10f2f5626d5b2085$var$T.critical(\"PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()\"), this;\n        if (this.__loaded) return $10f2f5626d5b2085$var$T.warn(\"You have already initialized PostHog! Re-initializing is a no-op\"), this;\n        this.__loaded = !0, this.config = {}, this._triggered_notifs = [], n.person_profiles && (this._initialPersonProfilesConfig = n.person_profiles), this.set_config($10f2f5626d5b2085$var$O({}, $10f2f5626d5b2085$var$Ur(), $10f2f5626d5b2085$var$Wr(n), {\n            name: r,\n            token: t\n        })), this.config.on_xhr_error && $10f2f5626d5b2085$var$T.error(\"[posthog] on_xhr_error is deprecated. Use on_request_error instead\"), this.compression = n.disable_compression ? void 0 : $10f2f5626d5b2085$export$6a00d17b5aff0af.GZipJS, this.persistence = new $10f2f5626d5b2085$var$ui(this.config), this.sessionPersistence = \"sessionStorage\" === this.config.persistence || \"memory\" === this.config.persistence ? this.persistence : new $10f2f5626d5b2085$var$ui({\n            ...this.config,\n            persistence: \"sessionStorage\"\n        });\n        const o = {\n            ...this.persistence.props\n        }, a = {\n            ...this.sessionPersistence.props\n        };\n        if (this._requestQueue = new $10f2f5626d5b2085$var$Xs((e)=>this._send_retriable_request(e)), this._retryQueue = new $10f2f5626d5b2085$var$an(this), this.__request_queue = [], this.sessionManager = new $10f2f5626d5b2085$var$ln(this.config, this.persistence), this.sessionPropsManager = new $10f2f5626d5b2085$var$cr(this.sessionManager, this.persistence), new $10f2f5626d5b2085$var$Ir(this).startIfEnabledOrStop(), this.sessionRecording = new $10f2f5626d5b2085$var$Vs(this), this.sessionRecording.startIfEnabledOrStop(), this.config.disable_scroll_properties || this.scrollManager.startMeasuringScrollPosition(), this.autocapture = new $10f2f5626d5b2085$var$xr(this), this.autocapture.startIfEnabled(), this.surveys.loadIfEnabled(), this.heatmaps = new $10f2f5626d5b2085$var$mr(this), this.heatmaps.startIfEnabled(), this.webVitalsAutocapture = new $10f2f5626d5b2085$var$Ar(this), this.exceptionObserver = new $10f2f5626d5b2085$var$Cr(this), this.exceptionObserver.startIfEnabled(), this.deadClicksAutocapture = new $10f2f5626d5b2085$var$vr(this, $10f2f5626d5b2085$var$fr), this.deadClicksAutocapture.startIfEnabled(), $10f2f5626d5b2085$var$_.DEBUG = $10f2f5626d5b2085$var$_.DEBUG || this.config.debug, $10f2f5626d5b2085$var$_.DEBUG && $10f2f5626d5b2085$var$T.info(\"Starting in debug mode\", {\n            this: this,\n            config: n,\n            thisC: {\n                ...this.config\n            },\n            p: o,\n            s: a\n        }), this._sync_opt_out_with_persistence(), void 0 !== (null === (i = n.bootstrap) || void 0 === i ? void 0 : i.distinctID)) {\n            var l, c;\n            const e = this.config.get_device_id($10f2f5626d5b2085$var$ze()), t = null !== (l = n.bootstrap) && void 0 !== l && l.isIdentifiedID ? e : n.bootstrap.distinctID;\n            this.persistence.set_property($10f2f5626d5b2085$var$ke, null !== (c = n.bootstrap) && void 0 !== c && c.isIdentifiedID ? \"identified\" : \"anonymous\"), this.register({\n                distinct_id: n.bootstrap.distinctID,\n                $device_id: t\n            });\n        }\n        if (this._hasBootstrappedFeatureFlags()) {\n            var u, d;\n            const e = Object.keys((null === (u = n.bootstrap) || void 0 === u ? void 0 : u.featureFlags) || {}).filter((e)=>{\n                var t, i;\n                return !(null === (t = n.bootstrap) || void 0 === t || null === (i = t.featureFlags) || void 0 === i || !i[e]);\n            }).reduce((e, t)=>{\n                var i, s;\n                return e[t] = (null === (i = n.bootstrap) || void 0 === i || null === (s = i.featureFlags) || void 0 === s ? void 0 : s[t]) || !1, e;\n            }, {}), t = Object.keys((null === (d = n.bootstrap) || void 0 === d ? void 0 : d.featureFlagPayloads) || {}).filter((t)=>e[t]).reduce((e, t)=>{\n                var i, s, r, o;\n                null !== (i = n.bootstrap) && void 0 !== i && null !== (s = i.featureFlagPayloads) && void 0 !== s && s[t] && (e[t] = null === (r = n.bootstrap) || void 0 === r || null === (o = r.featureFlagPayloads) || void 0 === o ? void 0 : o[t]);\n                return e;\n            }, {});\n            this.featureFlags.receivedFeatureFlags({\n                featureFlags: e,\n                featureFlagPayloads: t\n            });\n        }\n        if (!this.get_distinct_id()) {\n            const e = this.config.get_device_id($10f2f5626d5b2085$var$ze());\n            this.register_once({\n                distinct_id: e,\n                $device_id: e\n            }, \"\"), this.persistence.set_property($10f2f5626d5b2085$var$ke, \"anonymous\");\n        }\n        return null == $10f2f5626d5b2085$var$e || null === (s = $10f2f5626d5b2085$var$e.addEventListener) || void 0 === s || s.call($10f2f5626d5b2085$var$e, \"onpagehide\" in self ? \"pagehide\" : \"unload\", this._handle_unload.bind(this)), this.toolbar.maybeLoadToolbar(), n.segment ? $10f2f5626d5b2085$var$gn(this, ()=>this._loaded()) : this._loaded(), $10f2f5626d5b2085$var$y(this.config._onCapture) && this.on(\"eventCaptured\", (e)=>this.config._onCapture(e.event, e)), this;\n    }\n    _afterDecideResponse(e) {\n        var t, i, s, n, r, o, a, l, c, u;\n        this.compression = void 0, e.supportedCompression && !this.config.disable_compression && (this.compression = $10f2f5626d5b2085$var$N(e.supportedCompression, $10f2f5626d5b2085$export$6a00d17b5aff0af.GZipJS) ? $10f2f5626d5b2085$export$6a00d17b5aff0af.GZipJS : $10f2f5626d5b2085$var$N(e.supportedCompression, $10f2f5626d5b2085$export$6a00d17b5aff0af.Base64) ? $10f2f5626d5b2085$export$6a00d17b5aff0af.Base64 : void 0), null !== (t = e.analytics) && void 0 !== t && t.endpoint && (this.analyticsDefaultEndpoint = e.analytics.endpoint), this.set_config({\n            person_profiles: this._initialPersonProfilesConfig ? this._initialPersonProfilesConfig : e.defaultIdentifiedOnly ? \"identified_only\" : \"always\"\n        }), null === (i = this.sessionRecording) || void 0 === i || i.afterDecideResponse(e), null === (s = this.autocapture) || void 0 === s || s.afterDecideResponse(e), null === (n = this.heatmaps) || void 0 === n || n.afterDecideResponse(e), null === (r = this.experiments) || void 0 === r || r.afterDecideResponse(e), null === (o = this.surveys) || void 0 === o || o.afterDecideResponse(e), null === (a = this.webVitalsAutocapture) || void 0 === a || a.afterDecideResponse(e), null === (l = this.exceptions) || void 0 === l || l.afterDecideResponse(e), null === (c = this.exceptionObserver) || void 0 === c || c.afterDecideResponse(e), null === (u = this.deadClicksAutocapture) || void 0 === u || u.afterDecideResponse(e);\n    }\n    _loaded() {\n        const e = this.config.advanced_disable_decide;\n        e || this.featureFlags.setReloadingPaused(!0);\n        try {\n            this.config.loaded(this);\n        } catch (e) {\n            $10f2f5626d5b2085$var$T.critical(\"`loaded` function failed\", e);\n        }\n        this._start_queue_if_opted_in(), this.config.capture_pageview && setTimeout(()=>{\n            this.consent.isOptedIn() && this._captureInitialPageview();\n        }, 1), e || (new $10f2f5626d5b2085$var$Gs(this).call(), this.featureFlags.resetRequestQueue());\n    }\n    _start_queue_if_opted_in() {\n        var e;\n        this.has_opted_out_capturing() || this.config.request_batching && (null === (e = this._requestQueue) || void 0 === e || e.enable());\n    }\n    _dom_loaded() {\n        this.has_opted_out_capturing() || $10f2f5626d5b2085$var$L(this.__request_queue, (e)=>this._send_retriable_request(e)), this.__request_queue = [], this._start_queue_if_opted_in();\n    }\n    _handle_unload() {\n        var e, t;\n        this.config.request_batching ? (this._shouldCapturePageleave() && this.capture(\"$pageleave\"), null === (e = this._requestQueue) || void 0 === e || e.unload(), null === (t = this._retryQueue) || void 0 === t || t.unload()) : this._shouldCapturePageleave() && this.capture(\"$pageleave\", null, {\n            transport: \"sendBeacon\"\n        });\n    }\n    _send_request(e) {\n        this.__loaded && ($10f2f5626d5b2085$var$Hr ? this.__request_queue.push(e) : this.rateLimiter.isServerRateLimited(e.batchKey) || (e.transport = e.transport || this.config.api_transport, e.url = $10f2f5626d5b2085$var$en(e.url, {\n            ip: this.config.ip ? 1 : 0\n        }), e.headers = {\n            ...this.config.request_headers\n        }, e.compression = \"best-available\" === e.compression ? this.compression : e.compression, ((e)=>{\n            var t, i, s;\n            const n = {\n                ...e\n            };\n            n.timeout = n.timeout || 6e4, n.url = $10f2f5626d5b2085$var$en(n.url, {\n                _: (new Date).getTime().toString(),\n                ver: $10f2f5626d5b2085$var$_.LIB_VERSION,\n                compression: n.compression\n            });\n            const r = null !== (t = n.transport) && void 0 !== t ? t : \"XHR\", o = null !== (i = null === (s = $10f2f5626d5b2085$var$Q($10f2f5626d5b2085$var$on, (e)=>e.transport === r)) || void 0 === s ? void 0 : s.method) && void 0 !== i ? i : $10f2f5626d5b2085$var$on[0].method;\n            if (!o) throw new Error(\"No available transport method\");\n            o(n);\n        })({\n            ...e,\n            callback: (t)=>{\n                var i, s, n;\n                (this.rateLimiter.checkForLimiting(t), t.statusCode >= 400) && (null === (s = (n = this.config).on_request_error) || void 0 === s || s.call(n, t));\n                null === (i = e.callback) || void 0 === i || i.call(e, t);\n            }\n        })));\n    }\n    _send_retriable_request(e) {\n        this._retryQueue ? this._retryQueue.retriableRequest(e) : this._send_request(e);\n    }\n    _execute_array(e) {\n        let t;\n        const i = [], s = [], n = [];\n        $10f2f5626d5b2085$var$L(e, (e)=>{\n            e && (t = e[0], $10f2f5626d5b2085$var$m(t) ? n.push(e) : $10f2f5626d5b2085$var$y(e) ? e.call(this) : $10f2f5626d5b2085$var$m(e) && \"alias\" === t ? i.push(e) : $10f2f5626d5b2085$var$m(e) && -1 !== t.indexOf(\"capture\") && $10f2f5626d5b2085$var$y(this[t]) ? n.push(e) : s.push(e));\n        });\n        const r = function(e, t) {\n            $10f2f5626d5b2085$var$L(e, function(e) {\n                if ($10f2f5626d5b2085$var$m(e[0])) {\n                    let i = t;\n                    $10f2f5626d5b2085$var$D(e, function(e) {\n                        i = i[e[0]].apply(i, e.slice(1));\n                    });\n                } else this[e[0]].apply(this, e.slice(1));\n            }, t);\n        };\n        r(i, this), r(s, this), r(n, this);\n    }\n    _hasBootstrappedFeatureFlags() {\n        var e, t;\n        return (null === (e = this.config.bootstrap) || void 0 === e ? void 0 : e.featureFlags) && Object.keys(null === (t = this.config.bootstrap) || void 0 === t ? void 0 : t.featureFlags).length > 0 || !1;\n    }\n    push(e) {\n        this._execute_array([\n            e\n        ]);\n    }\n    capture(e, t, i) {\n        var s;\n        if (!(this.__loaded && this.persistence && this.sessionPersistence && this._requestQueue)) return void $10f2f5626d5b2085$var$T.uninitializedWarning(\"posthog.capture\");\n        if (this.consent.isOptedOut()) return;\n        if ($10f2f5626d5b2085$var$S(e) || !$10f2f5626d5b2085$var$E(e)) return void $10f2f5626d5b2085$var$T.error(\"No event name provided to posthog.capture\");\n        if (!this.config.opt_out_useragent_filter && this._is_bot()) return;\n        const n = null != i && i.skip_client_rate_limiting ? void 0 : this.rateLimiter.clientRateLimitContext();\n        if (null != n && n.isRateLimited) return void $10f2f5626d5b2085$var$T.critical(\"This capture call is ignored due to client rate limiting.\");\n        this.sessionPersistence.update_search_keyword(), this.config.store_google && this.sessionPersistence.update_campaign_params(), this.config.save_referrer && this.sessionPersistence.update_referrer_info(), (this.config.store_google || this.config.save_referrer) && this.persistence.set_initial_person_info();\n        const r = new Date, o = (null == i ? void 0 : i.timestamp) || r;\n        let a = {\n            uuid: $10f2f5626d5b2085$var$ze(),\n            event: e,\n            properties: this._calculate_event_properties(e, t || {}, o)\n        };\n        n && (a.properties.$lib_rate_limit_remaining_tokens = n.remainingTokens);\n        (null == i ? void 0 : i.$set) && (a.$set = null == i ? void 0 : i.$set);\n        const l = this._calculate_set_once_properties(null == i ? void 0 : i.$set_once);\n        l && (a.$set_once = l), a = $10f2f5626d5b2085$var$z(a, null != i && i._noTruncate ? null : this.config.properties_string_max_length), a.timestamp = o, $10f2f5626d5b2085$var$S(null == i ? void 0 : i.timestamp) || (a.properties.$event_time_override_provided = !0, a.properties.$event_time_override_system_time = r);\n        const c = {\n            ...a.properties.$set,\n            ...a.$set\n        };\n        $10f2f5626d5b2085$var$w(c) || this.setPersonPropertiesForFlags(c), this._internalEventEmitter.emit(\"eventCaptured\", a);\n        const u = {\n            method: \"POST\",\n            url: null !== (s = null == i ? void 0 : i._url) && void 0 !== s ? s : this.requestRouter.endpointFor(\"api\", this.analyticsDefaultEndpoint),\n            data: a,\n            compression: \"best-available\",\n            batchKey: null == i ? void 0 : i._batchKey\n        };\n        return !this.config.request_batching || i && (null == i || !i._batchKey) || null != i && i.send_instantly ? this._send_retriable_request(u) : this._requestQueue.enqueue(u), a;\n    }\n    _addCaptureHook(e) {\n        return this.on(\"eventCaptured\", (t)=>e(t.event, t));\n    }\n    _calculate_event_properties(e, t, i) {\n        if (i = i || new Date, !this.persistence || !this.sessionPersistence) return t;\n        const s = this.persistence.remove_event_timer(e);\n        let n = {\n            ...t\n        };\n        if (n.token = this.config.token, \"$snapshot\" === e) {\n            const e = {\n                ...this.persistence.properties(),\n                ...this.sessionPersistence.properties()\n            };\n            return n.distinct_id = e.distinct_id, (!$10f2f5626d5b2085$var$E(n.distinct_id) && !$10f2f5626d5b2085$var$R(n.distinct_id) || $10f2f5626d5b2085$var$k(n.distinct_id)) && $10f2f5626d5b2085$var$T.error(\"Invalid distinct_id for replay event. This indicates a bug in your implementation\"), n;\n        }\n        const r = $10f2f5626d5b2085$var$li.properties();\n        if (this.sessionManager) {\n            const { sessionId: e, windowId: t } = this.sessionManager.checkAndGetSessionAndWindowId();\n            n.$session_id = e, n.$window_id = t;\n        }\n        if (this.requestRouter.region === $10f2f5626d5b2085$var$cn.CUSTOM && (n.$lib_custom_api_host = this.config.api_host), this.sessionPropsManager && this.config.__preview_send_client_session_params && (\"$pageview\" === e || \"$pageleave\" === e || \"$autocapture\" === e)) {\n            const e = this.sessionPropsManager.getSessionProps();\n            n = $10f2f5626d5b2085$var$O(n, e);\n        }\n        if (!this.config.disable_scroll_properties) {\n            let t = {};\n            \"$pageview\" === e ? t = this.pageViewManager.doPageView(i) : \"$pageleave\" === e && (t = this.pageViewManager.doPageLeave(i)), n = $10f2f5626d5b2085$var$O(n, t);\n        }\n        if (\"$pageview\" === e && $10f2f5626d5b2085$var$o && (n.title = $10f2f5626d5b2085$var$o.title), !$10f2f5626d5b2085$var$S(s)) {\n            const e = i.getTime() - s;\n            n.$duration = parseFloat((e / 1e3).toFixed(3));\n        }\n        $10f2f5626d5b2085$var$d && this.config.opt_out_useragent_filter && (n.$browser_type = this._is_bot() ? \"bot\" : \"browser\"), n = $10f2f5626d5b2085$var$O({}, r, this.persistence.properties(), this.sessionPersistence.properties(), n), n.$is_identified = this._isIdentified(), $10f2f5626d5b2085$var$m(this.config.property_denylist) ? $10f2f5626d5b2085$var$D(this.config.property_denylist, function(e) {\n            delete n[e];\n        }) : $10f2f5626d5b2085$var$T.error(\"Invalid value for property_denylist config: \" + this.config.property_denylist + \" or property_blacklist config: \" + this.config.property_blacklist);\n        const a = this.config.sanitize_properties;\n        a && (n = a(n, e));\n        const l = this._hasPersonProcessing();\n        return n.$process_person_profile = l, l && this._requirePersonProcessing(\"_calculate_event_properties\"), n;\n    }\n    _calculate_set_once_properties(e) {\n        if (!this.persistence || !this._hasPersonProcessing()) return e;\n        let t = $10f2f5626d5b2085$var$O({}, this.persistence.get_initial_props(), e || {});\n        const i = this.config.sanitize_properties;\n        return i && (t = i(t, \"$set_once\")), $10f2f5626d5b2085$var$w(t) ? void 0 : t;\n    }\n    register(e, t) {\n        var i;\n        null === (i = this.persistence) || void 0 === i || i.register(e, t);\n    }\n    register_once(e, t, i) {\n        var s;\n        null === (s = this.persistence) || void 0 === s || s.register_once(e, t, i);\n    }\n    register_for_session(e) {\n        var t;\n        null === (t = this.sessionPersistence) || void 0 === t || t.register(e);\n    }\n    unregister(e) {\n        var t;\n        null === (t = this.persistence) || void 0 === t || t.unregister(e);\n    }\n    unregister_for_session(e) {\n        var t;\n        null === (t = this.sessionPersistence) || void 0 === t || t.unregister(e);\n    }\n    _register_single(e, t) {\n        this.register({\n            [e]: t\n        });\n    }\n    getFeatureFlag(e, t) {\n        return this.featureFlags.getFeatureFlag(e, t);\n    }\n    getFeatureFlagPayload(e) {\n        const t = this.featureFlags.getFeatureFlagPayload(e);\n        try {\n            return JSON.parse(t);\n        } catch  {\n            return t;\n        }\n    }\n    isFeatureEnabled(e, t) {\n        return this.featureFlags.isFeatureEnabled(e, t);\n    }\n    reloadFeatureFlags() {\n        this.featureFlags.reloadFeatureFlags();\n    }\n    updateEarlyAccessFeatureEnrollment(e, t) {\n        this.featureFlags.updateEarlyAccessFeatureEnrollment(e, t);\n    }\n    getEarlyAccessFeatures(e) {\n        let t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];\n        return this.featureFlags.getEarlyAccessFeatures(e, t);\n    }\n    on(e, t) {\n        return this._internalEventEmitter.on(e, t);\n    }\n    onFeatureFlags(e) {\n        return this.featureFlags.onFeatureFlags(e);\n    }\n    onSessionId(e) {\n        var t, i;\n        return null !== (t = null === (i = this.sessionManager) || void 0 === i ? void 0 : i.onSessionId(e)) && void 0 !== t ? t : ()=>{};\n    }\n    getSurveys(e) {\n        let t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];\n        this.surveys.getSurveys(e, t);\n    }\n    getActiveMatchingSurveys(e) {\n        let t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];\n        this.surveys.getActiveMatchingSurveys(e, t);\n    }\n    renderSurvey(e, t) {\n        this.surveys.renderSurvey(e, t);\n    }\n    canRenderSurvey(e) {\n        this.surveys.canRenderSurvey(e);\n    }\n    getNextSurveyStep(e, t, i) {\n        return this.surveys.getNextSurveyStep(e, t, i);\n    }\n    identify(e, t, i) {\n        if (!this.__loaded || !this.persistence) return $10f2f5626d5b2085$var$T.uninitializedWarning(\"posthog.identify\");\n        if ($10f2f5626d5b2085$var$R(e) && (e = e.toString(), $10f2f5626d5b2085$var$T.warn(\"The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.\")), !e) return void $10f2f5626d5b2085$var$T.error(\"Unique user id has not been set in posthog.identify\");\n        if ([\n            \"distinct_id\",\n            \"distinctid\"\n        ].includes(e.toLowerCase())) return void $10f2f5626d5b2085$var$T.critical(`The string \"${e}\" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.`);\n        if (!this._requirePersonProcessing(\"posthog.identify\")) return;\n        const s = this.get_distinct_id();\n        if (this.register({\n            $user_id: e\n        }), !this.get_property(\"$device_id\")) {\n            const e = s;\n            this.register_once({\n                $had_persisted_distinct_id: !0,\n                $device_id: e\n            }, \"\");\n        }\n        e !== s && e !== this.get_property($10f2f5626d5b2085$var$K) && (this.unregister($10f2f5626d5b2085$var$K), this.register({\n            distinct_id: e\n        }));\n        const n = \"anonymous\" === (this.persistence.get_property($10f2f5626d5b2085$var$ke) || \"anonymous\");\n        e !== s && n ? (this.persistence.set_property($10f2f5626d5b2085$var$ke, \"identified\"), this.setPersonPropertiesForFlags(t || {}, !1), this.capture(\"$identify\", {\n            distinct_id: e,\n            $anon_distinct_id: s\n        }, {\n            $set: t || {},\n            $set_once: i || {}\n        }), this.featureFlags.setAnonymousDistinctId(s)) : (t || i) && this.setPersonProperties(t, i), e !== s && (this.reloadFeatureFlags(), this.unregister($10f2f5626d5b2085$var$Ee));\n    }\n    setPersonProperties(e, t) {\n        (e || t) && this._requirePersonProcessing(\"posthog.setPersonProperties\") && (this.setPersonPropertiesForFlags(e || {}), this.capture(\"$set\", {\n            $set: e || {},\n            $set_once: t || {}\n        }));\n    }\n    group(e, t, i) {\n        if (!e || !t) return void $10f2f5626d5b2085$var$T.error(\"posthog.group requires a group type and group key\");\n        if (!this._requirePersonProcessing(\"posthog.group\")) return;\n        const s = this.getGroups();\n        s[e] !== t && this.resetGroupPropertiesForFlags(e), this.register({\n            $groups: {\n                ...s,\n                [e]: t\n            }\n        }), i && (this.capture(\"$groupidentify\", {\n            $group_type: e,\n            $group_key: t,\n            $group_set: i\n        }), this.setGroupPropertiesForFlags({\n            [e]: i\n        })), s[e] === t || i || this.reloadFeatureFlags();\n    }\n    resetGroups() {\n        this.register({\n            $groups: {}\n        }), this.resetGroupPropertiesForFlags(), this.reloadFeatureFlags();\n    }\n    setPersonPropertiesForFlags(e) {\n        let t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];\n        this._requirePersonProcessing(\"posthog.setPersonPropertiesForFlags\") && this.featureFlags.setPersonPropertiesForFlags(e, t);\n    }\n    resetPersonPropertiesForFlags() {\n        this.featureFlags.resetPersonPropertiesForFlags();\n    }\n    setGroupPropertiesForFlags(e) {\n        let t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];\n        this._requirePersonProcessing(\"posthog.setGroupPropertiesForFlags\") && this.featureFlags.setGroupPropertiesForFlags(e, t);\n    }\n    resetGroupPropertiesForFlags(e) {\n        this.featureFlags.resetGroupPropertiesForFlags(e);\n    }\n    reset(e) {\n        var t, i, s, n, r;\n        if ($10f2f5626d5b2085$var$T.info(\"reset\"), !this.__loaded) return $10f2f5626d5b2085$var$T.uninitializedWarning(\"posthog.reset\");\n        const o = this.get_property(\"$device_id\");\n        this.consent.reset(), null === (t = this.persistence) || void 0 === t || t.clear(), null === (i = this.sessionPersistence) || void 0 === i || i.clear(), null === (s = this.surveys) || void 0 === s || s.reset(), null === (n = this.persistence) || void 0 === n || n.set_property($10f2f5626d5b2085$var$ke, \"anonymous\"), null === (r = this.sessionManager) || void 0 === r || r.resetSessionId();\n        const a = this.config.get_device_id($10f2f5626d5b2085$var$ze());\n        this.register_once({\n            distinct_id: a,\n            $device_id: e ? a : o\n        }, \"\");\n    }\n    get_distinct_id() {\n        return this.get_property(\"distinct_id\");\n    }\n    getGroups() {\n        return this.get_property(\"$groups\") || {};\n    }\n    get_session_id() {\n        var e, t;\n        return null !== (e = null === (t = this.sessionManager) || void 0 === t ? void 0 : t.checkAndGetSessionAndWindowId(!0).sessionId) && void 0 !== e ? e : \"\";\n    }\n    get_session_replay_url(e) {\n        if (!this.sessionManager) return \"\";\n        const { sessionId: t, sessionStartTimestamp: i } = this.sessionManager.checkAndGetSessionAndWindowId(!0);\n        let s = this.requestRouter.endpointFor(\"ui\", `/project/${this.config.token}/replay/${t}`);\n        if (null != e && e.withTimestamp && i) {\n            var n;\n            const t = null !== (n = e.timestampLookBack) && void 0 !== n ? n : 10;\n            if (!i) return s;\n            s += `?t=${Math.max(Math.floor(((new Date).getTime() - i) / 1e3) - t, 0)}`;\n        }\n        return s;\n    }\n    alias(e, t) {\n        return e === this.get_property($10f2f5626d5b2085$var$X) ? ($10f2f5626d5b2085$var$T.critical(\"Attempting to create alias for existing People user - aborting.\"), -2) : this._requirePersonProcessing(\"posthog.alias\") ? ($10f2f5626d5b2085$var$S(t) && (t = this.get_distinct_id()), e !== t ? (this._register_single($10f2f5626d5b2085$var$K, e), this.capture(\"$create_alias\", {\n            alias: e,\n            distinct_id: t\n        })) : ($10f2f5626d5b2085$var$T.warn(\"alias matches current distinct_id - skipping api call.\"), this.identify(e), -1)) : void 0;\n    }\n    set_config(e) {\n        const t = {\n            ...this.config\n        };\n        var i, s, n, r;\n        $10f2f5626d5b2085$var$b(e) && ($10f2f5626d5b2085$var$O(this.config, $10f2f5626d5b2085$var$Wr(e)), null === (i = this.persistence) || void 0 === i || i.update_config(this.config, t), this.sessionPersistence = \"sessionStorage\" === this.config.persistence || \"memory\" === this.config.persistence ? this.persistence : new $10f2f5626d5b2085$var$ui({\n            ...this.config,\n            persistence: \"sessionStorage\"\n        }), $10f2f5626d5b2085$var$Ke.is_supported() && \"true\" === $10f2f5626d5b2085$var$Ke.get(\"ph_debug\") && (this.config.debug = !0), this.config.debug && ($10f2f5626d5b2085$var$_.DEBUG = !0, $10f2f5626d5b2085$var$T.info(\"set_config\", {\n            config: e,\n            oldConfig: t,\n            newConfig: {\n                ...this.config\n            }\n        })), null === (s = this.sessionRecording) || void 0 === s || s.startIfEnabledOrStop(), null === (n = this.autocapture) || void 0 === n || n.startIfEnabled(), null === (r = this.heatmaps) || void 0 === r || r.startIfEnabled(), this.surveys.loadIfEnabled(), this._sync_opt_out_with_persistence());\n    }\n    startSessionRecording(e) {\n        const t = !0 === e, i = {\n            sampling: t || !(null == e || !e.sampling),\n            linked_flag: t || !(null == e || !e.linked_flag),\n            url_trigger: t || !(null == e || !e.url_trigger),\n            event_trigger: t || !(null == e || !e.event_trigger)\n        };\n        if (Object.values(i).some(Boolean)) {\n            var s, n, r, o, a;\n            if (null === (s = this.sessionManager) || void 0 === s || s.checkAndGetSessionAndWindowId(), i.sampling) null === (n = this.sessionRecording) || void 0 === n || n.overrideSampling();\n            if (i.linked_flag) null === (r = this.sessionRecording) || void 0 === r || r.overrideLinkedFlag();\n            if (i.url_trigger) null === (o = this.sessionRecording) || void 0 === o || o.overrideTrigger(\"url\");\n            if (i.event_trigger) null === (a = this.sessionRecording) || void 0 === a || a.overrideTrigger(\"event\");\n        }\n        this.set_config({\n            disable_session_recording: !1\n        });\n    }\n    stopSessionRecording() {\n        this.set_config({\n            disable_session_recording: !0\n        });\n    }\n    sessionRecordingStarted() {\n        var e;\n        return !(null === (e = this.sessionRecording) || void 0 === e || !e.started);\n    }\n    captureException(e, t) {\n        var i;\n        const s = new Error(\"PostHog syntheticException\"), n = $10f2f5626d5b2085$var$y(null === (i = $10f2f5626d5b2085$var$h.__PosthogExtensions__) || void 0 === i ? void 0 : i.parseErrorAsProperties) ? $10f2f5626d5b2085$var$h.__PosthogExtensions__.parseErrorAsProperties([\n            e.message,\n            void 0,\n            void 0,\n            void 0,\n            e\n        ], {\n            syntheticException: s\n        }) : {\n            $exception_level: \"error\",\n            $exception_list: [\n                {\n                    type: e.name,\n                    value: e.message,\n                    mechanism: {\n                        handled: !0,\n                        synthetic: !1\n                    }\n                }\n            ],\n            ...t\n        };\n        this.exceptions.sendExceptionEvent(n);\n    }\n    loadToolbar(e) {\n        return this.toolbar.loadToolbar(e);\n    }\n    get_property(e) {\n        var t;\n        return null === (t = this.persistence) || void 0 === t ? void 0 : t.props[e];\n    }\n    getSessionProperty(e) {\n        var t;\n        return null === (t = this.sessionPersistence) || void 0 === t ? void 0 : t.props[e];\n    }\n    toString() {\n        var e;\n        let t = null !== (e = this.config.name) && void 0 !== e ? e : $10f2f5626d5b2085$var$Br;\n        return t !== $10f2f5626d5b2085$var$Br && (t = $10f2f5626d5b2085$var$Br + \".\" + t), t;\n    }\n    _isIdentified() {\n        var e, t;\n        return \"identified\" === (null === (e = this.persistence) || void 0 === e ? void 0 : e.get_property($10f2f5626d5b2085$var$ke)) || \"identified\" === (null === (t = this.sessionPersistence) || void 0 === t ? void 0 : t.get_property($10f2f5626d5b2085$var$ke));\n    }\n    _hasPersonProcessing() {\n        var e, t, i, s;\n        return !(\"never\" === this.config.person_profiles || \"identified_only\" === this.config.person_profiles && !this._isIdentified() && $10f2f5626d5b2085$var$w(this.getGroups()) && (null === (e = this.persistence) || void 0 === e || null === (t = e.props) || void 0 === t || !t[$10f2f5626d5b2085$var$K]) && (null === (i = this.persistence) || void 0 === i || null === (s = i.props) || void 0 === s || !s[$10f2f5626d5b2085$var$Ce]));\n    }\n    _shouldCapturePageleave() {\n        return !0 === this.config.capture_pageleave || \"if_capture_pageview\" === this.config.capture_pageleave && this.config.capture_pageview;\n    }\n    createPersonProfile() {\n        this._hasPersonProcessing() || this._requirePersonProcessing(\"posthog.createPersonProfile\") && this.setPersonProperties({}, {});\n    }\n    _requirePersonProcessing(e) {\n        return \"never\" === this.config.person_profiles ? ($10f2f5626d5b2085$var$T.error(e + ' was called, but process_person is set to \"never\". This call will be ignored.'), !1) : (this._register_single($10f2f5626d5b2085$var$Ce, !0), !0);\n    }\n    _sync_opt_out_with_persistence() {\n        var e, t;\n        const i = this.consent.isOptedOut(), s = this.config.opt_out_persistence_by_default, n = this.config.disable_persistence || i && !!s;\n        var r, o;\n        (null === (e = this.persistence) || void 0 === e ? void 0 : e.disabled) !== n && (null === (r = this.persistence) || void 0 === r || r.set_disabled(n));\n        (null === (t = this.sessionPersistence) || void 0 === t ? void 0 : t.disabled) !== n && (null === (o = this.sessionPersistence) || void 0 === o || o.set_disabled(n));\n    }\n    opt_in_capturing(e) {\n        var t;\n        (this.consent.optInOut(!0), this._sync_opt_out_with_persistence(), $10f2f5626d5b2085$var$S(null == e ? void 0 : e.captureEventName) || null != e && e.captureEventName) && this.capture(null !== (t = null == e ? void 0 : e.captureEventName) && void 0 !== t ? t : \"$opt_in\", null == e ? void 0 : e.captureProperties, {\n            send_instantly: !0\n        });\n        this.config.capture_pageview && this._captureInitialPageview();\n    }\n    opt_out_capturing() {\n        this.consent.optInOut(!1), this._sync_opt_out_with_persistence();\n    }\n    has_opted_in_capturing() {\n        return this.consent.isOptedIn();\n    }\n    has_opted_out_capturing() {\n        return this.consent.isOptedOut();\n    }\n    clear_opt_in_out_capturing() {\n        this.consent.reset(), this._sync_opt_out_with_persistence();\n    }\n    _is_bot() {\n        return $10f2f5626d5b2085$var$r ? $10f2f5626d5b2085$var$hr($10f2f5626d5b2085$var$r, this.config.custom_blocked_useragents) : void 0;\n    }\n    _captureInitialPageview() {\n        $10f2f5626d5b2085$var$o && !this._initialPageviewCaptured && (this._initialPageviewCaptured = !0, this.capture(\"$pageview\", {\n            title: $10f2f5626d5b2085$var$o.title\n        }, {\n            send_instantly: !0\n        }));\n    }\n    debug(t) {\n        !1 === t ? (null == $10f2f5626d5b2085$var$e || $10f2f5626d5b2085$var$e.console.log(\"You've disabled debug mode.\"), localStorage && localStorage.removeItem(\"ph_debug\"), this.set_config({\n            debug: !1\n        })) : (null == $10f2f5626d5b2085$var$e || $10f2f5626d5b2085$var$e.console.log(\"You're now in debug mode. All calls to PostHog will be logged in your console.\\nYou can disable this with `posthog.debug(false)`.\"), localStorage && localStorage.setItem(\"ph_debug\", \"true\"), this.set_config({\n            debug: !0\n        }));\n    }\n}\n!function(e, t) {\n    for(let i = 0; i < t.length; i++)e.prototype[t[i]] = $10f2f5626d5b2085$var$H(e.prototype[t[i]]);\n}($10f2f5626d5b2085$export$a9d6b9cbf49b8241, [\n    \"identify\"\n]);\nconst $10f2f5626d5b2085$export$2e2bcd8739ae039 = function() {\n    const t = $10f2f5626d5b2085$var$Nr[$10f2f5626d5b2085$var$Br] = new $10f2f5626d5b2085$export$a9d6b9cbf49b8241;\n    return function() {\n        function t() {\n            t.done || (t.done = !0, $10f2f5626d5b2085$var$Hr = !1, $10f2f5626d5b2085$var$D($10f2f5626d5b2085$var$Nr, function(e) {\n                e._dom_loaded();\n            }));\n        }\n        null != $10f2f5626d5b2085$var$o && $10f2f5626d5b2085$var$o.addEventListener && (\"complete\" === $10f2f5626d5b2085$var$o.readyState ? t() : $10f2f5626d5b2085$var$o.addEventListener(\"DOMContentLoaded\", t, !1)), $10f2f5626d5b2085$var$e && $10f2f5626d5b2085$var$G($10f2f5626d5b2085$var$e, \"load\", t, !0);\n    }(), t;\n}();\n\n\n(0, $10f2f5626d5b2085$export$2e2bcd8739ae039).init(\"phc_3r2LNsBz7zJFRSpcMmE4PwXEq2m4CwfxJC9H1OeeMJg\", {\n    api_host: \"https://eu.i.posthog.com\",\n    disable_external_dependency_loading: true\n});\nconst $d3f152c1e5747ed8$export$3f7ee7b2a9f874b0 = {};\n\n})();\n//# sourceMappingURL=posthog.js.map\n","import \"../../node_modules/posthog-js/dist/recorder.js\";\nimport \"../../node_modules/posthog-js/dist/surveys.js\";\n//import \"../../node_modules/posthog-js/dist/exception-autocapture.js\";\n//import \"../../node_modules/posthog-js/dist/tracing-headers.js\";\nimport \"../../node_modules/posthog-js/dist/web-vitals.js\";\nimport posthog from \"posthog-js\";\n\nposthog.init(\"phc_3r2LNsBz7zJFRSpcMmE4PwXEq2m4CwfxJC9H1OeeMJg\", {\n  api_host: \"https://eu.i.posthog.com\",\n  disable_external_dependency_loading: true,\n});\n\nexport const _frontmatter = {};\n","!function(e){\"use strict\";var t,n=Object.defineProperty,o=(e,t,o)=>((e,t,o)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o)(e,\"symbol\"!=typeof t?t+\"\":t,o),r=Object.defineProperty,i=(e,t,n)=>((e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,\"symbol\"!=typeof t?t+\"\":t,n),s=(e=>(e[e.Document=0]=\"Document\",e[e.DocumentType=1]=\"DocumentType\",e[e.Element=2]=\"Element\",e[e.Text=3]=\"Text\",e[e.CDATA=4]=\"CDATA\",e[e.Comment=5]=\"Comment\",e))(s||{});const a={Node:[\"childNodes\",\"parentNode\",\"parentElement\",\"textContent\"],ShadowRoot:[\"host\",\"styleSheets\"],Element:[\"shadowRoot\",\"querySelector\",\"querySelectorAll\"],MutationObserver:[]},l={Node:[\"contains\",\"getRootNode\"],ShadowRoot:[\"getSelection\"],Element:[],MutationObserver:[\"constructor\"]},c={};function d(e){if(c[e])return c[e];const t=globalThis[e],n=t.prototype,o=e in a?a[e]:void 0,r=Boolean(o&&o.every((e=>{var t,o;return Boolean(null==(o=null==(t=Object.getOwnPropertyDescriptor(n,e))?void 0:t.get)?void 0:o.toString().includes(\"[native code]\"))}))),i=e in l?l[e]:void 0,s=Boolean(i&&i.every((e=>{var t;return\"function\"==typeof n[e]&&(null==(t=n[e])?void 0:t.toString().includes(\"[native code]\"))})));if(r&&s)return c[e]=t.prototype,t.prototype;try{const o=document.createElement(\"iframe\");document.body.appendChild(o);const r=o.contentWindow;if(!r)return t.prototype;const i=r[e].prototype;return document.body.removeChild(o),i?c[e]=i:n}catch{return n}}const u={};function h(e,t,n){var o;const r=`${e}.${String(n)}`;if(u[r])return u[r].call(t);const i=d(e),s=null==(o=Object.getOwnPropertyDescriptor(i,n))?void 0:o.get;return s?(u[r]=s,s.call(t)):t[n]}const p={};function m(e,t,n){const o=`${e}.${String(n)}`;if(p[o])return p[o].bind(t);const r=d(e)[n];return\"function\"!=typeof r?t[n]:(p[o]=r,r.bind(t))}const f={childNodes:function(e){return h(\"Node\",e,\"childNodes\")},parentNode:function(e){return h(\"Node\",e,\"parentNode\")},parentElement:function(e){return h(\"Node\",e,\"parentElement\")},textContent:function(e){return h(\"Node\",e,\"textContent\")},contains:function(e,t){return m(\"Node\",e,\"contains\")(t)},getRootNode:function(e){return m(\"Node\",e,\"getRootNode\")()},host:function(e){return e&&\"host\"in e?h(\"ShadowRoot\",e,\"host\"):null},styleSheets:function(e){return e.styleSheets},shadowRoot:function(e){return e&&\"shadowRoot\"in e?h(\"Element\",e,\"shadowRoot\"):null},querySelector:function(e,t){return h(\"Element\",e,\"querySelector\")(t)},querySelectorAll:function(e,t){return h(\"Element\",e,\"querySelectorAll\")(t)},mutationObserver:function(){return d(\"MutationObserver\").constructor}};function g(e){return e.nodeType===e.ELEMENT_NODE}function y(e){const t=e&&\"host\"in e&&\"mode\"in e&&f.host(e)||null;return Boolean(t&&\"shadowRoot\"in t&&f.shadowRoot(t)===e)}function I(e){return\"[object ShadowRoot]\"===Object.prototype.toString.call(e)}function b(e){try{const n=e.rules||e.cssRules;if(!n)return null;const o=Array.from(n,(t=>C(t,e.href))).join(\"\");return(t=o).includes(\" background-clip: text;\")&&!t.includes(\" -webkit-background-clip: text;\")&&(t=t.replace(/\\sbackground-clip:\\s*text;/g,\" -webkit-background-clip: text; background-clip: text;\")),t}catch(e){return null}var t}function C(e,t){if(function(e){return\"styleSheet\"in e}(e)){let t;try{t=b(e.styleSheet)||function(e){const{cssText:t}=e;if(t.split('\"').length<3)return t;const n=[\"@import\",`url(${JSON.stringify(e.href)})`];return\"\"===e.layerName?n.push(\"layer\"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(\" \")+\";\"}(e)}catch(n){t=e.cssText}return e.styleSheet.href?x(t,e.styleSheet.href):t}{let n=e.cssText;return function(e){return\"selectorText\"in e}(e)&&e.selectorText.includes(\":\")&&(n=function(e){const t=/(\\[(?:[\\w-]+)[^\\\\])(:(?:[\\w-]+)\\])/gm;return e.replace(t,\"$1\\\\$2\")}(n)),t?x(n,t):n}}function S(e,t){return Array.from(e.styleSheets).find((e=>e.href===t))}let v=class{constructor(){i(this,\"idNodeMap\",new Map),i(this,\"nodeMetaMap\",new WeakMap)}getId(e){var t;if(!e)return-1;const n=null==(t=this.getMeta(e))?void 0:t.id;return null!=n?n:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function w(e){let{element:t,maskInputOptions:n,tagName:o,type:r,value:i,maskInputFn:s}=e,a=i||\"\";const l=r&&N(r);return(n[o.toLowerCase()]||l&&n[l])&&(a=s?s(a,t):\"*\".repeat(a.length)),a}function N(e){return e.toLowerCase()}const M=\"__rrweb_original__\";function A(e){const t=e.type;return e.hasAttribute(\"data-rr-is-password\")?\"password\":t?N(t):null}function k(e,t){var n;let o;try{o=new URL(e,null!=t?t:window.location.href)}catch(e){return null}const r=o.pathname.match(/\\.([0-9a-z]+)(?:$)/i);return null!==(n=null==r?void 0:r[1])&&void 0!==n?n:null}const R=/url\\((?:(')([^']*)'|(\")(.*?)\"|([^)]*))\\)/gm,T=/^(?:[a-z+]+:)?\\/\\//i,E=/^www\\..*/i,O=/^(data:)([^,]*),(.*)/i;function x(e,t){return(e||\"\").replace(R,((e,n,o,r,i,s)=>{const a=o||i||s,l=n||r||\"\";if(!a)return e;if(T.test(a)||E.test(a))return`url(${l}${a}${l})`;if(O.test(a))return`url(${l}${a}${l})`;if(\"/\"===a[0])return`url(${l}${function(e){let t=\"\";return t=e.indexOf(\"//\")>-1?e.split(\"/\").slice(0,3).join(\"/\"):e.split(\"/\")[0],t=t.split(\"?\")[0],t}(t)+a}${l})`;const c=t.split(\"/\"),d=a.split(\"/\");c.pop();for(const e of d)\".\"!==e&&(\"..\"===e?c.pop():c.push(e));return`url(${l}${c.join(\"/\")}${l})`}))}let L=1;const D=new RegExp(\"[^a-z0-9-_:]\"),F=-2;function B(){return L++}let Z,_;const Y=/^[^ \\t\\n\\r\\u000c]+/,W=/^[, \\t\\n\\r\\u000c]+/;const G=new WeakMap;function V(e,t){return t&&\"\"!==t.trim()?X(e,t):t}function H(e){return Boolean(\"svg\"===e.tagName||e.ownerSVGElement)}function X(e,t){let n=G.get(e);if(n||(n=e.createElement(\"a\"),G.set(e,n)),t){if(t.startsWith(\"blob:\")||t.startsWith(\"data:\"))return t}else t=\"\";return n.setAttribute(\"href\",t),n.href}function P(e,t,n,o){return o?\"src\"===n||\"href\"===n&&(\"use\"!==t||\"#\"!==o[0])||\"xlink:href\"===n&&\"#\"!==o[0]?V(e,o):\"background\"!==n||\"table\"!==t&&\"td\"!==t&&\"th\"!==t?\"srcset\"===n?function(e,t){if(\"\"===t.trim())return t;let n=0;function o(e){let o;const r=e.exec(t.substring(n));return r?(o=r[0],n+=o.length,o):\"\"}const r=[];for(;o(W),!(n>=t.length);){let i=o(Y);if(\",\"===i.slice(-1))i=V(e,i.substring(0,i.length-1)),r.push(i);else{let o=\"\";i=V(e,i);let s=!1;for(;;){const e=t.charAt(n);if(\"\"===e){r.push((i+o).trim());break}if(s)\")\"===e&&(s=!1);else{if(\",\"===e){n+=1,r.push((i+o).trim());break}\"(\"===e&&(s=!0)}o+=e,n+=1}}}return r.join(\", \")}(e,o):\"style\"===n?x(o,X(e)):\"object\"===t&&\"data\"===n?V(e,o):o:V(e,o):o}function z(e,t,n){return(\"video\"===e||\"audio\"===e)&&\"autoplay\"===t}function K(e,t,n){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return!!n&&K(f.parentNode(e),t,n);for(let n=e.classList.length;n--;){const o=e.classList[n];if(t.test(o))return!0}return!!n&&K(f.parentNode(e),t,n)}function J(e,t,n,o){let r;if(g(e)){if(r=e,!f.childNodes(r).length)return!1}else{if(null===f.parentElement(e))return!1;r=f.parentElement(e)}try{if(\"string\"==typeof t){if(o){if(r.closest(`.${t}`))return!0}else if(r.classList.contains(t))return!0}else if(K(r,t,o))return!0;if(n)if(o){if(r.closest(n))return!0}else if(r.matches(n))return!0}catch(e){}return!1}function j(e,t){const{doc:n,mirror:o,blockClass:r,blockSelector:i,needsMask:a,inlineStylesheet:l,maskInputOptions:c={},maskTextFn:d,maskInputFn:u,dataURLOptions:h={},inlineImages:p,recordCanvas:m,keepIframeSrcFn:g,newlyAddedElement:y=!1}=t,I=function(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return 1===n?void 0:n}(n,o);switch(e.nodeType){case e.DOCUMENT_NODE:return\"CSS1Compat\"!==e.compatMode?{type:s.Document,childNodes:[],compatMode:e.compatMode}:{type:s.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:s.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:I};case e.ELEMENT_NODE:return function(e,t){const{doc:n,blockClass:o,blockSelector:r,inlineStylesheet:i,maskInputOptions:a={},maskInputFn:l,dataURLOptions:c={},inlineImages:d,recordCanvas:u,keepIframeSrcFn:h,newlyAddedElement:p=!1,rootId:m}=t,g=function(e,t,n){try{if(\"string\"==typeof t){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){const o=e.classList[n];if(t.test(o))return!0}if(n)return e.matches(n)}catch(e){}return!1}(e,o,r),y=function(e){if(e instanceof HTMLFormElement)return\"form\";const t=N(e.tagName);return D.test(t)?\"div\":t}(e);let I={};const C=e.attributes.length;for(let t=0;t<C;t++){const o=e.attributes[t];z(y,o.name,o.value)||(I[o.name]=P(n,y,N(o.name),o.value))}if(\"link\"===y&&i){const t=e.href;let o=S(n,t);if(!o&&t.includes(\".css\")){o=S(n,window.location.origin+\"/\"+t.replace(window.location.href,\"\"))}let r=null;o&&(r=b(o)),r&&(delete I.rel,delete I.href,I._cssText=r)}if(\"style\"===y&&e.sheet&&!(e.innerText||f.textContent(e)||\"\").trim().length){const t=b(e.sheet);t&&(I._cssText=t)}if(\"input\"===y||\"textarea\"===y||\"select\"===y){const t=e.value,n=e.checked;\"radio\"!==I.type&&\"checkbox\"!==I.type&&\"submit\"!==I.type&&\"button\"!==I.type&&t?I.value=w({element:e,type:A(e),tagName:y,value:t,maskInputOptions:a,maskInputFn:l}):n&&(I.checked=n)}\"option\"===y&&(e.selected&&!a.select?I.selected=!0:delete I.selected);\"dialog\"===y&&e.open&&(I.rr_open_mode=e.matches(\"dialog:modal\")?\"modal\":\"non-modal\");if(\"canvas\"===y&&u)if(\"2d\"===e.__context)(function(e){const t=e.getContext(\"2d\");if(!t)return!0;for(let n=0;n<e.width;n+=50)for(let o=0;o<e.height;o+=50){const r=t.getImageData,i=M in r?r[M]:r;if(new Uint32Array(i.call(t,n,o,Math.min(50,e.width-n),Math.min(50,e.height-o)).data.buffer).some((e=>0!==e)))return!1}return!0})(e)||(I.rr_dataURL=e.toDataURL(c.type,c.quality));else if(!(\"__context\"in e)){const t=e.toDataURL(c.type,c.quality),o=n.createElement(\"canvas\");o.width=e.width,o.height=e.height;t!==o.toDataURL(c.type,c.quality)&&(I.rr_dataURL=t)}if(\"img\"===y&&d){Z||(Z=n.createElement(\"canvas\"),_=Z.getContext(\"2d\"));const t=e,o=t.currentSrc||t.getAttribute(\"src\")||\"<unknown-src>\",r=t.crossOrigin,i=()=>{t.removeEventListener(\"load\",i);try{Z.width=t.naturalWidth,Z.height=t.naturalHeight,_.drawImage(t,0,0),I.rr_dataURL=Z.toDataURL(c.type,c.quality)}catch(e){if(\"anonymous\"!==t.crossOrigin)return t.crossOrigin=\"anonymous\",void(t.complete&&0!==t.naturalWidth?i():t.addEventListener(\"load\",i));console.warn(`Cannot inline img src=${o}! Error: ${e}`)}\"anonymous\"===t.crossOrigin&&(r?I.crossOrigin=r:t.removeAttribute(\"crossorigin\"))};t.complete&&0!==t.naturalWidth?i():t.addEventListener(\"load\",i)}if(\"audio\"===y||\"video\"===y){const t=I;t.rr_mediaState=e.paused?\"paused\":\"played\",t.rr_mediaCurrentTime=e.currentTime,t.rr_mediaPlaybackRate=e.playbackRate,t.rr_mediaMuted=e.muted,t.rr_mediaLoop=e.loop,t.rr_mediaVolume=e.volume}p||(e.scrollLeft&&(I.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(I.rr_scrollTop=e.scrollTop));if(g){const{width:t,height:n}=e.getBoundingClientRect();I={class:I.class,rr_width:`${t}px`,rr_height:`${n}px`}}\"iframe\"!==y||h(I.src)||(e.contentDocument||(I.rr_src=I.src),delete I.src);let v;try{customElements.get(y)&&(v=!0)}catch(e){}return{type:s.Element,tagName:y,attributes:I,childNodes:[],isSVG:H(e)||void 0,needBlock:g,rootId:m,isCustom:v}}(e,{doc:n,blockClass:r,blockSelector:i,inlineStylesheet:l,maskInputOptions:c,maskInputFn:u,dataURLOptions:h,inlineImages:p,recordCanvas:m,keepIframeSrcFn:g,newlyAddedElement:y,rootId:I});case e.TEXT_NODE:return function(e,t){var n;const{needsMask:o,maskTextFn:r,rootId:i}=t,a=f.parentNode(e),l=a&&a.tagName;let c=f.textContent(e);const d=\"STYLE\"===l||void 0,u=\"SCRIPT\"===l||void 0;if(d&&c){try{e.nextSibling||e.previousSibling||(null==(n=a.sheet)?void 0:n.cssRules)&&(c=b(a.sheet))}catch(t){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${t}`,e)}c=x(c,X(t.doc))}u&&(c=\"SCRIPT_PLACEHOLDER\");!d&&!u&&c&&o&&(c=r?r(c,f.parentElement(e)):c.replace(/[\\S]/g,\"*\"));return{type:s.Text,textContent:c||\"\",isStyle:d,rootId:i}}(e,{doc:n,needsMask:a,maskTextFn:d,rootId:I});case e.CDATA_SECTION_NODE:return{type:s.CDATA,textContent:\"\",rootId:I};case e.COMMENT_NODE:return{type:s.Comment,textContent:f.textContent(e)||\"\",rootId:I};default:return!1}}function U(e){return null==e?\"\":e.toLowerCase()}function q(e,t){const{doc:n,mirror:o,blockClass:r,blockSelector:i,maskTextClass:a,maskTextSelector:l,skipChild:c=!1,inlineStylesheet:d=!0,maskInputOptions:u={},maskTextFn:h,maskInputFn:p,slimDOMOptions:m,dataURLOptions:b={},inlineImages:C=!1,recordCanvas:S=!1,onSerialize:v,onIframeLoad:w,iframeLoadTimeout:N=5e3,onStylesheetLoad:M,stylesheetLoadTimeout:A=5e3,keepIframeSrcFn:R=(()=>!1),newlyAddedElement:T=!1}=t;let{needsMask:E}=t,{preserveWhiteSpace:O=!0}=t;if(!E){E=J(e,a,l,void 0===E)}const x=j(e,{doc:n,mirror:o,blockClass:r,blockSelector:i,needsMask:E,inlineStylesheet:d,maskInputOptions:u,maskTextFn:h,maskInputFn:p,dataURLOptions:b,inlineImages:C,recordCanvas:S,keepIframeSrcFn:R,newlyAddedElement:T});if(!x)return console.warn(e,\"not serialized\"),null;let L;L=o.hasNode(e)?o.getId(e):!function(e,t){if(t.comment&&e.type===s.Comment)return!0;if(e.type===s.Element){if(t.script&&(\"script\"===e.tagName||\"link\"===e.tagName&&(\"preload\"===e.attributes.rel||\"modulepreload\"===e.attributes.rel)&&\"script\"===e.attributes.as||\"link\"===e.tagName&&\"prefetch\"===e.attributes.rel&&\"string\"==typeof e.attributes.href&&\"js\"===k(e.attributes.href)))return!0;if(t.headFavicon&&(\"link\"===e.tagName&&\"shortcut icon\"===e.attributes.rel||\"meta\"===e.tagName&&(U(e.attributes.name).match(/^msapplication-tile(image|color)$/)||\"application-name\"===U(e.attributes.name)||\"icon\"===U(e.attributes.rel)||\"apple-touch-icon\"===U(e.attributes.rel)||\"shortcut icon\"===U(e.attributes.rel))))return!0;if(\"meta\"===e.tagName){if(t.headMetaDescKeywords&&U(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(U(e.attributes.property).match(/^(og|twitter|fb):/)||U(e.attributes.name).match(/^(og|twitter):/)||\"pinterest\"===U(e.attributes.name)))return!0;if(t.headMetaRobots&&(\"robots\"===U(e.attributes.name)||\"googlebot\"===U(e.attributes.name)||\"bingbot\"===U(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes[\"http-equiv\"])return!0;if(t.headMetaAuthorship&&(\"author\"===U(e.attributes.name)||\"generator\"===U(e.attributes.name)||\"framework\"===U(e.attributes.name)||\"publisher\"===U(e.attributes.name)||\"progid\"===U(e.attributes.name)||U(e.attributes.property).match(/^article:/)||U(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(\"google-site-verification\"===U(e.attributes.name)||\"yandex-verification\"===U(e.attributes.name)||\"csrf-token\"===U(e.attributes.name)||\"p:domain_verify\"===U(e.attributes.name)||\"verify-v1\"===U(e.attributes.name)||\"verification\"===U(e.attributes.name)||\"shopify-checkout-api-token\"===U(e.attributes.name)))return!0}}return!1}(x,m)&&(O||x.type!==s.Text||x.isStyle||x.textContent.replace(/^\\s+|\\s+$/gm,\"\").length)?B():F;const D=Object.assign(x,{id:L});if(o.add(e,D),L===F)return null;v&&v(e);let Z=!c;if(D.type===s.Element){Z=Z&&!D.needBlock,delete D.needBlock;const t=f.shadowRoot(e);t&&I(t)&&(D.isShadowHost=!0)}if((D.type===s.Document||D.type===s.Element)&&Z){m.headWhitespace&&D.type===s.Element&&\"head\"===D.tagName&&(O=!1);const t={doc:n,mirror:o,blockClass:r,blockSelector:i,needsMask:E,maskTextClass:a,maskTextSelector:l,skipChild:c,inlineStylesheet:d,maskInputOptions:u,maskTextFn:h,maskInputFn:p,slimDOMOptions:m,dataURLOptions:b,inlineImages:C,recordCanvas:S,preserveWhiteSpace:O,onSerialize:v,onIframeLoad:w,iframeLoadTimeout:N,onStylesheetLoad:M,stylesheetLoadTimeout:A,keepIframeSrcFn:R};if(D.type===s.Element&&\"textarea\"===D.tagName&&void 0!==D.attributes.value);else for(const n of Array.from(f.childNodes(e))){const e=q(n,t);e&&D.childNodes.push(e)}let y=null;if(g(e)&&(y=f.shadowRoot(e)))for(const e of Array.from(f.childNodes(y))){const n=q(e,t);n&&(I(y)&&(n.isShadow=!0),D.childNodes.push(n))}}const _=f.parentNode(e);return _&&y(_)&&I(_)&&(D.isShadow=!0),D.type===s.Element&&\"iframe\"===D.tagName&&function(e,t,n){const o=e.contentWindow;if(!o)return;let r,i=!1;try{r=o.document.readyState}catch(e){return}if(\"complete\"!==r){const o=setTimeout((()=>{i||(t(),i=!0)}),n);return void e.addEventListener(\"load\",(()=>{clearTimeout(o),i=!0,t()}))}const s=\"about:blank\";if(o.location.href!==s||e.src===s||\"\"===e.src)return setTimeout(t,0),e.addEventListener(\"load\",t);e.addEventListener(\"load\",t)}(e,(()=>{const t=e.contentDocument;if(t&&w){const n=q(t,{doc:t,mirror:o,blockClass:r,blockSelector:i,needsMask:E,maskTextClass:a,maskTextSelector:l,skipChild:!1,inlineStylesheet:d,maskInputOptions:u,maskTextFn:h,maskInputFn:p,slimDOMOptions:m,dataURLOptions:b,inlineImages:C,recordCanvas:S,preserveWhiteSpace:O,onSerialize:v,onIframeLoad:w,iframeLoadTimeout:N,onStylesheetLoad:M,stylesheetLoadTimeout:A,keepIframeSrcFn:R});n&&w(e,n)}}),N),D.type===s.Element&&\"link\"===D.tagName&&\"string\"==typeof D.attributes.rel&&(\"stylesheet\"===D.attributes.rel||\"preload\"===D.attributes.rel&&\"string\"==typeof D.attributes.href&&\"css\"===k(D.attributes.href))&&function(e,t,n){let o,r=!1;try{o=e.sheet}catch(e){return}if(o)return;const i=setTimeout((()=>{r||(t(),r=!0)}),n);e.addEventListener(\"load\",(()=>{clearTimeout(i),r=!0,t()}))}(e,(()=>{if(M){const t=q(e,{doc:n,mirror:o,blockClass:r,blockSelector:i,needsMask:E,maskTextClass:a,maskTextSelector:l,skipChild:!1,inlineStylesheet:d,maskInputOptions:u,maskTextFn:h,maskInputFn:p,slimDOMOptions:m,dataURLOptions:b,inlineImages:C,recordCanvas:S,preserveWhiteSpace:O,onSerialize:v,onIframeLoad:w,iframeLoadTimeout:N,onStylesheetLoad:M,stylesheetLoadTimeout:A,keepIframeSrcFn:R});t&&M(e,t)}}),A),D}let Q=class e{constructor(){__publicField2(this,\"parentElement\",null),__publicField2(this,\"parentNode\",null),__publicField2(this,\"ownerDocument\"),__publicField2(this,\"firstChild\",null),__publicField2(this,\"lastChild\",null),__publicField2(this,\"previousSibling\",null),__publicField2(this,\"nextSibling\",null),__publicField2(this,\"ELEMENT_NODE\",1),__publicField2(this,\"TEXT_NODE\",3),__publicField2(this,\"nodeType\"),__publicField2(this,\"nodeName\"),__publicField2(this,\"RRNodeType\")}get childNodes(){const e=[];let t=this.firstChild;for(;t;)e.push(t),t=t.nextSibling;return e}contains(t){if(!(t instanceof e))return!1;if(t.ownerDocument!==this.ownerDocument)return!1;if(t===this)return!0;for(;t.parentNode;){if(t.parentNode===this)return!0;t=t.parentNode}return!1}appendChild(e){throw new Error(\"RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.\")}insertBefore(e,t){throw new Error(\"RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.\")}removeChild(e){throw new Error(\"RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.\")}toString(){return\"RRNode\"}};const $={Node:[\"childNodes\",\"parentNode\",\"parentElement\",\"textContent\"],ShadowRoot:[\"host\",\"styleSheets\"],Element:[\"shadowRoot\",\"querySelector\",\"querySelectorAll\"],MutationObserver:[]},ee={Node:[\"contains\",\"getRootNode\"],ShadowRoot:[\"getSelection\"],Element:[],MutationObserver:[\"constructor\"]},te={};function ne(e){if(te[e])return te[e];const t=globalThis[e],n=t.prototype,o=e in $?$[e]:void 0,r=Boolean(o&&o.every((e=>{var t,o;return Boolean(null==(o=null==(t=Object.getOwnPropertyDescriptor(n,e))?void 0:t.get)?void 0:o.toString().includes(\"[native code]\"))}))),i=e in ee?ee[e]:void 0,s=Boolean(i&&i.every((e=>{var t;return\"function\"==typeof n[e]&&(null==(t=n[e])?void 0:t.toString().includes(\"[native code]\"))})));if(r&&s)return te[e]=t.prototype,t.prototype;try{const o=document.createElement(\"iframe\");document.body.appendChild(o);const r=o.contentWindow;if(!r)return t.prototype;const i=r[e].prototype;return document.body.removeChild(o),i?te[e]=i:n}catch{return n}}const oe={};function re(e,t,n){var o;const r=`${e}.${String(n)}`;if(oe[r])return oe[r].call(t);const i=ne(e),s=null==(o=Object.getOwnPropertyDescriptor(i,n))?void 0:o.get;return s?(oe[r]=s,s.call(t)):t[n]}const ie={};function se(e,t,n){const o=`${e}.${String(n)}`;if(ie[o])return ie[o].bind(t);const r=ne(e)[n];return\"function\"!=typeof r?t[n]:(ie[o]=r,r.bind(t))}function ae(){return ne(\"MutationObserver\").constructor}const le={childNodes:function(e){return re(\"Node\",e,\"childNodes\")},parentNode:function(e){return re(\"Node\",e,\"parentNode\")},parentElement:function(e){return re(\"Node\",e,\"parentElement\")},textContent:function(e){return re(\"Node\",e,\"textContent\")},contains:function(e,t){return se(\"Node\",e,\"contains\")(t)},getRootNode:function(e){return se(\"Node\",e,\"getRootNode\")()},host:function(e){return e&&\"host\"in e?re(\"ShadowRoot\",e,\"host\"):null},styleSheets:function(e){return e.styleSheets},shadowRoot:function(e){return e&&\"shadowRoot\"in e?re(\"Element\",e,\"shadowRoot\"):null},querySelector:function(e,t){return re(\"Element\",e,\"querySelector\")(t)},querySelectorAll:function(e,t){return re(\"Element\",e,\"querySelectorAll\")(t)},mutationObserver:ae};function ce(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;const o={capture:!0,passive:!0};return n.addEventListener(e,t,o),()=>n.removeEventListener(e,t,o)}const de=\"Please stop import mirror directly. Instead of that,\\r\\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\\r\\nor you can use record.mirror to access the mirror instance during recording.\";let ue={map:{},getId:()=>(console.error(de),-1),getNode:()=>(console.error(de),null),removeNodeFromMap(){console.error(de)},has:()=>(console.error(de),!1),reset(){console.error(de)}};function he(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=null,r=0;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];const l=Date.now();r||!1!==n.leading||(r=l);const c=t-(l-r),d=this;c<=0||c>t?(o&&(clearTimeout(o),o=null),r=l,e.apply(d,s)):o||!1===n.trailing||(o=setTimeout((()=>{r=!1===n.leading?0:Date.now(),o=null,e.apply(d,s)}),c))}}function pe(e,t,n,o){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window;const i=r.Object.getOwnPropertyDescriptor(e,t);return r.Object.defineProperty(e,t,o?n:{set(e){setTimeout((()=>{n.set.call(this,e)}),0),i&&i.set&&i.set.call(this,e)}}),()=>pe(e,t,i||{},!0)}function me(e,t,n){try{if(!(t in e))return()=>{};const o=e[t],r=n(o);return\"function\"==typeof r&&(r.prototype=r.prototype||{},Object.defineProperties(r,{__rrweb_original__:{enumerable:!1,value:o}})),e[t]=r,()=>{e[t]=o}}catch{return()=>{}}}\"undefined\"!=typeof window&&window.Proxy&&window.Reflect&&(ue=new Proxy(ue,{get:(e,t,n)=>(\"map\"===t&&console.error(de),Reflect.get(e,t,n))}));let fe=Date.now;function ge(e){var t,n,o,r;const i=e.document;return{left:i.scrollingElement?i.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:i.documentElement.scrollLeft||(null==i?void 0:i.body)&&(null==(t=le.parentElement(i.body))?void 0:t.scrollLeft)||(null==(n=null==i?void 0:i.body)?void 0:n.scrollLeft)||0,top:i.scrollingElement?i.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:(null==i?void 0:i.documentElement.scrollTop)||(null==i?void 0:i.body)&&(null==(o=le.parentElement(i.body))?void 0:o.scrollTop)||(null==(r=null==i?void 0:i.body)?void 0:r.scrollTop)||0}}function ye(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Ie(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function be(e){if(!e)return null;return e.nodeType===e.ELEMENT_NODE?e:le.parentElement(e)}function Ce(e,t,n,o){if(!e)return!1;const r=be(e);if(!r)return!1;try{if(\"string\"==typeof t){if(r.classList.contains(t))return!0;if(o&&null!==r.closest(\".\"+t))return!0}else if(K(r,t,o))return!0}catch(e){}if(n){if(r.matches(n))return!0;if(o&&null!==r.closest(n))return!0}return!1}function Se(e,t,n){return!(\"TITLE\"!==e.tagName||!n.headTitleMutations)||t.getId(e)===F}function ve(e,t){if(y(e))return!1;const n=t.getId(e);if(!t.has(n))return!0;const o=le.parentNode(e);return(!o||o.nodeType!==e.DOCUMENT_NODE)&&(!o||ve(o,t))}function we(e){return Boolean(e.changedTouches)}function Ne(e,t){return Boolean(\"IFRAME\"===e.nodeName&&t.getMeta(e))}function Me(e,t){return Boolean(\"LINK\"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&\"stylesheet\"===e.getAttribute(\"rel\")&&t.getMeta(e))}function Ae(e){return!!e&&(e instanceof Q&&\"shadowRoot\"in e?Boolean(e.shadowRoot):Boolean(le.shadowRoot(e)))}/[1-9][0-9]{12}/.test(Date.now().toString())||(fe=()=>(new Date).getTime());let ke=class{constructor(){o(this,\"id\",1),o(this,\"styleIDMap\",new WeakMap),o(this,\"idStyleMap\",new Map)}getId(e){var t;return null!==(t=this.styleIDMap.get(e))&&void 0!==t?t:-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function Re(e){var t;let n=null;return\"getRootNode\"in e&&(null==(t=le.getRootNode(e))?void 0:t.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&le.host(le.getRootNode(e))&&(n=le.host(le.getRootNode(e))),n}function Te(e){const t=e.ownerDocument;if(!t)return!1;const n=function(e){let t,n=e;for(;t=Re(n);)n=t;return n}(e);return le.contains(t,n)}function Ee(e){const t=e.ownerDocument;return!!t&&(le.contains(t,e)||Te(e))}var Oe=(e=>(e[e.DomContentLoaded=0]=\"DomContentLoaded\",e[e.Load=1]=\"Load\",e[e.FullSnapshot=2]=\"FullSnapshot\",e[e.IncrementalSnapshot=3]=\"IncrementalSnapshot\",e[e.Meta=4]=\"Meta\",e[e.Custom=5]=\"Custom\",e[e.Plugin=6]=\"Plugin\",e))(Oe||{}),xe=(e=>(e[e.Mutation=0]=\"Mutation\",e[e.MouseMove=1]=\"MouseMove\",e[e.MouseInteraction=2]=\"MouseInteraction\",e[e.Scroll=3]=\"Scroll\",e[e.ViewportResize=4]=\"ViewportResize\",e[e.Input=5]=\"Input\",e[e.TouchMove=6]=\"TouchMove\",e[e.MediaInteraction=7]=\"MediaInteraction\",e[e.StyleSheetRule=8]=\"StyleSheetRule\",e[e.CanvasMutation=9]=\"CanvasMutation\",e[e.Font=10]=\"Font\",e[e.Log=11]=\"Log\",e[e.Drag=12]=\"Drag\",e[e.StyleDeclaration=13]=\"StyleDeclaration\",e[e.Selection=14]=\"Selection\",e[e.AdoptedStyleSheet=15]=\"AdoptedStyleSheet\",e[e.CustomElement=16]=\"CustomElement\",e))(xe||{}),Le=(e=>(e[e.MouseUp=0]=\"MouseUp\",e[e.MouseDown=1]=\"MouseDown\",e[e.Click=2]=\"Click\",e[e.ContextMenu=3]=\"ContextMenu\",e[e.DblClick=4]=\"DblClick\",e[e.Focus=5]=\"Focus\",e[e.Blur=6]=\"Blur\",e[e.TouchStart=7]=\"TouchStart\",e[e.TouchMove_Departed=8]=\"TouchMove_Departed\",e[e.TouchEnd=9]=\"TouchEnd\",e[e.TouchCancel=10]=\"TouchCancel\",e))(Le||{}),De=(e=>(e[e.Mouse=0]=\"Mouse\",e[e.Pen=1]=\"Pen\",e[e.Touch=2]=\"Touch\",e))(De||{}),Fe=(e=>(e[e[\"2D\"]=0]=\"2D\",e[e.WebGL=1]=\"WebGL\",e[e.WebGL2=2]=\"WebGL2\",e))(Fe||{}),Be=(e=>(e[e.Play=0]=\"Play\",e[e.Pause=1]=\"Pause\",e[e.Seeked=2]=\"Seeked\",e[e.VolumeChange=3]=\"VolumeChange\",e[e.RateChange=4]=\"RateChange\",e))(Be||{});function Ze(e){return\"__ln\"in e}class _e{constructor(){o(this,\"length\",0),o(this,\"head\",null),o(this,\"tail\",null)}get(e){if(e>=this.length)throw new Error(\"Position outside of list range\");let t=this.head;for(let n=0;n<e;n++)t=(null==t?void 0:t.next)||null;return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&Ze(e.previousSibling)){const n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&Ze(e.nextSibling)&&e.nextSibling.__ln.previous){const n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const Ye=(e,t)=>`${e}@${t}`;class We{constructor(){o(this,\"frozen\",!1),o(this,\"locked\",!1),o(this,\"texts\",[]),o(this,\"attributes\",[]),o(this,\"attributeMap\",new WeakMap),o(this,\"removes\",[]),o(this,\"mapRemoves\",[]),o(this,\"movedMap\",{}),o(this,\"addedSet\",new Set),o(this,\"movedSet\",new Set),o(this,\"droppedSet\",new Set),o(this,\"mutationCb\"),o(this,\"blockClass\"),o(this,\"blockSelector\"),o(this,\"maskTextClass\"),o(this,\"maskTextSelector\"),o(this,\"inlineStylesheet\"),o(this,\"maskInputOptions\"),o(this,\"maskTextFn\"),o(this,\"maskInputFn\"),o(this,\"keepIframeSrcFn\"),o(this,\"recordCanvas\"),o(this,\"inlineImages\"),o(this,\"slimDOMOptions\"),o(this,\"dataURLOptions\"),o(this,\"doc\"),o(this,\"mirror\"),o(this,\"iframeManager\"),o(this,\"stylesheetManager\"),o(this,\"shadowDomManager\"),o(this,\"canvasManager\"),o(this,\"processedNodeManager\"),o(this,\"unattachedDoc\"),o(this,\"processMutations\",(e=>{e.forEach(this.processMutation),this.emit()})),o(this,\"emit\",(()=>{if(this.frozen||this.locked)return;const e=[],t=new Set,n=new _e,o=e=>{let t=e,n=F;for(;n===F;)t=t&&t.nextSibling,n=t&&this.mirror.getId(t);return n},r=r=>{const i=le.parentNode(r);if(!i||!Ee(r)||\"TEXTAREA\"===i.tagName)return;const s=y(i)?this.mirror.getId(Re(r)):this.mirror.getId(i),a=o(r);if(-1===s||-1===a)return n.addNode(r);const l=q(r,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{Ne(e,this.mirror)&&this.iframeManager.addIframe(e),Me(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),Ae(r)&&this.shadowDomManager.addShadowRoot(le.shadowRoot(r),this.doc)},onIframeLoad:(e,t)=>{this.iframeManager.attachIframe(e,t),this.shadowDomManager.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});l&&(e.push({parentId:s,nextId:a,node:l}),t.add(l.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const e of this.movedSet)Ve(this.removes,e,this.mirror)&&!this.movedSet.has(le.parentNode(e))||r(e);for(const e of this.addedSet)He(this.droppedSet,e)||Ve(this.removes,e,this.mirror)?He(this.movedSet,e)?r(e):this.droppedSet.add(e):r(e);let i=null;for(;n.length;){let e=null;if(i){const t=this.mirror.getId(le.parentNode(i.value)),n=o(i.value);-1!==t&&-1!==n&&(e=i)}if(!e){let t=n.tail;for(;t;){const n=t;if(t=t.previous,n){const t=this.mirror.getId(le.parentNode(n.value));if(-1===o(n.value))continue;if(-1!==t){e=n;break}{const t=n.value,o=le.parentNode(t);if(o&&o.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const t=le.host(o);if(-1!==this.mirror.getId(t)){e=n;break}}}}}}if(!e){for(;n.head;)n.removeNode(n.head.value);break}i=e.previous,n.removeNode(e.value),r(e.value)}const s={texts:this.texts.map((e=>{const t=e.node,n=le.parentNode(t);return n&&\"TEXTAREA\"===n.tagName&&this.genTextAreaValueMutation(n),{id:this.mirror.getId(t),value:e.value}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),attributes:this.attributes.map((e=>{const{attributes:t}=e;if(\"string\"==typeof t.style){const n=JSON.stringify(e.styleDiff),o=JSON.stringify(e._unchangedStyles);n.length<t.style.length&&(n+o).split(\"var(\").length===t.style.split(\"var(\").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),removes:this.removes,adds:e};(s.texts.length||s.attributes.length||s.removes.length||s.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(s))})),o(this,\"genTextAreaValueMutation\",(e=>{let t=this.attributeMap.get(e);t||(t={node:e,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(t),this.attributeMap.set(e,t)),t.attributes.value=Array.from(le.childNodes(e),(e=>le.textContent(e)||\"\")).join(\"\")})),o(this,\"processMutation\",(e=>{if(!Se(e.target,this.mirror,this.slimDOMOptions))switch(e.type){case\"characterData\":{const t=le.textContent(e.target);Ce(e.target,this.blockClass,this.blockSelector,!1)||t===e.oldValue||this.texts.push({value:J(e.target,this.maskTextClass,this.maskTextSelector,!0)&&t?this.maskTextFn?this.maskTextFn(t,be(e.target)):t.replace(/[\\S]/g,\"*\"):t,node:e.target});break}case\"attributes\":{const t=e.target;let n=e.attributeName,o=e.target.getAttribute(n);if(\"value\"===n){const e=A(t);o=w({element:t,maskInputOptions:this.maskInputOptions,tagName:t.tagName,type:e,value:o,maskInputFn:this.maskInputFn})}if(Ce(e.target,this.blockClass,this.blockSelector,!1)||o===e.oldValue)return;let r=this.attributeMap.get(e.target);if(\"IFRAME\"===t.tagName&&\"src\"===n&&!this.keepIframeSrcFn(o)){if(t.contentDocument)return;n=\"rr_src\"}if(r||(r={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(r),this.attributeMap.set(e.target,r)),\"type\"===n&&\"INPUT\"===t.tagName&&\"password\"===(e.oldValue||\"\").toLowerCase()&&t.setAttribute(\"data-rr-is-password\",\"true\"),!z(t.tagName,n))if(r.attributes[n]=P(this.doc,N(t.tagName),N(n),o),\"style\"===n){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(e){this.unattachedDoc=this.doc}const n=this.unattachedDoc.createElement(\"span\");e.oldValue&&n.setAttribute(\"style\",e.oldValue);for(const e of Array.from(t.style)){const o=t.style.getPropertyValue(e),i=t.style.getPropertyPriority(e);o!==n.style.getPropertyValue(e)||i!==n.style.getPropertyPriority(e)?r.styleDiff[e]=\"\"===i?o:[o,i]:r._unchangedStyles[e]=[o,i]}for(const e of Array.from(n.style))\"\"===t.style.getPropertyValue(e)&&(r.styleDiff[e]=!1)}else\"open\"===n&&\"DIALOG\"===t.tagName&&(t.matches(\"dialog:modal\")?r.attributes.rr_open_mode=\"modal\":r.attributes.rr_open_mode=\"non-modal\");break}case\"childList\":if(Ce(e.target,this.blockClass,this.blockSelector,!0))return;if(\"TEXTAREA\"===e.target.tagName)return void this.genTextAreaValueMutation(e.target);e.addedNodes.forEach((t=>this.genAdds(t,e.target))),e.removedNodes.forEach((t=>{const n=this.mirror.getId(t),o=y(e.target)?this.mirror.getId(le.host(e.target)):this.mirror.getId(e.target);Ce(e.target,this.blockClass,this.blockSelector,!1)||Se(t,this.mirror,this.slimDOMOptions)||!function(e,t){return-1!==t.getId(e)}(t,this.mirror)||(this.addedSet.has(t)?(Ge(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||ve(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[Ye(n,o)]?Ge(this.movedSet,t):this.removes.push({parentId:o,id:n,isShadow:!(!y(e.target)||!I(e.target))||void 0})),this.mapRemoves.push(t))}))}})),o(this,\"genAdds\",((e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(Se(e,this.mirror,this.slimDOMOptions))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&-1!==n&&(this.movedMap[Ye(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);Ce(e,this.blockClass,this.blockSelector,!1)||(le.childNodes(e).forEach((e=>this.genAdds(e))),Ae(e)&&le.childNodes(le.shadowRoot(e)).forEach((t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)})))}}))}init(e){[\"mutationCb\",\"blockClass\",\"blockSelector\",\"maskTextClass\",\"maskTextSelector\",\"inlineStylesheet\",\"maskInputOptions\",\"maskTextFn\",\"maskInputFn\",\"keepIframeSrcFn\",\"recordCanvas\",\"inlineImages\",\"slimDOMOptions\",\"dataURLOptions\",\"doc\",\"mirror\",\"iframeManager\",\"stylesheetManager\",\"shadowDomManager\",\"canvasManager\",\"processedNodeManager\"].forEach((t=>{this[t]=e[t]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Ge(e,t){e.delete(t),le.childNodes(t).forEach((t=>Ge(e,t)))}function Ve(e,t,n){return 0!==e.length&&function(e,t,n){let o=le.parentNode(t);for(;o;){const t=n.getId(o);if(e.some((e=>e.id===t)))return!0;o=le.parentNode(o)}return!1}(e,t,n)}function He(e,t){return 0!==e.size&&Xe(e,t)}function Xe(e,t){const n=le.parentNode(t);return!!n&&(!!e.has(n)||Xe(e,n))}let Pe;const ze=e=>{if(!Pe)return e;return function(){try{return e(...arguments)}catch(e){if(Pe&&!0===Pe(e))return;throw e}}},Ke=[];function Je(e){try{if(\"composedPath\"in e){const t=e.composedPath();if(t.length)return t[0]}else if(\"path\"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function je(e,t){const n=new We;Ke.push(n),n.init(e);const o=new(ae())(ze(n.processMutations.bind(n)));return o.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function Ue(e){let{mouseInteractionCb:t,doc:n,mirror:o,blockClass:r,blockSelector:i,sampling:s}=e;if(!1===s.mouseInteraction)return()=>{};const a=!0===s.mouseInteraction||void 0===s.mouseInteraction?{}:s.mouseInteraction,l=[];let c=null;return Object.keys(Le).filter((e=>Number.isNaN(Number(e))&&!e.endsWith(\"_Departed\")&&!1!==a[e])).forEach((e=>{let s=N(e);const a=(e=>n=>{const s=Je(n);if(Ce(s,r,i,!0))return;let a=null,l=e;if(\"pointerType\"in n){switch(n.pointerType){case\"mouse\":a=De.Mouse;break;case\"touch\":a=De.Touch;break;case\"pen\":a=De.Pen}a===De.Touch?Le[e]===Le.MouseDown?l=\"TouchStart\":Le[e]===Le.MouseUp&&(l=\"TouchEnd\"):De.Pen}else we(n)&&(a=De.Touch);null!==a?(c=a,(l.startsWith(\"Touch\")&&a===De.Touch||l.startsWith(\"Mouse\")&&a===De.Mouse)&&(a=null)):Le[e]===Le.Click&&(a=c,c=null);const d=we(n)?n.changedTouches[0]:n;if(!d)return;const u=o.getId(s),{clientX:h,clientY:p}=d;ze(t)({type:Le[l],id:u,x:h,y:p,...null!==a&&{pointerType:a}})})(e);if(window.PointerEvent)switch(Le[e]){case Le.MouseDown:case Le.MouseUp:s=s.replace(\"mouse\",\"pointer\");break;case Le.TouchStart:case Le.TouchEnd:return}l.push(ce(s,a,n))})),ze((()=>{l.forEach((e=>e()))}))}function qe(e){let{scrollCb:t,doc:n,mirror:o,blockClass:r,blockSelector:i,sampling:s}=e;return ce(\"scroll\",ze(he(ze((e=>{const s=Je(e);if(!s||Ce(s,r,i,!0))return;const a=o.getId(s);if(s===n&&n.defaultView){const e=ge(n.defaultView);t({id:a,x:e.left,y:e.top})}else t({id:a,x:s.scrollLeft,y:s.scrollTop})})),s.scroll||100)),n)}const Qe=[\"INPUT\",\"TEXTAREA\",\"SELECT\"],$e=new WeakMap;function et(e){return function(e,t){if(rt(\"CSSGroupingRule\")&&e.parentRule instanceof CSSGroupingRule||rt(\"CSSMediaRule\")&&e.parentRule instanceof CSSMediaRule||rt(\"CSSSupportsRule\")&&e.parentRule instanceof CSSSupportsRule||rt(\"CSSConditionRule\")&&e.parentRule instanceof CSSConditionRule){const n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else if(e.parentStyleSheet){const n=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(n)}return t}(e,[])}function tt(e,t,n){let o,r;return e?(e.ownerNode?o=t.getId(e.ownerNode):r=n.getId(e),{styleId:r,id:o}):{}}function nt(e,t){let{mirror:n,stylesheetManager:o}=e;var r,i,s;let a=null;a=\"#document\"===t.nodeName?n.getId(t):n.getId(le.host(t));const l=\"#document\"===t.nodeName?null==(r=t.defaultView)?void 0:r.Document:null==(s=null==(i=t.ownerDocument)?void 0:i.defaultView)?void 0:s.ShadowRoot,c=(null==l?void 0:l.prototype)?Object.getOwnPropertyDescriptor(null==l?void 0:l.prototype,\"adoptedStyleSheets\"):void 0;return null!==a&&-1!==a&&l&&c?(Object.defineProperty(t,\"adoptedStyleSheets\",{configurable:c.configurable,enumerable:c.enumerable,get(){var e;return null==(e=c.get)?void 0:e.call(this)},set(e){var t;const n=null==(t=c.set)?void 0:t.call(this,e);if(null!==a&&-1!==a)try{o.adoptStyleSheets(e,a)}catch(e){}return n}}),ze((()=>{Object.defineProperty(t,\"adoptedStyleSheets\",{configurable:c.configurable,enumerable:c.enumerable,get:c.get,set:c.set})}))):()=>{}}function ot(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.doc.defaultView;if(!n)return()=>{};let o;!function(e,t){const{mutationCb:n,mousemoveCb:o,mouseInteractionCb:r,scrollCb:i,viewportResizeCb:s,inputCb:a,mediaInteractionCb:l,styleSheetRuleCb:c,styleDeclarationCb:d,canvasMutationCb:u,fontCb:h,selectionCb:p,customElementCb:m}=e;e.mutationCb=function(){t.mutation&&t.mutation(...arguments),n(...arguments)},e.mousemoveCb=function(){t.mousemove&&t.mousemove(...arguments),o(...arguments)},e.mouseInteractionCb=function(){t.mouseInteraction&&t.mouseInteraction(...arguments),r(...arguments)},e.scrollCb=function(){t.scroll&&t.scroll(...arguments),i(...arguments)},e.viewportResizeCb=function(){t.viewportResize&&t.viewportResize(...arguments),s(...arguments)},e.inputCb=function(){t.input&&t.input(...arguments),a(...arguments)},e.mediaInteractionCb=function(){t.mediaInteaction&&t.mediaInteaction(...arguments),l(...arguments)},e.styleSheetRuleCb=function(){t.styleSheetRule&&t.styleSheetRule(...arguments),c(...arguments)},e.styleDeclarationCb=function(){t.styleDeclaration&&t.styleDeclaration(...arguments),d(...arguments)},e.canvasMutationCb=function(){t.canvasMutation&&t.canvasMutation(...arguments),u(...arguments)},e.fontCb=function(){t.font&&t.font(...arguments),h(...arguments)},e.selectionCb=function(){t.selection&&t.selection(...arguments),p(...arguments)},e.customElementCb=function(){t.customElement&&t.customElement(...arguments),m(...arguments)}}(e,t),e.recordDOM&&(o=je(e,e.doc));const r=function(e){let{mousemoveCb:t,sampling:n,doc:o,mirror:r}=e;if(!1===n.mousemove)return()=>{};const i=\"number\"==typeof n.mousemove?n.mousemove:50,s=\"number\"==typeof n.mousemoveCallback?n.mousemoveCallback:500;let a,l=[];const c=he(ze((e=>{const n=Date.now()-a;t(l.map((e=>(e.timeOffset-=n,e))),e),l=[],a=null})),s),d=ze(he(ze((e=>{const t=Je(e),{clientX:n,clientY:o}=we(e)?e.changedTouches[0]:e;a||(a=fe()),l.push({x:n,y:o,id:r.getId(t),timeOffset:fe()-a}),c(\"undefined\"!=typeof DragEvent&&e instanceof DragEvent?xe.Drag:e instanceof MouseEvent?xe.MouseMove:xe.TouchMove)})),i,{trailing:!1})),u=[ce(\"mousemove\",d,o),ce(\"touchmove\",d,o),ce(\"drag\",d,o)];return ze((()=>{u.forEach((e=>e()))}))}(e),i=Ue(e),s=qe(e),a=function(e,t){let{viewportResizeCb:n}=e,{win:o}=t,r=-1,i=-1;return ce(\"resize\",ze(he(ze((()=>{const e=ye(),t=Ie();r===e&&i===t||(n({width:Number(t),height:Number(e)}),r=e,i=t)})),200)),o)}(e,{win:n}),l=function(e){let{inputCb:t,doc:n,mirror:o,blockClass:r,blockSelector:i,ignoreClass:s,ignoreSelector:a,maskInputOptions:l,maskInputFn:c,sampling:d,userTriggeredOnInput:u}=e;function h(e){let t=Je(e);const o=e.isTrusted,d=t&&t.tagName;if(t&&\"OPTION\"===d&&(t=le.parentElement(t)),!t||!d||Qe.indexOf(d)<0||Ce(t,r,i,!0))return;if(t.classList.contains(s)||a&&t.matches(a))return;let h=t.value,m=!1;const f=A(t)||\"\";\"radio\"===f||\"checkbox\"===f?m=t.checked:(l[d.toLowerCase()]||l[f])&&(h=w({element:t,maskInputOptions:l,tagName:d,type:f,value:h,maskInputFn:c})),p(t,u?{text:h,isChecked:m,userTriggered:o}:{text:h,isChecked:m});const g=t.name;\"radio\"===f&&g&&m&&n.querySelectorAll(`input[type=\"radio\"][name=\"${g}\"]`).forEach((e=>{if(e!==t){const t=e.value;p(e,u?{text:t,isChecked:!m,userTriggered:!1}:{text:t,isChecked:!m})}}))}function p(e,n){const r=$e.get(e);if(!r||r.text!==n.text||r.isChecked!==n.isChecked){$e.set(e,n);const r=o.getId(e);ze(t)({...n,id:r})}}const m=(\"last\"===d.input?[\"change\"]:[\"input\",\"change\"]).map((e=>ce(e,ze(h),n))),f=n.defaultView;if(!f)return()=>{m.forEach((e=>e()))};const g=f.Object.getOwnPropertyDescriptor(f.HTMLInputElement.prototype,\"value\"),y=[[f.HTMLInputElement.prototype,\"value\"],[f.HTMLInputElement.prototype,\"checked\"],[f.HTMLSelectElement.prototype,\"value\"],[f.HTMLTextAreaElement.prototype,\"value\"],[f.HTMLSelectElement.prototype,\"selectedIndex\"],[f.HTMLOptionElement.prototype,\"selected\"]];return g&&g.set&&m.push(...y.map((e=>pe(e[0],e[1],{set(){ze(h)({target:this,isTrusted:!1})}},!1,f)))),ze((()=>{m.forEach((e=>e()))}))}(e),c=function(e){let{mediaInteractionCb:t,blockClass:n,blockSelector:o,mirror:r,sampling:i,doc:s}=e;const a=ze((e=>he(ze((i=>{const s=Je(i);if(!s||Ce(s,n,o,!0))return;const{currentTime:a,volume:l,muted:c,playbackRate:d,loop:u}=s;t({type:e,id:r.getId(s),currentTime:a,volume:l,muted:c,playbackRate:d,loop:u})})),i.media||500))),l=[ce(\"play\",a(Be.Play),s),ce(\"pause\",a(Be.Pause),s),ce(\"seeked\",a(Be.Seeked),s),ce(\"volumechange\",a(Be.VolumeChange),s),ce(\"ratechange\",a(Be.RateChange),s)];return ze((()=>{l.forEach((e=>e()))}))}(e);let d=()=>{},u=()=>{},h=()=>{},p=()=>{};e.recordDOM&&(d=function(e,t){let{styleSheetRuleCb:n,mirror:o,stylesheetManager:r}=e,{win:i}=t;if(!i.CSSStyleSheet||!i.CSSStyleSheet.prototype)return()=>{};const s=i.CSSStyleSheet.prototype.insertRule;i.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:ze(((e,t,i)=>{const[s,a]=i,{id:l,styleId:c}=tt(t,o,r.styleMirror);return(l&&-1!==l||c&&-1!==c)&&n({id:l,styleId:c,adds:[{rule:s,index:a}]}),e.apply(t,i)}))}),i.CSSStyleSheet.prototype.addRule=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.cssRules.length;const o=`${e} { ${t} }`;return i.CSSStyleSheet.prototype.insertRule.apply(this,[o,n])};const a=i.CSSStyleSheet.prototype.deleteRule;let l,c;i.CSSStyleSheet.prototype.deleteRule=new Proxy(a,{apply:ze(((e,t,i)=>{const[s]=i,{id:a,styleId:l}=tt(t,o,r.styleMirror);return(a&&-1!==a||l&&-1!==l)&&n({id:a,styleId:l,removes:[{index:s}]}),e.apply(t,i)}))}),i.CSSStyleSheet.prototype.removeRule=function(e){return i.CSSStyleSheet.prototype.deleteRule.apply(this,[e])},i.CSSStyleSheet.prototype.replace&&(l=i.CSSStyleSheet.prototype.replace,i.CSSStyleSheet.prototype.replace=new Proxy(l,{apply:ze(((e,t,i)=>{const[s]=i,{id:a,styleId:l}=tt(t,o,r.styleMirror);return(a&&-1!==a||l&&-1!==l)&&n({id:a,styleId:l,replace:s}),e.apply(t,i)}))})),i.CSSStyleSheet.prototype.replaceSync&&(c=i.CSSStyleSheet.prototype.replaceSync,i.CSSStyleSheet.prototype.replaceSync=new Proxy(c,{apply:ze(((e,t,i)=>{const[s]=i,{id:a,styleId:l}=tt(t,o,r.styleMirror);return(a&&-1!==a||l&&-1!==l)&&n({id:a,styleId:l,replaceSync:s}),e.apply(t,i)}))}));const d={};it(\"CSSGroupingRule\")?d.CSSGroupingRule=i.CSSGroupingRule:(it(\"CSSMediaRule\")&&(d.CSSMediaRule=i.CSSMediaRule),it(\"CSSConditionRule\")&&(d.CSSConditionRule=i.CSSConditionRule),it(\"CSSSupportsRule\")&&(d.CSSSupportsRule=i.CSSSupportsRule));const u={};return Object.entries(d).forEach((e=>{let[t,i]=e;u[t]={insertRule:i.prototype.insertRule,deleteRule:i.prototype.deleteRule},i.prototype.insertRule=new Proxy(u[t].insertRule,{apply:ze(((e,t,i)=>{const[s,a]=i,{id:l,styleId:c}=tt(t.parentStyleSheet,o,r.styleMirror);return(l&&-1!==l||c&&-1!==c)&&n({id:l,styleId:c,adds:[{rule:s,index:[...et(t),a||0]}]}),e.apply(t,i)}))}),i.prototype.deleteRule=new Proxy(u[t].deleteRule,{apply:ze(((e,t,i)=>{const[s]=i,{id:a,styleId:l}=tt(t.parentStyleSheet,o,r.styleMirror);return(a&&-1!==a||l&&-1!==l)&&n({id:a,styleId:l,removes:[{index:[...et(t),s]}]}),e.apply(t,i)}))})})),ze((()=>{i.CSSStyleSheet.prototype.insertRule=s,i.CSSStyleSheet.prototype.deleteRule=a,l&&(i.CSSStyleSheet.prototype.replace=l),c&&(i.CSSStyleSheet.prototype.replaceSync=c),Object.entries(d).forEach((e=>{let[t,n]=e;n.prototype.insertRule=u[t].insertRule,n.prototype.deleteRule=u[t].deleteRule}))}))}(e,{win:n}),u=nt(e,e.doc),h=function(e,t){let{styleDeclarationCb:n,mirror:o,ignoreCSSAttributes:r,stylesheetManager:i}=e,{win:s}=t;const a=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(a,{apply:ze(((e,t,s)=>{var l;const[c,d,u]=s;if(r.has(c))return a.apply(t,[c,d,u]);const{id:h,styleId:p}=tt(null==(l=t.parentRule)?void 0:l.parentStyleSheet,o,i.styleMirror);return(h&&-1!==h||p&&-1!==p)&&n({id:h,styleId:p,set:{property:c,value:d,priority:u},index:et(t.parentRule)}),e.apply(t,s)}))});const l=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(l,{apply:ze(((e,t,s)=>{var a;const[c]=s;if(r.has(c))return l.apply(t,[c]);const{id:d,styleId:u}=tt(null==(a=t.parentRule)?void 0:a.parentStyleSheet,o,i.styleMirror);return(d&&-1!==d||u&&-1!==u)&&n({id:d,styleId:u,remove:{property:c},index:et(t.parentRule)}),e.apply(t,s)}))}),ze((()=>{s.CSSStyleDeclaration.prototype.setProperty=a,s.CSSStyleDeclaration.prototype.removeProperty=l}))}(e,{win:n}),e.collectFonts&&(p=function(e){let{fontCb:t,doc:n}=e;const o=n.defaultView;if(!o)return()=>{};const r=[],i=new WeakMap,s=o.FontFace;o.FontFace=function(e,t,n){const o=new s(e,t,n);return i.set(o,{family:e,buffer:\"string\"!=typeof t,descriptors:n,fontSource:\"string\"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),o};const a=me(n.fonts,\"add\",(function(e){return function(n){return setTimeout(ze((()=>{const e=i.get(n);e&&(t(e),i.delete(n))})),0),e.apply(this,[n])}}));return r.push((()=>{o.FontFace=s})),r.push(a),ze((()=>{r.forEach((e=>e()))}))}(e)));const m=function(e){const{doc:t,mirror:n,blockClass:o,blockSelector:r,selectionCb:i}=e;let s=!0;const a=ze((()=>{const e=t.getSelection();if(!e||s&&(null==e?void 0:e.isCollapsed))return;s=e.isCollapsed||!1;const a=[],l=e.rangeCount||0;for(let t=0;t<l;t++){const i=e.getRangeAt(t),{startContainer:s,startOffset:l,endContainer:c,endOffset:d}=i;Ce(s,o,r,!0)||Ce(c,o,r,!0)||a.push({start:n.getId(s),startOffset:l,end:n.getId(c),endOffset:d})}i({ranges:a})}));return a(),ce(\"selectionchange\",a)}(e),f=function(e){let{doc:t,customElementCb:n}=e;const o=t.defaultView;return o&&o.customElements?me(o.customElements,\"define\",(function(e){return function(t,o,r){try{n({define:{name:t}})}catch(e){console.warn(`Custom element callback failed for ${t}`)}return e.apply(this,[t,o,r])}})):()=>{}}(e),g=[];for(const t of e.plugins)g.push(t.observer(t.callback,n,t.options));return ze((()=>{Ke.forEach((e=>e.reset())),null==o||o.disconnect(),r(),i(),s(),a(),l(),c(),d(),u(),h(),p(),m(),f(),g.forEach((e=>e()))}))}function rt(e){return void 0!==window[e]}function it(e){return Boolean(void 0!==window[e]&&window[e].prototype&&\"insertRule\"in window[e].prototype&&\"deleteRule\"in window[e].prototype)}class st{constructor(e){o(this,\"iframeIdToRemoteIdMap\",new WeakMap),o(this,\"iframeRemoteIdToIdMap\",new WeakMap),this.generateIdFn=e}getId(e,t,n,o){const r=n||this.getIdToRemoteIdMap(e),i=o||this.getRemoteIdToIdMap(e);let s=r.get(t);return s||(s=this.generateIdFn(),r.set(t,s),i.set(s,t)),s}getIds(e,t){const n=this.getIdToRemoteIdMap(e),o=this.getRemoteIdToIdMap(e);return t.map((t=>this.getId(e,t,n,o)))}getRemoteId(e,t,n){const o=n||this.getRemoteIdToIdMap(e);if(\"number\"!=typeof t)return t;const r=o.get(t);return r||-1}getRemoteIds(e,t){const n=this.getRemoteIdToIdMap(e);return t.map((t=>this.getRemoteId(e,t,n)))}reset(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}class at{constructor(e){o(this,\"iframes\",new WeakMap),o(this,\"crossOriginIframeMap\",new WeakMap),o(this,\"crossOriginIframeMirror\",new st(B)),o(this,\"crossOriginIframeStyleMirror\"),o(this,\"crossOriginIframeRootIdMap\",new WeakMap),o(this,\"mirror\"),o(this,\"mutationCb\"),o(this,\"wrappedEmit\"),o(this,\"loadListener\"),o(this,\"stylesheetManager\"),o(this,\"recordCrossOriginIframes\"),this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new st(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener(\"message\",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){var n,o;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&(null==(n=e.contentWindow)||n.addEventListener(\"message\",this.handleMessage.bind(this))),null==(o=this.loadListener)||o.call(this,e),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){const t=e;if(\"rrweb\"!==t.data.type||t.origin!==t.data.origin)return;if(!e.source)return;const n=this.crossOriginIframeMap.get(e.source);if(!n)return;const o=this.transformCrossOriginEvent(n,t.data.event);o&&this.wrappedEmit(o,t.data.isCheckout)}transformCrossOriginEvent(e,t){var n;switch(t.type){case Oe.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);const n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:Oe.IncrementalSnapshot,data:{source:xe.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Oe.Meta:case Oe.Load:case Oe.DomContentLoaded:return!1;case Oe.Plugin:return t;case Oe.Custom:return this.replaceIds(t.data.payload,e,[\"id\",\"parentId\",\"previousId\",\"nextId\"]),t;case Oe.IncrementalSnapshot:switch(t.data.source){case xe.Mutation:return t.data.adds.forEach((t=>{this.replaceIds(t,e,[\"parentId\",\"nextId\",\"previousId\"]),this.replaceIdOnNode(t.node,e);const n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n)})),t.data.removes.forEach((t=>{this.replaceIds(t,e,[\"parentId\",\"id\"])})),t.data.attributes.forEach((t=>{this.replaceIds(t,e,[\"id\"])})),t.data.texts.forEach((t=>{this.replaceIds(t,e,[\"id\"])})),t;case xe.Drag:case xe.TouchMove:case xe.MouseMove:return t.data.positions.forEach((t=>{this.replaceIds(t,e,[\"id\"])})),t;case xe.ViewportResize:return!1;case xe.MediaInteraction:case xe.MouseInteraction:case xe.Scroll:case xe.CanvasMutation:case xe.Input:return this.replaceIds(t.data,e,[\"id\"]),t;case xe.StyleSheetRule:case xe.StyleDeclaration:return this.replaceIds(t.data,e,[\"id\"]),this.replaceStyleIds(t.data,e,[\"styleId\"]),t;case xe.Font:return t;case xe.Selection:return t.data.ranges.forEach((t=>{this.replaceIds(t,e,[\"start\",\"end\"])})),t;case xe.AdoptedStyleSheet:return this.replaceIds(t.data,e,[\"id\"]),this.replaceStyleIds(t.data,e,[\"styleIds\"]),null==(n=t.data.styles)||n.forEach((t=>{this.replaceStyleIds(t,e,[\"styleId\"])})),t}}return!1}replace(e,t,n,o){for(const r of o)(Array.isArray(t[r])||\"number\"==typeof t[r])&&(Array.isArray(t[r])?t[r]=e.getIds(n,t[r]):t[r]=e.getId(n,t[r]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,[\"id\",\"rootId\"]),\"childNodes\"in e&&e.childNodes.forEach((e=>{this.replaceIdOnNode(e,t)}))}patchRootIdOnNode(e,t){e.type===s.Document||e.rootId||(e.rootId=t),\"childNodes\"in e&&e.childNodes.forEach((e=>{this.patchRootIdOnNode(e,t)}))}}class lt{constructor(e){o(this,\"shadowDoms\",new WeakSet),o(this,\"mutationCb\"),o(this,\"scrollCb\"),o(this,\"bypassOptions\"),o(this,\"mirror\"),o(this,\"restoreHandlers\",[]),this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!I(e))return;if(this.shadowDoms.has(e))return;this.shadowDoms.add(e);const n=je({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push((()=>n.disconnect())),this.restoreHandlers.push(qe({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),setTimeout((()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(le.host(e))),this.restoreHandlers.push(nt({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))}),0)}observeAttachShadow(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,t){const n=this;this.restoreHandlers.push(me(e.prototype,\"attachShadow\",(function(e){return function(o){const r=e.call(this,o),i=le.shadowRoot(this);return i&&Ee(this)&&n.addShadowRoot(i,t),r}})))}reset(){this.restoreHandlers.forEach((e=>{try{e()}catch(e){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}for(var ct=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",dt=\"undefined\"==typeof Uint8Array?[]:new Uint8Array(256),ut=0;ut<64;ut++)dt[ct.charCodeAt(ut)]=ut;const ht=new Map;const pt=(e,t,n)=>{if(!e||!gt(e,t)&&\"object\"!=typeof e)return;const o=function(e,t){let n=ht.get(e);return n||(n=new Map,ht.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}(n,e.constructor.name);let r=o.indexOf(e);return-1===r&&(r=o.length,o.push(e)),r};function mt(e,t,n){if(e instanceof Array)return e.map((e=>mt(e,t,n)));if(null===e)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray){return{rr_type:e.constructor.name,args:[Object.values(e)]}}if(e instanceof ArrayBuffer){return{rr_type:e.constructor.name,base64:function(e){var t,n=new Uint8Array(e),o=n.length,r=\"\";for(t=0;t<o;t+=3)r+=ct[n[t]>>2],r+=ct[(3&n[t])<<4|n[t+1]>>4],r+=ct[(15&n[t+1])<<2|n[t+2]>>6],r+=ct[63&n[t+2]];return o%3==2?r=r.substring(0,r.length-1)+\"=\":o%3==1&&(r=r.substring(0,r.length-2)+\"==\"),r}(e)}}if(e instanceof DataView){return{rr_type:e.constructor.name,args:[mt(e.buffer,t,n),e.byteOffset,e.byteLength]}}if(e instanceof HTMLImageElement){const t=e.constructor.name,{src:n}=e;return{rr_type:t,src:n}}if(e instanceof HTMLCanvasElement){return{rr_type:\"HTMLImageElement\",src:e.toDataURL()}}if(e instanceof ImageData){return{rr_type:e.constructor.name,args:[mt(e.data,t,n),e.width,e.height]}}if(gt(e,t)||\"object\"==typeof e){return{rr_type:e.constructor.name,index:pt(e,t,n)}}return e}const ft=(e,t,n)=>e.map((e=>mt(e,t,n))),gt=(e,t)=>{const n=[\"WebGLActiveInfo\",\"WebGLBuffer\",\"WebGLFramebuffer\",\"WebGLProgram\",\"WebGLRenderbuffer\",\"WebGLShader\",\"WebGLShaderPrecisionFormat\",\"WebGLTexture\",\"WebGLUniformLocation\",\"WebGLVertexArrayObject\",\"WebGLVertexArrayObjectOES\"].filter((e=>\"function\"==typeof t[e]));return Boolean(n.find((n=>e instanceof t[n])))};function yt(e,t,n,o){const r=[];try{const i=me(e.HTMLCanvasElement.prototype,\"getContext\",(function(e){return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];if(!Ce(this,t,n,!0)){const e=function(e){return\"experimental-webgl\"===e?\"webgl\":e}(r);if(\"__context\"in this||(this.__context=e),o&&[\"webgl\",\"webgl2\"].includes(e))if(s[0]&&\"object\"==typeof s[0]){const e=s[0];e.preserveDrawingBuffer||(e.preserveDrawingBuffer=!0)}else s.splice(0,1,{preserveDrawingBuffer:!0})}return e.apply(this,[r,...s])}}));r.push(i)}catch{console.error(\"failed to patch HTMLCanvasElement.prototype.getContext\")}return()=>{r.forEach((e=>e()))}}function It(e,t,n,o,r,i){const s=[],a=Object.getOwnPropertyNames(e);for(const l of a)if(![\"isContextLost\",\"canvas\",\"drawingBufferWidth\",\"drawingBufferHeight\"].includes(l))try{if(\"function\"!=typeof e[l])continue;const a=me(e,l,(function(e){return function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];const d=e.apply(this,a);if(pt(d,i,this),\"tagName\"in this.canvas&&!Ce(this.canvas,o,r,!0)){const e=ft(a,i,this),o={type:t,property:l,args:e};n(this.canvas,o)}return d}}));s.push(a)}catch{const o=pe(e,l,{set(e){n(this.canvas,{type:t,property:l,args:[e],setter:!0})}});s.push(o)}return s}const bt=\"KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=\",Ct=\"undefined\"!=typeof window&&window.Blob&&new Blob([(St=bt,Uint8Array.from(atob(St),(e=>e.charCodeAt(0))))],{type:\"text/javascript;charset=utf-8\"});var St;function vt(e){let t;try{if(t=Ct&&(window.URL||window.webkitURL).createObjectURL(Ct),!t)throw\"\";const n=new Worker(t,{name:null==e?void 0:e.name});return n.addEventListener(\"error\",(()=>{(window.URL||window.webkitURL).revokeObjectURL(t)})),n}catch(t){return new Worker(\"data:text/javascript;base64,\"+bt,{name:null==e?void 0:e.name})}finally{t&&(window.URL||window.webkitURL).revokeObjectURL(t)}}class wt{constructor(e){o(this,\"pendingCanvasMutations\",new Map),o(this,\"rafStamps\",{latestId:0,invokeId:null}),o(this,\"mirror\"),o(this,\"mutationCb\"),o(this,\"resetObservers\"),o(this,\"frozen\",!1),o(this,\"locked\",!1),o(this,\"processMutation\",((e,t)=>{!(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId)&&this.rafStamps.invokeId||(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(e)||this.pendingCanvasMutations.set(e,[]),this.pendingCanvasMutations.get(e).push(t)}));const{sampling:t=\"all\",win:n,blockClass:r,blockSelector:i,recordCanvas:s,dataURLOptions:a}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,s&&\"all\"===t&&this.initCanvasMutationObserver(n,r,i),s&&\"number\"==typeof t&&this.initCanvasFPSObserver(t,n,r,i,{dataURLOptions:a})}reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}initCanvasFPSObserver(e,t,n,o,r){const i=yt(t,n,o,!0),s=new Map,a=new vt;a.onmessage=e=>{const{id:t}=e.data;if(s.set(t,!1),!(\"base64\"in e.data))return;const{base64:n,type:o,width:r,height:i}=e.data;this.mutationCb({id:t,type:Fe[\"2D\"],commands:[{property:\"clearRect\",args:[0,0,r,i]},{property:\"drawImage\",args:[{rr_type:\"ImageBitmap\",args:[{rr_type:\"Blob\",data:[{rr_type:\"ArrayBuffer\",base64:n}],type:o}]},0,0]}]})};const l=1e3/e;let c,d=0;const u=e=>{d&&e-d<l||(d=e,(()=>{const e=[],r=t=>{t.querySelectorAll(\"canvas\").forEach((t=>{Ce(t,n,o,!0)||e.push(t)})),t.querySelectorAll(\"*\").forEach((e=>{e.shadowRoot&&r(e.shadowRoot)}))};return r(t.document),e})().forEach((async e=>{var t;const n=this.mirror.getId(e);if(s.get(n))return;if(0===e.width||0===e.height)return;if(s.set(n,!0),[\"webgl\",\"webgl2\"].includes(e.__context)){const n=e.getContext(e.__context);!1===(null==(t=null==n?void 0:n.getContextAttributes())?void 0:t.preserveDrawingBuffer)&&n.clear(n.COLOR_BUFFER_BIT)}const o=e.clientWidth||e.width,i=e.clientHeight||e.height,l=await createImageBitmap(e,{resizeWidth:o,resizeHeight:i});a.postMessage({id:n,bitmap:l,width:o,height:i,dataURLOptions:r.dataURLOptions},[l])}))),c=requestAnimationFrame(u)};c=requestAnimationFrame(u),this.resetObservers=()=>{i(),cancelAnimationFrame(c)}}initCanvasMutationObserver(e,t,n){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const o=yt(e,t,n,!1),r=function(e,t,n,o){const r=[],i=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const s of i)try{if(\"function\"!=typeof t.CanvasRenderingContext2D.prototype[s])continue;const i=me(t.CanvasRenderingContext2D.prototype,s,(function(r){return function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return Ce(this.canvas,n,o,!0)||setTimeout((()=>{const n=ft(a,t,this);e(this.canvas,{type:Fe[\"2D\"],property:s,args:n})}),0),r.apply(this,a)}}));r.push(i)}catch{const n=pe(t.CanvasRenderingContext2D.prototype,s,{set(t){e(this.canvas,{type:Fe[\"2D\"],property:s,args:[t],setter:!0})}});r.push(n)}return()=>{r.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,n),i=function(e,t,n,o){const r=[];return r.push(...It(t.WebGLRenderingContext.prototype,Fe.WebGL,e,n,o,t)),void 0!==t.WebGL2RenderingContext&&r.push(...It(t.WebGL2RenderingContext.prototype,Fe.WebGL2,e,n,o,t)),()=>{r.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,n);this.resetObservers=()=>{o(),r(),i()}}startPendingCanvasMutationFlusher(){requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}startRAFTimestamping(){const e=t=>{this.rafStamps.latestId=t,requestAnimationFrame(e)};requestAnimationFrame(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach(((e,t)=>{const n=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,n)})),requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked)return;const n=this.pendingCanvasMutations.get(e);if(!n||-1===t)return;const o=n.map((e=>{const{type:t,...n}=e;return n})),{type:r}=n[0];this.mutationCb({id:t,type:r,commands:o}),this.pendingCanvasMutations.delete(e)}}class Nt{constructor(e){o(this,\"trackedLinkElements\",new WeakSet),o(this,\"mutationCb\"),o(this,\"adoptedStyleSheetCb\"),o(this,\"styleMirror\",new ke),this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){\"_cssText\"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;const n={id:t,styleIds:[]},o=[];for(const t of e){let e;this.styleMirror.has(t)?e=this.styleMirror.getId(t):(e=this.styleMirror.add(t),o.push({styleId:e,rules:Array.from(t.rules||CSSRule,((e,n)=>({rule:C(e,t.href),index:n})))})),n.styleIds.push(e)}o.length>0&&(n.styles=o),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class Mt{constructor(){o(this,\"nodeMap\",new WeakMap),o(this,\"active\",!1)}inOtherBuffer(e,t){const n=this.nodeMap.get(e);return n&&Array.from(n).some((e=>e!==t))}add(e,t){this.active||(this.active=!0,requestAnimationFrame((()=>{this.nodeMap=new WeakMap,this.active=!1}))),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}destroy(){}}let At,kt,Rt,Tt=!1;try{if(2!==Array.from([1],(e=>2*e))[0]){const e=document.createElement(\"iframe\");document.body.appendChild(e),Array.from=(null==(t=e.contentWindow)?void 0:t.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug(\"Unable to override Array.from\",e)}const Et=new v;function Ot(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{emit:t,checkoutEveryNms:n,checkoutEveryNth:o,blockClass:r=\"rr-block\",blockSelector:i=null,ignoreClass:s=\"rr-ignore\",ignoreSelector:a=null,maskTextClass:l=\"rr-mask\",maskTextSelector:c=null,inlineStylesheet:d=!0,maskAllInputs:u,maskInputOptions:h,slimDOMOptions:p,maskInputFn:m,maskTextFn:f,hooks:g,packFn:y,sampling:I={},dataURLOptions:b={},mousemoveWait:C,recordDOM:S=!0,recordCanvas:w=!1,recordCrossOriginIframes:N=!1,recordAfter:M=(\"DOMContentLoaded\"===e.recordAfter?e.recordAfter:\"load\"),userTriggeredOnInput:A=!1,collectFonts:k=!1,inlineImages:R=!1,plugins:T,keepIframeSrcFn:E=(()=>!1),ignoreCSSAttributes:O=new Set([]),errorHandler:x}=e;Pe=x;const L=!N||window.parent===window;let D=!1;if(!L)try{window.parent.document&&(D=!1)}catch(e){D=!0}if(L&&!t)throw new Error(\"emit function is required\");if(!L&&!D)return()=>{};void 0!==C&&void 0===I.mousemove&&(I.mousemove=C),Et.reset();const F=!0===u?{color:!0,date:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:void 0!==h?h:{password:!0},B=!0===p||\"all\"===p?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:\"all\"===p,headMetaDescKeywords:\"all\"===p,headTitleMutations:\"all\"===p}:p||{};let Z;!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;\"NodeList\"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),\"DOMTokenList\"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach)}();let _=0;const Y=e=>{for(const t of T||[])t.eventProcessor&&(e=t.eventProcessor(e));return y&&!D&&(e=y(e)),e};At=(e,r)=>{var i;const s=e;if(s.timestamp=fe(),!(null==(i=Ke[0])?void 0:i.isFrozen())||s.type===Oe.FullSnapshot||s.type===Oe.IncrementalSnapshot&&s.data.source===xe.Mutation||Ke.forEach((e=>e.unfreeze())),L)null==t||t(Y(s),r);else if(D){const e={type:\"rrweb\",event:Y(s),origin:window.location.origin,isCheckout:r};window.parent.postMessage(e,\"*\")}if(s.type===Oe.FullSnapshot)Z=s,_=0;else if(s.type===Oe.IncrementalSnapshot){if(s.data.source===xe.Mutation&&s.data.isAttachIframe)return;_++;const e=o&&_>=o,t=n&&s.timestamp-Z.timestamp>n;(e||t)&&kt(!0)}};const W=e=>{At({type:Oe.IncrementalSnapshot,data:{source:xe.Mutation,...e}})},G=e=>At({type:Oe.IncrementalSnapshot,data:{source:xe.Scroll,...e}}),V=e=>At({type:Oe.IncrementalSnapshot,data:{source:xe.CanvasMutation,...e}}),H=new Nt({mutationCb:W,adoptedStyleSheetCb:e=>At({type:Oe.IncrementalSnapshot,data:{source:xe.AdoptedStyleSheet,...e}})}),X=new at({mirror:Et,mutationCb:W,stylesheetManager:H,recordCrossOriginIframes:N,wrappedEmit:At});for(const e of T||[])e.getMirror&&e.getMirror({nodeMirror:Et,crossOriginIframeMirror:X.crossOriginIframeMirror,crossOriginIframeStyleMirror:X.crossOriginIframeStyleMirror});const P=new Mt;Rt=new wt({recordCanvas:w,mutationCb:V,win:window,blockClass:r,blockSelector:i,mirror:Et,sampling:I.canvas,dataURLOptions:b});const z=new lt({mutationCb:W,scrollCb:G,bypassOptions:{blockClass:r,blockSelector:i,maskTextClass:l,maskTextSelector:c,inlineStylesheet:d,maskInputOptions:F,dataURLOptions:b,maskTextFn:f,maskInputFn:m,recordCanvas:w,inlineImages:R,sampling:I,slimDOMOptions:B,iframeManager:X,stylesheetManager:H,canvasManager:Rt,keepIframeSrcFn:E,processedNodeManager:P},mirror:Et});kt=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!S)return;At({type:Oe.Meta,data:{href:window.location.href,width:Ie(),height:ye()}},e),H.reset(),z.init(),Ke.forEach((e=>e.lock()));const t=function(e,t){const{mirror:n=new v,blockClass:o=\"rr-block\",blockSelector:r=null,maskTextClass:i=\"rr-mask\",maskTextSelector:s=null,inlineStylesheet:a=!0,inlineImages:l=!1,recordCanvas:c=!1,maskAllInputs:d=!1,maskTextFn:u,maskInputFn:h,slimDOM:p=!1,dataURLOptions:m,preserveWhiteSpace:f,onSerialize:g,onIframeLoad:y,iframeLoadTimeout:I,onStylesheetLoad:b,stylesheetLoadTimeout:C,keepIframeSrcFn:S=(()=>!1)}=t||{};return q(e,{doc:e,mirror:n,blockClass:o,blockSelector:r,maskTextClass:i,maskTextSelector:s,skipChild:!1,inlineStylesheet:a,maskInputOptions:!0===d?{color:!0,date:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===d?{password:!0}:d,maskTextFn:u,maskInputFn:h,slimDOMOptions:!0===p||\"all\"===p?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:\"all\"===p,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===p?{}:p,dataURLOptions:m,inlineImages:l,recordCanvas:c,preserveWhiteSpace:f,onSerialize:g,onIframeLoad:y,iframeLoadTimeout:I,onStylesheetLoad:b,stylesheetLoadTimeout:C,keepIframeSrcFn:S,newlyAddedElement:!1})}(document,{mirror:Et,blockClass:r,blockSelector:i,maskTextClass:l,maskTextSelector:c,inlineStylesheet:d,maskAllInputs:F,maskTextFn:f,maskInputFn:m,slimDOM:B,dataURLOptions:b,recordCanvas:w,inlineImages:R,onSerialize:e=>{Ne(e,Et)&&X.addIframe(e),Me(e,Et)&&H.trackLinkElement(e),Ae(e)&&z.addShadowRoot(le.shadowRoot(e),document)},onIframeLoad:(e,t)=>{X.attachIframe(e,t),z.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{H.attachLinkElement(e,t)},keepIframeSrcFn:E});if(!t)return console.warn(\"Failed to snapshot the document\");At({type:Oe.FullSnapshot,data:{node:t,initialOffset:ge(window)}},e),Ke.forEach((e=>e.unlock())),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&H.adoptStyleSheets(document.adoptedStyleSheets,Et.getId(document))};try{const e=[],t=e=>{var t;return ze(ot)({mutationCb:W,mousemoveCb:(e,t)=>At({type:Oe.IncrementalSnapshot,data:{source:t,positions:e}}),mouseInteractionCb:e=>At({type:Oe.IncrementalSnapshot,data:{source:xe.MouseInteraction,...e}}),scrollCb:G,viewportResizeCb:e=>At({type:Oe.IncrementalSnapshot,data:{source:xe.ViewportResize,...e}}),inputCb:e=>At({type:Oe.IncrementalSnapshot,data:{source:xe.Input,...e}}),mediaInteractionCb:e=>At({type:Oe.IncrementalSnapshot,data:{source:xe.MediaInteraction,...e}}),styleSheetRuleCb:e=>At({type:Oe.IncrementalSnapshot,data:{source:xe.StyleSheetRule,...e}}),styleDeclarationCb:e=>At({type:Oe.IncrementalSnapshot,data:{source:xe.StyleDeclaration,...e}}),canvasMutationCb:V,fontCb:e=>At({type:Oe.IncrementalSnapshot,data:{source:xe.Font,...e}}),selectionCb:e=>{At({type:Oe.IncrementalSnapshot,data:{source:xe.Selection,...e}})},customElementCb:e=>{At({type:Oe.IncrementalSnapshot,data:{source:xe.CustomElement,...e}})},blockClass:r,ignoreClass:s,ignoreSelector:a,maskTextClass:l,maskTextSelector:c,maskInputOptions:F,inlineStylesheet:d,sampling:I,recordDOM:S,recordCanvas:w,inlineImages:R,userTriggeredOnInput:A,collectFonts:k,doc:e,maskInputFn:m,maskTextFn:f,keepIframeSrcFn:E,blockSelector:i,slimDOMOptions:B,dataURLOptions:b,mirror:Et,iframeManager:X,stylesheetManager:H,shadowDomManager:z,processedNodeManager:P,canvasManager:Rt,ignoreCSSAttributes:O,plugins:(null==(t=null==T?void 0:T.filter((e=>e.observer)))?void 0:t.map((e=>({observer:e.observer,options:e.options,callback:t=>At({type:Oe.Plugin,data:{plugin:e.name,payload:t}})}))))||[]},g)};X.addLoadListener((n=>{try{e.push(t(n.contentDocument))}catch(e){console.warn(e)}}));const n=()=>{kt(),e.push(t(document)),Tt=!0};return\"interactive\"===document.readyState||\"complete\"===document.readyState?n():(e.push(ce(\"DOMContentLoaded\",(()=>{At({type:Oe.DomContentLoaded,data:{}}),\"DOMContentLoaded\"===M&&n()}))),e.push(ce(\"load\",(()=>{At({type:Oe.Load,data:{}}),\"load\"===M&&n()}),window))),()=>{e.forEach((e=>e())),P.destroy(),Tt=!1,Pe=void 0}}catch(e){console.warn(e)}}var xt,Lt;Ot.addCustomEvent=(e,t)=>{if(!Tt)throw new Error(\"please add custom event after start recording\");At({type:Oe.Custom,data:{tag:e,payload:t}})},Ot.freezePage=()=>{Ke.forEach((e=>e.freeze()))},Ot.takeFullSnapshot=e=>{if(!Tt)throw new Error(\"please take full snapshot after start recording\");kt(e)},Ot.mirror=Et,(Lt=xt||(xt={}))[Lt.NotStarted=0]=\"NotStarted\",Lt[Lt.Running=1]=\"Running\",Lt[Lt.Stopped=2]=\"Stopped\";var Dt,Ft=Object.defineProperty,Bt=(e,t,n)=>((e,t,n)=>t in e?Ft(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,\"symbol\"!=typeof t?t+\"\":t,n),Zt=Object.defineProperty,_t=(e,t,n)=>((e,t,n)=>t in e?Zt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,\"symbol\"!=typeof t?t+\"\":t,n),Yt=Object.defineProperty,Wt=(e,t,n)=>((e,t,n)=>t in e?Yt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,\"symbol\"!=typeof t?t+\"\":t,n);const Gt={Node:[\"childNodes\",\"parentNode\",\"parentElement\",\"textContent\"],ShadowRoot:[\"host\",\"styleSheets\"],Element:[\"shadowRoot\",\"querySelector\",\"querySelectorAll\"],MutationObserver:[]},Vt={Node:[\"contains\",\"getRootNode\"],ShadowRoot:[\"getSelection\"],Element:[],MutationObserver:[\"constructor\"]},Ht={};function Xt(e){if(Ht[e])return Ht[e];const t=globalThis[e],n=t.prototype,o=e in Gt?Gt[e]:void 0,r=Boolean(o&&o.every((e=>{var t,o;return Boolean(null==(o=null==(t=Object.getOwnPropertyDescriptor(n,e))?void 0:t.get)?void 0:o.toString().includes(\"[native code]\"))}))),i=e in Vt?Vt[e]:void 0,s=Boolean(i&&i.every((e=>{var t;return\"function\"==typeof n[e]&&(null==(t=n[e])?void 0:t.toString().includes(\"[native code]\"))})));if(r&&s)return Ht[e]=t.prototype,t.prototype;try{const o=document.createElement(\"iframe\");document.body.appendChild(o);const r=o.contentWindow;if(!r)return t.prototype;const i=r[e].prototype;return document.body.removeChild(o),i?Ht[e]=i:n}catch{return n}}const Pt={};function zt(e,t,n){var o;const r=`${e}.${String(n)}`;if(Pt[r])return Pt[r].call(t);const i=Xt(e),s=null==(o=Object.getOwnPropertyDescriptor(i,n))?void 0:o.get;return s?(Pt[r]=s,s.call(t)):t[n]}const Kt={};function Jt(e,t,n){const o=`${e}.${String(n)}`;if(Kt[o])return Kt[o].bind(t);const r=Xt(e)[n];return\"function\"!=typeof r?t[n]:(Kt[o]=r,r.bind(t))}const jt={childNodes:function(e){return zt(\"Node\",e,\"childNodes\")},parentNode:function(e){return zt(\"Node\",e,\"parentNode\")},parentElement:function(e){return zt(\"Node\",e,\"parentElement\")},textContent:function(e){return zt(\"Node\",e,\"textContent\")},contains:function(e,t){return Jt(\"Node\",e,\"contains\")(t)},getRootNode:function(e){return Jt(\"Node\",e,\"getRootNode\")()},host:function(e){return e&&\"host\"in e?zt(\"ShadowRoot\",e,\"host\"):null},styleSheets:function(e){return e.styleSheets},shadowRoot:function(e){return e&&\"shadowRoot\"in e?zt(\"Element\",e,\"shadowRoot\"):null},querySelector:function(e,t){return zt(\"Element\",e,\"querySelector\")(t)},querySelectorAll:function(e,t){return zt(\"Element\",e,\"querySelectorAll\")(t)},mutationObserver:function(){return Xt(\"MutationObserver\").constructor}};class Ut{constructor(){Wt(this,\"idNodeMap\",new Map),Wt(this,\"nodeMetaMap\",new WeakMap)}getId(e){var t;if(!e)return-1;const n=null==(t=this.getMeta(e))?void 0:t.id;return null!=n?n:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function qt(e,t,n){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return!!n&&qt(jt.parentNode(e),t,n);for(let n=e.classList.length;n--;){const o=e.classList[n];if(t.test(o))return!0}return!!n&&qt(jt.parentNode(e),t,n)}class Qt{constructor(){__publicField22(this,\"parentElement\",null),__publicField22(this,\"parentNode\",null),__publicField22(this,\"ownerDocument\"),__publicField22(this,\"firstChild\",null),__publicField22(this,\"lastChild\",null),__publicField22(this,\"previousSibling\",null),__publicField22(this,\"nextSibling\",null),__publicField22(this,\"ELEMENT_NODE\",1),__publicField22(this,\"TEXT_NODE\",3),__publicField22(this,\"nodeType\"),__publicField22(this,\"nodeName\"),__publicField22(this,\"RRNodeType\")}get childNodes(){const e=[];let t=this.firstChild;for(;t;)e.push(t),t=t.nextSibling;return e}contains(e){if(!(e instanceof Qt))return!1;if(e.ownerDocument!==this.ownerDocument)return!1;if(e===this)return!0;for(;e.parentNode;){if(e.parentNode===this)return!0;e=e.parentNode}return!1}appendChild(e){throw new Error(\"RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.\")}insertBefore(e,t){throw new Error(\"RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.\")}removeChild(e){throw new Error(\"RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.\")}toString(){return\"RRNode\"}}const $t={Node:[\"childNodes\",\"parentNode\",\"parentElement\",\"textContent\"],ShadowRoot:[\"host\",\"styleSheets\"],Element:[\"shadowRoot\",\"querySelector\",\"querySelectorAll\"],MutationObserver:[]},en={Node:[\"contains\",\"getRootNode\"],ShadowRoot:[\"getSelection\"],Element:[],MutationObserver:[\"constructor\"]},tn={};function nn(e){if(tn[e])return tn[e];const t=globalThis[e],n=t.prototype,o=e in $t?$t[e]:void 0,r=Boolean(o&&o.every((e=>{var t,o;return Boolean(null==(o=null==(t=Object.getOwnPropertyDescriptor(n,e))?void 0:t.get)?void 0:o.toString().includes(\"[native code]\"))}))),i=e in en?en[e]:void 0,s=Boolean(i&&i.every((e=>{var t;return\"function\"==typeof n[e]&&(null==(t=n[e])?void 0:t.toString().includes(\"[native code]\"))})));if(r&&s)return tn[e]=t.prototype,t.prototype;try{const o=document.createElement(\"iframe\");document.body.appendChild(o);const r=o.contentWindow;if(!r)return t.prototype;const i=r[e].prototype;return document.body.removeChild(o),i?tn[e]=i:n}catch{return n}}const on={};function rn(e,t,n){var o;const r=`${e}.${String(n)}`;if(on[r])return on[r].call(t);const i=nn(e),s=null==(o=Object.getOwnPropertyDescriptor(i,n))?void 0:o.get;return s?(on[r]=s,s.call(t)):t[n]}const sn={};function an(e,t,n){const o=`${e}.${String(n)}`;if(sn[o])return sn[o].bind(t);const r=nn(e)[n];return\"function\"!=typeof r?t[n]:(sn[o]=r,r.bind(t))}const ln={childNodes:function(e){return rn(\"Node\",e,\"childNodes\")},parentNode:function(e){return rn(\"Node\",e,\"parentNode\")},parentElement:function(e){return rn(\"Node\",e,\"parentElement\")},textContent:function(e){return rn(\"Node\",e,\"textContent\")},contains:function(e,t){return an(\"Node\",e,\"contains\")(t)},getRootNode:function(e){return an(\"Node\",e,\"getRootNode\")()},host:function(e){return e&&\"host\"in e?rn(\"ShadowRoot\",e,\"host\"):null},styleSheets:function(e){return e.styleSheets},shadowRoot:function(e){return e&&\"shadowRoot\"in e?rn(\"Element\",e,\"shadowRoot\"):null},querySelector:function(e,t){return rn(\"Element\",e,\"querySelector\")(t)},querySelectorAll:function(e,t){return rn(\"Element\",e,\"querySelectorAll\")(t)},mutationObserver:function(){return nn(\"MutationObserver\").constructor}};const cn=\"Please stop import mirror directly. Instead of that,\\r\\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\\r\\nor you can use record.mirror to access the mirror instance during recording.\";let dn={map:{},getId:()=>(console.error(cn),-1),getNode:()=>(console.error(cn),null),removeNodeFromMap(){console.error(cn)},has:()=>(console.error(cn),!1),reset(){console.error(cn)}};\"undefined\"!=typeof window&&window.Proxy&&window.Reflect&&(dn=new Proxy(dn,{get:(e,t,n)=>(\"map\"===t&&console.error(cn),Reflect.get(e,t,n))}));let un=Date.now;function hn(e){if(!e)return null;return e.nodeType===e.ELEMENT_NODE?e:ln.parentElement(e)}/[1-9][0-9]{12}/.test(Date.now().toString())||(un=()=>(new Date).getTime());function pn(e){var t;let n=null;return\"getRootNode\"in e&&(null==(t=ln.getRootNode(e))?void 0:t.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&ln.host(ln.getRootNode(e))&&(n=ln.host(ln.getRootNode(e))),n}function mn(e){let t,n=e;for(;t=pn(n);)n=t;return n}function fn(e){const t=e.ownerDocument;if(!t)return!1;const n=mn(e);return ln.contains(t,n)}const gn=Object.freeze(Object.defineProperty({__proto__:null,StyleSheetMirror:class{constructor(){_t(this,\"id\",1),_t(this,\"styleIDMap\",new WeakMap),_t(this,\"idStyleMap\",new Map)}getId(e){var t;return null!==(t=this.styleIDMap.get(e))&&void 0!==t?t:-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}},get _mirror(){return dn},closestElementOfNode:hn,getBaseDimension:function e(t,n){var o,r;const i=null==(r=null==(o=t.ownerDocument)?void 0:o.defaultView)?void 0:r.frameElement;if(!i||i===n)return{x:0,y:0,relativeScale:1,absoluteScale:1};const s=i.getBoundingClientRect(),a=e(i,n),l=s.height/i.clientHeight;return{x:s.x*a.relativeScale+a.x,y:s.y*a.relativeScale+a.y,relativeScale:l,absoluteScale:a.absoluteScale*l}},getNestedRule:function e(t,n){const o=t[n[0]];return 1===n.length?o:e(o.cssRules[n[1]].cssRules,n.slice(2))},getPositionsAndIndex:function(e){const t=[...e],n=t.pop();return{positions:t,index:n}},getRootShadowHost:mn,getShadowHost:pn,getWindowHeight:function(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight},getWindowScroll:function(e){var t,n,o,r;const i=e.document;return{left:i.scrollingElement?i.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:i.documentElement.scrollLeft||(null==i?void 0:i.body)&&(null==(t=ln.parentElement(i.body))?void 0:t.scrollLeft)||(null==(n=null==i?void 0:i.body)?void 0:n.scrollLeft)||0,top:i.scrollingElement?i.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:(null==i?void 0:i.documentElement.scrollTop)||(null==i?void 0:i.body)&&(null==(o=ln.parentElement(i.body))?void 0:o.scrollTop)||(null==(r=null==i?void 0:i.body)?void 0:r.scrollTop)||0}},getWindowWidth:function(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth},hasShadowRoot:function(e){return!!e&&(e instanceof Qt&&\"shadowRoot\"in e?Boolean(e.shadowRoot):Boolean(ln.shadowRoot(e)))},hookSetter:function e(t,n,o,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window;const s=i.Object.getOwnPropertyDescriptor(t,n);return i.Object.defineProperty(t,n,r?o:{set(e){setTimeout((()=>{o.set.call(this,e)}),0),s&&s.set&&s.set.call(this,e)}}),()=>e(t,n,s||{},!0)},inDom:function(e){const t=e.ownerDocument;return!!t&&(ln.contains(t,e)||fn(e))},isAncestorRemoved:function e(t,n){if(function(e){const t=e&&\"host\"in e&&\"mode\"in e&&jt.host(e)||null;return Boolean(t&&\"shadowRoot\"in t&&jt.shadowRoot(t)===e)}(t))return!1;const o=n.getId(t);if(!n.has(o))return!0;const r=ln.parentNode(t);return(!r||r.nodeType!==t.DOCUMENT_NODE)&&(!r||e(r,n))},isBlocked:function(e,t,n,o){if(!e)return!1;const r=hn(e);if(!r)return!1;try{if(\"string\"==typeof t){if(r.classList.contains(t))return!0;if(o&&null!==r.closest(\".\"+t))return!0}else if(qt(r,t,o))return!0}catch(e){}if(n){if(r.matches(n))return!0;if(o&&null!==r.closest(n))return!0}return!1},isIgnored:function(e,t,n){return!(\"TITLE\"!==e.tagName||!n.headTitleMutations)||-2===t.getId(e)},isSerialized:function(e,t){return-1!==t.getId(e)},isSerializedIframe:function(e,t){return Boolean(\"IFRAME\"===e.nodeName&&t.getMeta(e))},isSerializedStylesheet:function(e,t){return Boolean(\"LINK\"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&\"stylesheet\"===e.getAttribute(\"rel\")&&t.getMeta(e))},iterateResolveTree:function e(t,n){n(t.value);for(let o=t.children.length-1;o>=0;o--)e(t.children[o],n)},legacy_isTouchEvent:function(e){return Boolean(e.changedTouches)},get nowTimestamp(){return un},on:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;const o={capture:!0,passive:!0};return n.addEventListener(e,t,o),()=>n.removeEventListener(e,t,o)},patch:function(e,t,n){try{if(!(t in e))return()=>{};const o=e[t],r=n(o);return\"function\"==typeof r&&(r.prototype=r.prototype||{},Object.defineProperties(r,{__rrweb_original__:{enumerable:!1,value:o}})),e[t]=r,()=>{e[t]=o}}catch{return()=>{}}},polyfill:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;\"NodeList\"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),\"DOMTokenList\"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach)},queueToResolveTrees:function(e){const t={},n=(e,n)=>{const o={value:e,parent:n,children:[]};return t[e.node.id]=o,o},o=[];for(const r of e){const{nextId:e,parentId:i}=r;if(e&&e in t){const i=t[e];if(i.parent){const e=i.parent.children.indexOf(i);i.parent.children.splice(e,0,n(r,i.parent))}else{const e=o.indexOf(i);o.splice(e,0,n(r,null))}}else if(i in t){const e=t[i];e.children.push(n(r,e))}else o.push(n(r,null))}return o},shadowHostInDom:fn,throttle:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=null,r=0;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];const l=Date.now();r||!1!==n.leading||(r=l);const c=t-(l-r),d=this;c<=0||c>t?(o&&(clearTimeout(o),o=null),r=l,e.apply(d,s)):o||!1===n.trailing||(o=setTimeout((()=>{r=!1===n.leading?0:Date.now(),o=null,e.apply(d,s)}),c))}},uniqueTextMutations:function(e){const t=new Set,n=[];for(let o=e.length;o--;){const r=e[o];t.has(r.id)||(n.push(r),t.add(r.id))}return n}},Symbol.toStringTag,{value:\"Module\"}));for(var yn=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",In=\"undefined\"==typeof Uint8Array?[]:new Uint8Array(256),bn=0;bn<64;bn++)In[yn.charCodeAt(bn)]=bn;\"undefined\"!=typeof window&&window.Blob&&new Blob([(e=>Uint8Array.from(atob(e),(e=>e.charCodeAt(0))))(\"KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=\")],{type:\"text/javascript;charset=utf-8\"});try{if(2!==Array.from([1],(e=>2*e))[0]){const e=document.createElement(\"iframe\");document.body.appendChild(e),Array.from=(null==(Dt=e.contentWindow)?void 0:Dt.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug(\"Unable to override Array.from\",e)}var Cn;new Ut,function(e){e[e.NotStarted=0]=\"NotStarted\",e[e.Running=1]=\"Running\",e[e.Stopped=2]=\"Stopped\"}(Cn||(Cn={}));class Sn{constructor(e){Bt(this,\"fileName\"),Bt(this,\"functionName\"),Bt(this,\"lineNumber\"),Bt(this,\"columnNumber\"),this.fileName=e.fileName||\"\",this.functionName=e.functionName||\"\",this.lineNumber=e.lineNumber,this.columnNumber=e.columnNumber}toString(){const e=this.lineNumber||\"\",t=this.columnNumber||\"\";return this.functionName?`${this.functionName} (${this.fileName}:${e}:${t})`:`${this.fileName}:${e}:${t}`}}const vn=/(^|@)\\S+:\\d+/,wn=/^\\s*at .*(\\S+:\\d+|\\(native\\))/m,Nn=/^(eval@)?(\\[native code])?$/,Mn={parse:function(e){return e?void 0!==e.stacktrace||void 0!==e[\"opera#sourceloc\"]?this.parseOpera(e):e.stack&&e.stack.match(wn)?this.parseV8OrIE(e):e.stack?this.parseFFOrSafari(e):(console.warn(\"[console-record-plugin]: Failed to parse error object:\",e),[]):[]},extractLocation:function(e){if(-1===e.indexOf(\":\"))return[e];const t=/(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(e.replace(/[()]/g,\"\"));if(!t)throw new Error(`Cannot parse given url: ${e}`);return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(e){return e.stack.split(\"\\n\").filter((function(e){return!!e.match(wn)}),this).map((function(e){e.indexOf(\"(eval \")>-1&&(e=e.replace(/eval code/g,\"eval\").replace(/(\\(eval at [^()]*)|(\\),.*$)/g,\"\"));let t=e.replace(/^\\s+/,\"\").replace(/\\(eval code/g,\"(\");const n=t.match(/ (\\((.+):(\\d+):(\\d+)\\)$)/);t=n?t.replace(n[0],\"\"):t;const o=t.split(/\\s+/).slice(1),r=this.extractLocation(n?n[1]:o.pop()),i=o.join(\" \")||void 0,s=[\"eval\",\"<anonymous>\"].indexOf(r[0])>-1?void 0:r[0];return new Sn({functionName:i,fileName:s,lineNumber:r[1],columnNumber:r[2]})}),this)},parseFFOrSafari:function(e){return e.stack.split(\"\\n\").filter((function(e){return!e.match(Nn)}),this).map((function(e){if(e.indexOf(\" > eval\")>-1&&(e=e.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g,\":$1\")),-1===e.indexOf(\"@\")&&-1===e.indexOf(\":\"))return new Sn({functionName:e});{const t=/((.*\".+\"[^@]*)?[^@]*)(?:@)/,n=e.match(t),o=n&&n[1]?n[1]:void 0,r=this.extractLocation(e.replace(t,\"\"));return new Sn({functionName:o,fileName:r[0],lineNumber:r[1],columnNumber:r[2]})}}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf(\"\\n\")>-1&&e.message.split(\"\\n\").length>e.stacktrace.split(\"\\n\").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(e){const t=/Line (\\d+).*script (?:in )?(\\S+)/i,n=e.message.split(\"\\n\"),o=[];for(let e=2,r=n.length;e<r;e+=2){const r=t.exec(n[e]);r&&o.push(new Sn({fileName:r[2],lineNumber:parseFloat(r[1])}))}return o},parseOpera10:function(e){const t=/Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i,n=e.stacktrace.split(\"\\n\"),o=[];for(let e=0,r=n.length;e<r;e+=2){const r=t.exec(n[e]);r&&o.push(new Sn({functionName:r[3]||void 0,fileName:r[2],lineNumber:parseFloat(r[1])}))}return o},parseOpera11:function(e){return e.stack.split(\"\\n\").filter((function(e){return!!e.match(vn)&&!e.match(/^Error created at/)}),this).map((function(e){const t=e.split(\"@\"),n=this.extractLocation(t.pop()),o=(t.shift()||\"\").replace(/<anonymous function(: (\\w+))?>/,\"$2\").replace(/\\([^)]*\\)/g,\"\")||void 0;return new Sn({functionName:o,fileName:n[0],lineNumber:n[1],columnNumber:n[2]})}),this)}};function An(e){if(!e||!e.outerHTML)return\"\";let t=\"\";for(;e.parentElement;){let n=e.localName;if(!n)break;n=n.toLowerCase();const o=e.parentElement,r=[];if(o.children&&o.children.length>0)for(let e=0;e<o.children.length;e++){const t=o.children[e];t.localName&&t.localName.toLowerCase&&t.localName.toLowerCase()===n&&r.push(t)}r.length>1&&(n+=`:eq(${r.indexOf(e)})`),t=n+(t?\">\"+t:\"\"),e=o}return t}function kn(e){return\"[object Object]\"===Object.prototype.toString.call(e)}function Rn(e,t){if(0===t)return!0;const n=Object.keys(e);for(const o of n)if(kn(e[o])&&Rn(e[o],t-1))return!0;return!1}function Tn(e,t){const n={numOfKeysLimit:50,depthOfLimit:4};Object.assign(n,t);const o=[],r=[];return JSON.stringify(e,(function(e,t){if(o.length>0){const n=o.indexOf(this);~n?o.splice(n+1):o.push(this),~n?r.splice(n,1/0,e):r.push(e),~o.indexOf(t)&&(t=o[0]===t?\"[Circular ~]\":\"[Circular ~.\"+r.slice(0,o.indexOf(t)).join(\".\")+\"]\")}else o.push(t);if(null===t)return t;if(void 0===t)return\"undefined\";if(function(e){if(kn(e)&&Object.keys(e).length>n.numOfKeysLimit)return!0;if(\"function\"==typeof e)return!0;if(kn(e)&&Rn(e,n.depthOfLimit))return!0;return!1}(t))return function(e){let t=e.toString();n.stringLengthLimit&&t.length>n.stringLengthLimit&&(t=`${t.slice(0,n.stringLengthLimit)}...`);return t}(t);if(\"bigint\"==typeof t)return t.toString()+\"n\";if(t instanceof Event){const e={};for(const n in t){const o=t[n];Array.isArray(o)?e[n]=An(o.length?o[0]:null):e[n]=o}return e}return t instanceof Node?t instanceof HTMLElement?t?t.outerHTML:\"\":t.nodeName:t instanceof Error?t.stack?t.stack+\"\\nEnd of stack for Error object\":t.name+\": \"+t.message:t}))}const En={level:[\"assert\",\"clear\",\"count\",\"countReset\",\"debug\",\"dir\",\"dirxml\",\"error\",\"group\",\"groupCollapsed\",\"groupEnd\",\"info\",\"log\",\"table\",\"time\",\"timeEnd\",\"timeLog\",\"trace\",\"warn\"],lengthThreshold:1e3,logger:\"console\"};function On(e,t,n){const o=n?Object.assign({},En,n):En,r=o.logger;if(!r)return()=>{};let i;i=\"string\"==typeof r?t[r]:r;let s=0,a=!1;const l=[];if(o.level.includes(\"error\")){const n=t=>{const n=t.message,r=t.error,i=Mn.parse(r).map((e=>e.toString())),s=[Tn(n,o.stringifyOptions)];e({level:\"error\",trace:i,payload:s})};t.addEventListener(\"error\",n),l.push((()=>{t.removeEventListener(\"error\",n)}));const r=t=>{let n,r;t.reason instanceof Error?(n=t.reason,r=[Tn(`Uncaught (in promise) ${n.name}: ${n.message}`,o.stringifyOptions)]):(n=new Error,r=[Tn(\"Uncaught (in promise)\",o.stringifyOptions),Tn(t.reason,o.stringifyOptions)]);const i=Mn.parse(n).map((e=>e.toString()));e({level:\"error\",trace:i,payload:r})};t.addEventListener(\"unhandledrejection\",r),l.push((()=>{t.removeEventListener(\"unhandledrejection\",r)}))}for(const e of o.level)l.push(c(i,e));return()=>{l.forEach((e=>e()))};function c(t,n){var r=this;return t[n]?gn.patch(t,n,(t=>function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];if(t.apply(r,l),!(\"assert\"===n&&l[0]||a)){a=!0;try{const t=Mn.parse(new Error).map((e=>e.toString())).splice(1),r=(\"assert\"===n?l.slice(1):l).map((e=>Tn(e,o.stringifyOptions)));s++,s<o.lengthThreshold?e({level:n,trace:t,payload:r}):s===o.lengthThreshold&&e({level:\"warn\",trace:[],payload:[Tn(\"The number of log records reached the threshold.\")]})}catch(e){t(\"rrweb logger error:\",e,...l)}finally{a=!1}}})):()=>{}}}const xn=e=>({name:\"rrweb/console@1\",observer:On,options:e}),Ln=Array.isArray,Dn=Object.prototype,Fn=Dn.hasOwnProperty,Bn=Dn.toString,Zn=Ln||function(e){return\"[object Array]\"===Bn.call(e)},_n=function(e){return\"function\"==typeof e},Yn=function(e){return e===Object(e)&&!Zn(e)},Wn=function(e){return void 0===e},Gn=function(e){return\"[object String]\"==Bn.call(e)},Vn=function(e){return null===e},Hn=function(e){return Wn(e)||Vn(e)},Xn=function(e){return\"[object Boolean]\"===Bn.call(e)},Pn=e=>e instanceof Document,zn=e=>e instanceof FormData,Kn=\"undefined\"!=typeof window?window:void 0,Jn=\"undefined\"!=typeof globalThis?globalThis:Kn,jn=Array.prototype.forEach,Un=null==Jn?void 0:Jn.navigator;null==Jn||Jn.document,null==Jn||Jn.location,null==Jn||Jn.fetch,null!=Jn&&Jn.XMLHttpRequest&&\"withCredentials\"in new Jn.XMLHttpRequest&&Jn.XMLHttpRequest,null==Jn||Jn.AbortController,null==Un||Un.userAgent;const qn=null!=Kn?Kn:{},Qn=\"[PostHog.js]\",$n={_log:function(e){if(Kn&&qn.POSTHOG_DEBUG&&!Wn(Kn.console)&&Kn.console){const r=\"__rrweb_original__\"in Kn.console[e]?Kn.console[e].__rrweb_original__:Kn.console[e];for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];r(Qn,...n)}},info:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];$n._log(\"log\",...t)},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];$n._log(\"warn\",...t)},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];$n._log(\"error\",...t)},critical:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error(Qn,...t)},uninitializedWarning:e=>{$n.error(`You must initialize PostHog before calling ${e}`)}},eo={};function to(e,t,n){if(!Hn(e)){if(Zn(e))return function(e,t,n){if(Zn(e))if(jn&&e.forEach===jn)e.forEach(t,n);else if(\"length\"in e&&e.length===+e.length)for(let o=0,r=e.length;o<r;o++)if(o in e&&t.call(n,e[o],o)===eo)return}(e,t,n);if(zn(e)){for(const o of e.entries())if(t.call(n,o[1],o[0])===eo)return}else for(const o in e)if(Fn.call(e,o)&&t.call(n,e[o],o)===eo)return}}const no=function(e){let t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"&\";const r=[];return to(e,(function(e,o){Wn(e)||Wn(o)||\"undefined\"===o||(t=encodeURIComponent(e instanceof File?e.name:e.toString()),n=encodeURIComponent(o),r[r.length]=n+\"=\"+t)})),r.join(o)},oo={initiatorTypes:[\"audio\",\"beacon\",\"body\",\"css\",\"early-hint\",\"embed\",\"fetch\",\"frame\",\"iframe\",\"icon\",\"image\",\"img\",\"input\",\"link\",\"navigation\",\"object\",\"ping\",\"script\",\"track\",\"video\",\"xmlhttprequest\"],maskRequestFn:e=>e,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:[\"first-input\",\"navigation\",\"paint\",\"resource\"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[\".lr-ingest.io\",\".ingest.sentry.io\"]};function ro(e,t,n){try{if(!(t in e))return()=>{};const o=e[t],r=n(o);return _n(r)&&(r.prototype=r.prototype||{},Object.defineProperties(r,{__posthog_wrapped__:{enumerable:!1,value:!0}})),e[t]=r,()=>{e[t]=o}}catch{return()=>{}}}function io(e,t){var n;const o=function(e){try{return\"string\"==typeof e?new URL(e).hostname:\"url\"in e?new URL(e.url).hostname:e.hostname}catch{return null}}(e),r={hostname:o,isHostDenied:!1};if(null===(n=t.payloadHostDenyList)||void 0===n||!n.length||null==o||!o.trim().length)return r;for(const e of t.payloadHostDenyList)if(o.endsWith(e))return{hostname:o,isHostDenied:!0};return r}const so=e=>\"navigation\"===e.entryType,ao=e=>\"resource\"===e.entryType;function lo(e,t){for(let n=e.length-1;n>=0;n-=1)if(t(e[n]))return e[n]}function co(e,t,n){if(n.recordInitialRequests){const o=t.performance.getEntries().filter((e=>so(e)||ao(e)&&n.initiatorTypes.includes(e.initiatorType)));e({requests:o.flatMap((e=>go({entry:e,method:void 0,status:void 0,networkRequest:{},isInitial:!0}))),isInitial:!0})}const o=new t.PerformanceObserver((t=>{const o=t.getEntries().filter((e=>so(e)||ao(e)&&n.initiatorTypes.includes(e.initiatorType)&&(e=>!n.recordBody&&!n.recordHeaders||\"xmlhttprequest\"!==e.initiatorType&&\"fetch\"!==e.initiatorType)(e)));e({requests:o.flatMap((e=>go({entry:e,method:void 0,status:void 0,networkRequest:{}})))})})),r=PerformanceObserver.supportedEntryTypes.filter((e=>n.performanceEntryTypeToObserve.includes(e)));return o.observe({entryTypes:r}),()=>{o.disconnect()}}function uo(e,t){return!!t&&(Xn(t)||t[e])}function ho(e){let{type:t,recordBody:n,headers:o}=e;function r(e){const t=Object.keys(o).find((e=>\"content-type\"===e.toLowerCase())),n=t&&o[t];return e.some((e=>null==n?void 0:n.includes(e)))}if(!n)return!1;if(Xn(n))return!0;if(Zn(n))return r(n);const i=n[t];return Xn(i)?i:r(i)}async function po(e,t,n,o,r){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(i>10)return $n.warn(\"Failed to get performance entry for request\",{url:n,initiatorType:t}),null;const s=lo(e.performance.getEntriesByName(n),(e=>ao(e)&&e.initiatorType===t&&(Wn(o)||e.startTime>=o)&&(Wn(r)||e.startTime<=r)));return s||(await new Promise((e=>setTimeout(e,50*i))),po(e,t,n,o,r,i+1))}function mo(e){let{body:t,options:n,url:o}=e;if(Hn(t))return null;const{hostname:r,isHostDenied:i}=io(o,n);if(i)return r+\" is in deny list\";if(Gn(t))return t;if(Pn(t))return t.textContent;if(zn(t))return no(t);if(Yn(t))try{return JSON.stringify(t)}catch{return\"[SessionReplay] Failed to stringify response object\"}return\"[SessionReplay] Cannot read body of type \"+toString.call(t)}const fo=e=>!Vn(e)&&(\"navigation\"===e.entryType||\"resource\"===e.entryType);function go(e){let{entry:t,method:n,status:o,networkRequest:r,isInitial:i,start:s,end:a,url:l,initiatorType:c}=e;s=t?t.startTime:s,a=t?t.responseEnd:a;const d=Math.floor(Date.now()-performance.now()),u=Math.floor(d+(s||0)),h=[{...t?t.toJSON():{name:l},startTime:Wn(s)?void 0:Math.round(s),endTime:Wn(a)?void 0:Math.round(a),timeOrigin:d,timestamp:u,method:n,initiatorType:c||(t?t.initiatorType:void 0),status:o,requestHeaders:r.requestHeaders,requestBody:r.requestBody,responseHeaders:r.responseHeaders,responseBody:r.responseBody,isInitial:i}];if(fo(t))for(const e of t.serverTiming||[])h.push({timeOrigin:d,timestamp:u,startTime:Math.round(t.startTime),name:e.name,duration:e.duration,entryType:\"serverTiming\"});return h}const yo=[\"video/\",\"audio/\"];function Io(e){return new Promise(((t,n)=>{const o=setTimeout((()=>t(\"[SessionReplay] Timeout while trying to read body\")),500);try{e.clone().text().then((e=>t(e)),(e=>n(e))).finally((()=>clearTimeout(o)))}catch{clearTimeout(o),t(\"[SessionReplay] Failed to read body\")}}))}async function bo(e){let{r:t,options:n,url:o}=e;const r=function(e){var t;let{r:n,options:o,url:r}=e;if(\"chunked\"===n.headers.get(\"Transfer-Encoding\"))return\"Chunked Transfer-Encoding is not supported\";const i=null===(t=n.headers.get(\"Content-Type\"))||void 0===t?void 0:t.toLowerCase(),s=yo.some((e=>null==i?void 0:i.startsWith(e)));if(i&&s)return`Content-Type ${i} is not supported`;const{hostname:a,isHostDenied:l}=io(r,o);return l?a+\" is in deny list\":null}({r:t,options:n,url:o});return Vn(r)?Io(t):Promise.resolve(r)}function Co(e,t,n){if(!n.initiatorTypes.includes(\"fetch\"))return()=>{};const o=uo(\"request\",n.recordHeaders),r=uo(\"response\",n.recordHeaders),i=ro(t,\"fetch\",(i=>async function(s,a){const l=new Request(s,a);let c;const d={};let u,h;try{const e={};l.headers.forEach(((t,n)=>{e[n]=t})),o&&(d.requestHeaders=e),ho({type:\"request\",headers:e,url:s,recordBody:n.recordBody})&&(d.requestBody=await async function(e){let{r:t,options:n,url:o}=e;const{hostname:r,isHostDenied:i}=io(o,n);return i?Promise.resolve(r+\" is in deny list\"):Io(t)}({r:l,options:n,url:s})),u=t.performance.now(),c=await i(l),h=t.performance.now();const a={};return c.headers.forEach(((e,t)=>{a[t]=e})),r&&(d.responseHeaders=a),ho({type:\"response\",headers:a,url:s,recordBody:n.recordBody})&&(d.responseBody=await bo({r:c,options:n,url:s})),c}finally{po(t,\"fetch\",l.url,u,h).then((t=>{var n;const o=go({entry:t,method:l.method,status:null===(n=c)||void 0===n?void 0:n.status,networkRequest:d,start:u,end:h,url:l.url,initiatorType:\"fetch\"});e({requests:o})})).catch((()=>{}))}}));return()=>{i()}}let So=null;function vo(e,t,n){if(!(\"performance\"in t))return()=>{};if(So)return $n.warn(\"Network observer already initialised, doing nothing\"),()=>{};const o=n?Object.assign({},oo,n):oo,r=t=>{const n=[];t.requests.forEach((e=>{const t=o.maskRequestFn(e);t&&n.push(t)})),n.length>0&&e({...t,requests:n})},i=co(r,t,o);let s=()=>{},a=()=>{};return(o.recordHeaders||o.recordBody)&&(s=function(e,t,n){if(!n.initiatorTypes.includes(\"xmlhttprequest\"))return()=>{};const o=uo(\"request\",n.recordHeaders),r=uo(\"response\",n.recordHeaders),i=ro(t.XMLHttpRequest.prototype,\"open\",(i=>function(s,a){let l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c=arguments.length>3?arguments[3]:void 0,d=arguments.length>4?arguments[4]:void 0;const u=this,h=new Request(a),p={};let m,f;const g={},y=u.setRequestHeader.bind(u);u.setRequestHeader=(e,t)=>(g[e]=t,y(e,t)),o&&(p.requestHeaders=g);const I=u.send.bind(u);u.send=e=>(ho({type:\"request\",headers:g,url:a,recordBody:n.recordBody})&&(p.requestBody=mo({body:e,options:n,url:a})),m=t.performance.now(),I(e)),u.addEventListener(\"readystatechange\",(()=>{if(u.readyState!==u.DONE)return;f=t.performance.now();const o={};u.getAllResponseHeaders().trim().split(/[\\r\\n]+/).forEach((e=>{const t=e.split(\": \"),n=t.shift(),r=t.join(\": \");n&&(o[n]=r)})),r&&(p.responseHeaders=o),ho({type:\"response\",headers:o,url:a,recordBody:n.recordBody})&&(p.responseBody=mo({body:u.response,options:n,url:a})),po(t,\"xmlhttprequest\",h.url,m,f).then((t=>{const n=go({entry:t,method:s,status:null==u?void 0:u.status,networkRequest:p,start:m,end:f,url:a.toString(),initiatorType:\"xmlhttprequest\"});e({requests:n})})).catch((()=>{}))})),i.call(u,s,a,l,c,d)}));return()=>{i()}}(r,t,o),a=Co(r,t,o)),So=()=>{i(),s(),a()},So}const wo=\"rrweb/network@1\",No=e=>({name:wo,observer:vo,options:e});qn.__PosthogExtensions__=qn.__PosthogExtensions__||{},qn.__PosthogExtensions__.rrwebPlugins={getRecordConsolePlugin:xn,getRecordNetworkPlugin:No},qn.__PosthogExtensions__.rrweb={record:Ot,version:\"v2\"},qn.rrweb={record:Ot,version:\"v2\"},qn.rrwebConsoleRecord={getRecordConsolePlugin:xn},qn.getRecordNetworkPlugin=No,e.NETWORK_PLUGIN_NAME=wo,e.default=Ot,e.findLast=lo,e.getRecordNetworkPlugin=No,Object.defineProperty(e,\"__esModule\",{value:!0})}({});\n//# sourceMappingURL=recorder.js.map\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nvar _a;\nvar __defProp$1 = Object.defineProperty;\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField$1 = (obj, key, value) => __defNormalProp$1(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nvar NodeType$2 = /* @__PURE__ */ ((NodeType2) => {\n  NodeType2[NodeType2[\"Document\"] = 0] = \"Document\";\n  NodeType2[NodeType2[\"DocumentType\"] = 1] = \"DocumentType\";\n  NodeType2[NodeType2[\"Element\"] = 2] = \"Element\";\n  NodeType2[NodeType2[\"Text\"] = 3] = \"Text\";\n  NodeType2[NodeType2[\"CDATA\"] = 4] = \"CDATA\";\n  NodeType2[NodeType2[\"Comment\"] = 5] = \"Comment\";\n  return NodeType2;\n})(NodeType$2 || {});\nconst testableAccessors$1 = {\n  Node: [\"childNodes\", \"parentNode\", \"parentElement\", \"textContent\"],\n  ShadowRoot: [\"host\", \"styleSheets\"],\n  Element: [\"shadowRoot\", \"querySelector\", \"querySelectorAll\"],\n  MutationObserver: []\n};\nconst testableMethods$1 = {\n  Node: [\"contains\", \"getRootNode\"],\n  ShadowRoot: [\"getSelection\"],\n  Element: [],\n  MutationObserver: [\"constructor\"]\n};\nconst untaintedBasePrototype$1 = {};\nfunction getUntaintedPrototype$1(key) {\n  if (untaintedBasePrototype$1[key])\n    return untaintedBasePrototype$1[key];\n  const defaultObj = globalThis[key];\n  const defaultPrototype = defaultObj.prototype;\n  const accessorNames = key in testableAccessors$1 ? testableAccessors$1[key] : void 0;\n  const isUntaintedAccessors = Boolean(\n    accessorNames && // @ts-expect-error 2345\n    accessorNames.every(\n      (accessor) => {\n        var _a2, _b;\n        return Boolean(\n          (_b = (_a2 = Object.getOwnPropertyDescriptor(defaultPrototype, accessor)) == null ? void 0 : _a2.get) == null ? void 0 : _b.toString().includes(\"[native code]\")\n        );\n      }\n    )\n  );\n  const methodNames = key in testableMethods$1 ? testableMethods$1[key] : void 0;\n  const isUntaintedMethods = Boolean(\n    methodNames && methodNames.every(\n      // @ts-expect-error 2345\n      (method) => {\n        var _a2;\n        return typeof defaultPrototype[method] === \"function\" && ((_a2 = defaultPrototype[method]) == null ? void 0 : _a2.toString().includes(\"[native code]\"));\n      }\n    )\n  );\n  if (isUntaintedAccessors && isUntaintedMethods) {\n    untaintedBasePrototype$1[key] = defaultObj.prototype;\n    return defaultObj.prototype;\n  }\n  try {\n    const iframeEl = document.createElement(\"iframe\");\n    document.body.appendChild(iframeEl);\n    const win = iframeEl.contentWindow;\n    if (!win) return defaultObj.prototype;\n    const untaintedObject = win[key].prototype;\n    document.body.removeChild(iframeEl);\n    if (!untaintedObject) return defaultPrototype;\n    return untaintedBasePrototype$1[key] = untaintedObject;\n  } catch {\n    return defaultPrototype;\n  }\n}\nconst untaintedAccessorCache$1 = {};\nfunction getUntaintedAccessor$1(key, instance, accessor) {\n  var _a2;\n  const cacheKey = `${key}.${String(accessor)}`;\n  if (untaintedAccessorCache$1[cacheKey])\n    return untaintedAccessorCache$1[cacheKey].call(\n      instance\n    );\n  const untaintedPrototype = getUntaintedPrototype$1(key);\n  const untaintedAccessor = (_a2 = Object.getOwnPropertyDescriptor(\n    untaintedPrototype,\n    accessor\n  )) == null ? void 0 : _a2.get;\n  if (!untaintedAccessor) return instance[accessor];\n  untaintedAccessorCache$1[cacheKey] = untaintedAccessor;\n  return untaintedAccessor.call(instance);\n}\nconst untaintedMethodCache$1 = {};\nfunction getUntaintedMethod$1(key, instance, method) {\n  const cacheKey = `${key}.${String(method)}`;\n  if (untaintedMethodCache$1[cacheKey])\n    return untaintedMethodCache$1[cacheKey].bind(\n      instance\n    );\n  const untaintedPrototype = getUntaintedPrototype$1(key);\n  const untaintedMethod = untaintedPrototype[method];\n  if (typeof untaintedMethod !== \"function\") return instance[method];\n  untaintedMethodCache$1[cacheKey] = untaintedMethod;\n  return untaintedMethod.bind(instance);\n}\nfunction childNodes$1(n2) {\n  return getUntaintedAccessor$1(\"Node\", n2, \"childNodes\");\n}\nfunction parentNode$1(n2) {\n  return getUntaintedAccessor$1(\"Node\", n2, \"parentNode\");\n}\nfunction parentElement$1(n2) {\n  return getUntaintedAccessor$1(\"Node\", n2, \"parentElement\");\n}\nfunction textContent$1(n2) {\n  return getUntaintedAccessor$1(\"Node\", n2, \"textContent\");\n}\nfunction contains$1(n2, other) {\n  return getUntaintedMethod$1(\"Node\", n2, \"contains\")(other);\n}\nfunction getRootNode$1(n2) {\n  return getUntaintedMethod$1(\"Node\", n2, \"getRootNode\")();\n}\nfunction host$1(n2) {\n  if (!n2 || !(\"host\" in n2)) return null;\n  return getUntaintedAccessor$1(\"ShadowRoot\", n2, \"host\");\n}\nfunction styleSheets$1(n2) {\n  return n2.styleSheets;\n}\nfunction shadowRoot$1(n2) {\n  if (!n2 || !(\"shadowRoot\" in n2)) return null;\n  return getUntaintedAccessor$1(\"Element\", n2, \"shadowRoot\");\n}\nfunction querySelector$1(n2, selectors) {\n  return getUntaintedAccessor$1(\"Element\", n2, \"querySelector\")(selectors);\n}\nfunction querySelectorAll$1(n2, selectors) {\n  return getUntaintedAccessor$1(\"Element\", n2, \"querySelectorAll\")(selectors);\n}\nfunction mutationObserverCtor$1() {\n  return getUntaintedPrototype$1(\"MutationObserver\").constructor;\n}\nconst index$1 = {\n  childNodes: childNodes$1,\n  parentNode: parentNode$1,\n  parentElement: parentElement$1,\n  textContent: textContent$1,\n  contains: contains$1,\n  getRootNode: getRootNode$1,\n  host: host$1,\n  styleSheets: styleSheets$1,\n  shadowRoot: shadowRoot$1,\n  querySelector: querySelector$1,\n  querySelectorAll: querySelectorAll$1,\n  mutationObserver: mutationObserverCtor$1\n};\nfunction isElement(n2) {\n  return n2.nodeType === n2.ELEMENT_NODE;\n}\nfunction isShadowRoot(n2) {\n  const hostEl = (\n    // anchor and textarea elements also have a `host` property\n    // but only shadow roots have a `mode` property\n    n2 && \"host\" in n2 && \"mode\" in n2 && index$1.host(n2) || null\n  );\n  return Boolean(\n    hostEl && \"shadowRoot\" in hostEl && index$1.shadowRoot(hostEl) === n2\n  );\n}\nfunction isNativeShadowDom(shadowRoot2) {\n  return Object.prototype.toString.call(shadowRoot2) === \"[object ShadowRoot]\";\n}\nfunction fixBrowserCompatibilityIssuesInCSS(cssText) {\n  if (cssText.includes(\" background-clip: text;\") && !cssText.includes(\" -webkit-background-clip: text;\")) {\n    cssText = cssText.replace(\n      /\\sbackground-clip:\\s*text;/g,\n      \" -webkit-background-clip: text; background-clip: text;\"\n    );\n  }\n  return cssText;\n}\nfunction escapeImportStatement(rule2) {\n  const { cssText } = rule2;\n  if (cssText.split('\"').length < 3) return cssText;\n  const statement = [\"@import\", `url(${JSON.stringify(rule2.href)})`];\n  if (rule2.layerName === \"\") {\n    statement.push(`layer`);\n  } else if (rule2.layerName) {\n    statement.push(`layer(${rule2.layerName})`);\n  }\n  if (rule2.supportsText) {\n    statement.push(`supports(${rule2.supportsText})`);\n  }\n  if (rule2.media.length) {\n    statement.push(rule2.media.mediaText);\n  }\n  return statement.join(\" \") + \";\";\n}\nfunction stringifyStylesheet(s2) {\n  try {\n    const rules2 = s2.rules || s2.cssRules;\n    if (!rules2) {\n      return null;\n    }\n    const stringifiedRules = Array.from(\n      rules2,\n      (rule2) => stringifyRule(rule2, s2.href)\n    ).join(\"\");\n    return fixBrowserCompatibilityIssuesInCSS(stringifiedRules);\n  } catch (error) {\n    return null;\n  }\n}\nfunction stringifyRule(rule2, sheetHref) {\n  if (isCSSImportRule(rule2)) {\n    let importStringified;\n    try {\n      importStringified = // for same-origin stylesheets,\n      // we can access the imported stylesheet rules directly\n      stringifyStylesheet(rule2.styleSheet) || // work around browser issues with the raw string `@import url(...)` statement\n      escapeImportStatement(rule2);\n    } catch (error) {\n      importStringified = rule2.cssText;\n    }\n    if (rule2.styleSheet.href) {\n      return absolutifyURLs(importStringified, rule2.styleSheet.href);\n    }\n    return importStringified;\n  } else {\n    let ruleStringified = rule2.cssText;\n    if (isCSSStyleRule(rule2) && rule2.selectorText.includes(\":\")) {\n      ruleStringified = fixSafariColons(ruleStringified);\n    }\n    if (sheetHref) {\n      return absolutifyURLs(ruleStringified, sheetHref);\n    }\n    return ruleStringified;\n  }\n}\nfunction fixSafariColons(cssStringified) {\n  const regex = /(\\[(?:[\\w-]+)[^\\\\])(:(?:[\\w-]+)\\])/gm;\n  return cssStringified.replace(regex, \"$1\\\\$2\");\n}\nfunction isCSSImportRule(rule2) {\n  return \"styleSheet\" in rule2;\n}\nfunction isCSSStyleRule(rule2) {\n  return \"selectorText\" in rule2;\n}\nfunction findStylesheet(doc, href) {\n  return Array.from(doc.styleSheets).find((s) => s.href === href);\n}\nclass Mirror {\n  constructor() {\n    __publicField$1(this, \"idNodeMap\", /* @__PURE__ */ new Map());\n    __publicField$1(this, \"nodeMetaMap\", /* @__PURE__ */ new WeakMap());\n  }\n  getId(n2) {\n    var _a2;\n    if (!n2) return -1;\n    const id = (_a2 = this.getMeta(n2)) == null ? void 0 : _a2.id;\n    return id ?? -1;\n  }\n  getNode(id) {\n    return this.idNodeMap.get(id) || null;\n  }\n  getIds() {\n    return Array.from(this.idNodeMap.keys());\n  }\n  getMeta(n2) {\n    return this.nodeMetaMap.get(n2) || null;\n  }\n  // removes the node from idNodeMap\n  // doesn't remove the node from nodeMetaMap\n  removeNodeFromMap(n2) {\n    const id = this.getId(n2);\n    this.idNodeMap.delete(id);\n    if (n2.childNodes) {\n      n2.childNodes.forEach(\n        (childNode) => this.removeNodeFromMap(childNode)\n      );\n    }\n  }\n  has(id) {\n    return this.idNodeMap.has(id);\n  }\n  hasNode(node2) {\n    return this.nodeMetaMap.has(node2);\n  }\n  add(n2, meta) {\n    const id = meta.id;\n    this.idNodeMap.set(id, n2);\n    this.nodeMetaMap.set(n2, meta);\n  }\n  replace(id, n2) {\n    const oldNode = this.getNode(id);\n    if (oldNode) {\n      const meta = this.nodeMetaMap.get(oldNode);\n      if (meta) this.nodeMetaMap.set(n2, meta);\n    }\n    this.idNodeMap.set(id, n2);\n  }\n  reset() {\n    this.idNodeMap = /* @__PURE__ */ new Map();\n    this.nodeMetaMap = /* @__PURE__ */ new WeakMap();\n  }\n}\nfunction createMirror$2() {\n  return new Mirror();\n}\nfunction maskInputValue({\n  element,\n  maskInputOptions,\n  tagName,\n  type,\n  value,\n  maskInputFn\n}) {\n  let text = value || \"\";\n  const actualType = type && toLowerCase(type);\n  if (maskInputOptions[tagName.toLowerCase()] || actualType && maskInputOptions[actualType]) {\n    if (maskInputFn) {\n      text = maskInputFn(text, element);\n    } else {\n      text = \"*\".repeat(text.length);\n    }\n  }\n  return text;\n}\nfunction toLowerCase(str) {\n  return str.toLowerCase();\n}\nconst ORIGINAL_ATTRIBUTE_NAME = \"__rrweb_original__\";\nfunction is2DCanvasBlank(canvas) {\n  const ctx = canvas.getContext(\"2d\");\n  if (!ctx) return true;\n  const chunkSize = 50;\n  for (let x2 = 0; x2 < canvas.width; x2 += chunkSize) {\n    for (let y = 0; y < canvas.height; y += chunkSize) {\n      const getImageData = ctx.getImageData;\n      const originalGetImageData = ORIGINAL_ATTRIBUTE_NAME in getImageData ? getImageData[ORIGINAL_ATTRIBUTE_NAME] : getImageData;\n      const pixelBuffer = new Uint32Array(\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument, @typescript-eslint/no-unsafe-member-access\n        originalGetImageData.call(\n          ctx,\n          x2,\n          y,\n          Math.min(chunkSize, canvas.width - x2),\n          Math.min(chunkSize, canvas.height - y)\n        ).data.buffer\n      );\n      if (pixelBuffer.some((pixel) => pixel !== 0)) return false;\n    }\n  }\n  return true;\n}\nfunction getInputType(element) {\n  const type = element.type;\n  return element.hasAttribute(\"data-rr-is-password\") ? \"password\" : type ? (\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n    toLowerCase(type)\n  ) : null;\n}\nfunction extractFileExtension(path, baseURL) {\n  let url;\n  try {\n    url = new URL(path, baseURL ?? window.location.href);\n  } catch (err) {\n    return null;\n  }\n  const regex = /\\.([0-9a-z]+)(?:$)/i;\n  const match = url.pathname.match(regex);\n  return (match == null ? void 0 : match[1]) ?? null;\n}\nfunction extractOrigin(url) {\n  let origin = \"\";\n  if (url.indexOf(\"//\") > -1) {\n    origin = url.split(\"/\").slice(0, 3).join(\"/\");\n  } else {\n    origin = url.split(\"/\")[0];\n  }\n  origin = origin.split(\"?\")[0];\n  return origin;\n}\nconst URL_IN_CSS_REF = /url\\((?:(')([^']*)'|(\")(.*?)\"|([^)]*))\\)/gm;\nconst URL_PROTOCOL_MATCH = /^(?:[a-z+]+:)?\\/\\//i;\nconst URL_WWW_MATCH = /^www\\..*/i;\nconst DATA_URI = /^(data:)([^,]*),(.*)/i;\nfunction absolutifyURLs(cssText, href) {\n  return (cssText || \"\").replace(\n    URL_IN_CSS_REF,\n    (origin, quote1, path1, quote2, path2, path3) => {\n      const filePath = path1 || path2 || path3;\n      const maybeQuote = quote1 || quote2 || \"\";\n      if (!filePath) {\n        return origin;\n      }\n      if (URL_PROTOCOL_MATCH.test(filePath) || URL_WWW_MATCH.test(filePath)) {\n        return `url(${maybeQuote}${filePath}${maybeQuote})`;\n      }\n      if (DATA_URI.test(filePath)) {\n        return `url(${maybeQuote}${filePath}${maybeQuote})`;\n      }\n      if (filePath[0] === \"/\") {\n        return `url(${maybeQuote}${extractOrigin(href) + filePath}${maybeQuote})`;\n      }\n      const stack = href.split(\"/\");\n      const parts = filePath.split(\"/\");\n      stack.pop();\n      for (const part of parts) {\n        if (part === \".\") {\n          continue;\n        } else if (part === \"..\") {\n          stack.pop();\n        } else {\n          stack.push(part);\n        }\n      }\n      return `url(${maybeQuote}${stack.join(\"/\")}${maybeQuote})`;\n    }\n  );\n}\nlet _id = 1;\nconst tagNameRegex = new RegExp(\"[^a-z0-9-_:]\");\nconst IGNORED_NODE = -2;\nfunction genId() {\n  return _id++;\n}\nfunction getValidTagName$1(element) {\n  if (element instanceof HTMLFormElement) {\n    return \"form\";\n  }\n  const processedTagName = toLowerCase(element.tagName);\n  if (tagNameRegex.test(processedTagName)) {\n    return \"div\";\n  }\n  return processedTagName;\n}\nlet canvasService;\nlet canvasCtx;\nconst SRCSET_NOT_SPACES = /^[^ \\t\\n\\r\\u000c]+/;\nconst SRCSET_COMMAS_OR_SPACES = /^[, \\t\\n\\r\\u000c]+/;\nfunction getAbsoluteSrcsetString(doc, attributeValue) {\n  if (attributeValue.trim() === \"\") {\n    return attributeValue;\n  }\n  let pos = 0;\n  function collectCharacters(regEx) {\n    let chars2;\n    const match = regEx.exec(attributeValue.substring(pos));\n    if (match) {\n      chars2 = match[0];\n      pos += chars2.length;\n      return chars2;\n    }\n    return \"\";\n  }\n  const output = [];\n  while (true) {\n    collectCharacters(SRCSET_COMMAS_OR_SPACES);\n    if (pos >= attributeValue.length) {\n      break;\n    }\n    let url = collectCharacters(SRCSET_NOT_SPACES);\n    if (url.slice(-1) === \",\") {\n      url = absoluteToDoc(doc, url.substring(0, url.length - 1));\n      output.push(url);\n    } else {\n      let descriptorsStr = \"\";\n      url = absoluteToDoc(doc, url);\n      let inParens = false;\n      while (true) {\n        const c2 = attributeValue.charAt(pos);\n        if (c2 === \"\") {\n          output.push((url + descriptorsStr).trim());\n          break;\n        } else if (!inParens) {\n          if (c2 === \",\") {\n            pos += 1;\n            output.push((url + descriptorsStr).trim());\n            break;\n          } else if (c2 === \"(\") {\n            inParens = true;\n          }\n        } else {\n          if (c2 === \")\") {\n            inParens = false;\n          }\n        }\n        descriptorsStr += c2;\n        pos += 1;\n      }\n    }\n  }\n  return output.join(\", \");\n}\nconst cachedDocument = /* @__PURE__ */ new WeakMap();\nfunction absoluteToDoc(doc, attributeValue) {\n  if (!attributeValue || attributeValue.trim() === \"\") {\n    return attributeValue;\n  }\n  return getHref(doc, attributeValue);\n}\nfunction isSVGElement(el) {\n  return Boolean(el.tagName === \"svg\" || el.ownerSVGElement);\n}\nfunction getHref(doc, customHref) {\n  let a2 = cachedDocument.get(doc);\n  if (!a2) {\n    a2 = doc.createElement(\"a\");\n    cachedDocument.set(doc, a2);\n  }\n  if (!customHref) {\n    customHref = \"\";\n  } else if (customHref.startsWith(\"blob:\") || customHref.startsWith(\"data:\")) {\n    return customHref;\n  }\n  a2.setAttribute(\"href\", customHref);\n  return a2.href;\n}\nfunction transformAttribute(doc, tagName, name, value) {\n  if (!value) {\n    return value;\n  }\n  if (name === \"src\" || name === \"href\" && !(tagName === \"use\" && value[0] === \"#\")) {\n    return absoluteToDoc(doc, value);\n  } else if (name === \"xlink:href\" && value[0] !== \"#\") {\n    return absoluteToDoc(doc, value);\n  } else if (name === \"background\" && (tagName === \"table\" || tagName === \"td\" || tagName === \"th\")) {\n    return absoluteToDoc(doc, value);\n  } else if (name === \"srcset\") {\n    return getAbsoluteSrcsetString(doc, value);\n  } else if (name === \"style\") {\n    return absolutifyURLs(value, getHref(doc));\n  } else if (tagName === \"object\" && name === \"data\") {\n    return absoluteToDoc(doc, value);\n  }\n  return value;\n}\nfunction ignoreAttribute(tagName, name, _value) {\n  return (tagName === \"video\" || tagName === \"audio\") && name === \"autoplay\";\n}\nfunction _isBlockedElement(element, blockClass, blockSelector) {\n  try {\n    if (typeof blockClass === \"string\") {\n      if (element.classList.contains(blockClass)) {\n        return true;\n      }\n    } else {\n      for (let eIndex = element.classList.length; eIndex--; ) {\n        const className = element.classList[eIndex];\n        if (blockClass.test(className)) {\n          return true;\n        }\n      }\n    }\n    if (blockSelector) {\n      return element.matches(blockSelector);\n    }\n  } catch (e2) {\n  }\n  return false;\n}\nfunction classMatchesRegex(node2, regex, checkAncestors) {\n  if (!node2) return false;\n  if (node2.nodeType !== node2.ELEMENT_NODE) {\n    if (!checkAncestors) return false;\n    return classMatchesRegex(index$1.parentNode(node2), regex, checkAncestors);\n  }\n  for (let eIndex = node2.classList.length; eIndex--; ) {\n    const className = node2.classList[eIndex];\n    if (regex.test(className)) {\n      return true;\n    }\n  }\n  if (!checkAncestors) return false;\n  return classMatchesRegex(index$1.parentNode(node2), regex, checkAncestors);\n}\nfunction needMaskingText(node2, maskTextClass, maskTextSelector, checkAncestors) {\n  let el;\n  if (isElement(node2)) {\n    el = node2;\n    if (!index$1.childNodes(el).length) {\n      return false;\n    }\n  } else if (index$1.parentElement(node2) === null) {\n    return false;\n  } else {\n    el = index$1.parentElement(node2);\n  }\n  try {\n    if (typeof maskTextClass === \"string\") {\n      if (checkAncestors) {\n        if (el.closest(`.${maskTextClass}`)) return true;\n      } else {\n        if (el.classList.contains(maskTextClass)) return true;\n      }\n    } else {\n      if (classMatchesRegex(el, maskTextClass, checkAncestors)) return true;\n    }\n    if (maskTextSelector) {\n      if (checkAncestors) {\n        if (el.closest(maskTextSelector)) return true;\n      } else {\n        if (el.matches(maskTextSelector)) return true;\n      }\n    }\n  } catch (e2) {\n  }\n  return false;\n}\nfunction onceIframeLoaded(iframeEl, listener, iframeLoadTimeout) {\n  const win = iframeEl.contentWindow;\n  if (!win) {\n    return;\n  }\n  let fired = false;\n  let readyState;\n  try {\n    readyState = win.document.readyState;\n  } catch (error) {\n    return;\n  }\n  if (readyState !== \"complete\") {\n    const timer = setTimeout(() => {\n      if (!fired) {\n        listener();\n        fired = true;\n      }\n    }, iframeLoadTimeout);\n    iframeEl.addEventListener(\"load\", () => {\n      clearTimeout(timer);\n      fired = true;\n      listener();\n    });\n    return;\n  }\n  const blankUrl = \"about:blank\";\n  if (win.location.href !== blankUrl || iframeEl.src === blankUrl || iframeEl.src === \"\") {\n    setTimeout(listener, 0);\n    return iframeEl.addEventListener(\"load\", listener);\n  }\n  iframeEl.addEventListener(\"load\", listener);\n}\nfunction onceStylesheetLoaded(link, listener, styleSheetLoadTimeout) {\n  let fired = false;\n  let styleSheetLoaded;\n  try {\n    styleSheetLoaded = link.sheet;\n  } catch (error) {\n    return;\n  }\n  if (styleSheetLoaded) return;\n  const timer = setTimeout(() => {\n    if (!fired) {\n      listener();\n      fired = true;\n    }\n  }, styleSheetLoadTimeout);\n  link.addEventListener(\"load\", () => {\n    clearTimeout(timer);\n    fired = true;\n    listener();\n  });\n}\nfunction serializeNode(n2, options) {\n  const {\n    doc,\n    mirror: mirror2,\n    blockClass,\n    blockSelector,\n    needsMask,\n    inlineStylesheet,\n    maskInputOptions = {},\n    maskTextFn,\n    maskInputFn,\n    dataURLOptions = {},\n    inlineImages,\n    recordCanvas,\n    keepIframeSrcFn,\n    newlyAddedElement = false\n  } = options;\n  const rootId = getRootId(doc, mirror2);\n  switch (n2.nodeType) {\n    case n2.DOCUMENT_NODE:\n      if (n2.compatMode !== \"CSS1Compat\") {\n        return {\n          type: NodeType$2.Document,\n          childNodes: [],\n          compatMode: n2.compatMode\n          // probably \"BackCompat\"\n        };\n      } else {\n        return {\n          type: NodeType$2.Document,\n          childNodes: []\n        };\n      }\n    case n2.DOCUMENT_TYPE_NODE:\n      return {\n        type: NodeType$2.DocumentType,\n        name: n2.name,\n        publicId: n2.publicId,\n        systemId: n2.systemId,\n        rootId\n      };\n    case n2.ELEMENT_NODE:\n      return serializeElementNode(n2, {\n        doc,\n        blockClass,\n        blockSelector,\n        inlineStylesheet,\n        maskInputOptions,\n        maskInputFn,\n        dataURLOptions,\n        inlineImages,\n        recordCanvas,\n        keepIframeSrcFn,\n        newlyAddedElement,\n        rootId\n      });\n    case n2.TEXT_NODE:\n      return serializeTextNode(n2, {\n        doc,\n        needsMask,\n        maskTextFn,\n        rootId\n      });\n    case n2.CDATA_SECTION_NODE:\n      return {\n        type: NodeType$2.CDATA,\n        textContent: \"\",\n        rootId\n      };\n    case n2.COMMENT_NODE:\n      return {\n        type: NodeType$2.Comment,\n        textContent: index$1.textContent(n2) || \"\",\n        rootId\n      };\n    default:\n      return false;\n  }\n}\nfunction getRootId(doc, mirror2) {\n  if (!mirror2.hasNode(doc)) return void 0;\n  const docId = mirror2.getId(doc);\n  return docId === 1 ? void 0 : docId;\n}\nfunction serializeTextNode(n2, options) {\n  var _a2;\n  const { needsMask, maskTextFn, rootId } = options;\n  const parent = index$1.parentNode(n2);\n  const parentTagName = parent && parent.tagName;\n  let text = index$1.textContent(n2);\n  const isStyle = parentTagName === \"STYLE\" ? true : void 0;\n  const isScript = parentTagName === \"SCRIPT\" ? true : void 0;\n  if (isStyle && text) {\n    try {\n      if (n2.nextSibling || n2.previousSibling) {\n      } else if ((_a2 = parent.sheet) == null ? void 0 : _a2.cssRules) {\n        text = stringifyStylesheet(parent.sheet);\n      }\n    } catch (err) {\n      console.warn(\n        `Cannot get CSS styles from text's parentNode. Error: ${err}`,\n        n2\n      );\n    }\n    text = absolutifyURLs(text, getHref(options.doc));\n  }\n  if (isScript) {\n    text = \"SCRIPT_PLACEHOLDER\";\n  }\n  if (!isStyle && !isScript && text && needsMask) {\n    text = maskTextFn ? maskTextFn(text, index$1.parentElement(n2)) : text.replace(/[\\S]/g, \"*\");\n  }\n  return {\n    type: NodeType$2.Text,\n    textContent: text || \"\",\n    isStyle,\n    rootId\n  };\n}\nfunction serializeElementNode(n2, options) {\n  const {\n    doc,\n    blockClass,\n    blockSelector,\n    inlineStylesheet,\n    maskInputOptions = {},\n    maskInputFn,\n    dataURLOptions = {},\n    inlineImages,\n    recordCanvas,\n    keepIframeSrcFn,\n    newlyAddedElement = false,\n    rootId\n  } = options;\n  const needBlock = _isBlockedElement(n2, blockClass, blockSelector);\n  const tagName = getValidTagName$1(n2);\n  let attributes = {};\n  const len = n2.attributes.length;\n  for (let i2 = 0; i2 < len; i2++) {\n    const attr = n2.attributes[i2];\n    if (!ignoreAttribute(tagName, attr.name, attr.value)) {\n      attributes[attr.name] = transformAttribute(\n        doc,\n        tagName,\n        toLowerCase(attr.name),\n        attr.value\n      );\n    }\n  }\n  if (tagName === \"link\" && inlineStylesheet) {\n    const href = n2.href;\n    let stylesheet = findStylesheet(doc, href);\n    if (!stylesheet && href.includes('.css')) {\n      const rootDomain = window.location.origin;\n      const stylesheetPath = href.replace(window.location.href, '');\n      const potentialStylesheetHref = rootDomain + '/' + stylesheetPath;\n      stylesheet = findStylesheet(doc, potentialStylesheetHref);\n    }\n    let cssText = null;\n    if (stylesheet) {\n      cssText = stringifyStylesheet(stylesheet);\n    }\n    if (cssText) {\n      delete attributes.rel;\n      delete attributes.href;\n      attributes._cssText = cssText;\n    }\n  }\n  if (tagName === \"style\" && n2.sheet && // TODO: Currently we only try to get dynamic stylesheet when it is an empty style element\n  !(n2.innerText || index$1.textContent(n2) || \"\").trim().length) {\n    const cssText = stringifyStylesheet(\n      n2.sheet\n    );\n    if (cssText) {\n      attributes._cssText = cssText;\n    }\n  }\n  if (tagName === \"input\" || tagName === \"textarea\" || tagName === \"select\") {\n    const value = n2.value;\n    const checked = n2.checked;\n    if (attributes.type !== \"radio\" && attributes.type !== \"checkbox\" && attributes.type !== \"submit\" && attributes.type !== \"button\" && value) {\n      attributes.value = maskInputValue({\n        element: n2,\n        type: getInputType(n2),\n        tagName,\n        value,\n        maskInputOptions,\n        maskInputFn\n      });\n    } else if (checked) {\n      attributes.checked = checked;\n    }\n  }\n  if (tagName === \"option\") {\n    if (n2.selected && !maskInputOptions[\"select\"]) {\n      attributes.selected = true;\n    } else {\n      delete attributes.selected;\n    }\n  }\n  if (tagName === \"dialog\" && n2.open) {\n    attributes.rr_open_mode = n2.matches(\"dialog:modal\") ? \"modal\" : \"non-modal\";\n  }\n  if (tagName === \"canvas\" && recordCanvas) {\n    if (n2.__context === \"2d\") {\n      if (!is2DCanvasBlank(n2)) {\n        attributes.rr_dataURL = n2.toDataURL(\n          dataURLOptions.type,\n          dataURLOptions.quality\n        );\n      }\n    } else if (!(\"__context\" in n2)) {\n      const canvasDataURL = n2.toDataURL(\n        dataURLOptions.type,\n        dataURLOptions.quality\n      );\n      const blankCanvas = doc.createElement(\"canvas\");\n      blankCanvas.width = n2.width;\n      blankCanvas.height = n2.height;\n      const blankCanvasDataURL = blankCanvas.toDataURL(\n        dataURLOptions.type,\n        dataURLOptions.quality\n      );\n      if (canvasDataURL !== blankCanvasDataURL) {\n        attributes.rr_dataURL = canvasDataURL;\n      }\n    }\n  }\n  if (tagName === \"img\" && inlineImages) {\n    if (!canvasService) {\n      canvasService = doc.createElement(\"canvas\");\n      canvasCtx = canvasService.getContext(\"2d\");\n    }\n    const image = n2;\n    const imageSrc = image.currentSrc || image.getAttribute(\"src\") || \"<unknown-src>\";\n    const priorCrossOrigin = image.crossOrigin;\n    const recordInlineImage = () => {\n      image.removeEventListener(\"load\", recordInlineImage);\n      try {\n        canvasService.width = image.naturalWidth;\n        canvasService.height = image.naturalHeight;\n        canvasCtx.drawImage(image, 0, 0);\n        attributes.rr_dataURL = canvasService.toDataURL(\n          dataURLOptions.type,\n          dataURLOptions.quality\n        );\n      } catch (err) {\n        if (image.crossOrigin !== \"anonymous\") {\n          image.crossOrigin = \"anonymous\";\n          if (image.complete && image.naturalWidth !== 0)\n            recordInlineImage();\n          else image.addEventListener(\"load\", recordInlineImage);\n          return;\n        } else {\n          console.warn(\n            `Cannot inline img src=${imageSrc}! Error: ${err}`\n          );\n        }\n      }\n      if (image.crossOrigin === \"anonymous\") {\n        priorCrossOrigin ? attributes.crossOrigin = priorCrossOrigin : image.removeAttribute(\"crossorigin\");\n      }\n    };\n    if (image.complete && image.naturalWidth !== 0) recordInlineImage();\n    else image.addEventListener(\"load\", recordInlineImage);\n  }\n  if (tagName === \"audio\" || tagName === \"video\") {\n    const mediaAttributes = attributes;\n    mediaAttributes.rr_mediaState = n2.paused ? \"paused\" : \"played\";\n    mediaAttributes.rr_mediaCurrentTime = n2.currentTime;\n    mediaAttributes.rr_mediaPlaybackRate = n2.playbackRate;\n    mediaAttributes.rr_mediaMuted = n2.muted;\n    mediaAttributes.rr_mediaLoop = n2.loop;\n    mediaAttributes.rr_mediaVolume = n2.volume;\n  }\n  if (!newlyAddedElement) {\n    if (n2.scrollLeft) {\n      attributes.rr_scrollLeft = n2.scrollLeft;\n    }\n    if (n2.scrollTop) {\n      attributes.rr_scrollTop = n2.scrollTop;\n    }\n  }\n  if (needBlock) {\n    const { width, height } = n2.getBoundingClientRect();\n    attributes = {\n      class: attributes.class,\n      rr_width: `${width}px`,\n      rr_height: `${height}px`\n    };\n  }\n  if (tagName === \"iframe\" && !keepIframeSrcFn(attributes.src)) {\n    if (!n2.contentDocument) {\n      attributes.rr_src = attributes.src;\n    }\n    delete attributes.src;\n  }\n  let isCustomElement;\n  try {\n    if (customElements.get(tagName)) isCustomElement = true;\n  } catch (e2) {\n  }\n  return {\n    type: NodeType$2.Element,\n    tagName,\n    attributes,\n    childNodes: [],\n    isSVG: isSVGElement(n2) || void 0,\n    needBlock,\n    rootId,\n    isCustom: isCustomElement\n  };\n}\nfunction lowerIfExists(maybeAttr) {\n  if (maybeAttr === void 0 || maybeAttr === null) {\n    return \"\";\n  } else {\n    return maybeAttr.toLowerCase();\n  }\n}\nfunction slimDOMExcluded(sn, slimDOMOptions) {\n  if (slimDOMOptions.comment && sn.type === NodeType$2.Comment) {\n    return true;\n  } else if (sn.type === NodeType$2.Element) {\n    if (slimDOMOptions.script && // script tag\n    (sn.tagName === \"script\" || // (module)preload link\n    sn.tagName === \"link\" && (sn.attributes.rel === \"preload\" || sn.attributes.rel === \"modulepreload\") && sn.attributes.as === \"script\" || // prefetch link\n    sn.tagName === \"link\" && sn.attributes.rel === \"prefetch\" && typeof sn.attributes.href === \"string\" && extractFileExtension(sn.attributes.href) === \"js\")) {\n      return true;\n    } else if (slimDOMOptions.headFavicon && (sn.tagName === \"link\" && sn.attributes.rel === \"shortcut icon\" || sn.tagName === \"meta\" && (lowerIfExists(sn.attributes.name).match(\n      /^msapplication-tile(image|color)$/\n    ) || lowerIfExists(sn.attributes.name) === \"application-name\" || lowerIfExists(sn.attributes.rel) === \"icon\" || lowerIfExists(sn.attributes.rel) === \"apple-touch-icon\" || lowerIfExists(sn.attributes.rel) === \"shortcut icon\"))) {\n      return true;\n    } else if (sn.tagName === \"meta\") {\n      if (slimDOMOptions.headMetaDescKeywords && lowerIfExists(sn.attributes.name).match(/^description|keywords$/)) {\n        return true;\n      } else if (slimDOMOptions.headMetaSocial && (lowerIfExists(sn.attributes.property).match(/^(og|twitter|fb):/) || // og = opengraph (facebook)\n      lowerIfExists(sn.attributes.name).match(/^(og|twitter):/) || lowerIfExists(sn.attributes.name) === \"pinterest\")) {\n        return true;\n      } else if (slimDOMOptions.headMetaRobots && (lowerIfExists(sn.attributes.name) === \"robots\" || lowerIfExists(sn.attributes.name) === \"googlebot\" || lowerIfExists(sn.attributes.name) === \"bingbot\")) {\n        return true;\n      } else if (slimDOMOptions.headMetaHttpEquiv && sn.attributes[\"http-equiv\"] !== void 0) {\n        return true;\n      } else if (slimDOMOptions.headMetaAuthorship && (lowerIfExists(sn.attributes.name) === \"author\" || lowerIfExists(sn.attributes.name) === \"generator\" || lowerIfExists(sn.attributes.name) === \"framework\" || lowerIfExists(sn.attributes.name) === \"publisher\" || lowerIfExists(sn.attributes.name) === \"progid\" || lowerIfExists(sn.attributes.property).match(/^article:/) || lowerIfExists(sn.attributes.property).match(/^product:/))) {\n        return true;\n      } else if (slimDOMOptions.headMetaVerification && (lowerIfExists(sn.attributes.name) === \"google-site-verification\" || lowerIfExists(sn.attributes.name) === \"yandex-verification\" || lowerIfExists(sn.attributes.name) === \"csrf-token\" || lowerIfExists(sn.attributes.name) === \"p:domain_verify\" || lowerIfExists(sn.attributes.name) === \"verify-v1\" || lowerIfExists(sn.attributes.name) === \"verification\" || lowerIfExists(sn.attributes.name) === \"shopify-checkout-api-token\")) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\nfunction serializeNodeWithId(n2, options) {\n  const {\n    doc,\n    mirror: mirror2,\n    blockClass,\n    blockSelector,\n    maskTextClass,\n    maskTextSelector,\n    skipChild = false,\n    inlineStylesheet = true,\n    maskInputOptions = {},\n    maskTextFn,\n    maskInputFn,\n    slimDOMOptions,\n    dataURLOptions = {},\n    inlineImages = false,\n    recordCanvas = false,\n    onSerialize,\n    onIframeLoad,\n    iframeLoadTimeout = 5e3,\n    onStylesheetLoad,\n    stylesheetLoadTimeout = 5e3,\n    keepIframeSrcFn = () => false,\n    newlyAddedElement = false\n  } = options;\n  let { needsMask } = options;\n  let { preserveWhiteSpace = true } = options;\n  if (!needsMask) {\n    const checkAncestors = needsMask === void 0;\n    needsMask = needMaskingText(\n      n2,\n      maskTextClass,\n      maskTextSelector,\n      checkAncestors\n    );\n  }\n  const _serializedNode = serializeNode(n2, {\n    doc,\n    mirror: mirror2,\n    blockClass,\n    blockSelector,\n    needsMask,\n    inlineStylesheet,\n    maskInputOptions,\n    maskTextFn,\n    maskInputFn,\n    dataURLOptions,\n    inlineImages,\n    recordCanvas,\n    keepIframeSrcFn,\n    newlyAddedElement\n  });\n  if (!_serializedNode) {\n    console.warn(n2, \"not serialized\");\n    return null;\n  }\n  let id;\n  if (mirror2.hasNode(n2)) {\n    id = mirror2.getId(n2);\n  } else if (slimDOMExcluded(_serializedNode, slimDOMOptions) || !preserveWhiteSpace && _serializedNode.type === NodeType$2.Text && !_serializedNode.isStyle && !_serializedNode.textContent.replace(/^\\s+|\\s+$/gm, \"\").length) {\n    id = IGNORED_NODE;\n  } else {\n    id = genId();\n  }\n  const serializedNode = Object.assign(_serializedNode, { id });\n  mirror2.add(n2, serializedNode);\n  if (id === IGNORED_NODE) {\n    return null;\n  }\n  if (onSerialize) {\n    onSerialize(n2);\n  }\n  let recordChild = !skipChild;\n  if (serializedNode.type === NodeType$2.Element) {\n    recordChild = recordChild && !serializedNode.needBlock;\n    delete serializedNode.needBlock;\n    const shadowRootEl = index$1.shadowRoot(n2);\n    if (shadowRootEl && isNativeShadowDom(shadowRootEl))\n      serializedNode.isShadowHost = true;\n  }\n  if ((serializedNode.type === NodeType$2.Document || serializedNode.type === NodeType$2.Element) && recordChild) {\n    if (slimDOMOptions.headWhitespace && serializedNode.type === NodeType$2.Element && serializedNode.tagName === \"head\") {\n      preserveWhiteSpace = false;\n    }\n    const bypassOptions = {\n      doc,\n      mirror: mirror2,\n      blockClass,\n      blockSelector,\n      needsMask,\n      maskTextClass,\n      maskTextSelector,\n      skipChild,\n      inlineStylesheet,\n      maskInputOptions,\n      maskTextFn,\n      maskInputFn,\n      slimDOMOptions,\n      dataURLOptions,\n      inlineImages,\n      recordCanvas,\n      preserveWhiteSpace,\n      onSerialize,\n      onIframeLoad,\n      iframeLoadTimeout,\n      onStylesheetLoad,\n      stylesheetLoadTimeout,\n      keepIframeSrcFn\n    };\n    if (serializedNode.type === NodeType$2.Element && serializedNode.tagName === \"textarea\" && serializedNode.attributes.value !== void 0) ;\n    else {\n      for (const childN of Array.from(index$1.childNodes(n2))) {\n        const serializedChildNode = serializeNodeWithId(childN, bypassOptions);\n        if (serializedChildNode) {\n          serializedNode.childNodes.push(serializedChildNode);\n        }\n      }\n    }\n    let shadowRootEl = null;\n    if (isElement(n2) && (shadowRootEl = index$1.shadowRoot(n2))) {\n      for (const childN of Array.from(index$1.childNodes(shadowRootEl))) {\n        const serializedChildNode = serializeNodeWithId(childN, bypassOptions);\n        if (serializedChildNode) {\n          isNativeShadowDom(shadowRootEl) && (serializedChildNode.isShadow = true);\n          serializedNode.childNodes.push(serializedChildNode);\n        }\n      }\n    }\n  }\n  const parent = index$1.parentNode(n2);\n  if (parent && isShadowRoot(parent) && isNativeShadowDom(parent)) {\n    serializedNode.isShadow = true;\n  }\n  if (serializedNode.type === NodeType$2.Element && serializedNode.tagName === \"iframe\") {\n    onceIframeLoaded(\n      n2,\n      () => {\n        const iframeDoc = n2.contentDocument;\n        if (iframeDoc && onIframeLoad) {\n          const serializedIframeNode = serializeNodeWithId(iframeDoc, {\n            doc: iframeDoc,\n            mirror: mirror2,\n            blockClass,\n            blockSelector,\n            needsMask,\n            maskTextClass,\n            maskTextSelector,\n            skipChild: false,\n            inlineStylesheet,\n            maskInputOptions,\n            maskTextFn,\n            maskInputFn,\n            slimDOMOptions,\n            dataURLOptions,\n            inlineImages,\n            recordCanvas,\n            preserveWhiteSpace,\n            onSerialize,\n            onIframeLoad,\n            iframeLoadTimeout,\n            onStylesheetLoad,\n            stylesheetLoadTimeout,\n            keepIframeSrcFn\n          });\n          if (serializedIframeNode) {\n            onIframeLoad(\n              n2,\n              serializedIframeNode\n            );\n          }\n        }\n      },\n      iframeLoadTimeout\n    );\n  }\n  if (serializedNode.type === NodeType$2.Element && serializedNode.tagName === \"link\" && typeof serializedNode.attributes.rel === \"string\" && (serializedNode.attributes.rel === \"stylesheet\" || serializedNode.attributes.rel === \"preload\" && typeof serializedNode.attributes.href === \"string\" && extractFileExtension(serializedNode.attributes.href) === \"css\")) {\n    onceStylesheetLoaded(\n      n2,\n      () => {\n        if (onStylesheetLoad) {\n          const serializedLinkNode = serializeNodeWithId(n2, {\n            doc,\n            mirror: mirror2,\n            blockClass,\n            blockSelector,\n            needsMask,\n            maskTextClass,\n            maskTextSelector,\n            skipChild: false,\n            inlineStylesheet,\n            maskInputOptions,\n            maskTextFn,\n            maskInputFn,\n            slimDOMOptions,\n            dataURLOptions,\n            inlineImages,\n            recordCanvas,\n            preserveWhiteSpace,\n            onSerialize,\n            onIframeLoad,\n            iframeLoadTimeout,\n            onStylesheetLoad,\n            stylesheetLoadTimeout,\n            keepIframeSrcFn\n          });\n          if (serializedLinkNode) {\n            onStylesheetLoad(\n              n2,\n              serializedLinkNode\n            );\n          }\n        }\n      },\n      stylesheetLoadTimeout\n    );\n  }\n  return serializedNode;\n}\nfunction snapshot(n2, options) {\n  const {\n    mirror: mirror2 = new Mirror(),\n    blockClass = \"rr-block\",\n    blockSelector = null,\n    maskTextClass = \"rr-mask\",\n    maskTextSelector = null,\n    inlineStylesheet = true,\n    inlineImages = false,\n    recordCanvas = false,\n    maskAllInputs = false,\n    maskTextFn,\n    maskInputFn,\n    slimDOM = false,\n    dataURLOptions,\n    preserveWhiteSpace,\n    onSerialize,\n    onIframeLoad,\n    iframeLoadTimeout,\n    onStylesheetLoad,\n    stylesheetLoadTimeout,\n    keepIframeSrcFn = () => false\n  } = options || {};\n  const maskInputOptions = maskAllInputs === true ? {\n    color: true,\n    date: true,\n    \"datetime-local\": true,\n    email: true,\n    month: true,\n    number: true,\n    range: true,\n    search: true,\n    tel: true,\n    text: true,\n    time: true,\n    url: true,\n    week: true,\n    textarea: true,\n    select: true,\n    password: true\n  } : maskAllInputs === false ? {\n    password: true\n  } : maskAllInputs;\n  const slimDOMOptions = slimDOM === true || slimDOM === \"all\" ? (\n    // if true: set of sensible options that should not throw away any information\n    {\n      script: true,\n      comment: true,\n      headFavicon: true,\n      headWhitespace: true,\n      headMetaDescKeywords: slimDOM === \"all\",\n      // destructive\n      headMetaSocial: true,\n      headMetaRobots: true,\n      headMetaHttpEquiv: true,\n      headMetaAuthorship: true,\n      headMetaVerification: true\n    }\n  ) : slimDOM === false ? {} : slimDOM;\n  return serializeNodeWithId(n2, {\n    doc: n2,\n    mirror: mirror2,\n    blockClass,\n    blockSelector,\n    maskTextClass,\n    maskTextSelector,\n    skipChild: false,\n    inlineStylesheet,\n    maskInputOptions,\n    maskTextFn,\n    maskInputFn,\n    slimDOMOptions,\n    dataURLOptions,\n    inlineImages,\n    recordCanvas,\n    preserveWhiteSpace,\n    onSerialize,\n    onIframeLoad,\n    iframeLoadTimeout,\n    onStylesheetLoad,\n    stylesheetLoadTimeout,\n    keepIframeSrcFn,\n    newlyAddedElement: false\n  });\n}\nfunction getDefaultExportFromCjs$1(x2) {\n  return x2 && x2.__esModule && Object.prototype.hasOwnProperty.call(x2, \"default\") ? x2[\"default\"] : x2;\n}\nfunction getAugmentedNamespace$1(n2) {\n  if (n2.__esModule) return n2;\n  var f2 = n2.default;\n  if (typeof f2 == \"function\") {\n    var a2 = function a22() {\n      if (this instanceof a22) {\n        return Reflect.construct(f2, arguments, this.constructor);\n      }\n      return f2.apply(this, arguments);\n    };\n    a2.prototype = f2.prototype;\n  } else a2 = {};\n  Object.defineProperty(a2, \"__esModule\", { value: true });\n  Object.keys(n2).forEach(function(k) {\n    var d = Object.getOwnPropertyDescriptor(n2, k);\n    Object.defineProperty(a2, k, d.get ? d : {\n      enumerable: true,\n      get: function() {\n        return n2[k];\n      }\n    });\n  });\n  return a2;\n}\n// Removed postcss\nclass BaseRRNode {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-explicit-any\n  constructor(..._args) {\n    __publicField2(this, \"parentElement\", null);\n    __publicField2(this, \"parentNode\", null);\n    __publicField2(this, \"ownerDocument\");\n    __publicField2(this, \"firstChild\", null);\n    __publicField2(this, \"lastChild\", null);\n    __publicField2(this, \"previousSibling\", null);\n    __publicField2(this, \"nextSibling\", null);\n    __publicField2(this, \"ELEMENT_NODE\", 1);\n    __publicField2(this, \"TEXT_NODE\", 3);\n    __publicField2(this, \"nodeType\");\n    __publicField2(this, \"nodeName\");\n    __publicField2(this, \"RRNodeType\");\n  }\n  get childNodes() {\n    const childNodes2 = [];\n    let childIterator = this.firstChild;\n    while (childIterator) {\n      childNodes2.push(childIterator);\n      childIterator = childIterator.nextSibling;\n    }\n    return childNodes2;\n  }\n  contains(node2) {\n    if (!(node2 instanceof BaseRRNode)) return false;\n    else if (node2.ownerDocument !== this.ownerDocument) return false;\n    else if (node2 === this) return true;\n    while (node2.parentNode) {\n      if (node2.parentNode === this) return true;\n      node2 = node2.parentNode;\n    }\n    return false;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  appendChild(_newChild) {\n    throw new Error(\n      `RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.`\n    );\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  insertBefore(_newChild, _refChild) {\n    throw new Error(\n      `RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.`\n    );\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  removeChild(_node) {\n    throw new Error(\n      `RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.`\n    );\n  }\n  toString() {\n    return \"RRNode\";\n  }\n}\nconst testableAccessors = {\n  Node: [\"childNodes\", \"parentNode\", \"parentElement\", \"textContent\"],\n  ShadowRoot: [\"host\", \"styleSheets\"],\n  Element: [\"shadowRoot\", \"querySelector\", \"querySelectorAll\"],\n  MutationObserver: []\n};\nconst testableMethods = {\n  Node: [\"contains\", \"getRootNode\"],\n  ShadowRoot: [\"getSelection\"],\n  Element: [],\n  MutationObserver: [\"constructor\"]\n};\nconst untaintedBasePrototype = {};\nfunction getUntaintedPrototype(key) {\n  if (untaintedBasePrototype[key])\n    return untaintedBasePrototype[key];\n  const defaultObj = globalThis[key];\n  const defaultPrototype = defaultObj.prototype;\n  const accessorNames = key in testableAccessors ? testableAccessors[key] : void 0;\n  const isUntaintedAccessors = Boolean(\n    accessorNames && // @ts-expect-error 2345\n    accessorNames.every(\n      (accessor) => {\n        var _a2, _b;\n        return Boolean(\n          (_b = (_a2 = Object.getOwnPropertyDescriptor(defaultPrototype, accessor)) == null ? void 0 : _a2.get) == null ? void 0 : _b.toString().includes(\"[native code]\")\n        );\n      }\n    )\n  );\n  const methodNames = key in testableMethods ? testableMethods[key] : void 0;\n  const isUntaintedMethods = Boolean(\n    methodNames && methodNames.every(\n      // @ts-expect-error 2345\n      (method) => {\n        var _a2;\n        return typeof defaultPrototype[method] === \"function\" && ((_a2 = defaultPrototype[method]) == null ? void 0 : _a2.toString().includes(\"[native code]\"));\n      }\n    )\n  );\n  if (isUntaintedAccessors && isUntaintedMethods) {\n    untaintedBasePrototype[key] = defaultObj.prototype;\n    return defaultObj.prototype;\n  }\n  try {\n    const iframeEl = document.createElement(\"iframe\");\n    document.body.appendChild(iframeEl);\n    const win = iframeEl.contentWindow;\n    if (!win) return defaultObj.prototype;\n    const untaintedObject = win[key].prototype;\n    document.body.removeChild(iframeEl);\n    if (!untaintedObject) return defaultPrototype;\n    return untaintedBasePrototype[key] = untaintedObject;\n  } catch {\n    return defaultPrototype;\n  }\n}\nconst untaintedAccessorCache = {};\nfunction getUntaintedAccessor(key, instance, accessor) {\n  var _a2;\n  const cacheKey = `${key}.${String(accessor)}`;\n  if (untaintedAccessorCache[cacheKey])\n    return untaintedAccessorCache[cacheKey].call(\n      instance\n    );\n  const untaintedPrototype = getUntaintedPrototype(key);\n  const untaintedAccessor = (_a2 = Object.getOwnPropertyDescriptor(\n    untaintedPrototype,\n    accessor\n  )) == null ? void 0 : _a2.get;\n  if (!untaintedAccessor) return instance[accessor];\n  untaintedAccessorCache[cacheKey] = untaintedAccessor;\n  return untaintedAccessor.call(instance);\n}\nconst untaintedMethodCache = {};\nfunction getUntaintedMethod(key, instance, method) {\n  const cacheKey = `${key}.${String(method)}`;\n  if (untaintedMethodCache[cacheKey])\n    return untaintedMethodCache[cacheKey].bind(\n      instance\n    );\n  const untaintedPrototype = getUntaintedPrototype(key);\n  const untaintedMethod = untaintedPrototype[method];\n  if (typeof untaintedMethod !== \"function\") return instance[method];\n  untaintedMethodCache[cacheKey] = untaintedMethod;\n  return untaintedMethod.bind(instance);\n}\nfunction childNodes(n2) {\n  return getUntaintedAccessor(\"Node\", n2, \"childNodes\");\n}\nfunction parentNode(n2) {\n  return getUntaintedAccessor(\"Node\", n2, \"parentNode\");\n}\nfunction parentElement(n2) {\n  return getUntaintedAccessor(\"Node\", n2, \"parentElement\");\n}\nfunction textContent(n2) {\n  return getUntaintedAccessor(\"Node\", n2, \"textContent\");\n}\nfunction contains(n2, other) {\n  return getUntaintedMethod(\"Node\", n2, \"contains\")(other);\n}\nfunction getRootNode(n2) {\n  return getUntaintedMethod(\"Node\", n2, \"getRootNode\")();\n}\nfunction host(n2) {\n  if (!n2 || !(\"host\" in n2)) return null;\n  return getUntaintedAccessor(\"ShadowRoot\", n2, \"host\");\n}\nfunction styleSheets(n2) {\n  return n2.styleSheets;\n}\nfunction shadowRoot(n2) {\n  if (!n2 || !(\"shadowRoot\" in n2)) return null;\n  return getUntaintedAccessor(\"Element\", n2, \"shadowRoot\");\n}\nfunction querySelector(n2, selectors) {\n  return getUntaintedAccessor(\"Element\", n2, \"querySelector\")(selectors);\n}\nfunction querySelectorAll(n2, selectors) {\n  return getUntaintedAccessor(\"Element\", n2, \"querySelectorAll\")(selectors);\n}\nfunction mutationObserverCtor() {\n  return getUntaintedPrototype(\"MutationObserver\").constructor;\n}\nconst index = {\n  childNodes,\n  parentNode,\n  parentElement,\n  textContent,\n  contains,\n  getRootNode,\n  host,\n  styleSheets,\n  shadowRoot,\n  querySelector,\n  querySelectorAll,\n  mutationObserver: mutationObserverCtor\n};\nfunction on(type, fn, target = document) {\n  const options = { capture: true, passive: true };\n  target.addEventListener(type, fn, options);\n  return () => target.removeEventListener(type, fn, options);\n}\nconst DEPARTED_MIRROR_ACCESS_WARNING = \"Please stop import mirror directly. Instead of that,\\r\\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\\r\\nor you can use record.mirror to access the mirror instance during recording.\";\nlet _mirror = {\n  map: {},\n  getId() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n    return -1;\n  },\n  getNode() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n    return null;\n  },\n  removeNodeFromMap() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n  },\n  has() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n    return false;\n  },\n  reset() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n  }\n};\nif (typeof window !== \"undefined\" && window.Proxy && window.Reflect) {\n  _mirror = new Proxy(_mirror, {\n    get(target, prop, receiver) {\n      if (prop === \"map\") {\n        console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n      }\n      return Reflect.get(target, prop, receiver);\n    }\n  });\n}\nfunction throttle(func, wait, options = {}) {\n  let timeout = null;\n  let previous = 0;\n  return function(...args) {\n    const now = Date.now();\n    if (!previous && options.leading === false) {\n      previous = now;\n    }\n    const remaining = wait - (now - previous);\n    const context = this;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = now;\n      func.apply(context, args);\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(() => {\n        previous = options.leading === false ? 0 : Date.now();\n        timeout = null;\n        func.apply(context, args);\n      }, remaining);\n    }\n  };\n}\nfunction hookSetter(target, key, d, isRevoked, win = window) {\n  const original = win.Object.getOwnPropertyDescriptor(target, key);\n  win.Object.defineProperty(\n    target,\n    key,\n    isRevoked ? d : {\n      set(value) {\n        setTimeout(() => {\n          d.set.call(this, value);\n        }, 0);\n        if (original && original.set) {\n          original.set.call(this, value);\n        }\n      }\n    }\n  );\n  return () => hookSetter(target, key, original || {}, true);\n}\nfunction patch(source, name, replacement) {\n  try {\n    if (!(name in source)) {\n      return () => {\n      };\n    }\n    const original = source[name];\n    const wrapped = replacement(original);\n    if (typeof wrapped === \"function\") {\n      wrapped.prototype = wrapped.prototype || {};\n      Object.defineProperties(wrapped, {\n        __rrweb_original__: {\n          enumerable: false,\n          value: original\n        }\n      });\n    }\n    source[name] = wrapped;\n    return () => {\n      source[name] = original;\n    };\n  } catch {\n    return () => {\n    };\n  }\n}\nlet nowTimestamp = Date.now;\nif (!/* @__PURE__ */ /[1-9][0-9]{12}/.test(Date.now().toString())) {\n  nowTimestamp = () => (/* @__PURE__ */ new Date()).getTime();\n}\nfunction getWindowScroll(win) {\n  var _a2, _b, _c, _d;\n  const doc = win.document;\n  return {\n    left: doc.scrollingElement ? doc.scrollingElement.scrollLeft : win.pageXOffset !== void 0 ? win.pageXOffset : doc.documentElement.scrollLeft || (doc == null ? void 0 : doc.body) && ((_a2 = index.parentElement(doc.body)) == null ? void 0 : _a2.scrollLeft) || ((_b = doc == null ? void 0 : doc.body) == null ? void 0 : _b.scrollLeft) || 0,\n    top: doc.scrollingElement ? doc.scrollingElement.scrollTop : win.pageYOffset !== void 0 ? win.pageYOffset : (doc == null ? void 0 : doc.documentElement.scrollTop) || (doc == null ? void 0 : doc.body) && ((_c = index.parentElement(doc.body)) == null ? void 0 : _c.scrollTop) || ((_d = doc == null ? void 0 : doc.body) == null ? void 0 : _d.scrollTop) || 0\n  };\n}\nfunction getWindowHeight() {\n  return window.innerHeight || document.documentElement && document.documentElement.clientHeight || document.body && document.body.clientHeight;\n}\nfunction getWindowWidth() {\n  return window.innerWidth || document.documentElement && document.documentElement.clientWidth || document.body && document.body.clientWidth;\n}\nfunction closestElementOfNode(node2) {\n  if (!node2) {\n    return null;\n  }\n  const el = node2.nodeType === node2.ELEMENT_NODE ? node2 : index.parentElement(node2);\n  return el;\n}\nfunction isBlocked(node2, blockClass, blockSelector, checkAncestors) {\n  if (!node2) {\n    return false;\n  }\n  const el = closestElementOfNode(node2);\n  if (!el) {\n    return false;\n  }\n  try {\n    if (typeof blockClass === \"string\") {\n      if (el.classList.contains(blockClass)) return true;\n      if (checkAncestors && el.closest(\".\" + blockClass) !== null) return true;\n    } else {\n      if (classMatchesRegex(el, blockClass, checkAncestors)) return true;\n    }\n  } catch (e2) {\n  }\n  if (blockSelector) {\n    if (el.matches(blockSelector)) return true;\n    if (checkAncestors && el.closest(blockSelector) !== null) return true;\n  }\n  return false;\n}\nfunction isSerialized(n2, mirror2) {\n  return mirror2.getId(n2) !== -1;\n}\nfunction isIgnored(n2, mirror2, slimDOMOptions) {\n  if (n2.tagName === \"TITLE\" && slimDOMOptions.headTitleMutations) {\n    return true;\n  }\n  return mirror2.getId(n2) === IGNORED_NODE;\n}\nfunction isAncestorRemoved(target, mirror2) {\n  if (isShadowRoot(target)) {\n    return false;\n  }\n  const id = mirror2.getId(target);\n  if (!mirror2.has(id)) {\n    return true;\n  }\n  const parent = index.parentNode(target);\n  if (parent && parent.nodeType === target.DOCUMENT_NODE) {\n    return false;\n  }\n  if (!parent) {\n    return true;\n  }\n  return isAncestorRemoved(parent, mirror2);\n}\nfunction legacy_isTouchEvent(event) {\n  return Boolean(event.changedTouches);\n}\nfunction polyfill$1(win = window) {\n  if (\"NodeList\" in win && !win.NodeList.prototype.forEach) {\n    win.NodeList.prototype.forEach = Array.prototype.forEach;\n  }\n  if (\"DOMTokenList\" in win && !win.DOMTokenList.prototype.forEach) {\n    win.DOMTokenList.prototype.forEach = Array.prototype.forEach;\n  }\n}\nfunction isSerializedIframe(n2, mirror2) {\n  return Boolean(n2.nodeName === \"IFRAME\" && mirror2.getMeta(n2));\n}\nfunction isSerializedStylesheet(n2, mirror2) {\n  return Boolean(\n    n2.nodeName === \"LINK\" && n2.nodeType === n2.ELEMENT_NODE && n2.getAttribute && n2.getAttribute(\"rel\") === \"stylesheet\" && mirror2.getMeta(n2)\n  );\n}\nfunction hasShadowRoot(n2) {\n  if (!n2) return false;\n  if (n2 instanceof BaseRRNode && \"shadowRoot\" in n2) {\n    return Boolean(n2.shadowRoot);\n  }\n  return Boolean(index.shadowRoot(n2));\n}\nclass StyleSheetMirror {\n  constructor() {\n    __publicField(this, \"id\", 1);\n    __publicField(this, \"styleIDMap\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"idStyleMap\", /* @__PURE__ */ new Map());\n  }\n  getId(stylesheet) {\n    return this.styleIDMap.get(stylesheet) ?? -1;\n  }\n  has(stylesheet) {\n    return this.styleIDMap.has(stylesheet);\n  }\n  /**\n   * @returns If the stylesheet is in the mirror, returns the id of the stylesheet. If not, return the new assigned id.\n   */\n  add(stylesheet, id) {\n    if (this.has(stylesheet)) return this.getId(stylesheet);\n    let newId;\n    if (id === void 0) {\n      newId = this.id++;\n    } else newId = id;\n    this.styleIDMap.set(stylesheet, newId);\n    this.idStyleMap.set(newId, stylesheet);\n    return newId;\n  }\n  getStyle(id) {\n    return this.idStyleMap.get(id) || null;\n  }\n  reset() {\n    this.styleIDMap = /* @__PURE__ */ new WeakMap();\n    this.idStyleMap = /* @__PURE__ */ new Map();\n    this.id = 1;\n  }\n  generateId() {\n    return this.id++;\n  }\n}\nfunction getShadowHost(n2) {\n  var _a2;\n  let shadowHost = null;\n  if (\"getRootNode\" in n2 && ((_a2 = index.getRootNode(n2)) == null ? void 0 : _a2.nodeType) === Node.DOCUMENT_FRAGMENT_NODE && index.host(index.getRootNode(n2)))\n    shadowHost = index.host(index.getRootNode(n2));\n  return shadowHost;\n}\nfunction getRootShadowHost(n2) {\n  let rootShadowHost = n2;\n  let shadowHost;\n  while (shadowHost = getShadowHost(rootShadowHost))\n    rootShadowHost = shadowHost;\n  return rootShadowHost;\n}\nfunction shadowHostInDom(n2) {\n  const doc = n2.ownerDocument;\n  if (!doc) return false;\n  const shadowHost = getRootShadowHost(n2);\n  return index.contains(doc, shadowHost);\n}\nfunction inDom(n2) {\n  const doc = n2.ownerDocument;\n  if (!doc) return false;\n  return index.contains(doc, n2) || shadowHostInDom(n2);\n}\nvar EventType = /* @__PURE__ */ ((EventType2) => {\n  EventType2[EventType2[\"DomContentLoaded\"] = 0] = \"DomContentLoaded\";\n  EventType2[EventType2[\"Load\"] = 1] = \"Load\";\n  EventType2[EventType2[\"FullSnapshot\"] = 2] = \"FullSnapshot\";\n  EventType2[EventType2[\"IncrementalSnapshot\"] = 3] = \"IncrementalSnapshot\";\n  EventType2[EventType2[\"Meta\"] = 4] = \"Meta\";\n  EventType2[EventType2[\"Custom\"] = 5] = \"Custom\";\n  EventType2[EventType2[\"Plugin\"] = 6] = \"Plugin\";\n  return EventType2;\n})(EventType || {});\nvar IncrementalSource = /* @__PURE__ */ ((IncrementalSource2) => {\n  IncrementalSource2[IncrementalSource2[\"Mutation\"] = 0] = \"Mutation\";\n  IncrementalSource2[IncrementalSource2[\"MouseMove\"] = 1] = \"MouseMove\";\n  IncrementalSource2[IncrementalSource2[\"MouseInteraction\"] = 2] = \"MouseInteraction\";\n  IncrementalSource2[IncrementalSource2[\"Scroll\"] = 3] = \"Scroll\";\n  IncrementalSource2[IncrementalSource2[\"ViewportResize\"] = 4] = \"ViewportResize\";\n  IncrementalSource2[IncrementalSource2[\"Input\"] = 5] = \"Input\";\n  IncrementalSource2[IncrementalSource2[\"TouchMove\"] = 6] = \"TouchMove\";\n  IncrementalSource2[IncrementalSource2[\"MediaInteraction\"] = 7] = \"MediaInteraction\";\n  IncrementalSource2[IncrementalSource2[\"StyleSheetRule\"] = 8] = \"StyleSheetRule\";\n  IncrementalSource2[IncrementalSource2[\"CanvasMutation\"] = 9] = \"CanvasMutation\";\n  IncrementalSource2[IncrementalSource2[\"Font\"] = 10] = \"Font\";\n  IncrementalSource2[IncrementalSource2[\"Log\"] = 11] = \"Log\";\n  IncrementalSource2[IncrementalSource2[\"Drag\"] = 12] = \"Drag\";\n  IncrementalSource2[IncrementalSource2[\"StyleDeclaration\"] = 13] = \"StyleDeclaration\";\n  IncrementalSource2[IncrementalSource2[\"Selection\"] = 14] = \"Selection\";\n  IncrementalSource2[IncrementalSource2[\"AdoptedStyleSheet\"] = 15] = \"AdoptedStyleSheet\";\n  IncrementalSource2[IncrementalSource2[\"CustomElement\"] = 16] = \"CustomElement\";\n  return IncrementalSource2;\n})(IncrementalSource || {});\nvar MouseInteractions = /* @__PURE__ */ ((MouseInteractions2) => {\n  MouseInteractions2[MouseInteractions2[\"MouseUp\"] = 0] = \"MouseUp\";\n  MouseInteractions2[MouseInteractions2[\"MouseDown\"] = 1] = \"MouseDown\";\n  MouseInteractions2[MouseInteractions2[\"Click\"] = 2] = \"Click\";\n  MouseInteractions2[MouseInteractions2[\"ContextMenu\"] = 3] = \"ContextMenu\";\n  MouseInteractions2[MouseInteractions2[\"DblClick\"] = 4] = \"DblClick\";\n  MouseInteractions2[MouseInteractions2[\"Focus\"] = 5] = \"Focus\";\n  MouseInteractions2[MouseInteractions2[\"Blur\"] = 6] = \"Blur\";\n  MouseInteractions2[MouseInteractions2[\"TouchStart\"] = 7] = \"TouchStart\";\n  MouseInteractions2[MouseInteractions2[\"TouchMove_Departed\"] = 8] = \"TouchMove_Departed\";\n  MouseInteractions2[MouseInteractions2[\"TouchEnd\"] = 9] = \"TouchEnd\";\n  MouseInteractions2[MouseInteractions2[\"TouchCancel\"] = 10] = \"TouchCancel\";\n  return MouseInteractions2;\n})(MouseInteractions || {});\nvar PointerTypes = /* @__PURE__ */ ((PointerTypes2) => {\n  PointerTypes2[PointerTypes2[\"Mouse\"] = 0] = \"Mouse\";\n  PointerTypes2[PointerTypes2[\"Pen\"] = 1] = \"Pen\";\n  PointerTypes2[PointerTypes2[\"Touch\"] = 2] = \"Touch\";\n  return PointerTypes2;\n})(PointerTypes || {});\nvar CanvasContext = /* @__PURE__ */ ((CanvasContext2) => {\n  CanvasContext2[CanvasContext2[\"2D\"] = 0] = \"2D\";\n  CanvasContext2[CanvasContext2[\"WebGL\"] = 1] = \"WebGL\";\n  CanvasContext2[CanvasContext2[\"WebGL2\"] = 2] = \"WebGL2\";\n  return CanvasContext2;\n})(CanvasContext || {});\nvar MediaInteractions = /* @__PURE__ */ ((MediaInteractions2) => {\n  MediaInteractions2[MediaInteractions2[\"Play\"] = 0] = \"Play\";\n  MediaInteractions2[MediaInteractions2[\"Pause\"] = 1] = \"Pause\";\n  MediaInteractions2[MediaInteractions2[\"Seeked\"] = 2] = \"Seeked\";\n  MediaInteractions2[MediaInteractions2[\"VolumeChange\"] = 3] = \"VolumeChange\";\n  MediaInteractions2[MediaInteractions2[\"RateChange\"] = 4] = \"RateChange\";\n  return MediaInteractions2;\n})(MediaInteractions || {});\nfunction isNodeInLinkedList(n2) {\n  return \"__ln\" in n2;\n}\nclass DoubleLinkedList {\n  constructor() {\n    __publicField(this, \"length\", 0);\n    __publicField(this, \"head\", null);\n    __publicField(this, \"tail\", null);\n  }\n  get(position) {\n    if (position >= this.length) {\n      throw new Error(\"Position outside of list range\");\n    }\n    let current = this.head;\n    for (let index2 = 0; index2 < position; index2++) {\n      current = (current == null ? void 0 : current.next) || null;\n    }\n    return current;\n  }\n  addNode(n2) {\n    const node2 = {\n      value: n2,\n      previous: null,\n      next: null\n    };\n    n2.__ln = node2;\n    if (n2.previousSibling && isNodeInLinkedList(n2.previousSibling)) {\n      const current = n2.previousSibling.__ln.next;\n      node2.next = current;\n      node2.previous = n2.previousSibling.__ln;\n      n2.previousSibling.__ln.next = node2;\n      if (current) {\n        current.previous = node2;\n      }\n    } else if (n2.nextSibling && isNodeInLinkedList(n2.nextSibling) && n2.nextSibling.__ln.previous) {\n      const current = n2.nextSibling.__ln.previous;\n      node2.previous = current;\n      node2.next = n2.nextSibling.__ln;\n      n2.nextSibling.__ln.previous = node2;\n      if (current) {\n        current.next = node2;\n      }\n    } else {\n      if (this.head) {\n        this.head.previous = node2;\n      }\n      node2.next = this.head;\n      this.head = node2;\n    }\n    if (node2.next === null) {\n      this.tail = node2;\n    }\n    this.length++;\n  }\n  removeNode(n2) {\n    const current = n2.__ln;\n    if (!this.head) {\n      return;\n    }\n    if (!current.previous) {\n      this.head = current.next;\n      if (this.head) {\n        this.head.previous = null;\n      } else {\n        this.tail = null;\n      }\n    } else {\n      current.previous.next = current.next;\n      if (current.next) {\n        current.next.previous = current.previous;\n      } else {\n        this.tail = current.previous;\n      }\n    }\n    if (n2.__ln) {\n      delete n2.__ln;\n    }\n    this.length--;\n  }\n}\nconst moveKey = (id, parentId) => `${id}@${parentId}`;\nclass MutationBuffer {\n  constructor() {\n    __publicField(this, \"frozen\", false);\n    __publicField(this, \"locked\", false);\n    __publicField(this, \"texts\", []);\n    __publicField(this, \"attributes\", []);\n    __publicField(this, \"attributeMap\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"removes\", []);\n    __publicField(this, \"mapRemoves\", []);\n    __publicField(this, \"movedMap\", {});\n    __publicField(this, \"addedSet\", /* @__PURE__ */ new Set());\n    __publicField(this, \"movedSet\", /* @__PURE__ */ new Set());\n    __publicField(this, \"droppedSet\", /* @__PURE__ */ new Set());\n    __publicField(this, \"mutationCb\");\n    __publicField(this, \"blockClass\");\n    __publicField(this, \"blockSelector\");\n    __publicField(this, \"maskTextClass\");\n    __publicField(this, \"maskTextSelector\");\n    __publicField(this, \"inlineStylesheet\");\n    __publicField(this, \"maskInputOptions\");\n    __publicField(this, \"maskTextFn\");\n    __publicField(this, \"maskInputFn\");\n    __publicField(this, \"keepIframeSrcFn\");\n    __publicField(this, \"recordCanvas\");\n    __publicField(this, \"inlineImages\");\n    __publicField(this, \"slimDOMOptions\");\n    __publicField(this, \"dataURLOptions\");\n    __publicField(this, \"doc\");\n    __publicField(this, \"mirror\");\n    __publicField(this, \"iframeManager\");\n    __publicField(this, \"stylesheetManager\");\n    __publicField(this, \"shadowDomManager\");\n    __publicField(this, \"canvasManager\");\n    __publicField(this, \"processedNodeManager\");\n    __publicField(this, \"unattachedDoc\");\n    __publicField(this, \"processMutations\", (mutations) => {\n      mutations.forEach(this.processMutation);\n      this.emit();\n    });\n    __publicField(this, \"emit\", () => {\n      if (this.frozen || this.locked) {\n        return;\n      }\n      const adds = [];\n      const addedIds = /* @__PURE__ */ new Set();\n      const addList = new DoubleLinkedList();\n      const getNextId = (n2) => {\n        let ns = n2;\n        let nextId = IGNORED_NODE;\n        while (nextId === IGNORED_NODE) {\n          ns = ns && ns.nextSibling;\n          nextId = ns && this.mirror.getId(ns);\n        }\n        return nextId;\n      };\n      const pushAdd = (n2) => {\n        const parent = index.parentNode(n2);\n        if (!parent || !inDom(n2) || parent.tagName === \"TEXTAREA\") {\n          return;\n        }\n        const parentId = isShadowRoot(parent) ? this.mirror.getId(getShadowHost(n2)) : this.mirror.getId(parent);\n        const nextId = getNextId(n2);\n        if (parentId === -1 || nextId === -1) {\n          return addList.addNode(n2);\n        }\n        const sn = serializeNodeWithId(n2, {\n          doc: this.doc,\n          mirror: this.mirror,\n          blockClass: this.blockClass,\n          blockSelector: this.blockSelector,\n          maskTextClass: this.maskTextClass,\n          maskTextSelector: this.maskTextSelector,\n          skipChild: true,\n          newlyAddedElement: true,\n          inlineStylesheet: this.inlineStylesheet,\n          maskInputOptions: this.maskInputOptions,\n          maskTextFn: this.maskTextFn,\n          maskInputFn: this.maskInputFn,\n          slimDOMOptions: this.slimDOMOptions,\n          dataURLOptions: this.dataURLOptions,\n          recordCanvas: this.recordCanvas,\n          inlineImages: this.inlineImages,\n          onSerialize: (currentN) => {\n            if (isSerializedIframe(currentN, this.mirror)) {\n              this.iframeManager.addIframe(currentN);\n            }\n            if (isSerializedStylesheet(currentN, this.mirror)) {\n              this.stylesheetManager.trackLinkElement(\n                currentN\n              );\n            }\n            if (hasShadowRoot(n2)) {\n              this.shadowDomManager.addShadowRoot(index.shadowRoot(n2), this.doc);\n            }\n          },\n          onIframeLoad: (iframe, childSn) => {\n            this.iframeManager.attachIframe(iframe, childSn);\n            this.shadowDomManager.observeAttachShadow(iframe);\n          },\n          onStylesheetLoad: (link, childSn) => {\n            this.stylesheetManager.attachLinkElement(link, childSn);\n          }\n        });\n        if (sn) {\n          adds.push({\n            parentId,\n            nextId,\n            node: sn\n          });\n          addedIds.add(sn.id);\n        }\n      };\n      while (this.mapRemoves.length) {\n        this.mirror.removeNodeFromMap(this.mapRemoves.shift());\n      }\n      for (const n2 of this.movedSet) {\n        if (isParentRemoved(this.removes, n2, this.mirror) && !this.movedSet.has(index.parentNode(n2))) {\n          continue;\n        }\n        pushAdd(n2);\n      }\n      for (const n2 of this.addedSet) {\n        if (!isAncestorInSet(this.droppedSet, n2) && !isParentRemoved(this.removes, n2, this.mirror)) {\n          pushAdd(n2);\n        } else if (isAncestorInSet(this.movedSet, n2)) {\n          pushAdd(n2);\n        } else {\n          this.droppedSet.add(n2);\n        }\n      }\n      let candidate = null;\n      while (addList.length) {\n        let node2 = null;\n        if (candidate) {\n          const parentId = this.mirror.getId(index.parentNode(candidate.value));\n          const nextId = getNextId(candidate.value);\n          if (parentId !== -1 && nextId !== -1) {\n            node2 = candidate;\n          }\n        }\n        if (!node2) {\n          let tailNode = addList.tail;\n          while (tailNode) {\n            const _node = tailNode;\n            tailNode = tailNode.previous;\n            if (_node) {\n              const parentId = this.mirror.getId(index.parentNode(_node.value));\n              const nextId = getNextId(_node.value);\n              if (nextId === -1) continue;\n              else if (parentId !== -1) {\n                node2 = _node;\n                break;\n              } else {\n                const unhandledNode = _node.value;\n                const parent = index.parentNode(unhandledNode);\n                if (parent && parent.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n                  const shadowHost = index.host(parent);\n                  const parentId2 = this.mirror.getId(shadowHost);\n                  if (parentId2 !== -1) {\n                    node2 = _node;\n                    break;\n                  }\n                }\n              }\n            }\n          }\n        }\n        if (!node2) {\n          while (addList.head) {\n            addList.removeNode(addList.head.value);\n          }\n          break;\n        }\n        candidate = node2.previous;\n        addList.removeNode(node2.value);\n        pushAdd(node2.value);\n      }\n      const payload = {\n        texts: this.texts.map((text) => {\n          const n2 = text.node;\n          const parent = index.parentNode(n2);\n          if (parent && parent.tagName === \"TEXTAREA\") {\n            this.genTextAreaValueMutation(parent);\n          }\n          return {\n            id: this.mirror.getId(n2),\n            value: text.value\n          };\n        }).filter((text) => !addedIds.has(text.id)).filter((text) => this.mirror.has(text.id)),\n        attributes: this.attributes.map((attribute) => {\n          const { attributes } = attribute;\n          if (typeof attributes.style === \"string\") {\n            const diffAsStr = JSON.stringify(attribute.styleDiff);\n            const unchangedAsStr = JSON.stringify(attribute._unchangedStyles);\n            if (diffAsStr.length < attributes.style.length) {\n              if ((diffAsStr + unchangedAsStr).split(\"var(\").length === attributes.style.split(\"var(\").length) {\n                attributes.style = attribute.styleDiff;\n              }\n            }\n          }\n          return {\n            id: this.mirror.getId(attribute.node),\n            attributes\n          };\n        }).filter((attribute) => !addedIds.has(attribute.id)).filter((attribute) => this.mirror.has(attribute.id)),\n        removes: this.removes,\n        adds\n      };\n      if (!payload.texts.length && !payload.attributes.length && !payload.removes.length && !payload.adds.length) {\n        return;\n      }\n      this.texts = [];\n      this.attributes = [];\n      this.attributeMap = /* @__PURE__ */ new WeakMap();\n      this.removes = [];\n      this.addedSet = /* @__PURE__ */ new Set();\n      this.movedSet = /* @__PURE__ */ new Set();\n      this.droppedSet = /* @__PURE__ */ new Set();\n      this.movedMap = {};\n      this.mutationCb(payload);\n    });\n    __publicField(this, \"genTextAreaValueMutation\", (textarea) => {\n      let item = this.attributeMap.get(textarea);\n      if (!item) {\n        item = {\n          node: textarea,\n          attributes: {},\n          styleDiff: {},\n          _unchangedStyles: {}\n        };\n        this.attributes.push(item);\n        this.attributeMap.set(textarea, item);\n      }\n      item.attributes.value = Array.from(\n        index.childNodes(textarea),\n        (cn) => index.textContent(cn) || \"\"\n      ).join(\"\");\n    });\n    __publicField(this, \"processMutation\", (m) => {\n      if (isIgnored(m.target, this.mirror, this.slimDOMOptions)) {\n        return;\n      }\n      switch (m.type) {\n        case \"characterData\": {\n          const value = index.textContent(m.target);\n          if (!isBlocked(m.target, this.blockClass, this.blockSelector, false) && value !== m.oldValue) {\n            this.texts.push({\n              value: needMaskingText(\n                m.target,\n                this.maskTextClass,\n                this.maskTextSelector,\n                true\n                // checkAncestors\n              ) && value ? this.maskTextFn ? this.maskTextFn(value, closestElementOfNode(m.target)) : value.replace(/[\\S]/g, \"*\") : value,\n              node: m.target\n            });\n          }\n          break;\n        }\n        case \"attributes\": {\n          const target = m.target;\n          let attributeName = m.attributeName;\n          let value = m.target.getAttribute(attributeName);\n          if (attributeName === \"value\") {\n            const type = getInputType(target);\n            value = maskInputValue({\n              element: target,\n              maskInputOptions: this.maskInputOptions,\n              tagName: target.tagName,\n              type,\n              value,\n              maskInputFn: this.maskInputFn\n            });\n          }\n          if (isBlocked(m.target, this.blockClass, this.blockSelector, false) || value === m.oldValue) {\n            return;\n          }\n          let item = this.attributeMap.get(m.target);\n          if (target.tagName === \"IFRAME\" && attributeName === \"src\" && !this.keepIframeSrcFn(value)) {\n            if (!target.contentDocument) {\n              attributeName = \"rr_src\";\n            } else {\n              return;\n            }\n          }\n          if (!item) {\n            item = {\n              node: m.target,\n              attributes: {},\n              styleDiff: {},\n              _unchangedStyles: {}\n            };\n            this.attributes.push(item);\n            this.attributeMap.set(m.target, item);\n          }\n          if (attributeName === \"type\" && target.tagName === \"INPUT\" && (m.oldValue || \"\").toLowerCase() === \"password\") {\n            target.setAttribute(\"data-rr-is-password\", \"true\");\n          }\n          if (!ignoreAttribute(target.tagName, attributeName)) {\n            item.attributes[attributeName] = transformAttribute(\n              this.doc,\n              toLowerCase(target.tagName),\n              toLowerCase(attributeName),\n              value\n            );\n            if (attributeName === \"style\") {\n              if (!this.unattachedDoc) {\n                try {\n                  this.unattachedDoc = document.implementation.createHTMLDocument();\n                } catch (e2) {\n                  this.unattachedDoc = this.doc;\n                }\n              }\n              const old = this.unattachedDoc.createElement(\"span\");\n              if (m.oldValue) {\n                old.setAttribute(\"style\", m.oldValue);\n              }\n              for (const pname of Array.from(target.style)) {\n                const newValue = target.style.getPropertyValue(pname);\n                const newPriority = target.style.getPropertyPriority(pname);\n                if (newValue !== old.style.getPropertyValue(pname) || newPriority !== old.style.getPropertyPriority(pname)) {\n                  if (newPriority === \"\") {\n                    item.styleDiff[pname] = newValue;\n                  } else {\n                    item.styleDiff[pname] = [newValue, newPriority];\n                  }\n                } else {\n                  item._unchangedStyles[pname] = [newValue, newPriority];\n                }\n              }\n              for (const pname of Array.from(old.style)) {\n                if (target.style.getPropertyValue(pname) === \"\") {\n                  item.styleDiff[pname] = false;\n                }\n              }\n            } else if (attributeName === \"open\" && target.tagName === \"DIALOG\") {\n              if (target.matches(\"dialog:modal\")) {\n                item.attributes[\"rr_open_mode\"] = \"modal\";\n              } else {\n                item.attributes[\"rr_open_mode\"] = \"non-modal\";\n              }\n            }\n          }\n          break;\n        }\n        case \"childList\": {\n          if (isBlocked(m.target, this.blockClass, this.blockSelector, true))\n            return;\n          if (m.target.tagName === \"TEXTAREA\") {\n            this.genTextAreaValueMutation(m.target);\n            return;\n          }\n          m.addedNodes.forEach((n2) => this.genAdds(n2, m.target));\n          m.removedNodes.forEach((n2) => {\n            const nodeId = this.mirror.getId(n2);\n            const parentId = isShadowRoot(m.target) ? this.mirror.getId(index.host(m.target)) : this.mirror.getId(m.target);\n            if (isBlocked(m.target, this.blockClass, this.blockSelector, false) || isIgnored(n2, this.mirror, this.slimDOMOptions) || !isSerialized(n2, this.mirror)) {\n              return;\n            }\n            if (this.addedSet.has(n2)) {\n              deepDelete(this.addedSet, n2);\n              this.droppedSet.add(n2);\n            } else if (this.addedSet.has(m.target) && nodeId === -1) ;\n            else if (isAncestorRemoved(m.target, this.mirror)) ;\n            else if (this.movedSet.has(n2) && this.movedMap[moveKey(nodeId, parentId)]) {\n              deepDelete(this.movedSet, n2);\n            } else {\n              this.removes.push({\n                parentId,\n                id: nodeId,\n                isShadow: isShadowRoot(m.target) && isNativeShadowDom(m.target) ? true : void 0\n              });\n            }\n            this.mapRemoves.push(n2);\n          });\n          break;\n        }\n      }\n    });\n    __publicField(this, \"genAdds\", (n2, target) => {\n      if (this.processedNodeManager.inOtherBuffer(n2, this)) return;\n      if (this.addedSet.has(n2) || this.movedSet.has(n2)) return;\n      if (this.mirror.hasNode(n2)) {\n        if (isIgnored(n2, this.mirror, this.slimDOMOptions)) {\n          return;\n        }\n        this.movedSet.add(n2);\n        let targetId = null;\n        if (target && this.mirror.hasNode(target)) {\n          targetId = this.mirror.getId(target);\n        }\n        if (targetId && targetId !== -1) {\n          this.movedMap[moveKey(this.mirror.getId(n2), targetId)] = true;\n        }\n      } else {\n        this.addedSet.add(n2);\n        this.droppedSet.delete(n2);\n      }\n      if (!isBlocked(n2, this.blockClass, this.blockSelector, false)) {\n        index.childNodes(n2).forEach((childN) => this.genAdds(childN));\n        if (hasShadowRoot(n2)) {\n          index.childNodes(index.shadowRoot(n2)).forEach((childN) => {\n            this.processedNodeManager.add(childN, this);\n            this.genAdds(childN, n2);\n          });\n        }\n      }\n    });\n  }\n  init(options) {\n    [\n      \"mutationCb\",\n      \"blockClass\",\n      \"blockSelector\",\n      \"maskTextClass\",\n      \"maskTextSelector\",\n      \"inlineStylesheet\",\n      \"maskInputOptions\",\n      \"maskTextFn\",\n      \"maskInputFn\",\n      \"keepIframeSrcFn\",\n      \"recordCanvas\",\n      \"inlineImages\",\n      \"slimDOMOptions\",\n      \"dataURLOptions\",\n      \"doc\",\n      \"mirror\",\n      \"iframeManager\",\n      \"stylesheetManager\",\n      \"shadowDomManager\",\n      \"canvasManager\",\n      \"processedNodeManager\"\n    ].forEach((key) => {\n      this[key] = options[key];\n    });\n  }\n  freeze() {\n    this.frozen = true;\n    this.canvasManager.freeze();\n  }\n  unfreeze() {\n    this.frozen = false;\n    this.canvasManager.unfreeze();\n    this.emit();\n  }\n  isFrozen() {\n    return this.frozen;\n  }\n  lock() {\n    this.locked = true;\n    this.canvasManager.lock();\n  }\n  unlock() {\n    this.locked = false;\n    this.canvasManager.unlock();\n    this.emit();\n  }\n  reset() {\n    this.shadowDomManager.reset();\n    this.canvasManager.reset();\n  }\n}\nfunction deepDelete(addsSet, n2) {\n  addsSet.delete(n2);\n  index.childNodes(n2).forEach((childN) => deepDelete(addsSet, childN));\n}\nfunction isParentRemoved(removes, n2, mirror2) {\n  if (removes.length === 0) return false;\n  return _isParentRemoved(removes, n2, mirror2);\n}\nfunction _isParentRemoved(removes, n2, mirror2) {\n  let node2 = index.parentNode(n2);\n  while (node2) {\n    const parentId = mirror2.getId(node2);\n    if (removes.some((r2) => r2.id === parentId)) {\n      return true;\n    }\n    node2 = index.parentNode(node2);\n  }\n  return false;\n}\nfunction isAncestorInSet(set, n2) {\n  if (set.size === 0) return false;\n  return _isAncestorInSet(set, n2);\n}\nfunction _isAncestorInSet(set, n2) {\n  const parent = index.parentNode(n2);\n  if (!parent) {\n    return false;\n  }\n  if (set.has(parent)) {\n    return true;\n  }\n  return _isAncestorInSet(set, parent);\n}\nlet errorHandler;\nfunction registerErrorHandler(handler) {\n  errorHandler = handler;\n}\nfunction unregisterErrorHandler() {\n  errorHandler = void 0;\n}\nconst callbackWrapper = (cb) => {\n  if (!errorHandler) {\n    return cb;\n  }\n  const rrwebWrapped = (...rest) => {\n    try {\n      return cb(...rest);\n    } catch (error) {\n      if (errorHandler && errorHandler(error) === true) {\n        return;\n      }\n      throw error;\n    }\n  };\n  return rrwebWrapped;\n};\nconst mutationBuffers = [];\nfunction getEventTarget(event) {\n  try {\n    if (\"composedPath\" in event) {\n      const path = event.composedPath();\n      if (path.length) {\n        return path[0];\n      }\n    } else if (\"path\" in event && event.path.length) {\n      return event.path[0];\n    }\n  } catch {\n  }\n  return event && event.target;\n}\nfunction initMutationObserver(options, rootEl) {\n  const mutationBuffer = new MutationBuffer();\n  mutationBuffers.push(mutationBuffer);\n  mutationBuffer.init(options);\n  const observer = new (mutationObserverCtor())(\n    callbackWrapper(mutationBuffer.processMutations.bind(mutationBuffer))\n  );\n  observer.observe(rootEl, {\n    attributes: true,\n    attributeOldValue: true,\n    characterData: true,\n    characterDataOldValue: true,\n    childList: true,\n    subtree: true\n  });\n  return observer;\n}\nfunction initMoveObserver({\n  mousemoveCb,\n  sampling,\n  doc,\n  mirror: mirror2\n}) {\n  if (sampling.mousemove === false) {\n    return () => {\n    };\n  }\n  const threshold = typeof sampling.mousemove === \"number\" ? sampling.mousemove : 50;\n  const callbackThreshold = typeof sampling.mousemoveCallback === \"number\" ? sampling.mousemoveCallback : 500;\n  let positions = [];\n  let timeBaseline;\n  const wrappedCb = throttle(\n    callbackWrapper(\n      (source) => {\n        const totalOffset = Date.now() - timeBaseline;\n        mousemoveCb(\n          positions.map((p) => {\n            p.timeOffset -= totalOffset;\n            return p;\n          }),\n          source\n        );\n        positions = [];\n        timeBaseline = null;\n      }\n    ),\n    callbackThreshold\n  );\n  const updatePosition = callbackWrapper(\n    throttle(\n      callbackWrapper((evt) => {\n        const target = getEventTarget(evt);\n        const { clientX, clientY } = legacy_isTouchEvent(evt) ? evt.changedTouches[0] : evt;\n        if (!timeBaseline) {\n          timeBaseline = nowTimestamp();\n        }\n        positions.push({\n          x: clientX,\n          y: clientY,\n          id: mirror2.getId(target),\n          timeOffset: nowTimestamp() - timeBaseline\n        });\n        wrappedCb(\n          typeof DragEvent !== \"undefined\" && evt instanceof DragEvent ? IncrementalSource.Drag : evt instanceof MouseEvent ? IncrementalSource.MouseMove : IncrementalSource.TouchMove\n        );\n      }),\n      threshold,\n      {\n        trailing: false\n      }\n    )\n  );\n  const handlers = [\n    on(\"mousemove\", updatePosition, doc),\n    on(\"touchmove\", updatePosition, doc),\n    on(\"drag\", updatePosition, doc)\n  ];\n  return callbackWrapper(() => {\n    handlers.forEach((h) => h());\n  });\n}\nfunction initMouseInteractionObserver({\n  mouseInteractionCb,\n  doc,\n  mirror: mirror2,\n  blockClass,\n  blockSelector,\n  sampling\n}) {\n  if (sampling.mouseInteraction === false) {\n    return () => {\n    };\n  }\n  const disableMap = sampling.mouseInteraction === true || sampling.mouseInteraction === void 0 ? {} : sampling.mouseInteraction;\n  const handlers = [];\n  let currentPointerType = null;\n  const getHandler = (eventKey) => {\n    return (event) => {\n      const target = getEventTarget(event);\n      if (isBlocked(target, blockClass, blockSelector, true)) {\n        return;\n      }\n      let pointerType = null;\n      let thisEventKey = eventKey;\n      if (\"pointerType\" in event) {\n        switch (event.pointerType) {\n          case \"mouse\":\n            pointerType = PointerTypes.Mouse;\n            break;\n          case \"touch\":\n            pointerType = PointerTypes.Touch;\n            break;\n          case \"pen\":\n            pointerType = PointerTypes.Pen;\n            break;\n        }\n        if (pointerType === PointerTypes.Touch) {\n          if (MouseInteractions[eventKey] === MouseInteractions.MouseDown) {\n            thisEventKey = \"TouchStart\";\n          } else if (MouseInteractions[eventKey] === MouseInteractions.MouseUp) {\n            thisEventKey = \"TouchEnd\";\n          }\n        } else if (pointerType === PointerTypes.Pen) ;\n      } else if (legacy_isTouchEvent(event)) {\n        pointerType = PointerTypes.Touch;\n      }\n      if (pointerType !== null) {\n        currentPointerType = pointerType;\n        if (thisEventKey.startsWith(\"Touch\") && pointerType === PointerTypes.Touch || thisEventKey.startsWith(\"Mouse\") && pointerType === PointerTypes.Mouse) {\n          pointerType = null;\n        }\n      } else if (MouseInteractions[eventKey] === MouseInteractions.Click) {\n        pointerType = currentPointerType;\n        currentPointerType = null;\n      }\n      const e2 = legacy_isTouchEvent(event) ? event.changedTouches[0] : event;\n      if (!e2) {\n        return;\n      }\n      const id = mirror2.getId(target);\n      const { clientX, clientY } = e2;\n      callbackWrapper(mouseInteractionCb)({\n        type: MouseInteractions[thisEventKey],\n        id,\n        x: clientX,\n        y: clientY,\n        ...pointerType !== null && { pointerType }\n      });\n    };\n  };\n  Object.keys(MouseInteractions).filter(\n    (key) => Number.isNaN(Number(key)) && !key.endsWith(\"_Departed\") && disableMap[key] !== false\n  ).forEach((eventKey) => {\n    let eventName = toLowerCase(eventKey);\n    const handler = getHandler(eventKey);\n    if (window.PointerEvent) {\n      switch (MouseInteractions[eventKey]) {\n        case MouseInteractions.MouseDown:\n        case MouseInteractions.MouseUp:\n          eventName = eventName.replace(\n            \"mouse\",\n            \"pointer\"\n          );\n          break;\n        case MouseInteractions.TouchStart:\n        case MouseInteractions.TouchEnd:\n          return;\n      }\n    }\n    handlers.push(on(eventName, handler, doc));\n  });\n  return callbackWrapper(() => {\n    handlers.forEach((h) => h());\n  });\n}\nfunction initScrollObserver({\n  scrollCb,\n  doc,\n  mirror: mirror2,\n  blockClass,\n  blockSelector,\n  sampling\n}) {\n  const updatePosition = callbackWrapper(\n    throttle(\n      callbackWrapper((evt) => {\n        const target = getEventTarget(evt);\n        if (!target || isBlocked(target, blockClass, blockSelector, true)) {\n          return;\n        }\n        const id = mirror2.getId(target);\n        if (target === doc && doc.defaultView) {\n          const scrollLeftTop = getWindowScroll(doc.defaultView);\n          scrollCb({\n            id,\n            x: scrollLeftTop.left,\n            y: scrollLeftTop.top\n          });\n        } else {\n          scrollCb({\n            id,\n            x: target.scrollLeft,\n            y: target.scrollTop\n          });\n        }\n      }),\n      sampling.scroll || 100\n    )\n  );\n  return on(\"scroll\", updatePosition, doc);\n}\nfunction initViewportResizeObserver({ viewportResizeCb }, { win }) {\n  let lastH = -1;\n  let lastW = -1;\n  const updateDimension = callbackWrapper(\n    throttle(\n      callbackWrapper(() => {\n        const height = getWindowHeight();\n        const width = getWindowWidth();\n        if (lastH !== height || lastW !== width) {\n          viewportResizeCb({\n            width: Number(width),\n            height: Number(height)\n          });\n          lastH = height;\n          lastW = width;\n        }\n      }),\n      200\n    )\n  );\n  return on(\"resize\", updateDimension, win);\n}\nconst INPUT_TAGS = [\"INPUT\", \"TEXTAREA\", \"SELECT\"];\nconst lastInputValueMap = /* @__PURE__ */ new WeakMap();\nfunction initInputObserver({\n  inputCb,\n  doc,\n  mirror: mirror2,\n  blockClass,\n  blockSelector,\n  ignoreClass,\n  ignoreSelector,\n  maskInputOptions,\n  maskInputFn,\n  sampling,\n  userTriggeredOnInput\n}) {\n  function eventHandler(event) {\n    let target = getEventTarget(event);\n    const userTriggered = event.isTrusted;\n    const tagName = target && target.tagName;\n    if (target && tagName === \"OPTION\") {\n      target = index.parentElement(target);\n    }\n    if (!target || !tagName || INPUT_TAGS.indexOf(tagName) < 0 || isBlocked(target, blockClass, blockSelector, true)) {\n      return;\n    }\n    if (target.classList.contains(ignoreClass) || ignoreSelector && target.matches(ignoreSelector)) {\n      return;\n    }\n    let text = target.value;\n    let isChecked = false;\n    const type = getInputType(target) || \"\";\n    if (type === \"radio\" || type === \"checkbox\") {\n      isChecked = target.checked;\n    } else if (maskInputOptions[tagName.toLowerCase()] || maskInputOptions[type]) {\n      text = maskInputValue({\n        element: target,\n        maskInputOptions,\n        tagName,\n        type,\n        value: text,\n        maskInputFn\n      });\n    }\n    cbWithDedup(\n      target,\n      userTriggeredOnInput ? { text, isChecked, userTriggered } : { text, isChecked }\n    );\n    const name = target.name;\n    if (type === \"radio\" && name && isChecked) {\n      doc.querySelectorAll(`input[type=\"radio\"][name=\"${name}\"]`).forEach((el) => {\n        if (el !== target) {\n          const text2 = el.value;\n          cbWithDedup(\n            el,\n            userTriggeredOnInput ? { text: text2, isChecked: !isChecked, userTriggered: false } : { text: text2, isChecked: !isChecked }\n          );\n        }\n      });\n    }\n  }\n  function cbWithDedup(target, v2) {\n    const lastInputValue = lastInputValueMap.get(target);\n    if (!lastInputValue || lastInputValue.text !== v2.text || lastInputValue.isChecked !== v2.isChecked) {\n      lastInputValueMap.set(target, v2);\n      const id = mirror2.getId(target);\n      callbackWrapper(inputCb)({\n        ...v2,\n        id\n      });\n    }\n  }\n  const events = sampling.input === \"last\" ? [\"change\"] : [\"input\", \"change\"];\n  const handlers = events.map(\n    (eventName) => on(eventName, callbackWrapper(eventHandler), doc)\n  );\n  const currentWindow = doc.defaultView;\n  if (!currentWindow) {\n    return () => {\n      handlers.forEach((h) => h());\n    };\n  }\n  const propertyDescriptor = currentWindow.Object.getOwnPropertyDescriptor(\n    currentWindow.HTMLInputElement.prototype,\n    \"value\"\n  );\n  const hookProperties = [\n    [currentWindow.HTMLInputElement.prototype, \"value\"],\n    [currentWindow.HTMLInputElement.prototype, \"checked\"],\n    [currentWindow.HTMLSelectElement.prototype, \"value\"],\n    [currentWindow.HTMLTextAreaElement.prototype, \"value\"],\n    // Some UI library use selectedIndex to set select value\n    [currentWindow.HTMLSelectElement.prototype, \"selectedIndex\"],\n    [currentWindow.HTMLOptionElement.prototype, \"selected\"]\n  ];\n  if (propertyDescriptor && propertyDescriptor.set) {\n    handlers.push(\n      ...hookProperties.map(\n        (p) => hookSetter(\n          p[0],\n          p[1],\n          {\n            set() {\n              callbackWrapper(eventHandler)({\n                target: this,\n                isTrusted: false\n                // userTriggered to false as this could well be programmatic\n              });\n            }\n          },\n          false,\n          currentWindow\n        )\n      )\n    );\n  }\n  return callbackWrapper(() => {\n    handlers.forEach((h) => h());\n  });\n}\nfunction getNestedCSSRulePositions(rule2) {\n  const positions = [];\n  function recurse(childRule, pos) {\n    if (hasNestedCSSRule(\"CSSGroupingRule\") && childRule.parentRule instanceof CSSGroupingRule || hasNestedCSSRule(\"CSSMediaRule\") && childRule.parentRule instanceof CSSMediaRule || hasNestedCSSRule(\"CSSSupportsRule\") && childRule.parentRule instanceof CSSSupportsRule || hasNestedCSSRule(\"CSSConditionRule\") && childRule.parentRule instanceof CSSConditionRule) {\n      const rules2 = Array.from(\n        childRule.parentRule.cssRules\n      );\n      const index2 = rules2.indexOf(childRule);\n      pos.unshift(index2);\n    } else if (childRule.parentStyleSheet) {\n      const rules2 = Array.from(childRule.parentStyleSheet.cssRules);\n      const index2 = rules2.indexOf(childRule);\n      pos.unshift(index2);\n    }\n    return pos;\n  }\n  return recurse(rule2, positions);\n}\nfunction getIdAndStyleId(sheet, mirror2, styleMirror) {\n  let id, styleId;\n  if (!sheet) return {};\n  if (sheet.ownerNode) id = mirror2.getId(sheet.ownerNode);\n  else styleId = styleMirror.getId(sheet);\n  return {\n    styleId,\n    id\n  };\n}\nfunction initStyleSheetObserver({ styleSheetRuleCb, mirror: mirror2, stylesheetManager }, { win }) {\n  if (!win.CSSStyleSheet || !win.CSSStyleSheet.prototype) {\n    return () => {\n    };\n  }\n  const insertRule = win.CSSStyleSheet.prototype.insertRule;\n  win.CSSStyleSheet.prototype.insertRule = new Proxy(insertRule, {\n    apply: callbackWrapper(\n      (target, thisArg, argumentsList) => {\n        const [rule2, index2] = argumentsList;\n        const { id, styleId } = getIdAndStyleId(\n          thisArg,\n          mirror2,\n          stylesheetManager.styleMirror\n        );\n        if (id && id !== -1 || styleId && styleId !== -1) {\n          styleSheetRuleCb({\n            id,\n            styleId,\n            adds: [{ rule: rule2, index: index2 }]\n          });\n        }\n        return target.apply(thisArg, argumentsList);\n      }\n    )\n  });\n  win.CSSStyleSheet.prototype.addRule = function(selector, styleBlock, index2 = this.cssRules.length) {\n    const rule2 = `${selector} { ${styleBlock} }`;\n    return win.CSSStyleSheet.prototype.insertRule.apply(this, [rule2, index2]);\n  };\n  const deleteRule = win.CSSStyleSheet.prototype.deleteRule;\n  win.CSSStyleSheet.prototype.deleteRule = new Proxy(deleteRule, {\n    apply: callbackWrapper(\n      (target, thisArg, argumentsList) => {\n        const [index2] = argumentsList;\n        const { id, styleId } = getIdAndStyleId(\n          thisArg,\n          mirror2,\n          stylesheetManager.styleMirror\n        );\n        if (id && id !== -1 || styleId && styleId !== -1) {\n          styleSheetRuleCb({\n            id,\n            styleId,\n            removes: [{ index: index2 }]\n          });\n        }\n        return target.apply(thisArg, argumentsList);\n      }\n    )\n  });\n  win.CSSStyleSheet.prototype.removeRule = function(index2) {\n    return win.CSSStyleSheet.prototype.deleteRule.apply(this, [index2]);\n  };\n  let replace;\n  if (win.CSSStyleSheet.prototype.replace) {\n    replace = win.CSSStyleSheet.prototype.replace;\n    win.CSSStyleSheet.prototype.replace = new Proxy(replace, {\n      apply: callbackWrapper(\n        (target, thisArg, argumentsList) => {\n          const [text] = argumentsList;\n          const { id, styleId } = getIdAndStyleId(\n            thisArg,\n            mirror2,\n            stylesheetManager.styleMirror\n          );\n          if (id && id !== -1 || styleId && styleId !== -1) {\n            styleSheetRuleCb({\n              id,\n              styleId,\n              replace: text\n            });\n          }\n          return target.apply(thisArg, argumentsList);\n        }\n      )\n    });\n  }\n  let replaceSync;\n  if (win.CSSStyleSheet.prototype.replaceSync) {\n    replaceSync = win.CSSStyleSheet.prototype.replaceSync;\n    win.CSSStyleSheet.prototype.replaceSync = new Proxy(replaceSync, {\n      apply: callbackWrapper(\n        (target, thisArg, argumentsList) => {\n          const [text] = argumentsList;\n          const { id, styleId } = getIdAndStyleId(\n            thisArg,\n            mirror2,\n            stylesheetManager.styleMirror\n          );\n          if (id && id !== -1 || styleId && styleId !== -1) {\n            styleSheetRuleCb({\n              id,\n              styleId,\n              replaceSync: text\n            });\n          }\n          return target.apply(thisArg, argumentsList);\n        }\n      )\n    });\n  }\n  const supportedNestedCSSRuleTypes = {};\n  if (canMonkeyPatchNestedCSSRule(\"CSSGroupingRule\")) {\n    supportedNestedCSSRuleTypes.CSSGroupingRule = win.CSSGroupingRule;\n  } else {\n    if (canMonkeyPatchNestedCSSRule(\"CSSMediaRule\")) {\n      supportedNestedCSSRuleTypes.CSSMediaRule = win.CSSMediaRule;\n    }\n    if (canMonkeyPatchNestedCSSRule(\"CSSConditionRule\")) {\n      supportedNestedCSSRuleTypes.CSSConditionRule = win.CSSConditionRule;\n    }\n    if (canMonkeyPatchNestedCSSRule(\"CSSSupportsRule\")) {\n      supportedNestedCSSRuleTypes.CSSSupportsRule = win.CSSSupportsRule;\n    }\n  }\n  const unmodifiedFunctions = {};\n  Object.entries(supportedNestedCSSRuleTypes).forEach(([typeKey, type]) => {\n    unmodifiedFunctions[typeKey] = {\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      insertRule: type.prototype.insertRule,\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      deleteRule: type.prototype.deleteRule\n    };\n    type.prototype.insertRule = new Proxy(\n      unmodifiedFunctions[typeKey].insertRule,\n      {\n        apply: callbackWrapper(\n          (target, thisArg, argumentsList) => {\n            const [rule2, index2] = argumentsList;\n            const { id, styleId } = getIdAndStyleId(\n              thisArg.parentStyleSheet,\n              mirror2,\n              stylesheetManager.styleMirror\n            );\n            if (id && id !== -1 || styleId && styleId !== -1) {\n              styleSheetRuleCb({\n                id,\n                styleId,\n                adds: [\n                  {\n                    rule: rule2,\n                    index: [\n                      ...getNestedCSSRulePositions(thisArg),\n                      index2 || 0\n                      // defaults to 0\n                    ]\n                  }\n                ]\n              });\n            }\n            return target.apply(thisArg, argumentsList);\n          }\n        )\n      }\n    );\n    type.prototype.deleteRule = new Proxy(\n      unmodifiedFunctions[typeKey].deleteRule,\n      {\n        apply: callbackWrapper(\n          (target, thisArg, argumentsList) => {\n            const [index2] = argumentsList;\n            const { id, styleId } = getIdAndStyleId(\n              thisArg.parentStyleSheet,\n              mirror2,\n              stylesheetManager.styleMirror\n            );\n            if (id && id !== -1 || styleId && styleId !== -1) {\n              styleSheetRuleCb({\n                id,\n                styleId,\n                removes: [\n                  { index: [...getNestedCSSRulePositions(thisArg), index2] }\n                ]\n              });\n            }\n            return target.apply(thisArg, argumentsList);\n          }\n        )\n      }\n    );\n  });\n  return callbackWrapper(() => {\n    win.CSSStyleSheet.prototype.insertRule = insertRule;\n    win.CSSStyleSheet.prototype.deleteRule = deleteRule;\n    replace && (win.CSSStyleSheet.prototype.replace = replace);\n    replaceSync && (win.CSSStyleSheet.prototype.replaceSync = replaceSync);\n    Object.entries(supportedNestedCSSRuleTypes).forEach(([typeKey, type]) => {\n      type.prototype.insertRule = unmodifiedFunctions[typeKey].insertRule;\n      type.prototype.deleteRule = unmodifiedFunctions[typeKey].deleteRule;\n    });\n  });\n}\nfunction initAdoptedStyleSheetObserver({\n  mirror: mirror2,\n  stylesheetManager\n}, host2) {\n  var _a2, _b, _c;\n  let hostId = null;\n  if (host2.nodeName === \"#document\") hostId = mirror2.getId(host2);\n  else hostId = mirror2.getId(index.host(host2));\n  const patchTarget = host2.nodeName === \"#document\" ? (_a2 = host2.defaultView) == null ? void 0 : _a2.Document : (_c = (_b = host2.ownerDocument) == null ? void 0 : _b.defaultView) == null ? void 0 : _c.ShadowRoot;\n  const originalPropertyDescriptor = (patchTarget == null ? void 0 : patchTarget.prototype) ? Object.getOwnPropertyDescriptor(\n    patchTarget == null ? void 0 : patchTarget.prototype,\n    \"adoptedStyleSheets\"\n  ) : void 0;\n  if (hostId === null || hostId === -1 || !patchTarget || !originalPropertyDescriptor)\n    return () => {\n    };\n  Object.defineProperty(host2, \"adoptedStyleSheets\", {\n    configurable: originalPropertyDescriptor.configurable,\n    enumerable: originalPropertyDescriptor.enumerable,\n    get() {\n      var _a3;\n      return (_a3 = originalPropertyDescriptor.get) == null ? void 0 : _a3.call(this);\n    },\n    set(sheets) {\n      var _a3;\n      const result2 = (_a3 = originalPropertyDescriptor.set) == null ? void 0 : _a3.call(this, sheets);\n      if (hostId !== null && hostId !== -1) {\n        try {\n          stylesheetManager.adoptStyleSheets(sheets, hostId);\n        } catch (e2) {\n        }\n      }\n      return result2;\n    }\n  });\n  return callbackWrapper(() => {\n    Object.defineProperty(host2, \"adoptedStyleSheets\", {\n      configurable: originalPropertyDescriptor.configurable,\n      enumerable: originalPropertyDescriptor.enumerable,\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      get: originalPropertyDescriptor.get,\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      set: originalPropertyDescriptor.set\n    });\n  });\n}\nfunction initStyleDeclarationObserver({\n  styleDeclarationCb,\n  mirror: mirror2,\n  ignoreCSSAttributes,\n  stylesheetManager\n}, { win }) {\n  const setProperty = win.CSSStyleDeclaration.prototype.setProperty;\n  win.CSSStyleDeclaration.prototype.setProperty = new Proxy(setProperty, {\n    apply: callbackWrapper(\n      (target, thisArg, argumentsList) => {\n        var _a2;\n        const [property, value, priority] = argumentsList;\n        if (ignoreCSSAttributes.has(property)) {\n          return setProperty.apply(thisArg, [property, value, priority]);\n        }\n        const { id, styleId } = getIdAndStyleId(\n          (_a2 = thisArg.parentRule) == null ? void 0 : _a2.parentStyleSheet,\n          mirror2,\n          stylesheetManager.styleMirror\n        );\n        if (id && id !== -1 || styleId && styleId !== -1) {\n          styleDeclarationCb({\n            id,\n            styleId,\n            set: {\n              property,\n              value,\n              priority\n            },\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            index: getNestedCSSRulePositions(thisArg.parentRule)\n          });\n        }\n        return target.apply(thisArg, argumentsList);\n      }\n    )\n  });\n  const removeProperty = win.CSSStyleDeclaration.prototype.removeProperty;\n  win.CSSStyleDeclaration.prototype.removeProperty = new Proxy(removeProperty, {\n    apply: callbackWrapper(\n      (target, thisArg, argumentsList) => {\n        var _a2;\n        const [property] = argumentsList;\n        if (ignoreCSSAttributes.has(property)) {\n          return removeProperty.apply(thisArg, [property]);\n        }\n        const { id, styleId } = getIdAndStyleId(\n          (_a2 = thisArg.parentRule) == null ? void 0 : _a2.parentStyleSheet,\n          mirror2,\n          stylesheetManager.styleMirror\n        );\n        if (id && id !== -1 || styleId && styleId !== -1) {\n          styleDeclarationCb({\n            id,\n            styleId,\n            remove: {\n              property\n            },\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            index: getNestedCSSRulePositions(thisArg.parentRule)\n          });\n        }\n        return target.apply(thisArg, argumentsList);\n      }\n    )\n  });\n  return callbackWrapper(() => {\n    win.CSSStyleDeclaration.prototype.setProperty = setProperty;\n    win.CSSStyleDeclaration.prototype.removeProperty = removeProperty;\n  });\n}\nfunction initMediaInteractionObserver({\n  mediaInteractionCb,\n  blockClass,\n  blockSelector,\n  mirror: mirror2,\n  sampling,\n  doc\n}) {\n  const handler = callbackWrapper(\n    (type) => throttle(\n      callbackWrapper((event) => {\n        const target = getEventTarget(event);\n        if (!target || isBlocked(target, blockClass, blockSelector, true)) {\n          return;\n        }\n        const { currentTime, volume, muted, playbackRate, loop } = target;\n        mediaInteractionCb({\n          type,\n          id: mirror2.getId(target),\n          currentTime,\n          volume,\n          muted,\n          playbackRate,\n          loop\n        });\n      }),\n      sampling.media || 500\n    )\n  );\n  const handlers = [\n    on(\"play\", handler(MediaInteractions.Play), doc),\n    on(\"pause\", handler(MediaInteractions.Pause), doc),\n    on(\"seeked\", handler(MediaInteractions.Seeked), doc),\n    on(\"volumechange\", handler(MediaInteractions.VolumeChange), doc),\n    on(\"ratechange\", handler(MediaInteractions.RateChange), doc)\n  ];\n  return callbackWrapper(() => {\n    handlers.forEach((h) => h());\n  });\n}\nfunction initFontObserver({ fontCb, doc }) {\n  const win = doc.defaultView;\n  if (!win) {\n    return () => {\n    };\n  }\n  const handlers = [];\n  const fontMap = /* @__PURE__ */ new WeakMap();\n  const originalFontFace = win.FontFace;\n  win.FontFace = function FontFace2(family, source, descriptors) {\n    const fontFace = new originalFontFace(family, source, descriptors);\n    fontMap.set(fontFace, {\n      family,\n      buffer: typeof source !== \"string\",\n      descriptors,\n      fontSource: typeof source === \"string\" ? source : JSON.stringify(Array.from(new Uint8Array(source)))\n    });\n    return fontFace;\n  };\n  const restoreHandler = patch(\n    doc.fonts,\n    \"add\",\n    function(original) {\n      return function(fontFace) {\n        setTimeout(\n          callbackWrapper(() => {\n            const p = fontMap.get(fontFace);\n            if (p) {\n              fontCb(p);\n              fontMap.delete(fontFace);\n            }\n          }),\n          0\n        );\n        return original.apply(this, [fontFace]);\n      };\n    }\n  );\n  handlers.push(() => {\n    win.FontFace = originalFontFace;\n  });\n  handlers.push(restoreHandler);\n  return callbackWrapper(() => {\n    handlers.forEach((h) => h());\n  });\n}\nfunction initSelectionObserver(param) {\n  const { doc, mirror: mirror2, blockClass, blockSelector, selectionCb } = param;\n  let collapsed = true;\n  const updateSelection = callbackWrapper(() => {\n    const selection = doc.getSelection();\n    if (!selection || collapsed && (selection == null ? void 0 : selection.isCollapsed)) return;\n    collapsed = selection.isCollapsed || false;\n    const ranges = [];\n    const count = selection.rangeCount || 0;\n    for (let i2 = 0; i2 < count; i2++) {\n      const range = selection.getRangeAt(i2);\n      const { startContainer, startOffset, endContainer, endOffset } = range;\n      const blocked = isBlocked(startContainer, blockClass, blockSelector, true) || isBlocked(endContainer, blockClass, blockSelector, true);\n      if (blocked) continue;\n      ranges.push({\n        start: mirror2.getId(startContainer),\n        startOffset,\n        end: mirror2.getId(endContainer),\n        endOffset\n      });\n    }\n    selectionCb({ ranges });\n  });\n  updateSelection();\n  return on(\"selectionchange\", updateSelection);\n}\nfunction initCustomElementObserver({\n  doc,\n  customElementCb\n}) {\n  const win = doc.defaultView;\n  if (!win || !win.customElements) return () => {\n  };\n  const restoreHandler = patch(\n    win.customElements,\n    \"define\",\n    function(original) {\n      return function(name, constructor, options) {\n        try {\n          customElementCb({\n            define: {\n              name\n            }\n          });\n        } catch (e2) {\n          console.warn(`Custom element callback failed for ${name}`);\n        }\n        return original.apply(this, [name, constructor, options]);\n      };\n    }\n  );\n  return restoreHandler;\n}\nfunction mergeHooks(o2, hooks) {\n  const {\n    mutationCb,\n    mousemoveCb,\n    mouseInteractionCb,\n    scrollCb,\n    viewportResizeCb,\n    inputCb,\n    mediaInteractionCb,\n    styleSheetRuleCb,\n    styleDeclarationCb,\n    canvasMutationCb,\n    fontCb,\n    selectionCb,\n    customElementCb\n  } = o2;\n  o2.mutationCb = (...p) => {\n    if (hooks.mutation) {\n      hooks.mutation(...p);\n    }\n    mutationCb(...p);\n  };\n  o2.mousemoveCb = (...p) => {\n    if (hooks.mousemove) {\n      hooks.mousemove(...p);\n    }\n    mousemoveCb(...p);\n  };\n  o2.mouseInteractionCb = (...p) => {\n    if (hooks.mouseInteraction) {\n      hooks.mouseInteraction(...p);\n    }\n    mouseInteractionCb(...p);\n  };\n  o2.scrollCb = (...p) => {\n    if (hooks.scroll) {\n      hooks.scroll(...p);\n    }\n    scrollCb(...p);\n  };\n  o2.viewportResizeCb = (...p) => {\n    if (hooks.viewportResize) {\n      hooks.viewportResize(...p);\n    }\n    viewportResizeCb(...p);\n  };\n  o2.inputCb = (...p) => {\n    if (hooks.input) {\n      hooks.input(...p);\n    }\n    inputCb(...p);\n  };\n  o2.mediaInteractionCb = (...p) => {\n    if (hooks.mediaInteaction) {\n      hooks.mediaInteaction(...p);\n    }\n    mediaInteractionCb(...p);\n  };\n  o2.styleSheetRuleCb = (...p) => {\n    if (hooks.styleSheetRule) {\n      hooks.styleSheetRule(...p);\n    }\n    styleSheetRuleCb(...p);\n  };\n  o2.styleDeclarationCb = (...p) => {\n    if (hooks.styleDeclaration) {\n      hooks.styleDeclaration(...p);\n    }\n    styleDeclarationCb(...p);\n  };\n  o2.canvasMutationCb = (...p) => {\n    if (hooks.canvasMutation) {\n      hooks.canvasMutation(...p);\n    }\n    canvasMutationCb(...p);\n  };\n  o2.fontCb = (...p) => {\n    if (hooks.font) {\n      hooks.font(...p);\n    }\n    fontCb(...p);\n  };\n  o2.selectionCb = (...p) => {\n    if (hooks.selection) {\n      hooks.selection(...p);\n    }\n    selectionCb(...p);\n  };\n  o2.customElementCb = (...c2) => {\n    if (hooks.customElement) {\n      hooks.customElement(...c2);\n    }\n    customElementCb(...c2);\n  };\n}\nfunction initObservers(o2, hooks = {}) {\n  const currentWindow = o2.doc.defaultView;\n  if (!currentWindow) {\n    return () => {\n    };\n  }\n  mergeHooks(o2, hooks);\n  let mutationObserver;\n  if (o2.recordDOM) {\n    mutationObserver = initMutationObserver(o2, o2.doc);\n  }\n  const mousemoveHandler = initMoveObserver(o2);\n  const mouseInteractionHandler = initMouseInteractionObserver(o2);\n  const scrollHandler = initScrollObserver(o2);\n  const viewportResizeHandler = initViewportResizeObserver(o2, {\n    win: currentWindow\n  });\n  const inputHandler = initInputObserver(o2);\n  const mediaInteractionHandler = initMediaInteractionObserver(o2);\n  let styleSheetObserver = () => {\n  };\n  let adoptedStyleSheetObserver = () => {\n  };\n  let styleDeclarationObserver = () => {\n  };\n  let fontObserver = () => {\n  };\n  if (o2.recordDOM) {\n    styleSheetObserver = initStyleSheetObserver(o2, { win: currentWindow });\n    adoptedStyleSheetObserver = initAdoptedStyleSheetObserver(o2, o2.doc);\n    styleDeclarationObserver = initStyleDeclarationObserver(o2, {\n      win: currentWindow\n    });\n    if (o2.collectFonts) {\n      fontObserver = initFontObserver(o2);\n    }\n  }\n  const selectionObserver = initSelectionObserver(o2);\n  const customElementObserver = initCustomElementObserver(o2);\n  const pluginHandlers = [];\n  for (const plugin3 of o2.plugins) {\n    pluginHandlers.push(\n      plugin3.observer(plugin3.callback, currentWindow, plugin3.options)\n    );\n  }\n  return callbackWrapper(() => {\n    mutationBuffers.forEach((b) => b.reset());\n    mutationObserver == null ? void 0 : mutationObserver.disconnect();\n    mousemoveHandler();\n    mouseInteractionHandler();\n    scrollHandler();\n    viewportResizeHandler();\n    inputHandler();\n    mediaInteractionHandler();\n    styleSheetObserver();\n    adoptedStyleSheetObserver();\n    styleDeclarationObserver();\n    fontObserver();\n    selectionObserver();\n    customElementObserver();\n    pluginHandlers.forEach((h) => h());\n  });\n}\nfunction hasNestedCSSRule(prop) {\n  return typeof window[prop] !== \"undefined\";\n}\nfunction canMonkeyPatchNestedCSSRule(prop) {\n  return Boolean(\n    typeof window[prop] !== \"undefined\" && // Note: Generally, this check _shouldn't_ be necessary\n    // However, in some scenarios (e.g. jsdom) this can sometimes fail, so we check for it here\n    window[prop].prototype && \"insertRule\" in window[prop].prototype && \"deleteRule\" in window[prop].prototype\n  );\n}\nclass CrossOriginIframeMirror {\n  constructor(generateIdFn) {\n    __publicField(this, \"iframeIdToRemoteIdMap\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"iframeRemoteIdToIdMap\", /* @__PURE__ */ new WeakMap());\n    this.generateIdFn = generateIdFn;\n  }\n  getId(iframe, remoteId, idToRemoteMap, remoteToIdMap) {\n    const idToRemoteIdMap = idToRemoteMap || this.getIdToRemoteIdMap(iframe);\n    const remoteIdToIdMap = remoteToIdMap || this.getRemoteIdToIdMap(iframe);\n    let id = idToRemoteIdMap.get(remoteId);\n    if (!id) {\n      id = this.generateIdFn();\n      idToRemoteIdMap.set(remoteId, id);\n      remoteIdToIdMap.set(id, remoteId);\n    }\n    return id;\n  }\n  getIds(iframe, remoteId) {\n    const idToRemoteIdMap = this.getIdToRemoteIdMap(iframe);\n    const remoteIdToIdMap = this.getRemoteIdToIdMap(iframe);\n    return remoteId.map(\n      (id) => this.getId(iframe, id, idToRemoteIdMap, remoteIdToIdMap)\n    );\n  }\n  getRemoteId(iframe, id, map) {\n    const remoteIdToIdMap = map || this.getRemoteIdToIdMap(iframe);\n    if (typeof id !== \"number\") return id;\n    const remoteId = remoteIdToIdMap.get(id);\n    if (!remoteId) return -1;\n    return remoteId;\n  }\n  getRemoteIds(iframe, ids) {\n    const remoteIdToIdMap = this.getRemoteIdToIdMap(iframe);\n    return ids.map((id) => this.getRemoteId(iframe, id, remoteIdToIdMap));\n  }\n  reset(iframe) {\n    if (!iframe) {\n      this.iframeIdToRemoteIdMap = /* @__PURE__ */ new WeakMap();\n      this.iframeRemoteIdToIdMap = /* @__PURE__ */ new WeakMap();\n      return;\n    }\n    this.iframeIdToRemoteIdMap.delete(iframe);\n    this.iframeRemoteIdToIdMap.delete(iframe);\n  }\n  getIdToRemoteIdMap(iframe) {\n    let idToRemoteIdMap = this.iframeIdToRemoteIdMap.get(iframe);\n    if (!idToRemoteIdMap) {\n      idToRemoteIdMap = /* @__PURE__ */ new Map();\n      this.iframeIdToRemoteIdMap.set(iframe, idToRemoteIdMap);\n    }\n    return idToRemoteIdMap;\n  }\n  getRemoteIdToIdMap(iframe) {\n    let remoteIdToIdMap = this.iframeRemoteIdToIdMap.get(iframe);\n    if (!remoteIdToIdMap) {\n      remoteIdToIdMap = /* @__PURE__ */ new Map();\n      this.iframeRemoteIdToIdMap.set(iframe, remoteIdToIdMap);\n    }\n    return remoteIdToIdMap;\n  }\n}\nclass IframeManager {\n  constructor(options) {\n    __publicField(this, \"iframes\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"crossOriginIframeMap\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"crossOriginIframeMirror\", new CrossOriginIframeMirror(genId));\n    __publicField(this, \"crossOriginIframeStyleMirror\");\n    __publicField(this, \"crossOriginIframeRootIdMap\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"mirror\");\n    __publicField(this, \"mutationCb\");\n    __publicField(this, \"wrappedEmit\");\n    __publicField(this, \"loadListener\");\n    __publicField(this, \"stylesheetManager\");\n    __publicField(this, \"recordCrossOriginIframes\");\n    this.mutationCb = options.mutationCb;\n    this.wrappedEmit = options.wrappedEmit;\n    this.stylesheetManager = options.stylesheetManager;\n    this.recordCrossOriginIframes = options.recordCrossOriginIframes;\n    this.crossOriginIframeStyleMirror = new CrossOriginIframeMirror(\n      this.stylesheetManager.styleMirror.generateId.bind(\n        this.stylesheetManager.styleMirror\n      )\n    );\n    this.mirror = options.mirror;\n    if (this.recordCrossOriginIframes) {\n      window.addEventListener(\"message\", this.handleMessage.bind(this));\n    }\n  }\n  addIframe(iframeEl) {\n    this.iframes.set(iframeEl, true);\n    if (iframeEl.contentWindow)\n      this.crossOriginIframeMap.set(iframeEl.contentWindow, iframeEl);\n  }\n  addLoadListener(cb) {\n    this.loadListener = cb;\n  }\n  attachIframe(iframeEl, childSn) {\n    var _a2, _b;\n    this.mutationCb({\n      adds: [\n        {\n          parentId: this.mirror.getId(iframeEl),\n          nextId: null,\n          node: childSn\n        }\n      ],\n      removes: [],\n      texts: [],\n      attributes: [],\n      isAttachIframe: true\n    });\n    if (this.recordCrossOriginIframes)\n      (_a2 = iframeEl.contentWindow) == null ? void 0 : _a2.addEventListener(\n        \"message\",\n        this.handleMessage.bind(this)\n      );\n    (_b = this.loadListener) == null ? void 0 : _b.call(this, iframeEl);\n    if (iframeEl.contentDocument && iframeEl.contentDocument.adoptedStyleSheets && iframeEl.contentDocument.adoptedStyleSheets.length > 0)\n      this.stylesheetManager.adoptStyleSheets(\n        iframeEl.contentDocument.adoptedStyleSheets,\n        this.mirror.getId(iframeEl.contentDocument)\n      );\n  }\n  handleMessage(message) {\n    const crossOriginMessageEvent = message;\n    if (crossOriginMessageEvent.data.type !== \"rrweb\" || // To filter out the rrweb messages which are forwarded by some sites.\n    crossOriginMessageEvent.origin !== crossOriginMessageEvent.data.origin)\n      return;\n    const iframeSourceWindow = message.source;\n    if (!iframeSourceWindow) return;\n    const iframeEl = this.crossOriginIframeMap.get(message.source);\n    if (!iframeEl) return;\n    const transformedEvent = this.transformCrossOriginEvent(\n      iframeEl,\n      crossOriginMessageEvent.data.event\n    );\n    if (transformedEvent)\n      this.wrappedEmit(\n        transformedEvent,\n        crossOriginMessageEvent.data.isCheckout\n      );\n  }\n  transformCrossOriginEvent(iframeEl, e2) {\n    var _a2;\n    switch (e2.type) {\n      case EventType.FullSnapshot: {\n        this.crossOriginIframeMirror.reset(iframeEl);\n        this.crossOriginIframeStyleMirror.reset(iframeEl);\n        this.replaceIdOnNode(e2.data.node, iframeEl);\n        const rootId = e2.data.node.id;\n        this.crossOriginIframeRootIdMap.set(iframeEl, rootId);\n        this.patchRootIdOnNode(e2.data.node, rootId);\n        return {\n          timestamp: e2.timestamp,\n          type: EventType.IncrementalSnapshot,\n          data: {\n            source: IncrementalSource.Mutation,\n            adds: [\n              {\n                parentId: this.mirror.getId(iframeEl),\n                nextId: null,\n                node: e2.data.node\n              }\n            ],\n            removes: [],\n            texts: [],\n            attributes: [],\n            isAttachIframe: true\n          }\n        };\n      }\n      case EventType.Meta:\n      case EventType.Load:\n      case EventType.DomContentLoaded: {\n        return false;\n      }\n      case EventType.Plugin: {\n        return e2;\n      }\n      case EventType.Custom: {\n        this.replaceIds(\n          e2.data.payload,\n          iframeEl,\n          [\"id\", \"parentId\", \"previousId\", \"nextId\"]\n        );\n        return e2;\n      }\n      case EventType.IncrementalSnapshot: {\n        switch (e2.data.source) {\n          case IncrementalSource.Mutation: {\n            e2.data.adds.forEach((n2) => {\n              this.replaceIds(n2, iframeEl, [\n                \"parentId\",\n                \"nextId\",\n                \"previousId\"\n              ]);\n              this.replaceIdOnNode(n2.node, iframeEl);\n              const rootId = this.crossOriginIframeRootIdMap.get(iframeEl);\n              rootId && this.patchRootIdOnNode(n2.node, rootId);\n            });\n            e2.data.removes.forEach((n2) => {\n              this.replaceIds(n2, iframeEl, [\"parentId\", \"id\"]);\n            });\n            e2.data.attributes.forEach((n2) => {\n              this.replaceIds(n2, iframeEl, [\"id\"]);\n            });\n            e2.data.texts.forEach((n2) => {\n              this.replaceIds(n2, iframeEl, [\"id\"]);\n            });\n            return e2;\n          }\n          case IncrementalSource.Drag:\n          case IncrementalSource.TouchMove:\n          case IncrementalSource.MouseMove: {\n            e2.data.positions.forEach((p) => {\n              this.replaceIds(p, iframeEl, [\"id\"]);\n            });\n            return e2;\n          }\n          case IncrementalSource.ViewportResize: {\n            return false;\n          }\n          case IncrementalSource.MediaInteraction:\n          case IncrementalSource.MouseInteraction:\n          case IncrementalSource.Scroll:\n          case IncrementalSource.CanvasMutation:\n          case IncrementalSource.Input: {\n            this.replaceIds(e2.data, iframeEl, [\"id\"]);\n            return e2;\n          }\n          case IncrementalSource.StyleSheetRule:\n          case IncrementalSource.StyleDeclaration: {\n            this.replaceIds(e2.data, iframeEl, [\"id\"]);\n            this.replaceStyleIds(e2.data, iframeEl, [\"styleId\"]);\n            return e2;\n          }\n          case IncrementalSource.Font: {\n            return e2;\n          }\n          case IncrementalSource.Selection: {\n            e2.data.ranges.forEach((range) => {\n              this.replaceIds(range, iframeEl, [\"start\", \"end\"]);\n            });\n            return e2;\n          }\n          case IncrementalSource.AdoptedStyleSheet: {\n            this.replaceIds(e2.data, iframeEl, [\"id\"]);\n            this.replaceStyleIds(e2.data, iframeEl, [\"styleIds\"]);\n            (_a2 = e2.data.styles) == null ? void 0 : _a2.forEach((style) => {\n              this.replaceStyleIds(style, iframeEl, [\"styleId\"]);\n            });\n            return e2;\n          }\n        }\n      }\n    }\n    return false;\n  }\n  replace(iframeMirror, obj, iframeEl, keys) {\n    for (const key of keys) {\n      if (!Array.isArray(obj[key]) && typeof obj[key] !== \"number\") continue;\n      if (Array.isArray(obj[key])) {\n        obj[key] = iframeMirror.getIds(\n          iframeEl,\n          obj[key]\n        );\n      } else {\n        obj[key] = iframeMirror.getId(iframeEl, obj[key]);\n      }\n    }\n    return obj;\n  }\n  replaceIds(obj, iframeEl, keys) {\n    return this.replace(this.crossOriginIframeMirror, obj, iframeEl, keys);\n  }\n  replaceStyleIds(obj, iframeEl, keys) {\n    return this.replace(this.crossOriginIframeStyleMirror, obj, iframeEl, keys);\n  }\n  replaceIdOnNode(node2, iframeEl) {\n    this.replaceIds(node2, iframeEl, [\"id\", \"rootId\"]);\n    if (\"childNodes\" in node2) {\n      node2.childNodes.forEach((child) => {\n        this.replaceIdOnNode(child, iframeEl);\n      });\n    }\n  }\n  patchRootIdOnNode(node2, rootId) {\n    if (node2.type !== NodeType$2.Document && !node2.rootId) node2.rootId = rootId;\n    if (\"childNodes\" in node2) {\n      node2.childNodes.forEach((child) => {\n        this.patchRootIdOnNode(child, rootId);\n      });\n    }\n  }\n}\nclass ShadowDomManager {\n  constructor(options) {\n    __publicField(this, \"shadowDoms\", /* @__PURE__ */ new WeakSet());\n    __publicField(this, \"mutationCb\");\n    __publicField(this, \"scrollCb\");\n    __publicField(this, \"bypassOptions\");\n    __publicField(this, \"mirror\");\n    __publicField(this, \"restoreHandlers\", []);\n    this.mutationCb = options.mutationCb;\n    this.scrollCb = options.scrollCb;\n    this.bypassOptions = options.bypassOptions;\n    this.mirror = options.mirror;\n    this.init();\n  }\n  init() {\n    this.reset();\n    this.patchAttachShadow(Element, document);\n  }\n  addShadowRoot(shadowRoot2, doc) {\n    if (!isNativeShadowDom(shadowRoot2)) return;\n    if (this.shadowDoms.has(shadowRoot2)) return;\n    this.shadowDoms.add(shadowRoot2);\n    const observer = initMutationObserver(\n      {\n        ...this.bypassOptions,\n        doc,\n        mutationCb: this.mutationCb,\n        mirror: this.mirror,\n        shadowDomManager: this\n      },\n      shadowRoot2\n    );\n    this.restoreHandlers.push(() => observer.disconnect());\n    this.restoreHandlers.push(\n      initScrollObserver({\n        ...this.bypassOptions,\n        scrollCb: this.scrollCb,\n        // https://gist.github.com/praveenpuglia/0832da687ed5a5d7a0907046c9ef1813\n        // scroll is not allowed to pass the boundary, so we need to listen the shadow document\n        doc: shadowRoot2,\n        mirror: this.mirror\n      })\n    );\n    setTimeout(() => {\n      if (shadowRoot2.adoptedStyleSheets && shadowRoot2.adoptedStyleSheets.length > 0)\n        this.bypassOptions.stylesheetManager.adoptStyleSheets(\n          shadowRoot2.adoptedStyleSheets,\n          this.mirror.getId(index.host(shadowRoot2))\n        );\n      this.restoreHandlers.push(\n        initAdoptedStyleSheetObserver(\n          {\n            mirror: this.mirror,\n            stylesheetManager: this.bypassOptions.stylesheetManager\n          },\n          shadowRoot2\n        )\n      );\n    }, 0);\n  }\n  /**\n   * Monkey patch 'attachShadow' of an IFrameElement to observe newly added shadow doms.\n   */\n  observeAttachShadow(iframeElement) {\n    if (!iframeElement.contentWindow || !iframeElement.contentDocument) return;\n    this.patchAttachShadow(\n      iframeElement.contentWindow.Element,\n      iframeElement.contentDocument\n    );\n  }\n  /**\n   * Patch 'attachShadow' to observe newly added shadow doms.\n   */\n  patchAttachShadow(element, doc) {\n    const manager = this;\n    this.restoreHandlers.push(\n      patch(\n        element.prototype,\n        \"attachShadow\",\n        function(original) {\n          return function(option) {\n            const sRoot = original.call(this, option);\n            const shadowRootEl = index.shadowRoot(this);\n            if (shadowRootEl && inDom(this))\n              manager.addShadowRoot(shadowRootEl, doc);\n            return sRoot;\n          };\n        }\n      )\n    );\n  }\n  reset() {\n    this.restoreHandlers.forEach((handler) => {\n      try {\n        handler();\n      } catch (e2) {\n      }\n    });\n    this.restoreHandlers = [];\n    this.shadowDoms = /* @__PURE__ */ new WeakSet();\n  }\n}\nvar chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\nvar lookup = typeof Uint8Array === \"undefined\" ? [] : new Uint8Array(256);\nfor (var i$1 = 0; i$1 < chars.length; i$1++) {\n  lookup[chars.charCodeAt(i$1)] = i$1;\n}\nvar encode = function(arraybuffer) {\n  var bytes = new Uint8Array(arraybuffer), i2, len = bytes.length, base64 = \"\";\n  for (i2 = 0; i2 < len; i2 += 3) {\n    base64 += chars[bytes[i2] >> 2];\n    base64 += chars[(bytes[i2] & 3) << 4 | bytes[i2 + 1] >> 4];\n    base64 += chars[(bytes[i2 + 1] & 15) << 2 | bytes[i2 + 2] >> 6];\n    base64 += chars[bytes[i2 + 2] & 63];\n  }\n  if (len % 3 === 2) {\n    base64 = base64.substring(0, base64.length - 1) + \"=\";\n  } else if (len % 3 === 1) {\n    base64 = base64.substring(0, base64.length - 2) + \"==\";\n  }\n  return base64;\n};\nconst canvasVarMap = /* @__PURE__ */ new Map();\nfunction variableListFor$1(ctx, ctor) {\n  let contextMap = canvasVarMap.get(ctx);\n  if (!contextMap) {\n    contextMap = /* @__PURE__ */ new Map();\n    canvasVarMap.set(ctx, contextMap);\n  }\n  if (!contextMap.has(ctor)) {\n    contextMap.set(ctor, []);\n  }\n  return contextMap.get(ctor);\n}\nconst saveWebGLVar = (value, win, ctx) => {\n  if (!value || !(isInstanceOfWebGLObject(value, win) || typeof value === \"object\"))\n    return;\n  const name = value.constructor.name;\n  const list2 = variableListFor$1(ctx, name);\n  let index2 = list2.indexOf(value);\n  if (index2 === -1) {\n    index2 = list2.length;\n    list2.push(value);\n  }\n  return index2;\n};\nfunction serializeArg(value, win, ctx) {\n  if (value instanceof Array) {\n    return value.map((arg) => serializeArg(arg, win, ctx));\n  } else if (value === null) {\n    return value;\n  } else if (value instanceof Float32Array || value instanceof Float64Array || value instanceof Int32Array || value instanceof Uint32Array || value instanceof Uint8Array || value instanceof Uint16Array || value instanceof Int16Array || value instanceof Int8Array || value instanceof Uint8ClampedArray) {\n    const name = value.constructor.name;\n    return {\n      rr_type: name,\n      args: [Object.values(value)]\n    };\n  } else if (\n    // SharedArrayBuffer disabled on most browsers due to spectre.\n    // More info: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer/SharedArrayBuffer\n    // value instanceof SharedArrayBuffer ||\n    value instanceof ArrayBuffer\n  ) {\n    const name = value.constructor.name;\n    const base64 = encode(value);\n    return {\n      rr_type: name,\n      base64\n    };\n  } else if (value instanceof DataView) {\n    const name = value.constructor.name;\n    return {\n      rr_type: name,\n      args: [\n        serializeArg(value.buffer, win, ctx),\n        value.byteOffset,\n        value.byteLength\n      ]\n    };\n  } else if (value instanceof HTMLImageElement) {\n    const name = value.constructor.name;\n    const { src } = value;\n    return {\n      rr_type: name,\n      src\n    };\n  } else if (value instanceof HTMLCanvasElement) {\n    const name = \"HTMLImageElement\";\n    const src = value.toDataURL();\n    return {\n      rr_type: name,\n      src\n    };\n  } else if (value instanceof ImageData) {\n    const name = value.constructor.name;\n    return {\n      rr_type: name,\n      args: [serializeArg(value.data, win, ctx), value.width, value.height]\n    };\n  } else if (isInstanceOfWebGLObject(value, win) || typeof value === \"object\") {\n    const name = value.constructor.name;\n    const index2 = saveWebGLVar(value, win, ctx);\n    return {\n      rr_type: name,\n      index: index2\n    };\n  }\n  return value;\n}\nconst serializeArgs = (args, win, ctx) => {\n  return args.map((arg) => serializeArg(arg, win, ctx));\n};\nconst isInstanceOfWebGLObject = (value, win) => {\n  const webGLConstructorNames = [\n    \"WebGLActiveInfo\",\n    \"WebGLBuffer\",\n    \"WebGLFramebuffer\",\n    \"WebGLProgram\",\n    \"WebGLRenderbuffer\",\n    \"WebGLShader\",\n    \"WebGLShaderPrecisionFormat\",\n    \"WebGLTexture\",\n    \"WebGLUniformLocation\",\n    \"WebGLVertexArrayObject\",\n    // In old Chrome versions, value won't be an instanceof WebGLVertexArrayObject.\n    \"WebGLVertexArrayObjectOES\"\n  ];\n  const supportedWebGLConstructorNames = webGLConstructorNames.filter(\n    (name) => typeof win[name] === \"function\"\n  );\n  return Boolean(\n    supportedWebGLConstructorNames.find(\n      (name) => value instanceof win[name]\n    )\n  );\n};\nfunction initCanvas2DMutationObserver(cb, win, blockClass, blockSelector) {\n  const handlers = [];\n  const props2D = Object.getOwnPropertyNames(\n    win.CanvasRenderingContext2D.prototype\n  );\n  for (const prop of props2D) {\n    try {\n      if (typeof win.CanvasRenderingContext2D.prototype[prop] !== \"function\") {\n        continue;\n      }\n      const restoreHandler = patch(\n        win.CanvasRenderingContext2D.prototype,\n        prop,\n        function(original) {\n          return function(...args) {\n            if (!isBlocked(this.canvas, blockClass, blockSelector, true)) {\n              setTimeout(() => {\n                const recordArgs = serializeArgs(args, win, this);\n                cb(this.canvas, {\n                  type: CanvasContext[\"2D\"],\n                  property: prop,\n                  args: recordArgs\n                });\n              }, 0);\n            }\n            return original.apply(this, args);\n          };\n        }\n      );\n      handlers.push(restoreHandler);\n    } catch {\n      const hookHandler = hookSetter(\n        win.CanvasRenderingContext2D.prototype,\n        prop,\n        {\n          set(v2) {\n            cb(this.canvas, {\n              type: CanvasContext[\"2D\"],\n              property: prop,\n              args: [v2],\n              setter: true\n            });\n          }\n        }\n      );\n      handlers.push(hookHandler);\n    }\n  }\n  return () => {\n    handlers.forEach((h) => h());\n  };\n}\nfunction getNormalizedContextName(contextType) {\n  return contextType === \"experimental-webgl\" ? \"webgl\" : contextType;\n}\nfunction initCanvasContextObserver(win, blockClass, blockSelector, setPreserveDrawingBufferToTrue) {\n  const handlers = [];\n  try {\n    const restoreHandler = patch(\n      win.HTMLCanvasElement.prototype,\n      \"getContext\",\n      function(original) {\n        return function(contextType, ...args) {\n          if (!isBlocked(this, blockClass, blockSelector, true)) {\n            const ctxName = getNormalizedContextName(contextType);\n            if (!(\"__context\" in this)) this.__context = ctxName;\n            if (setPreserveDrawingBufferToTrue && [\"webgl\", \"webgl2\"].includes(ctxName)) {\n              if (args[0] && typeof args[0] === \"object\") {\n                const contextAttributes = args[0];\n                if (!contextAttributes.preserveDrawingBuffer) {\n                  contextAttributes.preserveDrawingBuffer = true;\n                }\n              } else {\n                args.splice(0, 1, {\n                  preserveDrawingBuffer: true\n                });\n              }\n            }\n          }\n          return original.apply(this, [contextType, ...args]);\n        };\n      }\n    );\n    handlers.push(restoreHandler);\n  } catch {\n    console.error(\"failed to patch HTMLCanvasElement.prototype.getContext\");\n  }\n  return () => {\n    handlers.forEach((h) => h());\n  };\n}\nfunction patchGLPrototype(prototype, type, cb, blockClass, blockSelector, win) {\n  const handlers = [];\n  const props = Object.getOwnPropertyNames(prototype);\n  for (const prop of props) {\n    if (\n      //prop.startsWith('get') ||  // e.g. getProgramParameter, but too risky\n      [\n        \"isContextLost\",\n        \"canvas\",\n        \"drawingBufferWidth\",\n        \"drawingBufferHeight\"\n      ].includes(prop)\n    ) {\n      continue;\n    }\n    try {\n      if (typeof prototype[prop] !== \"function\") {\n        continue;\n      }\n      const restoreHandler = patch(\n        prototype,\n        prop,\n        function(original) {\n          return function(...args) {\n            const result2 = original.apply(this, args);\n            saveWebGLVar(result2, win, this);\n            if (\"tagName\" in this.canvas && !isBlocked(this.canvas, blockClass, blockSelector, true)) {\n              const recordArgs = serializeArgs(args, win, this);\n              const mutation = {\n                type,\n                property: prop,\n                args: recordArgs\n              };\n              cb(this.canvas, mutation);\n            }\n            return result2;\n          };\n        }\n      );\n      handlers.push(restoreHandler);\n    } catch {\n      const hookHandler = hookSetter(prototype, prop, {\n        set(v2) {\n          cb(this.canvas, {\n            type,\n            property: prop,\n            args: [v2],\n            setter: true\n          });\n        }\n      });\n      handlers.push(hookHandler);\n    }\n  }\n  return handlers;\n}\nfunction initCanvasWebGLMutationObserver(cb, win, blockClass, blockSelector) {\n  const handlers = [];\n  handlers.push(\n    ...patchGLPrototype(\n      win.WebGLRenderingContext.prototype,\n      CanvasContext.WebGL,\n      cb,\n      blockClass,\n      blockSelector,\n      win\n    )\n  );\n  if (typeof win.WebGL2RenderingContext !== \"undefined\") {\n    handlers.push(\n      ...patchGLPrototype(\n        win.WebGL2RenderingContext.prototype,\n        CanvasContext.WebGL2,\n        cb,\n        blockClass,\n        blockSelector,\n        win\n      )\n    );\n  }\n  return () => {\n    handlers.forEach((h) => h());\n  };\n}\nconst encodedJs = \"KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=\";\nconst decodeBase64 = (base64) => Uint8Array.from(atob(base64), (c2) => c2.charCodeAt(0));\nconst blob = typeof window !== \"undefined\" && window.Blob && new Blob([decodeBase64(encodedJs)], { type: \"text/javascript;charset=utf-8\" });\nfunction WorkerWrapper(options) {\n  let objURL;\n  try {\n    objURL = blob && (window.URL || window.webkitURL).createObjectURL(blob);\n    if (!objURL) throw \"\";\n    const worker = new Worker(objURL, {\n      name: options == null ? void 0 : options.name\n    });\n    worker.addEventListener(\"error\", () => {\n      (window.URL || window.webkitURL).revokeObjectURL(objURL);\n    });\n    return worker;\n  } catch (e2) {\n    return new Worker(\n      \"data:text/javascript;base64,\" + encodedJs,\n      {\n        name: options == null ? void 0 : options.name\n      }\n    );\n  } finally {\n    objURL && (window.URL || window.webkitURL).revokeObjectURL(objURL);\n  }\n}\nclass CanvasManager {\n  constructor(options) {\n    __publicField(this, \"pendingCanvasMutations\", /* @__PURE__ */ new Map());\n    __publicField(this, \"rafStamps\", { latestId: 0, invokeId: null });\n    __publicField(this, \"mirror\");\n    __publicField(this, \"mutationCb\");\n    __publicField(this, \"resetObservers\");\n    __publicField(this, \"frozen\", false);\n    __publicField(this, \"locked\", false);\n    __publicField(this, \"processMutation\", (target, mutation) => {\n      const newFrame = this.rafStamps.invokeId && this.rafStamps.latestId !== this.rafStamps.invokeId;\n      if (newFrame || !this.rafStamps.invokeId)\n        this.rafStamps.invokeId = this.rafStamps.latestId;\n      if (!this.pendingCanvasMutations.has(target)) {\n        this.pendingCanvasMutations.set(target, []);\n      }\n      this.pendingCanvasMutations.get(target).push(mutation);\n    });\n    const {\n      sampling = \"all\",\n      win,\n      blockClass,\n      blockSelector,\n      recordCanvas,\n      dataURLOptions\n    } = options;\n    this.mutationCb = options.mutationCb;\n    this.mirror = options.mirror;\n    if (recordCanvas && sampling === \"all\")\n      this.initCanvasMutationObserver(win, blockClass, blockSelector);\n    if (recordCanvas && typeof sampling === \"number\")\n      this.initCanvasFPSObserver(sampling, win, blockClass, blockSelector, {\n        dataURLOptions\n      });\n  }\n  reset() {\n    this.pendingCanvasMutations.clear();\n    this.resetObservers && this.resetObservers();\n  }\n  freeze() {\n    this.frozen = true;\n  }\n  unfreeze() {\n    this.frozen = false;\n  }\n  lock() {\n    this.locked = true;\n  }\n  unlock() {\n    this.locked = false;\n  }\n  initCanvasFPSObserver(fps, win, blockClass, blockSelector, options) {\n    const canvasContextReset = initCanvasContextObserver(\n      win,\n      blockClass,\n      blockSelector,\n      true\n    );\n    const snapshotInProgressMap = /* @__PURE__ */ new Map();\n    const worker = new WorkerWrapper();\n    worker.onmessage = (e2) => {\n      const { id } = e2.data;\n      snapshotInProgressMap.set(id, false);\n      if (!(\"base64\" in e2.data)) return;\n      const { base64, type, width, height } = e2.data;\n      this.mutationCb({\n        id,\n        type: CanvasContext[\"2D\"],\n        commands: [\n          {\n            property: \"clearRect\",\n            // wipe canvas\n            args: [0, 0, width, height]\n          },\n          {\n            property: \"drawImage\",\n            // draws (semi-transparent) image\n            args: [\n              {\n                rr_type: \"ImageBitmap\",\n                args: [\n                  {\n                    rr_type: \"Blob\",\n                    data: [{ rr_type: \"ArrayBuffer\", base64 }],\n                    type\n                  }\n                ]\n              },\n              0,\n              0\n            ]\n          }\n        ]\n      });\n    };\n    const timeBetweenSnapshots = 1e3 / fps;\n    let lastSnapshotTime = 0;\n    let rafId;\n    const getCanvas = () => {\n      const matchedCanvas = [];\n      const searchCanvas = (root) => {\n        root.querySelectorAll(\"canvas\").forEach((canvas) => {\n          if (!isBlocked(canvas, blockClass, blockSelector, true)) {\n            matchedCanvas.push(canvas);\n          }\n        });\n        root.querySelectorAll(\"*\").forEach((elem) => {\n          if (elem.shadowRoot) {\n            searchCanvas(elem.shadowRoot);\n          }\n        });\n      };\n      searchCanvas(win.document);\n      return matchedCanvas;\n    };\n    const takeCanvasSnapshots = (timestamp) => {\n      if (lastSnapshotTime && timestamp - lastSnapshotTime < timeBetweenSnapshots) {\n        rafId = requestAnimationFrame(takeCanvasSnapshots);\n        return;\n      }\n      lastSnapshotTime = timestamp;\n      getCanvas().forEach(async (canvas) => {\n        var _a2;\n        const id = this.mirror.getId(canvas);\n        if (snapshotInProgressMap.get(id)) return;\n        if (canvas.width === 0 || canvas.height === 0) return;\n        snapshotInProgressMap.set(id, true);\n        if ([\"webgl\", \"webgl2\"].includes(canvas.__context)) {\n          const context = canvas.getContext(canvas.__context);\n          if (((_a2 = context == null ? void 0 : context.getContextAttributes()) == null ? void 0 : _a2.preserveDrawingBuffer) === false) {\n            context.clear(context.COLOR_BUFFER_BIT);\n          }\n        }\n        // createImageBitmap throws if resizing to 0\n        // Fallback to intrinsic size if canvas has not yet rendered\n        const width = canvas.clientWidth || canvas.width;\n        const height = canvas.clientHeight || canvas.height;\n        const bitmap = await createImageBitmap(canvas, {\n          resizeWidth: width,\n          resizeHeight: height\n        });\n        worker.postMessage(\n          {\n            id,\n            bitmap,\n            width: width,\n            height: height,\n            dataURLOptions: options.dataURLOptions\n          },\n          [bitmap]\n        );\n      });\n      rafId = requestAnimationFrame(takeCanvasSnapshots);\n    };\n    rafId = requestAnimationFrame(takeCanvasSnapshots);\n    this.resetObservers = () => {\n      canvasContextReset();\n      cancelAnimationFrame(rafId);\n    };\n  }\n  initCanvasMutationObserver(win, blockClass, blockSelector) {\n    this.startRAFTimestamping();\n    this.startPendingCanvasMutationFlusher();\n    const canvasContextReset = initCanvasContextObserver(\n      win,\n      blockClass,\n      blockSelector,\n      false\n    );\n    const canvas2DReset = initCanvas2DMutationObserver(\n      this.processMutation.bind(this),\n      win,\n      blockClass,\n      blockSelector\n    );\n    const canvasWebGL1and2Reset = initCanvasWebGLMutationObserver(\n      this.processMutation.bind(this),\n      win,\n      blockClass,\n      blockSelector\n    );\n    this.resetObservers = () => {\n      canvasContextReset();\n      canvas2DReset();\n      canvasWebGL1and2Reset();\n    };\n  }\n  startPendingCanvasMutationFlusher() {\n    requestAnimationFrame(() => this.flushPendingCanvasMutations());\n  }\n  startRAFTimestamping() {\n    const setLatestRAFTimestamp = (timestamp) => {\n      this.rafStamps.latestId = timestamp;\n      requestAnimationFrame(setLatestRAFTimestamp);\n    };\n    requestAnimationFrame(setLatestRAFTimestamp);\n  }\n  flushPendingCanvasMutations() {\n    this.pendingCanvasMutations.forEach(\n      (_values, canvas) => {\n        const id = this.mirror.getId(canvas);\n        this.flushPendingCanvasMutationFor(canvas, id);\n      }\n    );\n    requestAnimationFrame(() => this.flushPendingCanvasMutations());\n  }\n  flushPendingCanvasMutationFor(canvas, id) {\n    if (this.frozen || this.locked) {\n      return;\n    }\n    const valuesWithType = this.pendingCanvasMutations.get(canvas);\n    if (!valuesWithType || id === -1) return;\n    const values = valuesWithType.map((value) => {\n      const { type: type2, ...rest } = value;\n      return rest;\n    });\n    const { type } = valuesWithType[0];\n    this.mutationCb({ id, type, commands: values });\n    this.pendingCanvasMutations.delete(canvas);\n  }\n}\nclass StylesheetManager {\n  constructor(options) {\n    __publicField(this, \"trackedLinkElements\", /* @__PURE__ */ new WeakSet());\n    __publicField(this, \"mutationCb\");\n    __publicField(this, \"adoptedStyleSheetCb\");\n    __publicField(this, \"styleMirror\", new StyleSheetMirror());\n    this.mutationCb = options.mutationCb;\n    this.adoptedStyleSheetCb = options.adoptedStyleSheetCb;\n  }\n  attachLinkElement(linkEl, childSn) {\n    if (\"_cssText\" in childSn.attributes)\n      this.mutationCb({\n        adds: [],\n        removes: [],\n        texts: [],\n        attributes: [\n          {\n            id: childSn.id,\n            attributes: childSn.attributes\n          }\n        ]\n      });\n    this.trackLinkElement(linkEl);\n  }\n  trackLinkElement(linkEl) {\n    if (this.trackedLinkElements.has(linkEl)) return;\n    this.trackedLinkElements.add(linkEl);\n    this.trackStylesheetInLinkElement(linkEl);\n  }\n  adoptStyleSheets(sheets, hostId) {\n    if (sheets.length === 0) return;\n    const adoptedStyleSheetData = {\n      id: hostId,\n      styleIds: []\n    };\n    const styles = [];\n    for (const sheet of sheets) {\n      let styleId;\n      if (!this.styleMirror.has(sheet)) {\n        styleId = this.styleMirror.add(sheet);\n        styles.push({\n          styleId,\n          rules: Array.from(sheet.rules || CSSRule, (r2, index2) => ({\n            rule: stringifyRule(r2, sheet.href),\n            index: index2\n          }))\n        });\n      } else styleId = this.styleMirror.getId(sheet);\n      adoptedStyleSheetData.styleIds.push(styleId);\n    }\n    if (styles.length > 0) adoptedStyleSheetData.styles = styles;\n    this.adoptedStyleSheetCb(adoptedStyleSheetData);\n  }\n  reset() {\n    this.styleMirror.reset();\n    this.trackedLinkElements = /* @__PURE__ */ new WeakSet();\n  }\n  // TODO: take snapshot on stylesheet reload by applying event listener\n  trackStylesheetInLinkElement(_linkEl) {\n  }\n}\nclass ProcessedNodeManager {\n  constructor() {\n    __publicField(this, \"nodeMap\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"active\", false);\n  }\n  inOtherBuffer(node2, thisBuffer) {\n    const buffers = this.nodeMap.get(node2);\n    return buffers && Array.from(buffers).some((buffer) => buffer !== thisBuffer);\n  }\n  add(node2, buffer) {\n    if (!this.active) {\n      this.active = true;\n      requestAnimationFrame(() => {\n        this.nodeMap = /* @__PURE__ */ new WeakMap();\n        this.active = false;\n      });\n    }\n    this.nodeMap.set(node2, (this.nodeMap.get(node2) || /* @__PURE__ */ new Set()).add(buffer));\n  }\n  destroy() {\n  }\n}\nlet wrappedEmit;\nlet takeFullSnapshot$1;\nlet canvasManager;\nlet recording = false;\ntry {\n  if (Array.from([1], (x2) => x2 * 2)[0] !== 2) {\n    const cleanFrame = document.createElement(\"iframe\");\n    document.body.appendChild(cleanFrame);\n    Array.from = ((_a = cleanFrame.contentWindow) == null ? void 0 : _a.Array.from) || Array.from;\n    document.body.removeChild(cleanFrame);\n  }\n} catch (err) {\n  console.debug(\"Unable to override Array.from\", err);\n}\nconst mirror = createMirror$2();\nfunction record(options = {}) {\n  const {\n    emit,\n    checkoutEveryNms,\n    checkoutEveryNth,\n    blockClass = \"rr-block\",\n    blockSelector = null,\n    ignoreClass = \"rr-ignore\",\n    ignoreSelector = null,\n    maskTextClass = \"rr-mask\",\n    maskTextSelector = null,\n    inlineStylesheet = true,\n    maskAllInputs,\n    maskInputOptions: _maskInputOptions,\n    slimDOMOptions: _slimDOMOptions,\n    maskInputFn,\n    maskTextFn,\n    hooks,\n    packFn,\n    sampling = {},\n    dataURLOptions = {},\n    mousemoveWait,\n    recordDOM = true,\n    recordCanvas = false,\n    recordCrossOriginIframes = false,\n    recordAfter = options.recordAfter === \"DOMContentLoaded\" ? options.recordAfter : \"load\",\n    userTriggeredOnInput = false,\n    collectFonts = false,\n    inlineImages = false,\n    plugins,\n    keepIframeSrcFn = () => false,\n    ignoreCSSAttributes = /* @__PURE__ */ new Set([]),\n    errorHandler: errorHandler2\n  } = options;\n  registerErrorHandler(errorHandler2);\n  const inEmittingFrame = recordCrossOriginIframes ? window.parent === window : true;\n  let passEmitsToParent = false;\n  if (!inEmittingFrame) {\n    try {\n      if (window.parent.document) {\n        passEmitsToParent = false;\n      }\n    } catch (e2) {\n      passEmitsToParent = true;\n    }\n  }\n  if (inEmittingFrame && !emit) {\n    throw new Error(\"emit function is required\");\n  }\n  if (!inEmittingFrame && !passEmitsToParent) {\n    return () => {\n    };\n  }\n  if (mousemoveWait !== void 0 && sampling.mousemove === void 0) {\n    sampling.mousemove = mousemoveWait;\n  }\n  mirror.reset();\n  const maskInputOptions = maskAllInputs === true ? {\n    color: true,\n    date: true,\n    \"datetime-local\": true,\n    email: true,\n    month: true,\n    number: true,\n    range: true,\n    search: true,\n    tel: true,\n    text: true,\n    time: true,\n    url: true,\n    week: true,\n    textarea: true,\n    select: true,\n    password: true\n  } : _maskInputOptions !== void 0 ? _maskInputOptions : { password: true };\n  const slimDOMOptions = _slimDOMOptions === true || _slimDOMOptions === \"all\" ? {\n    script: true,\n    comment: true,\n    headFavicon: true,\n    headWhitespace: true,\n    headMetaSocial: true,\n    headMetaRobots: true,\n    headMetaHttpEquiv: true,\n    headMetaVerification: true,\n    // the following are off for slimDOMOptions === true,\n    // as they destroy some (hidden) info:\n    headMetaAuthorship: _slimDOMOptions === \"all\",\n    headMetaDescKeywords: _slimDOMOptions === \"all\",\n    headTitleMutations: _slimDOMOptions === \"all\"\n  } : _slimDOMOptions ? _slimDOMOptions : {};\n  polyfill$1();\n  let lastFullSnapshotEvent;\n  let incrementalSnapshotCount = 0;\n  const eventProcessor = (e2) => {\n    for (const plugin3 of plugins || []) {\n      if (plugin3.eventProcessor) {\n        e2 = plugin3.eventProcessor(e2);\n      }\n    }\n    if (packFn && // Disable packing events which will be emitted to parent frames.\n    !passEmitsToParent) {\n      e2 = packFn(e2);\n    }\n    return e2;\n  };\n  wrappedEmit = (r2, isCheckout) => {\n    var _a2;\n    const e2 = r2;\n    e2.timestamp = nowTimestamp();\n    if (((_a2 = mutationBuffers[0]) == null ? void 0 : _a2.isFrozen()) && e2.type !== EventType.FullSnapshot && !(e2.type === EventType.IncrementalSnapshot && e2.data.source === IncrementalSource.Mutation)) {\n      mutationBuffers.forEach((buf) => buf.unfreeze());\n    }\n    if (inEmittingFrame) {\n      emit == null ? void 0 : emit(eventProcessor(e2), isCheckout);\n    } else if (passEmitsToParent) {\n      const message = {\n        type: \"rrweb\",\n        event: eventProcessor(e2),\n        origin: window.location.origin,\n        isCheckout\n      };\n      window.parent.postMessage(message, \"*\");\n    }\n    if (e2.type === EventType.FullSnapshot) {\n      lastFullSnapshotEvent = e2;\n      incrementalSnapshotCount = 0;\n    } else if (e2.type === EventType.IncrementalSnapshot) {\n      if (e2.data.source === IncrementalSource.Mutation && e2.data.isAttachIframe) {\n        return;\n      }\n      incrementalSnapshotCount++;\n      const exceedCount = checkoutEveryNth && incrementalSnapshotCount >= checkoutEveryNth;\n      const exceedTime = checkoutEveryNms && e2.timestamp - lastFullSnapshotEvent.timestamp > checkoutEveryNms;\n      if (exceedCount || exceedTime) {\n        takeFullSnapshot$1(true);\n      }\n    }\n  };\n  const wrappedMutationEmit = (m) => {\n    wrappedEmit({\n      type: EventType.IncrementalSnapshot,\n      data: {\n        source: IncrementalSource.Mutation,\n        ...m\n      }\n    });\n  };\n  const wrappedScrollEmit = (p) => wrappedEmit({\n    type: EventType.IncrementalSnapshot,\n    data: {\n      source: IncrementalSource.Scroll,\n      ...p\n    }\n  });\n  const wrappedCanvasMutationEmit = (p) => wrappedEmit({\n    type: EventType.IncrementalSnapshot,\n    data: {\n      source: IncrementalSource.CanvasMutation,\n      ...p\n    }\n  });\n  const wrappedAdoptedStyleSheetEmit = (a2) => wrappedEmit({\n    type: EventType.IncrementalSnapshot,\n    data: {\n      source: IncrementalSource.AdoptedStyleSheet,\n      ...a2\n    }\n  });\n  const stylesheetManager = new StylesheetManager({\n    mutationCb: wrappedMutationEmit,\n    adoptedStyleSheetCb: wrappedAdoptedStyleSheetEmit\n  });\n  const iframeManager = new IframeManager({\n    mirror,\n    mutationCb: wrappedMutationEmit,\n    stylesheetManager,\n    recordCrossOriginIframes,\n    wrappedEmit\n  });\n  for (const plugin3 of plugins || []) {\n    if (plugin3.getMirror)\n      plugin3.getMirror({\n        nodeMirror: mirror,\n        crossOriginIframeMirror: iframeManager.crossOriginIframeMirror,\n        crossOriginIframeStyleMirror: iframeManager.crossOriginIframeStyleMirror\n      });\n  }\n  const processedNodeManager = new ProcessedNodeManager();\n  canvasManager = new CanvasManager({\n    recordCanvas,\n    mutationCb: wrappedCanvasMutationEmit,\n    win: window,\n    blockClass,\n    blockSelector,\n    mirror,\n    sampling: sampling.canvas,\n    dataURLOptions\n  });\n  const shadowDomManager = new ShadowDomManager({\n    mutationCb: wrappedMutationEmit,\n    scrollCb: wrappedScrollEmit,\n    bypassOptions: {\n      blockClass,\n      blockSelector,\n      maskTextClass,\n      maskTextSelector,\n      inlineStylesheet,\n      maskInputOptions,\n      dataURLOptions,\n      maskTextFn,\n      maskInputFn,\n      recordCanvas,\n      inlineImages,\n      sampling,\n      slimDOMOptions,\n      iframeManager,\n      stylesheetManager,\n      canvasManager,\n      keepIframeSrcFn,\n      processedNodeManager\n    },\n    mirror\n  });\n  takeFullSnapshot$1 = (isCheckout = false) => {\n    if (!recordDOM) {\n      return;\n    }\n    wrappedEmit(\n      {\n        type: EventType.Meta,\n        data: {\n          href: window.location.href,\n          width: getWindowWidth(),\n          height: getWindowHeight()\n        }\n      },\n      isCheckout\n    );\n    stylesheetManager.reset();\n    shadowDomManager.init();\n    mutationBuffers.forEach((buf) => buf.lock());\n    const node2 = snapshot(document, {\n      mirror,\n      blockClass,\n      blockSelector,\n      maskTextClass,\n      maskTextSelector,\n      inlineStylesheet,\n      maskAllInputs: maskInputOptions,\n      maskTextFn,\n      maskInputFn,\n      slimDOM: slimDOMOptions,\n      dataURLOptions,\n      recordCanvas,\n      inlineImages,\n      onSerialize: (n2) => {\n        if (isSerializedIframe(n2, mirror)) {\n          iframeManager.addIframe(n2);\n        }\n        if (isSerializedStylesheet(n2, mirror)) {\n          stylesheetManager.trackLinkElement(n2);\n        }\n        if (hasShadowRoot(n2)) {\n          shadowDomManager.addShadowRoot(index.shadowRoot(n2), document);\n        }\n      },\n      onIframeLoad: (iframe, childSn) => {\n        iframeManager.attachIframe(iframe, childSn);\n        shadowDomManager.observeAttachShadow(iframe);\n      },\n      onStylesheetLoad: (linkEl, childSn) => {\n        stylesheetManager.attachLinkElement(linkEl, childSn);\n      },\n      keepIframeSrcFn\n    });\n    if (!node2) {\n      return console.warn(\"Failed to snapshot the document\");\n    }\n    wrappedEmit(\n      {\n        type: EventType.FullSnapshot,\n        data: {\n          node: node2,\n          initialOffset: getWindowScroll(window)\n        }\n      },\n      isCheckout\n    );\n    mutationBuffers.forEach((buf) => buf.unlock());\n    if (document.adoptedStyleSheets && document.adoptedStyleSheets.length > 0)\n      stylesheetManager.adoptStyleSheets(\n        document.adoptedStyleSheets,\n        mirror.getId(document)\n      );\n  };\n  try {\n    const handlers = [];\n    const observe = (doc) => {\n      var _a2;\n      return callbackWrapper(initObservers)(\n        {\n          mutationCb: wrappedMutationEmit,\n          mousemoveCb: (positions, source) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source,\n              positions\n            }\n          }),\n          mouseInteractionCb: (d) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.MouseInteraction,\n              ...d\n            }\n          }),\n          scrollCb: wrappedScrollEmit,\n          viewportResizeCb: (d) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.ViewportResize,\n              ...d\n            }\n          }),\n          inputCb: (v2) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.Input,\n              ...v2\n            }\n          }),\n          mediaInteractionCb: (p) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.MediaInteraction,\n              ...p\n            }\n          }),\n          styleSheetRuleCb: (r2) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.StyleSheetRule,\n              ...r2\n            }\n          }),\n          styleDeclarationCb: (r2) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.StyleDeclaration,\n              ...r2\n            }\n          }),\n          canvasMutationCb: wrappedCanvasMutationEmit,\n          fontCb: (p) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.Font,\n              ...p\n            }\n          }),\n          selectionCb: (p) => {\n            wrappedEmit({\n              type: EventType.IncrementalSnapshot,\n              data: {\n                source: IncrementalSource.Selection,\n                ...p\n              }\n            });\n          },\n          customElementCb: (c2) => {\n            wrappedEmit({\n              type: EventType.IncrementalSnapshot,\n              data: {\n                source: IncrementalSource.CustomElement,\n                ...c2\n              }\n            });\n          },\n          blockClass,\n          ignoreClass,\n          ignoreSelector,\n          maskTextClass,\n          maskTextSelector,\n          maskInputOptions,\n          inlineStylesheet,\n          sampling,\n          recordDOM,\n          recordCanvas,\n          inlineImages,\n          userTriggeredOnInput,\n          collectFonts,\n          doc,\n          maskInputFn,\n          maskTextFn,\n          keepIframeSrcFn,\n          blockSelector,\n          slimDOMOptions,\n          dataURLOptions,\n          mirror,\n          iframeManager,\n          stylesheetManager,\n          shadowDomManager,\n          processedNodeManager,\n          canvasManager,\n          ignoreCSSAttributes,\n          plugins: ((_a2 = plugins == null ? void 0 : plugins.filter((p) => p.observer)) == null ? void 0 : _a2.map((p) => ({\n            observer: p.observer,\n            options: p.options,\n            callback: (payload) => wrappedEmit({\n              type: EventType.Plugin,\n              data: {\n                plugin: p.name,\n                payload\n              }\n            })\n          }))) || []\n        },\n        hooks\n      );\n    };\n    iframeManager.addLoadListener((iframeEl) => {\n      try {\n        handlers.push(observe(iframeEl.contentDocument));\n      } catch (error) {\n        console.warn(error);\n      }\n    });\n    const init = () => {\n      takeFullSnapshot$1();\n      handlers.push(observe(document));\n      recording = true;\n    };\n    if (document.readyState === \"interactive\" || document.readyState === \"complete\") {\n      init();\n    } else {\n      handlers.push(\n        on(\"DOMContentLoaded\", () => {\n          wrappedEmit({\n            type: EventType.DomContentLoaded,\n            data: {}\n          });\n          if (recordAfter === \"DOMContentLoaded\") init();\n        })\n      );\n      handlers.push(\n        on(\n          \"load\",\n          () => {\n            wrappedEmit({\n              type: EventType.Load,\n              data: {}\n            });\n            if (recordAfter === \"load\") init();\n          },\n          window\n        )\n      );\n    }\n    return () => {\n      handlers.forEach((h) => h());\n      processedNodeManager.destroy();\n      recording = false;\n      unregisterErrorHandler();\n    };\n  } catch (error) {\n    console.warn(error);\n  }\n}\nrecord.addCustomEvent = (tag, payload) => {\n  if (!recording) {\n    throw new Error(\"please add custom event after start recording\");\n  }\n  wrappedEmit({\n    type: EventType.Custom,\n    data: {\n      tag,\n      payload\n    }\n  });\n};\nrecord.freezePage = () => {\n  mutationBuffers.forEach((buf) => buf.freeze());\n};\nrecord.takeFullSnapshot = (isCheckout) => {\n  if (!recording) {\n    throw new Error(\"please take full snapshot after start recording\");\n  }\n  takeFullSnapshot$1(isCheckout);\n};\nrecord.mirror = mirror;\nvar n;\n!function(t2) {\n  t2[t2.NotStarted = 0] = \"NotStarted\", t2[t2.Running = 1] = \"Running\", t2[t2.Stopped = 2] = \"Stopped\";\n}(n || (n = {}));\nexport {\n  record\n};\n//# sourceMappingURL=record.js.map\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nvar __defProp2 = Object.defineProperty;\nvar __defNormalProp2 = (obj, key, value) => key in obj ? __defProp2(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField2 = (obj, key, value) => __defNormalProp2(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nvar _a;\nvar __defProp$1 = Object.defineProperty;\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField$1 = (obj, key, value) => __defNormalProp$1(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nconst testableAccessors$1 = {\n  Node: [\"childNodes\", \"parentNode\", \"parentElement\", \"textContent\"],\n  ShadowRoot: [\"host\", \"styleSheets\"],\n  Element: [\"shadowRoot\", \"querySelector\", \"querySelectorAll\"],\n  MutationObserver: []\n};\nconst testableMethods$1 = {\n  Node: [\"contains\", \"getRootNode\"],\n  ShadowRoot: [\"getSelection\"],\n  Element: [],\n  MutationObserver: [\"constructor\"]\n};\nconst untaintedBasePrototype$1 = {};\nfunction getUntaintedPrototype$1(key) {\n  if (untaintedBasePrototype$1[key])\n    return untaintedBasePrototype$1[key];\n  const defaultObj = globalThis[key];\n  const defaultPrototype = defaultObj.prototype;\n  const accessorNames = key in testableAccessors$1 ? testableAccessors$1[key] : void 0;\n  const isUntaintedAccessors = Boolean(\n    accessorNames && // @ts-expect-error 2345\n    accessorNames.every(\n      (accessor) => {\n        var _a2, _b;\n        return Boolean(\n          (_b = (_a2 = Object.getOwnPropertyDescriptor(defaultPrototype, accessor)) == null ? void 0 : _a2.get) == null ? void 0 : _b.toString().includes(\"[native code]\")\n        );\n      }\n    )\n  );\n  const methodNames = key in testableMethods$1 ? testableMethods$1[key] : void 0;\n  const isUntaintedMethods = Boolean(\n    methodNames && methodNames.every(\n      // @ts-expect-error 2345\n      (method) => {\n        var _a2;\n        return typeof defaultPrototype[method] === \"function\" && ((_a2 = defaultPrototype[method]) == null ? void 0 : _a2.toString().includes(\"[native code]\"));\n      }\n    )\n  );\n  if (isUntaintedAccessors && isUntaintedMethods) {\n    untaintedBasePrototype$1[key] = defaultObj.prototype;\n    return defaultObj.prototype;\n  }\n  try {\n    const iframeEl = document.createElement(\"iframe\");\n    document.body.appendChild(iframeEl);\n    const win = iframeEl.contentWindow;\n    if (!win) return defaultObj.prototype;\n    const untaintedObject = win[key].prototype;\n    document.body.removeChild(iframeEl);\n    if (!untaintedObject) return defaultPrototype;\n    return untaintedBasePrototype$1[key] = untaintedObject;\n  } catch {\n    return defaultPrototype;\n  }\n}\nconst untaintedAccessorCache$1 = {};\nfunction getUntaintedAccessor$1(key, instance, accessor) {\n  var _a2;\n  const cacheKey = `${key}.${String(accessor)}`;\n  if (untaintedAccessorCache$1[cacheKey])\n    return untaintedAccessorCache$1[cacheKey].call(\n      instance\n    );\n  const untaintedPrototype = getUntaintedPrototype$1(key);\n  const untaintedAccessor = (_a2 = Object.getOwnPropertyDescriptor(\n    untaintedPrototype,\n    accessor\n  )) == null ? void 0 : _a2.get;\n  if (!untaintedAccessor) return instance[accessor];\n  untaintedAccessorCache$1[cacheKey] = untaintedAccessor;\n  return untaintedAccessor.call(instance);\n}\nconst untaintedMethodCache$1 = {};\nfunction getUntaintedMethod$1(key, instance, method) {\n  const cacheKey = `${key}.${String(method)}`;\n  if (untaintedMethodCache$1[cacheKey])\n    return untaintedMethodCache$1[cacheKey].bind(\n      instance\n    );\n  const untaintedPrototype = getUntaintedPrototype$1(key);\n  const untaintedMethod = untaintedPrototype[method];\n  if (typeof untaintedMethod !== \"function\") return instance[method];\n  untaintedMethodCache$1[cacheKey] = untaintedMethod;\n  return untaintedMethod.bind(instance);\n}\nfunction childNodes$1(n2) {\n  return getUntaintedAccessor$1(\"Node\", n2, \"childNodes\");\n}\nfunction parentNode$1(n2) {\n  return getUntaintedAccessor$1(\"Node\", n2, \"parentNode\");\n}\nfunction parentElement$1(n2) {\n  return getUntaintedAccessor$1(\"Node\", n2, \"parentElement\");\n}\nfunction textContent$1(n2) {\n  return getUntaintedAccessor$1(\"Node\", n2, \"textContent\");\n}\nfunction contains$1(n2, other) {\n  return getUntaintedMethod$1(\"Node\", n2, \"contains\")(other);\n}\nfunction getRootNode$1(n2) {\n  return getUntaintedMethod$1(\"Node\", n2, \"getRootNode\")();\n}\nfunction host$1(n2) {\n  if (!n2 || !(\"host\" in n2)) return null;\n  return getUntaintedAccessor$1(\"ShadowRoot\", n2, \"host\");\n}\nfunction styleSheets$1(n2) {\n  return n2.styleSheets;\n}\nfunction shadowRoot$1(n2) {\n  if (!n2 || !(\"shadowRoot\" in n2)) return null;\n  return getUntaintedAccessor$1(\"Element\", n2, \"shadowRoot\");\n}\nfunction querySelector$1(n2, selectors) {\n  return getUntaintedAccessor$1(\"Element\", n2, \"querySelector\")(selectors);\n}\nfunction querySelectorAll$1(n2, selectors) {\n  return getUntaintedAccessor$1(\"Element\", n2, \"querySelectorAll\")(selectors);\n}\nfunction mutationObserverCtor$1() {\n  return getUntaintedPrototype$1(\"MutationObserver\").constructor;\n}\nconst index$1 = {\n  childNodes: childNodes$1,\n  parentNode: parentNode$1,\n  parentElement: parentElement$1,\n  textContent: textContent$1,\n  contains: contains$1,\n  getRootNode: getRootNode$1,\n  host: host$1,\n  styleSheets: styleSheets$1,\n  shadowRoot: shadowRoot$1,\n  querySelector: querySelector$1,\n  querySelectorAll: querySelectorAll$1,\n  mutationObserver: mutationObserverCtor$1\n};\nfunction isShadowRoot(n2) {\n  const hostEl = (\n    // anchor and textarea elements also have a `host` property\n    // but only shadow roots have a `mode` property\n    n2 && \"host\" in n2 && \"mode\" in n2 && index$1.host(n2) || null\n  );\n  return Boolean(\n    hostEl && \"shadowRoot\" in hostEl && index$1.shadowRoot(hostEl) === n2\n  );\n}\nclass Mirror {\n  constructor() {\n    __publicField$1(this, \"idNodeMap\", /* @__PURE__ */ new Map());\n    __publicField$1(this, \"nodeMetaMap\", /* @__PURE__ */ new WeakMap());\n  }\n  getId(n2) {\n    var _a2;\n    if (!n2) return -1;\n    const id = (_a2 = this.getMeta(n2)) == null ? void 0 : _a2.id;\n    return id ?? -1;\n  }\n  getNode(id) {\n    return this.idNodeMap.get(id) || null;\n  }\n  getIds() {\n    return Array.from(this.idNodeMap.keys());\n  }\n  getMeta(n2) {\n    return this.nodeMetaMap.get(n2) || null;\n  }\n  // removes the node from idNodeMap\n  // doesn't remove the node from nodeMetaMap\n  removeNodeFromMap(n2) {\n    const id = this.getId(n2);\n    this.idNodeMap.delete(id);\n    if (n2.childNodes) {\n      n2.childNodes.forEach(\n        (childNode) => this.removeNodeFromMap(childNode)\n      );\n    }\n  }\n  has(id) {\n    return this.idNodeMap.has(id);\n  }\n  hasNode(node2) {\n    return this.nodeMetaMap.has(node2);\n  }\n  add(n2, meta) {\n    const id = meta.id;\n    this.idNodeMap.set(id, n2);\n    this.nodeMetaMap.set(n2, meta);\n  }\n  replace(id, n2) {\n    const oldNode = this.getNode(id);\n    if (oldNode) {\n      const meta = this.nodeMetaMap.get(oldNode);\n      if (meta) this.nodeMetaMap.set(n2, meta);\n    }\n    this.idNodeMap.set(id, n2);\n  }\n  reset() {\n    this.idNodeMap = /* @__PURE__ */ new Map();\n    this.nodeMetaMap = /* @__PURE__ */ new WeakMap();\n  }\n}\nfunction createMirror$2() {\n  return new Mirror();\n}\nconst IGNORED_NODE = -2;\nfunction classMatchesRegex(node2, regex, checkAncestors) {\n  if (!node2) return false;\n  if (node2.nodeType !== node2.ELEMENT_NODE) {\n    if (!checkAncestors) return false;\n    return classMatchesRegex(index$1.parentNode(node2), regex, checkAncestors);\n  }\n  for (let eIndex = node2.classList.length; eIndex--; ) {\n    const className = node2.classList[eIndex];\n    if (regex.test(className)) {\n      return true;\n    }\n  }\n  if (!checkAncestors) return false;\n  return classMatchesRegex(index$1.parentNode(node2), regex, checkAncestors);\n}\nfunction getDefaultExportFromCjs$1(x2) {\n  return x2 && x2.__esModule && Object.prototype.hasOwnProperty.call(x2, \"default\") ? x2[\"default\"] : x2;\n}\nfunction getAugmentedNamespace$1(n2) {\n  if (n2.__esModule) return n2;\n  var f2 = n2.default;\n  if (typeof f2 == \"function\") {\n    var a2 = function a22() {\n      if (this instanceof a22) {\n        return Reflect.construct(f2, arguments, this.constructor);\n      }\n      return f2.apply(this, arguments);\n    };\n    a2.prototype = f2.prototype;\n  } else a2 = {};\n  Object.defineProperty(a2, \"__esModule\", { value: true });\n  Object.keys(n2).forEach(function(k) {\n    var d = Object.getOwnPropertyDescriptor(n2, k);\n    Object.defineProperty(a2, k, d.get ? d : {\n      enumerable: true,\n      get: function() {\n        return n2[k];\n      }\n    });\n  });\n  return a2;\n}\n// Removed postcss here\nclass BaseRRNode {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-explicit-any\n  constructor(..._args) {\n    __publicField22(this, \"parentElement\", null);\n    __publicField22(this, \"parentNode\", null);\n    __publicField22(this, \"ownerDocument\");\n    __publicField22(this, \"firstChild\", null);\n    __publicField22(this, \"lastChild\", null);\n    __publicField22(this, \"previousSibling\", null);\n    __publicField22(this, \"nextSibling\", null);\n    __publicField22(this, \"ELEMENT_NODE\", 1);\n    __publicField22(this, \"TEXT_NODE\", 3);\n    __publicField22(this, \"nodeType\");\n    __publicField22(this, \"nodeName\");\n    __publicField22(this, \"RRNodeType\");\n  }\n  get childNodes() {\n    const childNodes2 = [];\n    let childIterator = this.firstChild;\n    while (childIterator) {\n      childNodes2.push(childIterator);\n      childIterator = childIterator.nextSibling;\n    }\n    return childNodes2;\n  }\n  contains(node2) {\n    if (!(node2 instanceof BaseRRNode)) return false;\n    else if (node2.ownerDocument !== this.ownerDocument) return false;\n    else if (node2 === this) return true;\n    while (node2.parentNode) {\n      if (node2.parentNode === this) return true;\n      node2 = node2.parentNode;\n    }\n    return false;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  appendChild(_newChild) {\n    throw new Error(\n      `RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.`\n    );\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  insertBefore(_newChild, _refChild) {\n    throw new Error(\n      `RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.`\n    );\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  removeChild(_node) {\n    throw new Error(\n      `RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.`\n    );\n  }\n  toString() {\n    return \"RRNode\";\n  }\n}\nconst testableAccessors = {\n  Node: [\"childNodes\", \"parentNode\", \"parentElement\", \"textContent\"],\n  ShadowRoot: [\"host\", \"styleSheets\"],\n  Element: [\"shadowRoot\", \"querySelector\", \"querySelectorAll\"],\n  MutationObserver: []\n};\nconst testableMethods = {\n  Node: [\"contains\", \"getRootNode\"],\n  ShadowRoot: [\"getSelection\"],\n  Element: [],\n  MutationObserver: [\"constructor\"]\n};\nconst untaintedBasePrototype = {};\nfunction getUntaintedPrototype(key) {\n  if (untaintedBasePrototype[key])\n    return untaintedBasePrototype[key];\n  const defaultObj = globalThis[key];\n  const defaultPrototype = defaultObj.prototype;\n  const accessorNames = key in testableAccessors ? testableAccessors[key] : void 0;\n  const isUntaintedAccessors = Boolean(\n    accessorNames && // @ts-expect-error 2345\n    accessorNames.every(\n      (accessor) => {\n        var _a2, _b;\n        return Boolean(\n          (_b = (_a2 = Object.getOwnPropertyDescriptor(defaultPrototype, accessor)) == null ? void 0 : _a2.get) == null ? void 0 : _b.toString().includes(\"[native code]\")\n        );\n      }\n    )\n  );\n  const methodNames = key in testableMethods ? testableMethods[key] : void 0;\n  const isUntaintedMethods = Boolean(\n    methodNames && methodNames.every(\n      // @ts-expect-error 2345\n      (method) => {\n        var _a2;\n        return typeof defaultPrototype[method] === \"function\" && ((_a2 = defaultPrototype[method]) == null ? void 0 : _a2.toString().includes(\"[native code]\"));\n      }\n    )\n  );\n  if (isUntaintedAccessors && isUntaintedMethods) {\n    untaintedBasePrototype[key] = defaultObj.prototype;\n    return defaultObj.prototype;\n  }\n  try {\n    const iframeEl = document.createElement(\"iframe\");\n    document.body.appendChild(iframeEl);\n    const win = iframeEl.contentWindow;\n    if (!win) return defaultObj.prototype;\n    const untaintedObject = win[key].prototype;\n    document.body.removeChild(iframeEl);\n    if (!untaintedObject) return defaultPrototype;\n    return untaintedBasePrototype[key] = untaintedObject;\n  } catch {\n    return defaultPrototype;\n  }\n}\nconst untaintedAccessorCache = {};\nfunction getUntaintedAccessor(key, instance, accessor) {\n  var _a2;\n  const cacheKey = `${key}.${String(accessor)}`;\n  if (untaintedAccessorCache[cacheKey])\n    return untaintedAccessorCache[cacheKey].call(\n      instance\n    );\n  const untaintedPrototype = getUntaintedPrototype(key);\n  const untaintedAccessor = (_a2 = Object.getOwnPropertyDescriptor(\n    untaintedPrototype,\n    accessor\n  )) == null ? void 0 : _a2.get;\n  if (!untaintedAccessor) return instance[accessor];\n  untaintedAccessorCache[cacheKey] = untaintedAccessor;\n  return untaintedAccessor.call(instance);\n}\nconst untaintedMethodCache = {};\nfunction getUntaintedMethod(key, instance, method) {\n  const cacheKey = `${key}.${String(method)}`;\n  if (untaintedMethodCache[cacheKey])\n    return untaintedMethodCache[cacheKey].bind(\n      instance\n    );\n  const untaintedPrototype = getUntaintedPrototype(key);\n  const untaintedMethod = untaintedPrototype[method];\n  if (typeof untaintedMethod !== \"function\") return instance[method];\n  untaintedMethodCache[cacheKey] = untaintedMethod;\n  return untaintedMethod.bind(instance);\n}\nfunction childNodes(n2) {\n  return getUntaintedAccessor(\"Node\", n2, \"childNodes\");\n}\nfunction parentNode(n2) {\n  return getUntaintedAccessor(\"Node\", n2, \"parentNode\");\n}\nfunction parentElement(n2) {\n  return getUntaintedAccessor(\"Node\", n2, \"parentElement\");\n}\nfunction textContent(n2) {\n  return getUntaintedAccessor(\"Node\", n2, \"textContent\");\n}\nfunction contains(n2, other) {\n  return getUntaintedMethod(\"Node\", n2, \"contains\")(other);\n}\nfunction getRootNode(n2) {\n  return getUntaintedMethod(\"Node\", n2, \"getRootNode\")();\n}\nfunction host(n2) {\n  if (!n2 || !(\"host\" in n2)) return null;\n  return getUntaintedAccessor(\"ShadowRoot\", n2, \"host\");\n}\nfunction styleSheets(n2) {\n  return n2.styleSheets;\n}\nfunction shadowRoot(n2) {\n  if (!n2 || !(\"shadowRoot\" in n2)) return null;\n  return getUntaintedAccessor(\"Element\", n2, \"shadowRoot\");\n}\nfunction querySelector(n2, selectors) {\n  return getUntaintedAccessor(\"Element\", n2, \"querySelector\")(selectors);\n}\nfunction querySelectorAll(n2, selectors) {\n  return getUntaintedAccessor(\"Element\", n2, \"querySelectorAll\")(selectors);\n}\nfunction mutationObserverCtor() {\n  return getUntaintedPrototype(\"MutationObserver\").constructor;\n}\nconst index = {\n  childNodes,\n  parentNode,\n  parentElement,\n  textContent,\n  contains,\n  getRootNode,\n  host,\n  styleSheets,\n  shadowRoot,\n  querySelector,\n  querySelectorAll,\n  mutationObserver: mutationObserverCtor\n};\nfunction on(type, fn, target = document) {\n  const options = { capture: true, passive: true };\n  target.addEventListener(type, fn, options);\n  return () => target.removeEventListener(type, fn, options);\n}\nconst DEPARTED_MIRROR_ACCESS_WARNING = \"Please stop import mirror directly. Instead of that,\\r\\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\\r\\nor you can use record.mirror to access the mirror instance during recording.\";\nlet _mirror = {\n  map: {},\n  getId() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n    return -1;\n  },\n  getNode() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n    return null;\n  },\n  removeNodeFromMap() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n  },\n  has() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n    return false;\n  },\n  reset() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n  }\n};\nif (typeof window !== \"undefined\" && window.Proxy && window.Reflect) {\n  _mirror = new Proxy(_mirror, {\n    get(target, prop, receiver) {\n      if (prop === \"map\") {\n        console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n      }\n      return Reflect.get(target, prop, receiver);\n    }\n  });\n}\nfunction throttle(func, wait, options = {}) {\n  let timeout = null;\n  let previous = 0;\n  return function(...args) {\n    const now = Date.now();\n    if (!previous && options.leading === false) {\n      previous = now;\n    }\n    const remaining = wait - (now - previous);\n    const context = this;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = now;\n      func.apply(context, args);\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(() => {\n        previous = options.leading === false ? 0 : Date.now();\n        timeout = null;\n        func.apply(context, args);\n      }, remaining);\n    }\n  };\n}\nfunction hookSetter(target, key, d, isRevoked, win = window) {\n  const original = win.Object.getOwnPropertyDescriptor(target, key);\n  win.Object.defineProperty(\n    target,\n    key,\n    isRevoked ? d : {\n      set(value) {\n        setTimeout(() => {\n          d.set.call(this, value);\n        }, 0);\n        if (original && original.set) {\n          original.set.call(this, value);\n        }\n      }\n    }\n  );\n  return () => hookSetter(target, key, original || {}, true);\n}\nfunction patch(source, name, replacement) {\n  try {\n    if (!(name in source)) {\n      return () => {\n      };\n    }\n    const original = source[name];\n    const wrapped = replacement(original);\n    if (typeof wrapped === \"function\") {\n      wrapped.prototype = wrapped.prototype || {};\n      Object.defineProperties(wrapped, {\n        __rrweb_original__: {\n          enumerable: false,\n          value: original\n        }\n      });\n    }\n    source[name] = wrapped;\n    return () => {\n      source[name] = original;\n    };\n  } catch {\n    return () => {\n    };\n  }\n}\nlet nowTimestamp = Date.now;\nif (!/* @__PURE__ */ /[1-9][0-9]{12}/.test(Date.now().toString())) {\n  nowTimestamp = () => (/* @__PURE__ */ new Date()).getTime();\n}\nfunction getWindowScroll(win) {\n  var _a2, _b, _c, _d;\n  const doc = win.document;\n  return {\n    left: doc.scrollingElement ? doc.scrollingElement.scrollLeft : win.pageXOffset !== void 0 ? win.pageXOffset : doc.documentElement.scrollLeft || (doc == null ? void 0 : doc.body) && ((_a2 = index.parentElement(doc.body)) == null ? void 0 : _a2.scrollLeft) || ((_b = doc == null ? void 0 : doc.body) == null ? void 0 : _b.scrollLeft) || 0,\n    top: doc.scrollingElement ? doc.scrollingElement.scrollTop : win.pageYOffset !== void 0 ? win.pageYOffset : (doc == null ? void 0 : doc.documentElement.scrollTop) || (doc == null ? void 0 : doc.body) && ((_c = index.parentElement(doc.body)) == null ? void 0 : _c.scrollTop) || ((_d = doc == null ? void 0 : doc.body) == null ? void 0 : _d.scrollTop) || 0\n  };\n}\nfunction getWindowHeight() {\n  return window.innerHeight || document.documentElement && document.documentElement.clientHeight || document.body && document.body.clientHeight;\n}\nfunction getWindowWidth() {\n  return window.innerWidth || document.documentElement && document.documentElement.clientWidth || document.body && document.body.clientWidth;\n}\nfunction closestElementOfNode(node2) {\n  if (!node2) {\n    return null;\n  }\n  const el = node2.nodeType === node2.ELEMENT_NODE ? node2 : index.parentElement(node2);\n  return el;\n}\nfunction isBlocked(node2, blockClass, blockSelector, checkAncestors) {\n  if (!node2) {\n    return false;\n  }\n  const el = closestElementOfNode(node2);\n  if (!el) {\n    return false;\n  }\n  try {\n    if (typeof blockClass === \"string\") {\n      if (el.classList.contains(blockClass)) return true;\n      if (checkAncestors && el.closest(\".\" + blockClass) !== null) return true;\n    } else {\n      if (classMatchesRegex(el, blockClass, checkAncestors)) return true;\n    }\n  } catch (e2) {\n  }\n  if (blockSelector) {\n    if (el.matches(blockSelector)) return true;\n    if (checkAncestors && el.closest(blockSelector) !== null) return true;\n  }\n  return false;\n}\nfunction isSerialized(n2, mirror2) {\n  return mirror2.getId(n2) !== -1;\n}\nfunction isIgnored(n2, mirror2, slimDOMOptions) {\n  if (n2.tagName === \"TITLE\" && slimDOMOptions.headTitleMutations) {\n    return true;\n  }\n  return mirror2.getId(n2) === IGNORED_NODE;\n}\nfunction isAncestorRemoved(target, mirror2) {\n  if (isShadowRoot(target)) {\n    return false;\n  }\n  const id = mirror2.getId(target);\n  if (!mirror2.has(id)) {\n    return true;\n  }\n  const parent = index.parentNode(target);\n  if (parent && parent.nodeType === target.DOCUMENT_NODE) {\n    return false;\n  }\n  if (!parent) {\n    return true;\n  }\n  return isAncestorRemoved(parent, mirror2);\n}\nfunction legacy_isTouchEvent(event) {\n  return Boolean(event.changedTouches);\n}\nfunction polyfill$1(win = window) {\n  if (\"NodeList\" in win && !win.NodeList.prototype.forEach) {\n    win.NodeList.prototype.forEach = Array.prototype.forEach;\n  }\n  if (\"DOMTokenList\" in win && !win.DOMTokenList.prototype.forEach) {\n    win.DOMTokenList.prototype.forEach = Array.prototype.forEach;\n  }\n}\nfunction queueToResolveTrees(queue) {\n  const queueNodeMap = {};\n  const putIntoMap = (m, parent) => {\n    const nodeInTree = {\n      value: m,\n      parent,\n      children: []\n    };\n    queueNodeMap[m.node.id] = nodeInTree;\n    return nodeInTree;\n  };\n  const queueNodeTrees = [];\n  for (const mutation of queue) {\n    const { nextId, parentId } = mutation;\n    if (nextId && nextId in queueNodeMap) {\n      const nextInTree = queueNodeMap[nextId];\n      if (nextInTree.parent) {\n        const idx = nextInTree.parent.children.indexOf(nextInTree);\n        nextInTree.parent.children.splice(\n          idx,\n          0,\n          putIntoMap(mutation, nextInTree.parent)\n        );\n      } else {\n        const idx = queueNodeTrees.indexOf(nextInTree);\n        queueNodeTrees.splice(idx, 0, putIntoMap(mutation, null));\n      }\n      continue;\n    }\n    if (parentId in queueNodeMap) {\n      const parentInTree = queueNodeMap[parentId];\n      parentInTree.children.push(putIntoMap(mutation, parentInTree));\n      continue;\n    }\n    queueNodeTrees.push(putIntoMap(mutation, null));\n  }\n  return queueNodeTrees;\n}\nfunction iterateResolveTree(tree, cb) {\n  cb(tree.value);\n  for (let i2 = tree.children.length - 1; i2 >= 0; i2--) {\n    iterateResolveTree(tree.children[i2], cb);\n  }\n}\nfunction isSerializedIframe(n2, mirror2) {\n  return Boolean(n2.nodeName === \"IFRAME\" && mirror2.getMeta(n2));\n}\nfunction isSerializedStylesheet(n2, mirror2) {\n  return Boolean(\n    n2.nodeName === \"LINK\" && n2.nodeType === n2.ELEMENT_NODE && n2.getAttribute && n2.getAttribute(\"rel\") === \"stylesheet\" && mirror2.getMeta(n2)\n  );\n}\nfunction getBaseDimension(node2, rootIframe) {\n  var _a2, _b;\n  const frameElement = (_b = (_a2 = node2.ownerDocument) == null ? void 0 : _a2.defaultView) == null ? void 0 : _b.frameElement;\n  if (!frameElement || frameElement === rootIframe) {\n    return {\n      x: 0,\n      y: 0,\n      relativeScale: 1,\n      absoluteScale: 1\n    };\n  }\n  const frameDimension = frameElement.getBoundingClientRect();\n  const frameBaseDimension = getBaseDimension(frameElement, rootIframe);\n  const relativeScale = frameDimension.height / frameElement.clientHeight;\n  return {\n    x: frameDimension.x * frameBaseDimension.relativeScale + frameBaseDimension.x,\n    y: frameDimension.y * frameBaseDimension.relativeScale + frameBaseDimension.y,\n    relativeScale,\n    absoluteScale: frameBaseDimension.absoluteScale * relativeScale\n  };\n}\nfunction hasShadowRoot(n2) {\n  if (!n2) return false;\n  if (n2 instanceof BaseRRNode && \"shadowRoot\" in n2) {\n    return Boolean(n2.shadowRoot);\n  }\n  return Boolean(index.shadowRoot(n2));\n}\nfunction getNestedRule(rules2, position) {\n  const rule2 = rules2[position[0]];\n  if (position.length === 1) {\n    return rule2;\n  } else {\n    return getNestedRule(\n      rule2.cssRules[position[1]].cssRules,\n      position.slice(2)\n    );\n  }\n}\nfunction getPositionsAndIndex(nestedIndex) {\n  const positions = [...nestedIndex];\n  const index2 = positions.pop();\n  return { positions, index: index2 };\n}\nfunction uniqueTextMutations(mutations) {\n  const idSet = /* @__PURE__ */ new Set();\n  const uniqueMutations = [];\n  for (let i2 = mutations.length; i2--; ) {\n    const mutation = mutations[i2];\n    if (!idSet.has(mutation.id)) {\n      uniqueMutations.push(mutation);\n      idSet.add(mutation.id);\n    }\n  }\n  return uniqueMutations;\n}\nclass StyleSheetMirror {\n  constructor() {\n    __publicField2(this, \"id\", 1);\n    __publicField2(this, \"styleIDMap\", /* @__PURE__ */ new WeakMap());\n    __publicField2(this, \"idStyleMap\", /* @__PURE__ */ new Map());\n  }\n  getId(stylesheet) {\n    return this.styleIDMap.get(stylesheet) ?? -1;\n  }\n  has(stylesheet) {\n    return this.styleIDMap.has(stylesheet);\n  }\n  /**\n   * @returns If the stylesheet is in the mirror, returns the id of the stylesheet. If not, return the new assigned id.\n   */\n  add(stylesheet, id) {\n    if (this.has(stylesheet)) return this.getId(stylesheet);\n    let newId;\n    if (id === void 0) {\n      newId = this.id++;\n    } else newId = id;\n    this.styleIDMap.set(stylesheet, newId);\n    this.idStyleMap.set(newId, stylesheet);\n    return newId;\n  }\n  getStyle(id) {\n    return this.idStyleMap.get(id) || null;\n  }\n  reset() {\n    this.styleIDMap = /* @__PURE__ */ new WeakMap();\n    this.idStyleMap = /* @__PURE__ */ new Map();\n    this.id = 1;\n  }\n  generateId() {\n    return this.id++;\n  }\n}\nfunction getShadowHost(n2) {\n  var _a2;\n  let shadowHost = null;\n  if (\"getRootNode\" in n2 && ((_a2 = index.getRootNode(n2)) == null ? void 0 : _a2.nodeType) === Node.DOCUMENT_FRAGMENT_NODE && index.host(index.getRootNode(n2)))\n    shadowHost = index.host(index.getRootNode(n2));\n  return shadowHost;\n}\nfunction getRootShadowHost(n2) {\n  let rootShadowHost = n2;\n  let shadowHost;\n  while (shadowHost = getShadowHost(rootShadowHost))\n    rootShadowHost = shadowHost;\n  return rootShadowHost;\n}\nfunction shadowHostInDom(n2) {\n  const doc = n2.ownerDocument;\n  if (!doc) return false;\n  const shadowHost = getRootShadowHost(n2);\n  return index.contains(doc, shadowHost);\n}\nfunction inDom(n2) {\n  const doc = n2.ownerDocument;\n  if (!doc) return false;\n  return index.contains(doc, n2) || shadowHostInDom(n2);\n}\nconst utils = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  StyleSheetMirror,\n  get _mirror() {\n    return _mirror;\n  },\n  closestElementOfNode,\n  getBaseDimension,\n  getNestedRule,\n  getPositionsAndIndex,\n  getRootShadowHost,\n  getShadowHost,\n  getWindowHeight,\n  getWindowScroll,\n  getWindowWidth,\n  hasShadowRoot,\n  hookSetter,\n  inDom,\n  isAncestorRemoved,\n  isBlocked,\n  isIgnored,\n  isSerialized,\n  isSerializedIframe,\n  isSerializedStylesheet,\n  iterateResolveTree,\n  legacy_isTouchEvent,\n  get nowTimestamp() {\n    return nowTimestamp;\n  },\n  on,\n  patch,\n  polyfill: polyfill$1,\n  queueToResolveTrees,\n  shadowHostInDom,\n  throttle,\n  uniqueTextMutations\n}, Symbol.toStringTag, { value: \"Module\" }));\nvar chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\nvar lookup = typeof Uint8Array === \"undefined\" ? [] : new Uint8Array(256);\nfor (var i$1 = 0; i$1 < chars.length; i$1++) {\n  lookup[chars.charCodeAt(i$1)] = i$1;\n}\nconst encodedJs = \"KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=\";\nconst decodeBase64 = (base64) => Uint8Array.from(atob(base64), (c2) => c2.charCodeAt(0));\ntypeof window !== \"undefined\" && window.Blob && new Blob([decodeBase64(encodedJs)], { type: \"text/javascript;charset=utf-8\" });\ntry {\n  if (Array.from([1], (x2) => x2 * 2)[0] !== 2) {\n    const cleanFrame = document.createElement(\"iframe\");\n    document.body.appendChild(cleanFrame);\n    Array.from = ((_a = cleanFrame.contentWindow) == null ? void 0 : _a.Array.from) || Array.from;\n    document.body.removeChild(cleanFrame);\n  }\n} catch (err) {\n  console.debug(\"Unable to override Array.from\", err);\n}\ncreateMirror$2();\nvar n;\n!function(t2) {\n  t2[t2.NotStarted = 0] = \"NotStarted\", t2[t2.Running = 1] = \"Running\", t2[t2.Stopped = 2] = \"Stopped\";\n}(n || (n = {}));\nclass StackFrame {\n  constructor(obj) {\n    __publicField(this, \"fileName\");\n    __publicField(this, \"functionName\");\n    __publicField(this, \"lineNumber\");\n    __publicField(this, \"columnNumber\");\n    this.fileName = obj.fileName || \"\";\n    this.functionName = obj.functionName || \"\";\n    this.lineNumber = obj.lineNumber;\n    this.columnNumber = obj.columnNumber;\n  }\n  toString() {\n    const lineNumber = this.lineNumber || \"\";\n    const columnNumber = this.columnNumber || \"\";\n    if (this.functionName)\n      return `${this.functionName} (${this.fileName}:${lineNumber}:${columnNumber})`;\n    return `${this.fileName}:${lineNumber}:${columnNumber}`;\n  }\n}\nconst FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\nconst CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\nconst SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code])?$/;\nconst ErrorStackParser = {\n  /**\n   * Given an Error object, extract the most information from it.\n   */\n  parse: function(error) {\n    if (!error) {\n      return [];\n    }\n    if (\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      typeof error.stacktrace !== \"undefined\" || // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      typeof error[\"opera#sourceloc\"] !== \"undefined\"\n    ) {\n      return this.parseOpera(\n        error\n      );\n    } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n      return this.parseV8OrIE(error);\n    } else if (error.stack) {\n      return this.parseFFOrSafari(error);\n    } else {\n      console.warn(\n        \"[console-record-plugin]: Failed to parse error object:\",\n        error\n      );\n      return [];\n    }\n  },\n  // Separate line and column numbers from a string of the form: (URI:Line:Column)\n  extractLocation: function(urlLike) {\n    if (urlLike.indexOf(\":\") === -1) {\n      return [urlLike];\n    }\n    const regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\n    const parts = regExp.exec(urlLike.replace(/[()]/g, \"\"));\n    if (!parts) throw new Error(`Cannot parse given url: ${urlLike}`);\n    return [parts[1], parts[2] || void 0, parts[3] || void 0];\n  },\n  parseV8OrIE: function(error) {\n    const filtered = error.stack.split(\"\\n\").filter(function(line) {\n      return !!line.match(CHROME_IE_STACK_REGEXP);\n    }, this);\n    return filtered.map(function(line) {\n      if (line.indexOf(\"(eval \") > -1) {\n        line = line.replace(/eval code/g, \"eval\").replace(/(\\(eval at [^()]*)|(\\),.*$)/g, \"\");\n      }\n      let sanitizedLine = line.replace(/^\\s+/, \"\").replace(/\\(eval code/g, \"(\");\n      const location = sanitizedLine.match(/ (\\((.+):(\\d+):(\\d+)\\)$)/);\n      sanitizedLine = location ? sanitizedLine.replace(location[0], \"\") : sanitizedLine;\n      const tokens = sanitizedLine.split(/\\s+/).slice(1);\n      const locationParts = this.extractLocation(\n        location ? location[1] : tokens.pop()\n      );\n      const functionName = tokens.join(\" \") || void 0;\n      const fileName = [\"eval\", \"<anonymous>\"].indexOf(locationParts[0]) > -1 ? void 0 : locationParts[0];\n      return new StackFrame({\n        functionName,\n        fileName,\n        lineNumber: locationParts[1],\n        columnNumber: locationParts[2]\n      });\n    }, this);\n  },\n  parseFFOrSafari: function(error) {\n    const filtered = error.stack.split(\"\\n\").filter(function(line) {\n      return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n    }, this);\n    return filtered.map(function(line) {\n      if (line.indexOf(\" > eval\") > -1) {\n        line = line.replace(\n          / line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g,\n          \":$1\"\n        );\n      }\n      if (line.indexOf(\"@\") === -1 && line.indexOf(\":\") === -1) {\n        return new StackFrame({\n          functionName: line\n        });\n      } else {\n        const functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n        const matches = line.match(functionNameRegex);\n        const functionName = matches && matches[1] ? matches[1] : void 0;\n        const locationParts = this.extractLocation(\n          line.replace(functionNameRegex, \"\")\n        );\n        return new StackFrame({\n          functionName,\n          fileName: locationParts[0],\n          lineNumber: locationParts[1],\n          columnNumber: locationParts[2]\n        });\n      }\n    }, this);\n  },\n  parseOpera: function(e) {\n    if (!e.stacktrace || e.message.indexOf(\"\\n\") > -1 && e.message.split(\"\\n\").length > e.stacktrace.split(\"\\n\").length) {\n      return this.parseOpera9(e);\n    } else if (!e.stack) {\n      return this.parseOpera10(e);\n    } else {\n      return this.parseOpera11(e);\n    }\n  },\n  parseOpera9: function(e) {\n    const lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n    const lines = e.message.split(\"\\n\");\n    const result2 = [];\n    for (let i = 2, len = lines.length; i < len; i += 2) {\n      const match = lineRE.exec(lines[i]);\n      if (match) {\n        result2.push(\n          new StackFrame({\n            fileName: match[2],\n            lineNumber: parseFloat(match[1])\n          })\n        );\n      }\n    }\n    return result2;\n  },\n  parseOpera10: function(e) {\n    const lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n    const lines = e.stacktrace.split(\"\\n\");\n    const result2 = [];\n    for (let i = 0, len = lines.length; i < len; i += 2) {\n      const match = lineRE.exec(lines[i]);\n      if (match) {\n        result2.push(\n          new StackFrame({\n            functionName: match[3] || void 0,\n            fileName: match[2],\n            lineNumber: parseFloat(match[1])\n          })\n        );\n      }\n    }\n    return result2;\n  },\n  // Opera 10.65+ Error.stack very similar to FF/Safari\n  parseOpera11: function(error) {\n    const filtered = error.stack.split(\"\\n\").filter(function(line) {\n      return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n    }, this);\n    return filtered.map(function(line) {\n      const tokens = line.split(\"@\");\n      const locationParts = this.extractLocation(tokens.pop());\n      const functionCall = tokens.shift() || \"\";\n      const functionName = functionCall.replace(/<anonymous function(: (\\w+))?>/, \"$2\").replace(/\\([^)]*\\)/g, \"\") || void 0;\n      return new StackFrame({\n        functionName,\n        fileName: locationParts[0],\n        lineNumber: locationParts[1],\n        columnNumber: locationParts[2]\n      });\n    }, this);\n  }\n};\nfunction pathToSelector(node2) {\n  if (!node2 || !node2.outerHTML) {\n    return \"\";\n  }\n  let path = \"\";\n  while (node2.parentElement) {\n    let name = node2.localName;\n    if (!name) {\n      break;\n    }\n    name = name.toLowerCase();\n    const parent = node2.parentElement;\n    const domSiblings = [];\n    if (parent.children && parent.children.length > 0) {\n      for (let i = 0; i < parent.children.length; i++) {\n        const sibling = parent.children[i];\n        if (sibling.localName && sibling.localName.toLowerCase) {\n          if (sibling.localName.toLowerCase() === name) {\n            domSiblings.push(sibling);\n          }\n        }\n      }\n    }\n    if (domSiblings.length > 1) {\n      name += `:eq(${domSiblings.indexOf(node2)})`;\n    }\n    path = name + (path ? \">\" + path : \"\");\n    node2 = parent;\n  }\n  return path;\n}\nfunction isObject(obj) {\n  return Object.prototype.toString.call(obj) === \"[object Object]\";\n}\nfunction isObjTooDeep(obj, limit) {\n  if (limit === 0) {\n    return true;\n  }\n  const keys = Object.keys(obj);\n  for (const key of keys) {\n    if (isObject(obj[key]) && isObjTooDeep(obj[key], limit - 1)) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction stringify(obj, stringifyOptions) {\n  const options = {\n    numOfKeysLimit: 50,\n    depthOfLimit: 4\n  };\n  Object.assign(options, stringifyOptions);\n  const stack = [];\n  const keys = [];\n  return JSON.stringify(\n    obj,\n    function(key, value) {\n      if (stack.length > 0) {\n        const thisPos = stack.indexOf(this);\n        ~thisPos ? stack.splice(thisPos + 1) : stack.push(this);\n        ~thisPos ? keys.splice(thisPos, Infinity, key) : keys.push(key);\n        if (~stack.indexOf(value)) {\n          if (stack[0] === value) {\n            value = \"[Circular ~]\";\n          } else {\n            value = \"[Circular ~.\" + keys.slice(0, stack.indexOf(value)).join(\".\") + \"]\";\n          }\n        }\n      } else {\n        stack.push(value);\n      }\n      if (value === null) return value;\n      if (value === void 0) return \"undefined\";\n      if (shouldIgnore(value)) {\n        return toString(value);\n      }\n      if (typeof value === \"bigint\") {\n        return value.toString() + \"n\";\n      }\n      if (value instanceof Event) {\n        const eventResult = {};\n        for (const eventKey in value) {\n          const eventValue = value[eventKey];\n          if (Array.isArray(eventValue)) {\n            eventResult[eventKey] = pathToSelector(\n              eventValue.length ? eventValue[0] : null\n            );\n          } else {\n            eventResult[eventKey] = eventValue;\n          }\n        }\n        return eventResult;\n      } else if (value instanceof Node) {\n        if (value instanceof HTMLElement) {\n          return value ? value.outerHTML : \"\";\n        }\n        return value.nodeName;\n      } else if (value instanceof Error) {\n        return value.stack ? value.stack + \"\\nEnd of stack for Error object\" : value.name + \": \" + value.message;\n      }\n      return value;\n    }\n  );\n  function shouldIgnore(_obj) {\n    if (isObject(_obj) && Object.keys(_obj).length > options.numOfKeysLimit) {\n      return true;\n    }\n    if (typeof _obj === \"function\") {\n      return true;\n    }\n    if (isObject(_obj) && isObjTooDeep(_obj, options.depthOfLimit)) {\n      return true;\n    }\n    return false;\n  }\n  function toString(_obj) {\n    let str = _obj.toString();\n    if (options.stringLengthLimit && str.length > options.stringLengthLimit) {\n      str = `${str.slice(0, options.stringLengthLimit)}...`;\n    }\n    return str;\n  }\n}\nconst defaultLogOptions = {\n  level: [\n    \"assert\",\n    \"clear\",\n    \"count\",\n    \"countReset\",\n    \"debug\",\n    \"dir\",\n    \"dirxml\",\n    \"error\",\n    \"group\",\n    \"groupCollapsed\",\n    \"groupEnd\",\n    \"info\",\n    \"log\",\n    \"table\",\n    \"time\",\n    \"timeEnd\",\n    \"timeLog\",\n    \"trace\",\n    \"warn\"\n  ],\n  lengthThreshold: 1e3,\n  logger: \"console\"\n};\nfunction initLogObserver(cb, win, options) {\n  const logOptions = options ? Object.assign({}, defaultLogOptions, options) : defaultLogOptions;\n  const loggerType = logOptions.logger;\n  if (!loggerType) {\n    return () => {\n    };\n  }\n  let logger;\n  if (typeof loggerType === \"string\") {\n    logger = win[loggerType];\n  } else {\n    logger = loggerType;\n  }\n  let logCount = 0;\n  let inStack = false;\n  const cancelHandlers = [];\n  if (logOptions.level.includes(\"error\")) {\n    const errorHandler = (event) => {\n      const message = event.message, error = event.error;\n      const trace = ErrorStackParser.parse(error).map(\n        (stackFrame) => stackFrame.toString()\n      );\n      const payload = [stringify(message, logOptions.stringifyOptions)];\n      cb({\n        level: \"error\",\n        trace,\n        payload\n      });\n    };\n    win.addEventListener(\"error\", errorHandler);\n    cancelHandlers.push(() => {\n      win.removeEventListener(\"error\", errorHandler);\n    });\n    const unhandledrejectionHandler = (event) => {\n      let error;\n      let payload;\n      if (event.reason instanceof Error) {\n        error = event.reason;\n        payload = [\n          stringify(\n            `Uncaught (in promise) ${error.name}: ${error.message}`,\n            logOptions.stringifyOptions\n          )\n        ];\n      } else {\n        error = new Error();\n        payload = [\n          stringify(\"Uncaught (in promise)\", logOptions.stringifyOptions),\n          stringify(event.reason, logOptions.stringifyOptions)\n        ];\n      }\n      const trace = ErrorStackParser.parse(error).map(\n        (stackFrame) => stackFrame.toString()\n      );\n      cb({\n        level: \"error\",\n        trace,\n        payload\n      });\n    };\n    win.addEventListener(\"unhandledrejection\", unhandledrejectionHandler);\n    cancelHandlers.push(() => {\n      win.removeEventListener(\"unhandledrejection\", unhandledrejectionHandler);\n    });\n  }\n  for (const levelType of logOptions.level) {\n    cancelHandlers.push(replace(logger, levelType));\n  }\n  return () => {\n    cancelHandlers.forEach((h) => h());\n  };\n  function replace(_logger, level) {\n    if (!_logger[level]) {\n      return () => {\n      };\n    }\n    return utils.patch(\n      _logger,\n      level,\n      (original) => {\n        return (...args) => {\n          original.apply(this, args);\n          if (level === \"assert\" && !!args[0]) {\n            return;\n          }\n          if (inStack) {\n            return;\n          }\n          inStack = true;\n          try {\n            const trace = ErrorStackParser.parse(new Error()).map((stackFrame) => stackFrame.toString()).splice(1);\n            const argsForPayload = level === \"assert\" ? args.slice(1) : args;\n            const payload = argsForPayload.map(\n              (s) => stringify(s, logOptions.stringifyOptions)\n            );\n            logCount++;\n            if (logCount < logOptions.lengthThreshold) {\n              cb({\n                level,\n                trace,\n                payload\n              });\n            } else if (logCount === logOptions.lengthThreshold) {\n              cb({\n                level: \"warn\",\n                trace: [],\n                payload: [\n                  stringify(\"The number of log records reached the threshold.\")\n                ]\n              });\n            }\n          } catch (error) {\n            original(\"rrweb logger error:\", error, ...args);\n          } finally {\n            inStack = false;\n          }\n        };\n      }\n    );\n  }\n}\nconst PLUGIN_NAME = \"rrweb/console@1\";\nconst getRecordConsolePlugin = (options) => ({\n  name: PLUGIN_NAME,\n  observer: initLogObserver,\n  options\n});\nexport {\n  PLUGIN_NAME,\n  getRecordConsolePlugin\n};\n//# sourceMappingURL=rrweb-plugin-console-record.js.map\n","// eslint-disable-next-line posthog-js/no-direct-array-check\nconst nativeIsArray = Array.isArray\nconst ObjProto = Object.prototype\nexport const hasOwnProperty = ObjProto.hasOwnProperty\nconst toString = ObjProto.toString\n\nexport const isArray =\n    nativeIsArray ||\n    function (obj: any): obj is any[] {\n        return toString.call(obj) === '[object Array]'\n    }\nexport const isUint8Array = function (x: unknown): x is Uint8Array {\n    return toString.call(x) === '[object Uint8Array]'\n}\n// from a comment on http://dbj.org/dbj/?p=286\n// fails on only one very rare and deliberate custom object:\n// let bomb = { toString : undefined, valueOf: function(o) { return \"function BOMBA!\"; }};\nexport const isFunction = function (f: any): f is (...args: any[]) => any {\n    // eslint-disable-next-line posthog-js/no-direct-function-check\n    return typeof f === 'function'\n}\n// Underscore Addons\nexport const isObject = function (x: unknown): x is Record<string, any> {\n    // eslint-disable-next-line posthog-js/no-direct-object-check\n    return x === Object(x) && !isArray(x)\n}\nexport const isEmptyObject = function (x: unknown): x is Record<string, any> {\n    if (isObject(x)) {\n        for (const key in x) {\n            if (hasOwnProperty.call(x, key)) {\n                return false\n            }\n        }\n        return true\n    }\n    return false\n}\nexport const isUndefined = function (x: unknown): x is undefined {\n    return x === void 0\n}\n\nexport const isString = function (x: unknown): x is string {\n    // eslint-disable-next-line posthog-js/no-direct-string-check\n    return toString.call(x) == '[object String]'\n}\n\nexport const isEmptyString = function (x: unknown): boolean {\n    return isString(x) && x.trim().length === 0\n}\n\nexport const isNull = function (x: unknown): x is null {\n    // eslint-disable-next-line posthog-js/no-direct-null-check\n    return x === null\n}\n\n/*\n    sometimes you want to check if something is null or undefined\n    that's what this is for\n */\nexport const isNullish = function (x: unknown): x is null | undefined {\n    return isUndefined(x) || isNull(x)\n}\n\nexport const isDate = function (x: unknown): x is Date {\n    // eslint-disable-next-line posthog-js/no-direct-date-check\n    return toString.call(x) == '[object Date]'\n}\nexport const isNumber = function (x: unknown): x is number {\n    // eslint-disable-next-line posthog-js/no-direct-number-check\n    return toString.call(x) == '[object Number]'\n}\nexport const isBoolean = function (x: unknown): x is boolean {\n    // eslint-disable-next-line posthog-js/no-direct-boolean-check\n    return toString.call(x) === '[object Boolean]'\n}\n\nexport const isDocument = (x: unknown): x is Document => {\n    // eslint-disable-next-line posthog-js/no-direct-document-check\n    return x instanceof Document\n}\n\nexport const isFormData = (x: unknown): x is FormData => {\n    // eslint-disable-next-line posthog-js/no-direct-form-data-check\n    return x instanceof FormData\n}\n\nexport const isFile = (x: unknown): x is File => {\n    // eslint-disable-next-line posthog-js/no-direct-file-check\n    return x instanceof File\n}\n","import { ErrorProperties } from '../extensions/exception-autocapture/error-conversion'\nimport type { PostHog } from '../posthog-core'\nimport { SessionIdManager } from '../sessionid'\nimport { DeadClicksAutoCaptureConfig, ErrorEventArgs, ErrorMetadata, Properties } from '../types'\n\n/*\n * Global helpers to protect access to browser globals in a way that is safer for different targets\n * like DOM, SSR, Web workers etc.\n *\n * NOTE: Typically we want the \"window\" but globalThis works for both the typical browser context as\n * well as other contexts such as the web worker context. Window is still exported for any bits that explicitly require it.\n * If in doubt - export the global you need from this file and use that as an optional value. This way the code path is forced\n * to handle the case where the global is not available.\n */\n\n// eslint-disable-next-line no-restricted-globals\nconst win: (Window & typeof globalThis) | undefined = typeof window !== 'undefined' ? window : undefined\n\n/**\n * This is our contract between (potentially) lazily loaded extensions and the SDK\n * changes to this interface can be breaking changes for users of the SDK\n */\n\nexport type PostHogExtensionKind =\n    | 'toolbar'\n    | 'exception-autocapture'\n    | 'web-vitals'\n    | 'recorder'\n    | 'tracing-headers'\n    | 'surveys'\n    | 'dead-clicks-autocapture'\n\nexport interface LazyLoadedDeadClicksAutocaptureInterface {\n    start: (observerTarget: Node) => void\n    stop: () => void\n}\n\ninterface PostHogExtensions {\n    loadExternalDependency?: (\n        posthog: PostHog,\n        kind: PostHogExtensionKind,\n        callback: (error?: string | Event, event?: Event) => void\n    ) => void\n\n    loadSiteApp?: (posthog: PostHog, appUrl: string, callback: (error?: string | Event, event?: Event) => void) => void\n\n    parseErrorAsProperties?: (\n        [event, source, lineno, colno, error]: ErrorEventArgs,\n        metadata?: ErrorMetadata\n    ) => ErrorProperties\n    errorWrappingFunctions?: {\n        wrapOnError: (captureFn: (props: Properties) => void) => () => void\n        wrapUnhandledRejection: (captureFn: (props: Properties) => void) => () => void\n    }\n    rrweb?: { record: any; version: string }\n    rrwebPlugins?: { getRecordConsolePlugin: any; getRecordNetworkPlugin?: any }\n    canActivateRepeatedly?: (survey: any) => boolean\n    generateSurveys?: (posthog: PostHog) => any | undefined\n    postHogWebVitalsCallbacks?: {\n        onLCP: (metric: any) => void\n        onCLS: (metric: any) => void\n        onFCP: (metric: any) => void\n        onINP: (metric: any) => void\n    }\n    tracingHeadersPatchFns?: {\n        _patchFetch: (sessionManager: SessionIdManager) => () => void\n        _patchXHR: (sessionManager: any) => () => void\n    }\n    initDeadClicksAutocapture?: (\n        ph: PostHog,\n        config: DeadClicksAutoCaptureConfig\n    ) => LazyLoadedDeadClicksAutocaptureInterface\n}\n\nconst global: typeof globalThis | undefined = typeof globalThis !== 'undefined' ? globalThis : win\n\nexport const ArrayProto = Array.prototype\nexport const nativeForEach = ArrayProto.forEach\nexport const nativeIndexOf = ArrayProto.indexOf\n\nexport const navigator = global?.navigator\nexport const document = global?.document\nexport const location = global?.location\nexport const fetch = global?.fetch\nexport const XMLHttpRequest =\n    global?.XMLHttpRequest && 'withCredentials' in new global.XMLHttpRequest() ? global.XMLHttpRequest : undefined\nexport const AbortController = global?.AbortController\nexport const userAgent = navigator?.userAgent\nexport const assignableWindow: Window &\n    typeof globalThis &\n    Record<string, any> & {\n        __PosthogExtensions__?: PostHogExtensions\n    } = win ?? ({} as any)\n\nexport { win as window }\n","import Config from '../config'\nimport { isUndefined } from './type-utils'\nimport { assignableWindow, window } from './globals'\n\nconst LOGGER_PREFIX = '[PostHog.js]'\nexport const logger = {\n    _log: (level: 'log' | 'warn' | 'error', ...args: any[]) => {\n        if (\n            window &&\n            (Config.DEBUG || assignableWindow.POSTHOG_DEBUG) &&\n            !isUndefined(window.console) &&\n            window.console\n        ) {\n            const consoleLog =\n                '__rrweb_original__' in window.console[level]\n                    ? (window.console[level] as any)['__rrweb_original__']\n                    : window.console[level]\n\n            // eslint-disable-next-line no-console\n            consoleLog(LOGGER_PREFIX, ...args)\n        }\n    },\n\n    info: (...args: any[]) => {\n        logger._log('log', ...args)\n    },\n\n    warn: (...args: any[]) => {\n        logger._log('warn', ...args)\n    },\n\n    error: (...args: any[]) => {\n        logger._log('error', ...args)\n    },\n\n    critical: (...args: any[]) => {\n        // Critical errors are always logged to the console\n        // eslint-disable-next-line no-console\n        console.error(LOGGER_PREFIX, ...args)\n    },\n\n    uninitializedWarning: (methodName: string) => {\n        logger.error(`You must initialize PostHog before calling ${methodName}`)\n    },\n}\n","import { Breaker, EventHandler, Properties } from '../types'\nimport { hasOwnProperty, isArray, isFormData, isFunction, isNull, isNullish, isString } from './type-utils'\nimport { logger } from './logger'\nimport { nativeForEach, nativeIndexOf, window } from './globals'\n\nconst breaker: Breaker = {}\n\n// UNDERSCORE\n// Embed part of the Underscore Library\nexport const trim = function (str: string): string {\n    return str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '')\n}\n\nexport function eachArray<E = any>(\n    obj: E[] | null | undefined,\n    iterator: (value: E, key: number) => void | Breaker,\n    thisArg?: any\n): void {\n    if (isArray(obj)) {\n        if (nativeForEach && obj.forEach === nativeForEach) {\n            obj.forEach(iterator, thisArg)\n        } else if ('length' in obj && obj.length === +obj.length) {\n            for (let i = 0, l = obj.length; i < l; i++) {\n                if (i in obj && iterator.call(thisArg, obj[i], i) === breaker) {\n                    return\n                }\n            }\n        }\n    }\n}\n\n/**\n * @param {*=} obj\n * @param {function(...*)=} iterator\n * @param {Object=} thisArg\n */\nexport function each(obj: any, iterator: (value: any, key: any) => void | Breaker, thisArg?: any): void {\n    if (isNullish(obj)) {\n        return\n    }\n    if (isArray(obj)) {\n        return eachArray(obj, iterator, thisArg)\n    }\n    if (isFormData(obj)) {\n        for (const pair of obj.entries()) {\n            if (iterator.call(thisArg, pair[1], pair[0]) === breaker) {\n                return\n            }\n        }\n        return\n    }\n    for (const key in obj) {\n        if (hasOwnProperty.call(obj, key)) {\n            if (iterator.call(thisArg, obj[key], key) === breaker) {\n                return\n            }\n        }\n    }\n}\n\nexport const extend = function (obj: Record<string, any>, ...args: Record<string, any>[]): Record<string, any> {\n    eachArray(args, function (source) {\n        for (const prop in source) {\n            if (source[prop] !== void 0) {\n                obj[prop] = source[prop]\n            }\n        }\n    })\n    return obj\n}\n\nexport const include = function (\n    obj: null | string | Array<any> | Record<string, any>,\n    target: any\n): boolean | Breaker {\n    let found = false\n    if (isNull(obj)) {\n        return found\n    }\n    if (nativeIndexOf && obj.indexOf === nativeIndexOf) {\n        return obj.indexOf(target) != -1\n    }\n    each(obj, function (value) {\n        if (found || (found = value === target)) {\n            return breaker\n        }\n        return\n    })\n    return found\n}\n\nexport function includes<T = any>(str: T[] | string, needle: T): boolean {\n    return (str as any).indexOf(needle) !== -1\n}\n\n/**\n * Object.entries() polyfill\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries\n */\nexport function entries<T = any>(obj: Record<string, T>): [string, T][] {\n    const ownProps = Object.keys(obj)\n    let i = ownProps.length\n    const resArray = new Array(i) // preallocate the Array\n\n    while (i--) {\n        resArray[i] = [ownProps[i], obj[ownProps[i]]]\n    }\n    return resArray\n}\n\nexport const isValidRegex = function (str: string): boolean {\n    try {\n        new RegExp(str)\n    } catch {\n        return false\n    }\n    return true\n}\n\nexport const trySafe = function <T>(fn: () => T): T | undefined {\n    try {\n        return fn()\n    } catch {\n        return undefined\n    }\n}\n\nexport const safewrap = function <F extends (...args: any[]) => any = (...args: any[]) => any>(f: F): F {\n    return function (...args) {\n        try {\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            return f.apply(this, args)\n        } catch (e) {\n            logger.critical(\n                'Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A.'\n            )\n            logger.critical(e)\n        }\n    } as F\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unsafe-function-type\nexport const safewrapClass = function (klass: Function, functions: string[]): void {\n    for (let i = 0; i < functions.length; i++) {\n        klass.prototype[functions[i]] = safewrap(klass.prototype[functions[i]])\n    }\n}\n\nexport const stripEmptyProperties = function (p: Properties): Properties {\n    const ret: Properties = {}\n    each(p, function (v, k) {\n        if (isString(v) && v.length > 0) {\n            ret[k] = v\n        }\n    })\n    return ret\n}\n\nexport const stripLeadingDollar = function (s: string): string {\n    return s.replace(/^\\$/, '')\n}\n\n/**\n * Deep copies an object.\n * It handles cycles by replacing all references to them with `undefined`\n * Also supports customizing native values\n *\n * @param value\n * @param customizer\n * @returns {{}|undefined|*}\n */\nfunction deepCircularCopy<T extends Record<string, any> = Record<string, any>>(\n    value: T,\n    customizer?: <K extends keyof T = keyof T>(value: T[K], key?: K) => T[K]\n): T | undefined {\n    const COPY_IN_PROGRESS_SET = new Set()\n\n    function internalDeepCircularCopy(value: T, key?: string): T | undefined {\n        if (value !== Object(value)) return customizer ? customizer(value as any, key) : value // primitive value\n\n        if (COPY_IN_PROGRESS_SET.has(value)) return undefined\n        COPY_IN_PROGRESS_SET.add(value)\n        let result: T\n\n        if (isArray(value)) {\n            result = [] as any as T\n            eachArray(value, (it) => {\n                result.push(internalDeepCircularCopy(it))\n            })\n        } else {\n            result = {} as T\n            each(value, (val, key) => {\n                if (!COPY_IN_PROGRESS_SET.has(val)) {\n                    ;(result as any)[key] = internalDeepCircularCopy(val, key)\n                }\n            })\n        }\n        return result\n    }\n    return internalDeepCircularCopy(value)\n}\n\nexport function _copyAndTruncateStrings<T extends Record<string, any> = Record<string, any>>(\n    object: T,\n    maxStringLength: number | null\n): T {\n    return deepCircularCopy(object, (value: any) => {\n        if (isString(value) && !isNull(maxStringLength)) {\n            return (value as string).slice(0, maxStringLength)\n        }\n        return value\n    }) as T\n}\n\nexport function _base64Encode(data: null): null\nexport function _base64Encode(data: undefined): undefined\nexport function _base64Encode(data: string): string\nexport function _base64Encode(data: string | null | undefined): string | null | undefined {\n    const b64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='\n    let o1,\n        o2,\n        o3,\n        h1,\n        h2,\n        h3,\n        h4,\n        bits,\n        i = 0,\n        ac = 0,\n        enc = ''\n    const tmp_arr: string[] = []\n\n    if (!data) {\n        return data\n    }\n\n    data = utf8Encode(data)\n\n    do {\n        // pack three octets into four hexets\n        o1 = data.charCodeAt(i++)\n        o2 = data.charCodeAt(i++)\n        o3 = data.charCodeAt(i++)\n\n        bits = (o1 << 16) | (o2 << 8) | o3\n\n        h1 = (bits >> 18) & 0x3f\n        h2 = (bits >> 12) & 0x3f\n        h3 = (bits >> 6) & 0x3f\n        h4 = bits & 0x3f\n\n        // use hexets to index into b64, and append result to encoded string\n        tmp_arr[ac++] = b64.charAt(h1) + b64.charAt(h2) + b64.charAt(h3) + b64.charAt(h4)\n    } while (i < data.length)\n\n    enc = tmp_arr.join('')\n\n    switch (data.length % 3) {\n        case 1:\n            enc = enc.slice(0, -2) + '=='\n            break\n        case 2:\n            enc = enc.slice(0, -1) + '='\n            break\n    }\n\n    return enc\n}\n\nexport const utf8Encode = function (string: string): string {\n    string = (string + '').replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n')\n\n    let utftext = '',\n        start,\n        end\n    let stringl = 0,\n        n\n\n    start = end = 0\n    stringl = string.length\n\n    for (n = 0; n < stringl; n++) {\n        const c1 = string.charCodeAt(n)\n        let enc = null\n\n        if (c1 < 128) {\n            end++\n        } else if (c1 > 127 && c1 < 2048) {\n            enc = String.fromCharCode((c1 >> 6) | 192, (c1 & 63) | 128)\n        } else {\n            enc = String.fromCharCode((c1 >> 12) | 224, ((c1 >> 6) & 63) | 128, (c1 & 63) | 128)\n        }\n        if (!isNull(enc)) {\n            if (end > start) {\n                utftext += string.substring(start, end)\n            }\n            utftext += enc\n            start = end = n + 1\n        }\n    }\n\n    if (end > start) {\n        utftext += string.substring(start, string.length)\n    }\n\n    return utftext\n}\n\nexport const registerEvent = (function () {\n    // written by Dean Edwards, 2005\n    // with input from Tino Zijdel - crisp@xs4all.nl\n    // with input from Carl Sverre - mail@carlsverre.com\n    // with input from PostHog\n    // http://dean.edwards.name/weblog/2005/10/add-event/\n    // https://gist.github.com/1930440\n\n    /**\n     * @param {Object} element\n     * @param {string} type\n     * @param {function(...*)} handler\n     * @param {boolean=} oldSchool\n     * @param {boolean=} useCapture\n     */\n    const register_event = function (\n        element: Element | Window | Document | Node,\n        type: string,\n        handler: EventHandler,\n        oldSchool?: boolean,\n        useCapture?: boolean\n    ) {\n        if (!element) {\n            logger.error('No valid element provided to register_event')\n            return\n        }\n\n        if (element.addEventListener && !oldSchool) {\n            element.addEventListener(type, handler, !!useCapture)\n        } else {\n            const ontype = 'on' + type\n            const old_handler = (element as any)[ontype] // can be undefined\n            ;(element as any)[ontype] = makeHandler(element, handler, old_handler)\n        }\n    }\n\n    function makeHandler(\n        element: Element | Window | Document | Node,\n        new_handler: EventHandler,\n        old_handlers: EventHandler\n    ) {\n        return function (event: Event): boolean | void {\n            event = event || fixEvent(window?.event)\n\n            // this basically happens in firefox whenever another script\n            // overwrites the onload callback and doesn't pass the event\n            // object to previously defined callbacks.  All the browsers\n            // that don't define window.event implement addEventListener\n            // so the dom_loaded handler will still be fired as usual.\n            if (!event) {\n                return undefined\n            }\n\n            let ret = true\n            let old_result: any\n\n            if (isFunction(old_handlers)) {\n                old_result = old_handlers(event)\n            }\n            const new_result = new_handler.call(element, event)\n\n            if (false === old_result || false === new_result) {\n                ret = false\n            }\n\n            return ret\n        }\n    }\n\n    function fixEvent(event: Event | undefined): Event | undefined {\n        if (event) {\n            event.preventDefault = fixEvent.preventDefault\n            event.stopPropagation = fixEvent.stopPropagation\n        }\n        return event\n    }\n    fixEvent.preventDefault = function () {\n        ;(this as any as Event).returnValue = false\n    }\n    fixEvent.stopPropagation = function () {\n        ;(this as any as Event).cancelBubble = true\n    }\n\n    return register_event\n})()\n\nexport function isCrossDomainCookie(documentLocation: Location | undefined) {\n    const hostname = documentLocation?.hostname\n\n    if (!isString(hostname)) {\n        return false\n    }\n    // split and slice isn't a great way to match arbitrary domains,\n    // but it's good enough for ensuring we only match herokuapp.com when it is the TLD\n    // for the hostname\n    return hostname.split('.').slice(-2).join('.') !== 'herokuapp.com'\n}\n\nexport function isDistinctIdStringLike(value: string): boolean {\n    return ['distinct_id', 'distinctid'].includes(value.toLowerCase())\n}\n\nexport function find<T>(value: T[], predicate: (value: T) => boolean): T | undefined {\n    for (let i = 0; i < value.length; i++) {\n        if (predicate(value[i])) {\n            return value[i]\n        }\n    }\n    return undefined\n}\n","import { each, isValidRegex } from './'\n\nimport { isArray, isFile, isUndefined } from './type-utils'\nimport { logger } from './logger'\nimport { document } from './globals'\n\nconst localDomains = ['localhost', '127.0.0.1']\n\n/**\n * IE11 doesn't support `new URL`\n * so we can create an anchor element and use that to parse the URL\n * there's a lot of overlap between HTMLHyperlinkElementUtils and URL\n * meaning useful properties like `pathname` are available on both\n */\nexport const convertToURL = (url: string): HTMLAnchorElement | null => {\n    const location = document?.createElement('a')\n    if (isUndefined(location)) {\n        return null\n    }\n\n    location.href = url\n    return location\n}\n\nexport const isUrlMatchingRegex = function (url: string, pattern: string): boolean {\n    if (!isValidRegex(pattern)) return false\n    return new RegExp(pattern).test(url)\n}\n\nexport const formDataToQuery = function (formdata: Record<string, any> | FormData, arg_separator = '&'): string {\n    let use_val: string\n    let use_key: string\n    const tph_arr: string[] = []\n\n    each(formdata, function (val: File | string | undefined, key: string | undefined) {\n        // the key might be literally the string undefined for e.g. if {undefined: 'something'}\n        if (isUndefined(val) || isUndefined(key) || key === 'undefined') {\n            return\n        }\n\n        use_val = encodeURIComponent(isFile(val) ? val.name : val.toString())\n        use_key = encodeURIComponent(key)\n        tph_arr[tph_arr.length] = use_key + '=' + use_val\n    })\n\n    return tph_arr.join(arg_separator)\n}\n\nexport const getQueryParam = function (url: string, param: string): string {\n    const withoutHash: string = url.split('#')[0] || ''\n    const queryParams: string = withoutHash.split('?')[1] || ''\n\n    const queryParts = queryParams.split('&')\n    let keyValuePair\n\n    for (let i = 0; i < queryParts.length; i++) {\n        const parts = queryParts[i].split('=')\n        if (parts[0] === param) {\n            keyValuePair = parts\n            break\n        }\n    }\n\n    if (!isArray(keyValuePair) || keyValuePair.length < 2) {\n        return ''\n    } else {\n        let result = keyValuePair[1]\n        try {\n            result = decodeURIComponent(result)\n        } catch {\n            logger.error('Skipping decoding for malformed query param: ' + result)\n        }\n        return result.replace(/\\+/g, ' ')\n    }\n}\n\nexport const _getHashParam = function (hash: string, param: string): string | null {\n    const matches = hash.match(new RegExp(param + '=([^&]*)'))\n    return matches ? matches[1] : null\n}\n\nexport const isLocalhost = (): boolean => {\n    return localDomains.includes(location.hostname)\n}\n","import { CapturedNetworkRequest, NetworkRecordOptions, PostHogConfig } from '../../types'\nimport { isFunction, isNullish, isString, isUndefined } from '../../utils/type-utils'\nimport { convertToURL } from '../../utils/request-utils'\nimport { logger } from '../../utils/logger'\nimport { shouldCaptureValue } from '../../autocapture-utils'\nimport { each } from '../../utils'\n\nconst LOGGER_PREFIX = '[SessionRecording]'\nconst REDACTED = 'redacted'\n\nexport const defaultNetworkOptions: Required<NetworkRecordOptions> = {\n    initiatorTypes: [\n        'audio',\n        'beacon',\n        'body',\n        'css',\n        'early-hint',\n        'embed',\n        'fetch',\n        'frame',\n        'iframe',\n        'icon',\n        'image',\n        'img',\n        'input',\n        'link',\n        'navigation',\n        'object',\n        'ping',\n        'script',\n        'track',\n        'video',\n        'xmlhttprequest',\n    ],\n    maskRequestFn: (data: CapturedNetworkRequest) => data,\n    recordHeaders: false,\n    recordBody: false,\n    recordInitialRequests: false,\n    recordPerformance: false,\n    performanceEntryTypeToObserve: [\n        // 'event', // This is too noisy as it covers all browser events\n        'first-input',\n        // 'mark', // Mark is used too liberally. We would need to filter for specific marks\n        // 'measure', // Measure is used too liberally. We would need to filter for specific measures\n        'navigation',\n        'paint',\n        'resource',\n    ],\n    payloadSizeLimitBytes: 1000000,\n    payloadHostDenyList: ['.lr-ingest.io', '.ingest.sentry.io'],\n}\n\nconst HEADER_DENY_LIST = [\n    'authorization',\n    'x-forwarded-for',\n    'authorization',\n    'cookie',\n    'set-cookie',\n    'x-api-key',\n    'x-real-ip',\n    'remote-addr',\n    'forwarded',\n    'proxy-authorization',\n    'x-csrf-token',\n    'x-csrftoken',\n    'x-xsrf-token',\n]\n\nconst PAYLOAD_CONTENT_DENY_LIST = [\n    'password',\n    'secret',\n    'passwd',\n    'api_key',\n    'apikey',\n    'auth',\n    'credentials',\n    'mysql_pwd',\n    'privatekey',\n    'private_key',\n    'token',\n]\n\n// we always remove headers on the deny list because we never want to capture this sensitive data\nconst removeAuthorizationHeader = (data: CapturedNetworkRequest): CapturedNetworkRequest => {\n    const headers = data.requestHeaders\n    if (!isNullish(headers)) {\n        each(Object.keys(headers ?? {}), (header) => {\n            if (HEADER_DENY_LIST.includes(header.toLowerCase())) {\n                headers[header] = REDACTED\n            }\n        })\n    }\n    return data\n}\n\nconst POSTHOG_PATHS_TO_IGNORE = ['/s/', '/e/', '/i/']\n// want to ignore posthog paths when capturing requests, or we can get trapped in a loop\n// because calls to PostHog would be reported using a call to PostHog which would be reported....\nconst ignorePostHogPaths = (data: CapturedNetworkRequest): CapturedNetworkRequest | undefined => {\n    const url = convertToURL(data.name)\n    if (url && url.pathname && POSTHOG_PATHS_TO_IGNORE.some((path) => url.pathname.indexOf(path) === 0)) {\n        return undefined\n    }\n    return data\n}\n\nfunction estimateBytes(payload: string): number {\n    return new Blob([payload]).size\n}\n\nfunction enforcePayloadSizeLimit(\n    payload: string | null | undefined,\n    headers: Record<string, any> | undefined,\n    limit: number,\n    description: string\n): string | null | undefined {\n    if (isNullish(payload)) {\n        return payload\n    }\n\n    let requestContentLength: string | number = headers?.['content-length'] || estimateBytes(payload)\n    if (isString(requestContentLength)) {\n        requestContentLength = parseInt(requestContentLength)\n    }\n\n    if (requestContentLength > limit) {\n        return LOGGER_PREFIX + ` ${description} body too large to record (${requestContentLength} bytes)`\n    }\n\n    return payload\n}\n\n// people can have arbitrarily large payloads on their site, but we don't want to ingest them\nconst limitPayloadSize = (\n    options: NetworkRecordOptions\n): ((data: CapturedNetworkRequest | undefined) => CapturedNetworkRequest | undefined) => {\n    // the smallest of 1MB or the specified limit if there is one\n    const limit = Math.min(1000000, options.payloadSizeLimitBytes ?? 1000000)\n\n    return (data) => {\n        if (data?.requestBody) {\n            data.requestBody = enforcePayloadSizeLimit(data.requestBody, data.requestHeaders, limit, 'Request')\n        }\n\n        if (data?.responseBody) {\n            data.responseBody = enforcePayloadSizeLimit(data.responseBody, data.responseHeaders, limit, 'Response')\n        }\n\n        return data\n    }\n}\n\nfunction scrubPayload(payload: string | null | undefined, label: 'Request' | 'Response'): string | null | undefined {\n    if (isNullish(payload)) {\n        return payload\n    }\n    let scrubbed = payload\n\n    if (!shouldCaptureValue(scrubbed, false)) {\n        scrubbed = LOGGER_PREFIX + ' ' + label + ' body ' + REDACTED\n    }\n    each(PAYLOAD_CONTENT_DENY_LIST, (text) => {\n        if (scrubbed?.length && scrubbed?.indexOf(text) !== -1) {\n            scrubbed = LOGGER_PREFIX + ' ' + label + ' body ' + REDACTED + ' as might contain: ' + text\n        }\n    })\n\n    return scrubbed\n}\n\nfunction scrubPayloads(capturedRequest: CapturedNetworkRequest | undefined): CapturedNetworkRequest | undefined {\n    if (isUndefined(capturedRequest)) {\n        return undefined\n    }\n\n    capturedRequest.requestBody = scrubPayload(capturedRequest.requestBody, 'Request')\n    capturedRequest.responseBody = scrubPayload(capturedRequest.responseBody, 'Response')\n\n    return capturedRequest\n}\n\n/**\n *  whether a maskRequestFn is provided or not,\n *  we ensure that we remove the denied header from requests\n *  we _never_ want to record that header by accident\n *  if someone complains then we'll add an opt-in to let them override it\n */\nexport const buildNetworkRequestOptions = (\n    instanceConfig: PostHogConfig,\n    remoteNetworkOptions: Pick<\n        NetworkRecordOptions,\n        'recordHeaders' | 'recordBody' | 'recordPerformance' | 'payloadHostDenyList'\n    >\n): NetworkRecordOptions => {\n    const config: NetworkRecordOptions = {\n        payloadSizeLimitBytes: defaultNetworkOptions.payloadSizeLimitBytes,\n        performanceEntryTypeToObserve: [...defaultNetworkOptions.performanceEntryTypeToObserve],\n        payloadHostDenyList: [\n            ...(remoteNetworkOptions.payloadHostDenyList || []),\n            ...defaultNetworkOptions.payloadHostDenyList,\n        ],\n    }\n    // client can always disable despite remote options\n    const canRecordHeaders =\n        instanceConfig.session_recording.recordHeaders === false ? false : remoteNetworkOptions.recordHeaders\n    const canRecordBody =\n        instanceConfig.session_recording.recordBody === false ? false : remoteNetworkOptions.recordBody\n    const canRecordPerformance =\n        instanceConfig.capture_performance === false ? false : remoteNetworkOptions.recordPerformance\n\n    const payloadLimiter = limitPayloadSize(config)\n\n    const enforcedCleaningFn: NetworkRecordOptions['maskRequestFn'] = (d: CapturedNetworkRequest) =>\n        payloadLimiter(ignorePostHogPaths(removeAuthorizationHeader(d)))\n\n    const hasDeprecatedMaskFunction = isFunction(instanceConfig.session_recording.maskNetworkRequestFn)\n\n    if (hasDeprecatedMaskFunction && isFunction(instanceConfig.session_recording.maskCapturedNetworkRequestFn)) {\n        logger.warn(\n            'Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored.'\n        )\n    }\n\n    if (hasDeprecatedMaskFunction) {\n        instanceConfig.session_recording.maskCapturedNetworkRequestFn = (data: CapturedNetworkRequest) => {\n            const cleanedURL = instanceConfig.session_recording.maskNetworkRequestFn!({ url: data.name })\n            return {\n                ...data,\n                name: cleanedURL?.url,\n            } as CapturedNetworkRequest\n        }\n    }\n\n    config.maskRequestFn = isFunction(instanceConfig.session_recording.maskCapturedNetworkRequestFn)\n        ? (data) => {\n              const cleanedRequest = enforcedCleaningFn(data)\n              return cleanedRequest\n                  ? instanceConfig.session_recording.maskCapturedNetworkRequestFn?.(cleanedRequest) ?? undefined\n                  : undefined\n          }\n        : (data) => scrubPayloads(enforcedCleaningFn(data))\n\n    return {\n        ...defaultNetworkOptions,\n        ...config,\n        recordHeaders: canRecordHeaders,\n        recordBody: canRecordBody,\n        recordPerformance: canRecordPerformance,\n        recordInitialRequests: canRecordPerformance,\n    }\n}\n","// import { patch } from 'rrweb/typings/utils'\n// copied from https://github.com/rrweb-io/rrweb/blob/8aea5b00a4dfe5a6f59bd2ae72bb624f45e51e81/packages/rrweb/src/utils.ts#L129\n// which was copied from https://github.com/getsentry/sentry-javascript/blob/b2109071975af8bf0316d3b5b38f519bdaf5dc15/packages/utils/src/object.ts\nimport { isFunction } from '../../../utils/type-utils'\n\nexport function patch(\n    source: { [key: string]: any },\n    name: string,\n    replacement: (...args: unknown[]) => unknown\n): () => void {\n    try {\n        if (!(name in source)) {\n            return () => {\n                //\n            }\n        }\n\n        const original = source[name] as () => unknown\n        const wrapped = replacement(original)\n\n        // Make sure it's a function first, as we need to attach an empty prototype for `defineProperties` to work\n        // otherwise it'll throw \"TypeError: Object.defineProperties called on non-object\"\n        if (isFunction(wrapped)) {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n            wrapped.prototype = wrapped.prototype || {}\n            Object.defineProperties(wrapped, {\n                __posthog_wrapped__: {\n                    enumerable: false,\n                    value: true,\n                },\n            })\n        }\n\n        source[name] = wrapped\n\n        return () => {\n            source[name] = original\n        }\n    } catch {\n        return () => {\n            //\n        }\n        // This can throw if multiple fill happens on a global object like XMLHttpRequest\n        // Fixes https://github.com/getsentry/sentry-javascript/issues/2043\n    }\n}\n","import { NetworkRecordOptions } from '../../../types'\n\nfunction hostnameFromURL(url: string | URL | RequestInfo): string | null {\n    try {\n        if (typeof url === 'string') {\n            return new URL(url).hostname\n        }\n        if ('url' in url) {\n            return new URL(url.url).hostname\n        }\n        return url.hostname\n    } catch {\n        return null\n    }\n}\n\nexport function isHostOnDenyList(url: string | URL | Request, options: NetworkRecordOptions) {\n    const hostname = hostnameFromURL(url)\n    const defaultNotDenied = { hostname, isHostDenied: false }\n\n    if (!options.payloadHostDenyList?.length || !hostname?.trim().length) {\n        return defaultNotDenied\n    }\n\n    for (const deny of options.payloadHostDenyList) {\n        if (hostname.endsWith(deny)) {\n            return { hostname, isHostDenied: true }\n        }\n    }\n\n    return defaultNotDenied\n}\n","import { record as rrwebRecord } from '@rrweb/record'\nimport { getRecordConsolePlugin } from '@rrweb/rrweb-plugin-console-record'\n\n// rrweb/network@1 code starts\n// most of what is below here will be removed when rrweb release their code for this\n// see https://github.com/rrweb-io/rrweb/pull/1105\n/// <reference lib=\"dom\" />\n// NB adopted from https://github.com/rrweb-io/rrweb/pull/1105 which looks like it will be accepted into rrweb\n// however, in the PR, it throws when the performance observer data is not available\n// and assumes it is running in a browser with the Request API (i.e. not IE11)\n// copying here so that we can use it before rrweb adopt it\nimport type { IWindow, listenerHandler, RecordPlugin } from '@rrweb/types'\nimport { CapturedNetworkRequest, Headers, InitiatorType, NetworkRecordOptions } from '../types'\nimport {\n    isArray,\n    isBoolean,\n    isDocument,\n    isFormData,\n    isNull,\n    isNullish,\n    isObject,\n    isString,\n    isUndefined,\n} from '../utils/type-utils'\nimport { logger } from '../utils/logger'\nimport { assignableWindow } from '../utils/globals'\nimport { defaultNetworkOptions } from '../extensions/replay/config'\nimport { formDataToQuery } from '../utils/request-utils'\nimport { patch } from '../extensions/replay/rrweb-plugins/patch'\nimport { isHostOnDenyList } from '../extensions/replay/external/denylist'\n\nexport type NetworkData = {\n    requests: CapturedNetworkRequest[]\n    isInitial?: boolean\n}\n\ntype networkCallback = (data: NetworkData) => void\n\nconst isNavigationTiming = (entry: PerformanceEntry): entry is PerformanceNavigationTiming =>\n    entry.entryType === 'navigation'\nconst isResourceTiming = (entry: PerformanceEntry): entry is PerformanceResourceTiming => entry.entryType === 'resource'\n\ntype ObservedPerformanceEntry = (PerformanceNavigationTiming | PerformanceResourceTiming) & {\n    responseStatus?: number\n}\n\nexport function findLast<T>(array: Array<T>, predicate: (value: T) => boolean): T | undefined {\n    const length = array.length\n    for (let i = length - 1; i >= 0; i -= 1) {\n        if (predicate(array[i])) {\n            return array[i]\n        }\n    }\n    return undefined\n}\n\nfunction initPerformanceObserver(cb: networkCallback, win: IWindow, options: Required<NetworkRecordOptions>) {\n    // if we are only observing timings then we could have a single observer for all types, with buffer true,\n    // but we are going to filter by initiatorType _if we are wrapping fetch and xhr as the wrapped functions\n    // will deal with those.\n    // so we have a block which captures requests from before fetch/xhr is wrapped\n    // these are marked `isInitial` so playback can display them differently if needed\n    // they will never have method/status/headers/body because they are pre-wrapping that provides that\n    if (options.recordInitialRequests) {\n        const initialPerformanceEntries = win.performance\n            .getEntries()\n            .filter(\n                (entry): entry is ObservedPerformanceEntry =>\n                    isNavigationTiming(entry) ||\n                    (isResourceTiming(entry) && options.initiatorTypes.includes(entry.initiatorType as InitiatorType))\n            )\n        cb({\n            requests: initialPerformanceEntries.flatMap((entry) =>\n                prepareRequest({ entry, method: undefined, status: undefined, networkRequest: {}, isInitial: true })\n            ),\n            isInitial: true,\n        })\n    }\n    const observer = new win.PerformanceObserver((entries) => {\n        // if recordBody or recordHeaders is true then we don't want to record fetch or xhr here\n        // as the wrapped functions will do that. Otherwise, this filter becomes a noop\n        // because we do want to record them here\n        const wrappedInitiatorFilter = (entry: ObservedPerformanceEntry) =>\n            options.recordBody || options.recordHeaders\n                ? entry.initiatorType !== 'xmlhttprequest' && entry.initiatorType !== 'fetch'\n                : true\n\n        const performanceEntries = entries.getEntries().filter(\n            (entry): entry is ObservedPerformanceEntry =>\n                isNavigationTiming(entry) ||\n                (isResourceTiming(entry) &&\n                    options.initiatorTypes.includes(entry.initiatorType as InitiatorType) &&\n                    // TODO if we are _only_ capturing timing we don't want to filter initiator here\n                    wrappedInitiatorFilter(entry))\n        )\n\n        cb({\n            requests: performanceEntries.flatMap((entry) =>\n                prepareRequest({ entry, method: undefined, status: undefined, networkRequest: {} })\n            ),\n        })\n    })\n    // compat checked earlier\n    // eslint-disable-next-line compat/compat\n    const entryTypes = PerformanceObserver.supportedEntryTypes.filter((x) =>\n        options.performanceEntryTypeToObserve.includes(x)\n    )\n    // initial records are gathered above, so we don't need to observe and buffer each type separately\n    observer.observe({ entryTypes })\n    return () => {\n        observer.disconnect()\n    }\n}\n\nfunction shouldRecordHeaders(type: 'request' | 'response', recordHeaders: NetworkRecordOptions['recordHeaders']) {\n    return !!recordHeaders && (isBoolean(recordHeaders) || recordHeaders[type])\n}\n\nfunction shouldRecordBody({\n    type,\n    recordBody,\n    headers,\n}: {\n    type: 'request' | 'response'\n    recordBody: NetworkRecordOptions['recordBody']\n    headers: Headers\n    url: string | URL | RequestInfo\n}) {\n    function matchesContentType(contentTypes: string[]) {\n        const contentTypeHeader = Object.keys(headers).find((key) => key.toLowerCase() === 'content-type')\n        const contentType = contentTypeHeader && headers[contentTypeHeader]\n        return contentTypes.some((ct) => contentType?.includes(ct))\n    }\n\n    if (!recordBody) return false\n    if (isBoolean(recordBody)) return true\n    if (isArray(recordBody)) return matchesContentType(recordBody)\n    const recordBodyType = recordBody[type]\n    if (isBoolean(recordBodyType)) return recordBodyType\n    return matchesContentType(recordBodyType)\n}\n\nasync function getRequestPerformanceEntry(\n    win: IWindow,\n    initiatorType: string,\n    url: string,\n    start?: number,\n    end?: number,\n    attempt = 0\n): Promise<PerformanceResourceTiming | null> {\n    if (attempt > 10) {\n        logger.warn('Failed to get performance entry for request', { url, initiatorType })\n        return null\n    }\n    const urlPerformanceEntries = win.performance.getEntriesByName(url) as PerformanceResourceTiming[]\n    const performanceEntry = findLast(\n        urlPerformanceEntries,\n        (entry) =>\n            isResourceTiming(entry) &&\n            entry.initiatorType === initiatorType &&\n            (isUndefined(start) || entry.startTime >= start) &&\n            (isUndefined(end) || entry.startTime <= end)\n    )\n    if (!performanceEntry) {\n        await new Promise((resolve) => setTimeout(resolve, 50 * attempt))\n        return getRequestPerformanceEntry(win, initiatorType, url, start, end, attempt + 1)\n    }\n    return performanceEntry\n}\n\n/**\n * According to MDN https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/response\n * xhr response is typed as any but can be an ArrayBuffer, a Blob, a Document, a JavaScript object,\n * or a string, depending on the value of XMLHttpRequest.responseType, that contains the response entity body.\n *\n * XHR request body is Document | XMLHttpRequestBodyInit | null | undefined\n */\nfunction _tryReadXHRBody({\n    body,\n    options,\n    url,\n}: {\n    body: Document | XMLHttpRequestBodyInit | any | null | undefined\n    options: NetworkRecordOptions\n    url: string | URL | RequestInfo\n}): string | null {\n    if (isNullish(body)) {\n        return null\n    }\n\n    const { hostname, isHostDenied } = isHostOnDenyList(url, options)\n    if (isHostDenied) {\n        return hostname + ' is in deny list'\n    }\n\n    if (isString(body)) {\n        return body\n    }\n\n    if (isDocument(body)) {\n        return body.textContent\n    }\n\n    if (isFormData(body)) {\n        return formDataToQuery(body)\n    }\n\n    if (isObject(body)) {\n        try {\n            return JSON.stringify(body)\n        } catch {\n            return '[SessionReplay] Failed to stringify response object'\n        }\n    }\n\n    return '[SessionReplay] Cannot read body of type ' + toString.call(body)\n}\n\nfunction initXhrObserver(cb: networkCallback, win: IWindow, options: Required<NetworkRecordOptions>): listenerHandler {\n    if (!options.initiatorTypes.includes('xmlhttprequest')) {\n        return () => {\n            //\n        }\n    }\n    const recordRequestHeaders = shouldRecordHeaders('request', options.recordHeaders)\n    const recordResponseHeaders = shouldRecordHeaders('response', options.recordHeaders)\n\n    const restorePatch = patch(\n        win.XMLHttpRequest.prototype,\n        'open',\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        (originalOpen: typeof XMLHttpRequest.prototype.open) => {\n            return function (\n                method: string,\n                url: string | URL,\n                async = true,\n                username?: string | null,\n                password?: string | null\n            ) {\n                // because this function is returned in its actual context `this` _is_ an XMLHttpRequest\n                // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n                // @ts-ignore\n                const xhr = this as XMLHttpRequest\n\n                // check IE earlier than this, we only initialize if Request is present\n                // eslint-disable-next-line compat/compat\n                const req = new Request(url)\n                const networkRequest: Partial<CapturedNetworkRequest> = {}\n                let start: number | undefined\n                let end: number | undefined\n\n                const requestHeaders: Headers = {}\n                const originalSetRequestHeader = xhr.setRequestHeader.bind(xhr)\n                xhr.setRequestHeader = (header: string, value: string) => {\n                    requestHeaders[header] = value\n                    return originalSetRequestHeader(header, value)\n                }\n                if (recordRequestHeaders) {\n                    networkRequest.requestHeaders = requestHeaders\n                }\n\n                const originalSend = xhr.send.bind(xhr)\n                xhr.send = (body) => {\n                    if (\n                        shouldRecordBody({\n                            type: 'request',\n                            headers: requestHeaders,\n                            url,\n                            recordBody: options.recordBody,\n                        })\n                    ) {\n                        networkRequest.requestBody = _tryReadXHRBody({ body, options, url })\n                    }\n                    start = win.performance.now()\n                    return originalSend(body)\n                }\n\n                xhr.addEventListener('readystatechange', () => {\n                    if (xhr.readyState !== xhr.DONE) {\n                        return\n                    }\n                    end = win.performance.now()\n                    const responseHeaders: Headers = {}\n                    const rawHeaders = xhr.getAllResponseHeaders()\n                    const headers = rawHeaders.trim().split(/[\\r\\n]+/)\n                    headers.forEach((line) => {\n                        const parts = line.split(': ')\n                        const header = parts.shift()\n                        const value = parts.join(': ')\n                        if (header) {\n                            responseHeaders[header] = value\n                        }\n                    })\n                    if (recordResponseHeaders) {\n                        networkRequest.responseHeaders = responseHeaders\n                    }\n                    if (\n                        shouldRecordBody({\n                            type: 'response',\n                            headers: responseHeaders,\n                            url,\n                            recordBody: options.recordBody,\n                        })\n                    ) {\n                        networkRequest.responseBody = _tryReadXHRBody({ body: xhr.response, options, url })\n                    }\n                    getRequestPerformanceEntry(win, 'xmlhttprequest', req.url, start, end)\n                        .then((entry) => {\n                            const requests = prepareRequest({\n                                entry,\n                                method: method,\n                                status: xhr?.status,\n                                networkRequest,\n                                start,\n                                end,\n                                url: url.toString(),\n                                initiatorType: 'xmlhttprequest',\n                            })\n                            cb({ requests })\n                        })\n                        .catch(() => {\n                            //\n                        })\n                })\n                originalOpen.call(xhr, method, url, async, username, password)\n            }\n        }\n    )\n    return () => {\n        restorePatch()\n    }\n}\n\n/**\n *  Check if this PerformanceEntry is either a PerformanceResourceTiming or a PerformanceNavigationTiming\n *  NB PerformanceNavigationTiming extends PerformanceResourceTiming\n *  Here we don't care which interface it implements as both expose `serverTimings`\n */\nconst exposesServerTiming = (event: PerformanceEntry | null): event is PerformanceResourceTiming =>\n    !isNull(event) && (event.entryType === 'navigation' || event.entryType === 'resource')\n\nfunction prepareRequest({\n    entry,\n    method,\n    status,\n    networkRequest,\n    isInitial,\n    start,\n    end,\n    url,\n    initiatorType,\n}: {\n    entry: PerformanceResourceTiming | null\n    method: string | undefined\n    status: number | undefined\n    networkRequest: Partial<CapturedNetworkRequest>\n    isInitial?: boolean\n    start?: number\n    end?: number\n    // if there is no performance observer entry, we still need to know the url\n    url?: string\n    // if there is no performance observer entry, we can provide the initiatorType\n    initiatorType?: string\n}): CapturedNetworkRequest[] {\n    start = entry ? entry.startTime : start\n    end = entry ? entry.responseEnd : end\n\n    // kudos to sentry javascript sdk for excellent background on why to use Date.now() here\n    // https://github.com/getsentry/sentry-javascript/blob/e856e40b6e71a73252e788cd42b5260f81c9c88e/packages/utils/src/time.ts#L70\n    // can't start observer if performance.now() is not available\n    // eslint-disable-next-line compat/compat\n    const timeOrigin = Math.floor(Date.now() - performance.now())\n    // clickhouse can't ingest timestamps that are floats\n    // (in this case representing fractions of a millisecond we don't care about anyway)\n    // use timeOrigin if we really can't gather a start time\n    const timestamp = Math.floor(timeOrigin + (start || 0))\n\n    const entryJSON = entry ? entry.toJSON() : { name: url }\n\n    const requests: CapturedNetworkRequest[] = [\n        {\n            ...entryJSON,\n            startTime: isUndefined(start) ? undefined : Math.round(start),\n            endTime: isUndefined(end) ? undefined : Math.round(end),\n            timeOrigin,\n            timestamp,\n            method: method,\n            initiatorType: initiatorType ? initiatorType : entry ? (entry.initiatorType as InitiatorType) : undefined,\n            status,\n            requestHeaders: networkRequest.requestHeaders,\n            requestBody: networkRequest.requestBody,\n            responseHeaders: networkRequest.responseHeaders,\n            responseBody: networkRequest.responseBody,\n            isInitial,\n        },\n    ]\n\n    if (exposesServerTiming(entry)) {\n        for (const timing of entry.serverTiming || []) {\n            requests.push({\n                timeOrigin,\n                timestamp,\n                startTime: Math.round(entry.startTime),\n                name: timing.name,\n                duration: timing.duration,\n                // the spec has a closed list of possible types\n                // https://developer.mozilla.org/en-US/docs/Web/API/PerformanceEntry/entryType\n                // but, we need to know this was a server timing so that we know to\n                // match it to the appropriate navigation or resource timing\n                // that matching will have to be on timestamp and $current_url\n                entryType: 'serverTiming',\n            })\n        }\n    }\n\n    return requests\n}\n\nconst contentTypePrefixDenyList = ['video/', 'audio/']\n\nfunction _checkForCannotReadResponseBody({\n    r,\n    options,\n    url,\n}: {\n    r: Response\n    options: NetworkRecordOptions\n    url: string | URL | RequestInfo\n}): string | null {\n    if (r.headers.get('Transfer-Encoding') === 'chunked') {\n        return 'Chunked Transfer-Encoding is not supported'\n    }\n\n    // `get` and `has` are case-insensitive\n    // but return the header value with the casing that was supplied\n    const contentType = r.headers.get('Content-Type')?.toLowerCase()\n    const contentTypeIsDenied = contentTypePrefixDenyList.some((prefix) => contentType?.startsWith(prefix))\n    if (contentType && contentTypeIsDenied) {\n        return `Content-Type ${contentType} is not supported`\n    }\n\n    const { hostname, isHostDenied } = isHostOnDenyList(url, options)\n    if (isHostDenied) {\n        return hostname + ' is in deny list'\n    }\n\n    return null\n}\n\nfunction _tryReadBody(r: Request | Response): Promise<string> {\n    // there are now already multiple places where we're using Promise...\n    // eslint-disable-next-line compat/compat\n    return new Promise((resolve, reject) => {\n        const timeout = setTimeout(() => resolve('[SessionReplay] Timeout while trying to read body'), 500)\n        try {\n            r.clone()\n                .text()\n                .then(\n                    (txt) => resolve(txt),\n                    (reason) => reject(reason)\n                )\n                .finally(() => clearTimeout(timeout))\n        } catch {\n            clearTimeout(timeout)\n            resolve('[SessionReplay] Failed to read body')\n        }\n    })\n}\n\nasync function _tryReadRequestBody({\n    r,\n    options,\n    url,\n}: {\n    r: Request\n    options: NetworkRecordOptions\n    url: string | URL | RequestInfo\n}): Promise<string> {\n    const { hostname, isHostDenied } = isHostOnDenyList(url, options)\n    if (isHostDenied) {\n        return Promise.resolve(hostname + ' is in deny list')\n    }\n\n    return _tryReadBody(r)\n}\n\nasync function _tryReadResponseBody({\n    r,\n    options,\n    url,\n}: {\n    r: Response\n    options: NetworkRecordOptions\n    url: string | URL | RequestInfo\n}): Promise<string> {\n    const cannotReadBodyReason: string | null = _checkForCannotReadResponseBody({ r, options, url })\n    if (!isNull(cannotReadBodyReason)) {\n        return Promise.resolve(cannotReadBodyReason)\n    }\n\n    return _tryReadBody(r)\n}\n\nfunction initFetchObserver(\n    cb: networkCallback,\n    win: IWindow,\n    options: Required<NetworkRecordOptions>\n): listenerHandler {\n    if (!options.initiatorTypes.includes('fetch')) {\n        return () => {\n            //\n        }\n    }\n    const recordRequestHeaders = shouldRecordHeaders('request', options.recordHeaders)\n    const recordResponseHeaders = shouldRecordHeaders('response', options.recordHeaders)\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    const restorePatch = patch(win, 'fetch', (originalFetch: typeof fetch) => {\n        return async function (url: URL | RequestInfo, init?: RequestInit | undefined) {\n            // check IE earlier than this, we only initialize if Request is present\n            // eslint-disable-next-line compat/compat\n            const req = new Request(url, init)\n            let res: Response | undefined\n            const networkRequest: Partial<CapturedNetworkRequest> = {}\n            let start: number | undefined\n            let end: number | undefined\n\n            try {\n                const requestHeaders: Headers = {}\n                req.headers.forEach((value, header) => {\n                    requestHeaders[header] = value\n                })\n                if (recordRequestHeaders) {\n                    networkRequest.requestHeaders = requestHeaders\n                }\n                if (\n                    shouldRecordBody({\n                        type: 'request',\n                        headers: requestHeaders,\n                        url,\n                        recordBody: options.recordBody,\n                    })\n                ) {\n                    networkRequest.requestBody = await _tryReadRequestBody({ r: req, options, url })\n                }\n\n                start = win.performance.now()\n                res = await originalFetch(req)\n                end = win.performance.now()\n\n                const responseHeaders: Headers = {}\n                res.headers.forEach((value, header) => {\n                    responseHeaders[header] = value\n                })\n                if (recordResponseHeaders) {\n                    networkRequest.responseHeaders = responseHeaders\n                }\n                if (\n                    shouldRecordBody({\n                        type: 'response',\n                        headers: responseHeaders,\n                        url,\n                        recordBody: options.recordBody,\n                    })\n                ) {\n                    networkRequest.responseBody = await _tryReadResponseBody({ r: res, options, url })\n                }\n\n                return res\n            } finally {\n                getRequestPerformanceEntry(win, 'fetch', req.url, start, end)\n                    .then((entry) => {\n                        const requests = prepareRequest({\n                            entry,\n                            method: req.method,\n                            status: res?.status,\n                            networkRequest,\n                            start,\n                            end,\n                            url: req.url,\n                            initiatorType: 'fetch',\n                        })\n                        cb({ requests })\n                    })\n                    .catch(() => {\n                        //\n                    })\n            }\n        }\n    })\n    return () => {\n        restorePatch()\n    }\n}\n\nlet initialisedHandler: listenerHandler | null = null\n\nfunction initNetworkObserver(\n    callback: networkCallback,\n    win: IWindow, // top window or in an iframe\n    options: NetworkRecordOptions\n): listenerHandler {\n    if (!('performance' in win)) {\n        return () => {\n            //\n        }\n    }\n\n    if (initialisedHandler) {\n        logger.warn('Network observer already initialised, doing nothing')\n        return () => {\n            // the first caller should already have this handler and will be responsible for teardown\n        }\n    }\n\n    const networkOptions = (\n        options ? Object.assign({}, defaultNetworkOptions, options) : defaultNetworkOptions\n    ) as Required<NetworkRecordOptions>\n\n    const cb: networkCallback = (data) => {\n        const requests: CapturedNetworkRequest[] = []\n        data.requests.forEach((request) => {\n            const maskedRequest = networkOptions.maskRequestFn(request)\n            if (maskedRequest) {\n                requests.push(maskedRequest)\n            }\n        })\n\n        if (requests.length > 0) {\n            callback({ ...data, requests })\n        }\n    }\n    const performanceObserver = initPerformanceObserver(cb, win, networkOptions)\n\n    // only wrap fetch and xhr if headers or body are being recorded\n    let xhrObserver: listenerHandler = () => {}\n    let fetchObserver: listenerHandler = () => {}\n    if (networkOptions.recordHeaders || networkOptions.recordBody) {\n        xhrObserver = initXhrObserver(cb, win, networkOptions)\n        fetchObserver = initFetchObserver(cb, win, networkOptions)\n    }\n\n    initialisedHandler = () => {\n        performanceObserver()\n        xhrObserver()\n        fetchObserver()\n    }\n    return initialisedHandler\n}\n\n// use the plugin name so that when this functionality is adopted into rrweb\n// we can remove this plugin and use the core functionality with the same data\nexport const NETWORK_PLUGIN_NAME = 'rrweb/network@1'\n\n// TODO how should this be typed?\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nexport const getRecordNetworkPlugin: (options?: NetworkRecordOptions) => RecordPlugin = (options) => {\n    return {\n        name: NETWORK_PLUGIN_NAME,\n        observer: initNetworkObserver,\n        options: options,\n    }\n}\n\n// rrweb/networ@1 ends\n\nassignableWindow.__PosthogExtensions__ = assignableWindow.__PosthogExtensions__ || {}\nassignableWindow.__PosthogExtensions__.rrwebPlugins = { getRecordConsolePlugin, getRecordNetworkPlugin }\nassignableWindow.__PosthogExtensions__.rrweb = { record: rrwebRecord, version: 'v2' }\n\n// we used to put all of these items directly on window, and now we put it on __PosthogExtensions__\n// but that means that old clients which lazily load this extension are looking in the wrong place\n// yuck,\n// so we also put them directly on the window\n// when 1.161.1 is the oldest version seen in production we can remove this\nassignableWindow.rrweb = { record: rrwebRecord, version: 'v2' }\nassignableWindow.rrwebConsoleRecord = { getRecordConsolePlugin }\nassignableWindow.getRecordNetworkPlugin = getRecordNetworkPlugin\n\nexport default rrwebRecord\n","!function(){\"use strict\";let e,n,t;!function(e){e.Popover=\"popover\",e.API=\"api\",e.Widget=\"widget\"}(e||(e={})),function(e){e.Open=\"open\",e.MultipleChoice=\"multiple_choice\",e.SingleChoice=\"single_choice\",e.Rating=\"rating\",e.Link=\"link\"}(n||(n={})),function(e){e.NextQuestion=\"next_question\",e.End=\"end\",e.ResponseBased=\"response_based\",e.SpecificQuestion=\"specific_question\"}(t||(t={}));const o=\"undefined\"!=typeof window?window:void 0,r=\"undefined\"!=typeof globalThis?globalThis:o,i=null==r?void 0:r.navigator,l=null==r?void 0:r.document;null==r||r.location,null==r||r.fetch,null!=r&&r.XMLHttpRequest&&\"withCredentials\"in new r.XMLHttpRequest&&r.XMLHttpRequest,null==r||r.AbortController,null==i||i.userAgent;const a=null!=o?o:{};var s,u,c,d,p,_,f,h,v={},g=[],m=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,y=Array.isArray;function b(e,n){for(var t in n)e[t]=n[t];return e}function C(e){var n=e.parentNode;n&&n.removeChild(e)}function x(e,n,t){var o,r,i,l={};for(i in n)\"key\"==i?o=n[i]:\"ref\"==i?r=n[i]:l[i]=n[i];if(arguments.length>2&&(l.children=arguments.length>3?s.call(arguments,2):t),\"function\"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===l[i]&&(l[i]=e.defaultProps[i]);return k(e,l,o,r,null)}function k(e,n,t,o,r){var i={type:e,props:n,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==r?++c:r,__i:-1,__u:0};return null==r&&null!=u.vnode&&u.vnode(i),i}function w(e){return e.children}function S(e,n){this.props=e,this.context=n}function q(e,n){if(null==n)return e.__?q(e.__,e.__i+1):null;for(var t;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e)return t.__e;return\"function\"==typeof e.type?q(e):null}function T(e){var n,t;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e){e.__e=e.__c.base=t.__e;break}return T(e)}}function H(e){(!e.__d&&(e.__d=!0)&&d.push(e)&&!P.__r++||p!==u.debounceRendering)&&((p=u.debounceRendering)||_)(P)}function P(){var e,n,t,o,r,i,l,a,s;for(d.sort(f);e=d.shift();)e.__d&&(n=d.length,o=void 0,i=(r=(t=e).__v).__e,a=[],s=[],(l=t.__P)&&((o=b({},r)).__v=r.__v+1,u.vnode&&u.vnode(o),Z(l,o,r,t.__n,void 0!==l.ownerSVGElement,32&r.__u?[i]:null,a,null==i?q(r):i,!!(32&r.__u),s),o.__.__k[o.__i]=o,N(a,o,s),o.__e!=i&&T(o)),d.length>n&&d.sort(f));P.__r=0}function L(e,n,t,o,r,i,l,a,s,u,c){var d,p,_,f,h,m=o&&o.__k||g,b=n.length;for(t.__d=s,function(e,n,t){var o,r,i,l,a,s=n.length,u=t.length,c=u,d=0;for(e.__k=[],o=0;o<s;o++)null!=(r=e.__k[o]=null==(r=n[o])||\"boolean\"==typeof r||\"function\"==typeof r?null:\"string\"==typeof r||\"number\"==typeof r||\"bigint\"==typeof r||r.constructor==String?k(null,r,null,null,r):y(r)?k(w,{children:r},null,null,null):void 0===r.constructor&&r.__b>0?k(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r)?(r.__=e,r.__b=e.__b+1,a=M(r,t,l=o+d,c),r.__i=a,i=null,-1!==a&&(c--,(i=t[a])&&(i.__u|=131072)),null==i||null===i.__v?(-1==a&&d--,\"function\"!=typeof r.type&&(r.__u|=65536)):a!==l&&(a===l+1?d++:a>l?c>s-l?d+=a-l:d--:d=a<l&&a==l-1?a-l:0,a!==o+d&&(r.__u|=65536))):(i=t[o])&&null==i.key&&i.__e&&(i.__e==e.__d&&(e.__d=q(i)),B(i,i,!1),t[o]=null,c--);if(c)for(o=0;o<u;o++)null!=(i=t[o])&&0==(131072&i.__u)&&(i.__e==e.__d&&(e.__d=q(i)),B(i,i))}(t,n,m),s=t.__d,d=0;d<b;d++)null!=(_=t.__k[d])&&\"boolean\"!=typeof _&&\"function\"!=typeof _&&(p=-1===_.__i?v:m[_.__i]||v,_.__i=d,Z(e,_,p,r,i,l,a,s,u,c),f=_.__e,_.ref&&p.ref!=_.ref&&(p.ref&&V(p.ref,null,_),c.push(_.ref,_.__c||f,_)),null==h&&null!=f&&(h=f),65536&_.__u||p.__k===_.__k?s=$(_,s,e):\"function\"==typeof _.type&&void 0!==_.__d?s=_.__d:f&&(s=f.nextSibling),_.__d=void 0,_.__u&=-196609);t.__d=s,t.__e=h}function $(e,n,t){var o,r;if(\"function\"==typeof e.type){for(o=e.__k,r=0;o&&r<o.length;r++)o[r]&&(o[r].__=e,n=$(o[r],n,t));return n}return e.__e!=n&&(t.insertBefore(e.__e,n||null),n=e.__e),n&&n.nextSibling}function M(e,n,t,o){var r=e.key,i=e.type,l=t-1,a=t+1,s=n[t];if(null===s||s&&r==s.key&&i===s.type)return t;if(o>(null!=s&&0==(131072&s.__u)?1:0))for(;l>=0||a<n.length;){if(l>=0){if((s=n[l])&&0==(131072&s.__u)&&r==s.key&&i===s.type)return l;l--}if(a<n.length){if((s=n[a])&&0==(131072&s.__u)&&r==s.key&&i===s.type)return a;a++}}return-1}function I(e,n,t){\"-\"===n[0]?e.setProperty(n,null==t?\"\":t):e[n]=null==t?\"\":\"number\"!=typeof t||m.test(n)?t:t+\"px\"}function E(e,n,t,o,r){var i;e:if(\"style\"===n)if(\"string\"==typeof t)e.style.cssText=t;else{if(\"string\"==typeof o&&(e.style.cssText=o=\"\"),o)for(n in o)t&&n in t||I(e.style,n,\"\");if(t)for(n in t)o&&t[n]===o[n]||I(e.style,n,t[n])}else if(\"o\"===n[0]&&\"n\"===n[1])i=n!==(n=n.replace(/(PointerCapture)$|Capture$/,\"$1\")),n=n.toLowerCase()in e?n.toLowerCase().slice(2):n.slice(2),e.l||(e.l={}),e.l[n+i]=t,t?o?t.u=o.u:(t.u=Date.now(),e.addEventListener(n,i?D:F,i)):e.removeEventListener(n,i?D:F,i);else{if(r)n=n.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==n&&\"height\"!==n&&\"href\"!==n&&\"list\"!==n&&\"form\"!==n&&\"tabIndex\"!==n&&\"download\"!==n&&\"rowSpan\"!==n&&\"colSpan\"!==n&&\"role\"!==n&&n in e)try{e[n]=null==t?\"\":t;break e}catch(e){}\"function\"==typeof t||(null==t||!1===t&&\"-\"!==n[4]?e.removeAttribute(n):e.setAttribute(n,t))}}function F(e){var n=this.l[e.type+!1];if(e.t){if(e.t<=n.u)return}else e.t=Date.now();return n(u.event?u.event(e):e)}function D(e){return this.l[e.type+!0](u.event?u.event(e):e)}function Z(e,n,t,o,r,i,l,a,s,c){var d,p,_,f,h,v,g,m,C,x,k,q,T,H,P,$=n.type;if(void 0!==n.constructor)return null;128&t.__u&&(s=!!(32&t.__u),i=[a=n.__e=t.__e]),(d=u.__b)&&d(n);e:if(\"function\"==typeof $)try{if(m=n.props,C=(d=$.contextType)&&o[d.__c],x=d?C?C.props.value:d.__:o,t.__c?g=(p=n.__c=t.__c).__=p.__E:(\"prototype\"in $&&$.prototype.render?n.__c=p=new $(m,x):(n.__c=p=new S(m,x),p.constructor=$,p.render=Q),C&&C.sub(p),p.props=m,p.state||(p.state={}),p.context=x,p.__n=o,_=p.__d=!0,p.__h=[],p._sb=[]),null==p.__s&&(p.__s=p.state),null!=$.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=b({},p.__s)),b(p.__s,$.getDerivedStateFromProps(m,p.__s))),f=p.props,h=p.state,p.__v=n,_)null==$.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==$.getDerivedStateFromProps&&m!==f&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(m,x),!p.__e&&(null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(m,p.__s,x)||n.__v===t.__v)){for(n.__v!==t.__v&&(p.props=m,p.state=p.__s,p.__d=!1),n.__e=t.__e,n.__k=t.__k,n.__k.forEach((function(e){e&&(e.__=n)})),k=0;k<p._sb.length;k++)p.__h.push(p._sb[k]);p._sb=[],p.__h.length&&l.push(p);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(m,p.__s,x),null!=p.componentDidUpdate&&p.__h.push((function(){p.componentDidUpdate(f,h,v)}))}if(p.context=x,p.props=m,p.__P=e,p.__e=!1,q=u.__r,T=0,\"prototype\"in $&&$.prototype.render){for(p.state=p.__s,p.__d=!1,q&&q(n),d=p.render(p.props,p.state,p.context),H=0;H<p._sb.length;H++)p.__h.push(p._sb[H]);p._sb=[]}else do{p.__d=!1,q&&q(n),d=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++T<25);p.state=p.__s,null!=p.getChildContext&&(o=b(b({},o),p.getChildContext())),_||null==p.getSnapshotBeforeUpdate||(v=p.getSnapshotBeforeUpdate(f,h)),L(e,y(P=null!=d&&d.type===w&&null==d.key?d.props.children:d)?P:[P],n,t,o,r,i,l,a,s,c),p.base=n.__e,n.__u&=-161,p.__h.length&&l.push(p),g&&(p.__E=p.__=null)}catch(e){n.__v=null,s||null!=i?(n.__e=a,n.__u|=s?160:32,i[i.indexOf(a)]=null):(n.__e=t.__e,n.__k=t.__k),u.__e(e,n,t)}else null==i&&n.__v===t.__v?(n.__k=t.__k,n.__e=t.__e):n.__e=A(t.__e,n,t,o,r,i,l,s,c);(d=u.diffed)&&d(n)}function N(e,n,t){n.__d=void 0;for(var o=0;o<t.length;o++)V(t[o],t[++o],t[++o]);u.__c&&u.__c(n,e),e.some((function(n){try{e=n.__h,n.__h=[],e.some((function(e){e.call(n)}))}catch(e){u.__e(e,n.__v)}}))}function A(e,n,t,o,r,i,l,a,u){var c,d,p,_,f,h,g,m=t.props,b=n.props,x=n.type;if(\"svg\"===x&&(r=!0),null!=i)for(c=0;c<i.length;c++)if((f=i[c])&&\"setAttribute\"in f==!!x&&(x?f.localName===x:3===f.nodeType)){e=f,i[c]=null;break}if(null==e){if(null===x)return document.createTextNode(b);e=r?document.createElementNS(\"http://www.w3.org/2000/svg\",x):document.createElement(x,b.is&&b),i=null,a=!1}if(null===x)m===b||a&&e.data===b||(e.data=b);else{if(i=i&&s.call(e.childNodes),m=t.props||v,!a&&null!=i)for(m={},c=0;c<e.attributes.length;c++)m[(f=e.attributes[c]).name]=f.value;for(c in m)f=m[c],\"children\"==c||(\"dangerouslySetInnerHTML\"==c?p=f:\"key\"===c||c in b||E(e,c,null,f,r));for(c in b)f=b[c],\"children\"==c?_=f:\"dangerouslySetInnerHTML\"==c?d=f:\"value\"==c?h=f:\"checked\"==c?g=f:\"key\"===c||a&&\"function\"!=typeof f||m[c]===f||E(e,c,f,m[c],r);if(d)a||p&&(d.__html===p.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),n.__k=[];else if(p&&(e.innerHTML=\"\"),L(e,y(_)?_:[_],n,t,o,r&&\"foreignObject\"!==x,i,l,i?i[0]:t.__k&&q(t,0),a,u),null!=i)for(c=i.length;c--;)null!=i[c]&&C(i[c]);a||(c=\"value\",void 0!==h&&(h!==e[c]||\"progress\"===x&&!h||\"option\"===x&&h!==m[c])&&E(e,c,h,m[c],!1),c=\"checked\",void 0!==g&&g!==e[c]&&E(e,c,g,m[c],!1))}return e}function V(e,n,t){try{\"function\"==typeof e?e(n):e.current=n}catch(e){u.__e(e,t)}}function B(e,n,t){var o,r;if(u.unmount&&u.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||V(o,null,n)),null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){u.__e(e,n)}o.base=o.__P=null,e.__c=void 0}if(o=e.__k)for(r=0;r<o.length;r++)o[r]&&B(o[r],n,t||\"function\"!=typeof e.type);t||null==e.__e||C(e.__e),e.__=e.__e=e.__d=void 0}function Q(e,n,t){return this.constructor(e,t)}function W(e,n,t){var o,r,i,l;u.__&&u.__(e,n),r=(o=\"function\"==typeof t)?null:n.__k,i=[],l=[],Z(n,e=(!o&&t||n).__k=x(w,null,[e]),r||v,v,void 0!==n.ownerSVGElement,!o&&t?[t]:r?null:n.firstChild?s.call(n.childNodes):null,i,!o&&t?t:r?r.__e:n.firstChild,o,l),N(i,e,l)}function U(e,n,t){var o,r,i,l,a=b({},e.props);for(i in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),n)\"key\"==i?o=n[i]:\"ref\"==i?r=n[i]:a[i]=void 0===n[i]&&void 0!==l?l[i]:n[i];return arguments.length>2&&(a.children=arguments.length>3?s.call(arguments,2):t),k(e.type,a,o||e.key,r||e.ref,null)}s=g.slice,u={__e:function(e,n,t,o){for(var r,i,l;n=n.__;)if((r=n.__c)&&!r.__)try{if((i=r.constructor)&&null!=i.getDerivedStateFromError&&(r.setState(i.getDerivedStateFromError(e)),l=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(e,o||{}),l=r.__d),l)return r.__E=r}catch(n){e=n}throw e}},c=0,S.prototype.setState=function(e,n){var t;t=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=b({},this.state),\"function\"==typeof e&&(e=e(b({},t),this.props)),e&&b(t,e),null!=e&&this.__v&&(n&&this._sb.push(n),H(this))},S.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),H(this))},S.prototype.render=w,d=[],_=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f=function(e,n){return e.__v.__b-n.__v.__b},P.__r=0,h=0;const j=o,O=l,R=\"seenSurvey_\",z=e=>{const n={left:\"left: 30px;\",right:\"right: 30px;\",center:\"\\n            left: 50%;\\n            transform: translateX(-50%);\\n          \"};return`\\n          .survey-form, .thank-you-message {\\n              position: fixed;\\n              margin: 0px;\\n              bottom: 0px;\\n              color: black;\\n              font-weight: normal;\\n              font-family: -apple-system, BlinkMacSystemFont, \"Inter\", \"Segoe UI\", \"Roboto\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\\n              text-align: left;\\n              max-width: ${parseInt((null==e?void 0:e.maxWidth)||\"300\")}px;\\n              width: 100%;\\n              z-index: ${parseInt((null==e?void 0:e.zIndex)||\"99999\")};\\n              border: 1.5px solid ${(null==e?void 0:e.borderColor)||\"#c9c6c6\"};\\n              border-bottom: 0px;\\n              ${n[(null==e?void 0:e.position)||\"right\"]||\"right: 30px;\"}\\n              flex-direction: column;\\n              background: ${(null==e?void 0:e.backgroundColor)||\"#eeeded\"};\\n              border-top-left-radius: 10px;\\n              border-top-right-radius: 10px;\\n              box-shadow: -6px 0 16px -8px rgb(0 0 0 / 8%), -9px 0 28px 0 rgb(0 0 0 / 5%), -12px 0 48px 16px rgb(0 0 0 / 3%);\\n          }\\n          \\n          .survey-box, .thank-you-message-container {\\n              padding: 20px 25px 10px;\\n              display: flex;\\n              flex-direction: column;\\n              border-radius: 10px;\\n          }\\n\\n          .thank-you-message {\\n              text-align: center;\\n          }\\n\\n          .form-submit[disabled] {\\n              opacity: 0.6;\\n              filter: grayscale(50%);\\n              cursor: not-allowed;\\n          }\\n          .survey-form textarea {\\n              color: #2d2d2d;\\n              font-size: 14px;\\n              font-family: -apple-system, BlinkMacSystemFont, \"Inter\", \"Segoe UI\", \"Roboto\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\\n              background: white;\\n              color: black;\\n              outline: none;\\n              padding-left: 10px;\\n              padding-right: 10px;\\n              padding-top: 10px;\\n              border-radius: 6px;\\n              border-color: ${(null==e?void 0:e.borderColor)||\"#c9c6c6\"};\\n              margin-top: 14px;\\n              width: 100%;\\n              box-sizing: border-box;\\n          }\\n          .survey-box:has(.survey-question:empty):not(:has(.survey-question-description)) textarea {\\n              margin-top: 0;\\n          }\\n          .form-submit {\\n              box-sizing: border-box;\\n              margin: 0;\\n              font-family: inherit;\\n              overflow: visible;\\n              text-transform: none;\\n              position: relative;\\n              display: inline-block;\\n              font-weight: 700;\\n              white-space: nowrap;\\n              text-align: center;\\n              border: 1.5px solid transparent;\\n              cursor: pointer;\\n              user-select: none;\\n              touch-action: manipulation;\\n              padding: 12px;\\n              font-size: 14px;\\n              border-radius: 6px;\\n              outline: 0;\\n              background: ${(null==e?void 0:e.submitButtonColor)||\"black\"} !important;\\n              text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.12);\\n              box-shadow: 0 2px 0 rgba(0, 0, 0, 0.045);\\n              width: 100%;\\n          }\\n          .form-cancel {\\n              display: flex;\\n              float: right;\\n              border: none;\\n              background: none;\\n              cursor: pointer;\\n          }\\n          .cancel-btn-wrapper {\\n              position: absolute;\\n              width: 35px;\\n              height: 35px;\\n              border-radius: 100%;\\n              top: 0;\\n              right: 0;\\n              transform: translate(50%, -50%);\\n              background: white;\\n              border: 1.5px solid ${(null==e?void 0:e.borderColor)||\"#c9c6c6\"};\\n              display: flex;\\n              justify-content: center;\\n              align-items: center;\\n          }\\n          .bolded { font-weight: 600; }\\n          .buttons {\\n              display: flex;\\n              justify-content: center;\\n          }\\n          .footer-branding {\\n              font-size: 11px;\\n              margin-top: 10px;\\n              text-align: center;\\n              display: flex;\\n              justify-content: center;\\n              gap: 4px;\\n              align-items: center;\\n              font-weight: 500;\\n              background: ${(null==e?void 0:e.backgroundColor)||\"#eeeded\"};\\n              text-decoration: none;\\n              backgroundColor: ${(null==e?void 0:e.backgroundColor)||\"#eeeded\"};\\n              color: ${G((null==e?void 0:e.backgroundColor)||\"#eeeded\")};\\n          }\\n          .survey-question {\\n              font-weight: 500;\\n              font-size: 14px;\\n              background: ${(null==e?void 0:e.backgroundColor)||\"#eeeded\"};\\n          }\\n          .question-textarea-wrapper {\\n              display: flex;\\n              flex-direction: column;\\n          }\\n          .survey-question-description {\\n              font-size: 13px;\\n              padding-top: 5px;\\n              background: ${(null==e?void 0:e.backgroundColor)||\"#eeeded\"};\\n          }\\n          .ratings-number {\\n              font-size: 16px;\\n              font-weight: 600;\\n              padding: 8px 0px;\\n              border: none;\\n          }\\n          .ratings-number:hover {\\n              cursor: pointer;\\n          }\\n          .rating-options {\\n              margin-top: 14px;\\n          }\\n          .rating-options-number {\\n              display: grid;\\n              border-radius: 6px;\\n              overflow: hidden;\\n              border: 1.5px solid ${(null==e?void 0:e.borderColor)||\"#c9c6c6\"};\\n          }\\n          .rating-options-number > .ratings-number {\\n              border-right: 1px solid ${(null==e?void 0:e.borderColor)||\"#c9c6c6\"};\\n          }\\n          .rating-options-number > .ratings-number:last-of-type {\\n              border-right: 0px;\\n          }\\n          .rating-options-number .rating-active {\\n              background: ${(null==e?void 0:e.ratingButtonActiveColor)||\"black\"};\\n          }\\n          .rating-options-emoji {\\n              display: flex;\\n              justify-content: space-between;\\n          }\\n          .ratings-emoji {\\n              font-size: 16px;\\n              background-color: transparent;\\n              border: none;\\n              padding: 0px;\\n          }\\n          .ratings-emoji:hover {\\n              cursor: pointer;\\n          }\\n          .ratings-emoji.rating-active svg {\\n              fill: ${(null==e?void 0:e.ratingButtonActiveColor)||\"black\"};\\n          }\\n          .emoji-svg {\\n              fill: '#939393';\\n          }\\n          .rating-text {\\n              display: flex;\\n              flex-direction: row;\\n              font-size: 11px;\\n              justify-content: space-between;\\n              margin-top: 6px;\\n              background: ${(null==e?void 0:e.backgroundColor)||\"#eeeded\"};\\n              opacity: .60;\\n          }\\n          .multiple-choice-options {\\n              margin-top: 13px;\\n              font-size: 14px;\\n          }\\n          .survey-box:has(.survey-question:empty):not(:has(.survey-question-description)) .multiple-choice-options {\\n              margin-top: 0;\\n          }\\n          .multiple-choice-options .choice-option {\\n              display: flex;\\n              align-items: center;\\n              gap: 4px;\\n              font-size: 13px;\\n              cursor: pointer;\\n              margin-bottom: 5px;\\n              position: relative;\\n          }\\n          .multiple-choice-options > .choice-option:last-of-type {\\n              margin-bottom: 0px;\\n          }\\n          .multiple-choice-options input {\\n              cursor: pointer;\\n              position: absolute;\\n              opacity: 0;\\n          }\\n          .choice-check {\\n              position: absolute;\\n              right: 10px;\\n              background: white;\\n          }\\n          .choice-check svg {\\n              display: none;\\n          }\\n          .multiple-choice-options .choice-option:hover .choice-check svg {\\n              display: inline-block;\\n              opacity: .25;\\n          }\\n          .multiple-choice-options input:checked + label + .choice-check svg {\\n              display: inline-block;\\n              opacity: 100% !important;\\n          }\\n          .multiple-choice-options input:checked + label {\\n              font-weight: bold;\\n              border: 1.5px solid rgba(0,0,0);\\n          }\\n          .multiple-choice-options input:checked + label input {\\n              font-weight: bold;\\n          }\\n          .multiple-choice-options label {\\n              width: 100%;\\n              cursor: pointer;\\n              padding: 10px;\\n              border: 1.5px solid rgba(0,0,0,.25);\\n              border-radius: 4px;\\n              background: white;\\n          }\\n          .multiple-choice-options .choice-option-open label {\\n              padding-right: 30px;\\n              display: flex;\\n              flex-wrap: wrap;\\n              gap: 8px;\\n              max-width: 100%;\\n          }\\n          .multiple-choice-options .choice-option-open label span {\\n              width: 100%;\\n          }\\n          .multiple-choice-options .choice-option-open input:disabled + label {\\n              opacity: 0.6;\\n          }\\n          .multiple-choice-options .choice-option-open label input {\\n              position: relative;\\n              opacity: 1;\\n              flex-grow: 1;\\n              border: 0;\\n              outline: 0;\\n          }\\n          .thank-you-message-body {\\n              margin-top: 6px;\\n              font-size: 14px;\\n              background: ${(null==e?void 0:e.backgroundColor)||\"#eeeded\"};\\n          }\\n          .thank-you-message-header {\\n              margin: 10px 0px 0px;\\n              background: ${(null==e?void 0:e.backgroundColor)||\"#eeeded\"};\\n          }\\n          .thank-you-message-container .form-submit {\\n              margin-top: 20px;\\n              margin-bottom: 10px;\\n          }\\n          .thank-you-message-countdown {\\n              margin-left: 6px;\\n          }\\n          .bottom-section {\\n              margin-top: 14px;\\n          }\\n          `};function Y(e){if(\"#\"===e[0]){const n=e.replace(/^#/,\"\");return\"rgb(\"+parseInt(n.slice(0,2),16)+\",\"+parseInt(n.slice(2,4),16)+\",\"+parseInt(n.slice(4,6),16)+\")\"}return\"rgb(255, 255, 255)\"}function G(){let e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;\"#\"===n[0]&&(e=Y(n)),n.startsWith(\"rgb\")&&(e=n);const t={aliceblue:\"#f0f8ff\",antiquewhite:\"#faebd7\",aqua:\"#00ffff\",aquamarine:\"#7fffd4\",azure:\"#f0ffff\",beige:\"#f5f5dc\",bisque:\"#ffe4c4\",black:\"#000000\",blanchedalmond:\"#ffebcd\",blue:\"#0000ff\",blueviolet:\"#8a2be2\",brown:\"#a52a2a\",burlywood:\"#deb887\",cadetblue:\"#5f9ea0\",chartreuse:\"#7fff00\",chocolate:\"#d2691e\",coral:\"#ff7f50\",cornflowerblue:\"#6495ed\",cornsilk:\"#fff8dc\",crimson:\"#dc143c\",cyan:\"#00ffff\",darkblue:\"#00008b\",darkcyan:\"#008b8b\",darkgoldenrod:\"#b8860b\",darkgray:\"#a9a9a9\",darkgreen:\"#006400\",darkkhaki:\"#bdb76b\",darkmagenta:\"#8b008b\",darkolivegreen:\"#556b2f\",darkorange:\"#ff8c00\",darkorchid:\"#9932cc\",darkred:\"#8b0000\",darksalmon:\"#e9967a\",darkseagreen:\"#8fbc8f\",darkslateblue:\"#483d8b\",darkslategray:\"#2f4f4f\",darkturquoise:\"#00ced1\",darkviolet:\"#9400d3\",deeppink:\"#ff1493\",deepskyblue:\"#00bfff\",dimgray:\"#696969\",dodgerblue:\"#1e90ff\",firebrick:\"#b22222\",floralwhite:\"#fffaf0\",forestgreen:\"#228b22\",fuchsia:\"#ff00ff\",gainsboro:\"#dcdcdc\",ghostwhite:\"#f8f8ff\",gold:\"#ffd700\",goldenrod:\"#daa520\",gray:\"#808080\",green:\"#008000\",greenyellow:\"#adff2f\",honeydew:\"#f0fff0\",hotpink:\"#ff69b4\",\"indianred \":\"#cd5c5c\",indigo:\"#4b0082\",ivory:\"#fffff0\",khaki:\"#f0e68c\",lavender:\"#e6e6fa\",lavenderblush:\"#fff0f5\",lawngreen:\"#7cfc00\",lemonchiffon:\"#fffacd\",lightblue:\"#add8e6\",lightcoral:\"#f08080\",lightcyan:\"#e0ffff\",lightgoldenrodyellow:\"#fafad2\",lightgrey:\"#d3d3d3\",lightgreen:\"#90ee90\",lightpink:\"#ffb6c1\",lightsalmon:\"#ffa07a\",lightseagreen:\"#20b2aa\",lightskyblue:\"#87cefa\",lightslategray:\"#778899\",lightsteelblue:\"#b0c4de\",lightyellow:\"#ffffe0\",lime:\"#00ff00\",limegreen:\"#32cd32\",linen:\"#faf0e6\",magenta:\"#ff00ff\",maroon:\"#800000\",mediumaquamarine:\"#66cdaa\",mediumblue:\"#0000cd\",mediumorchid:\"#ba55d3\",mediumpurple:\"#9370d8\",mediumseagreen:\"#3cb371\",mediumslateblue:\"#7b68ee\",mediumspringgreen:\"#00fa9a\",mediumturquoise:\"#48d1cc\",mediumvioletred:\"#c71585\",midnightblue:\"#191970\",mintcream:\"#f5fffa\",mistyrose:\"#ffe4e1\",moccasin:\"#ffe4b5\",navajowhite:\"#ffdead\",navy:\"#000080\",oldlace:\"#fdf5e6\",olive:\"#808000\",olivedrab:\"#6b8e23\",orange:\"#ffa500\",orangered:\"#ff4500\",orchid:\"#da70d6\",palegoldenrod:\"#eee8aa\",palegreen:\"#98fb98\",paleturquoise:\"#afeeee\",palevioletred:\"#d87093\",papayawhip:\"#ffefd5\",peachpuff:\"#ffdab9\",peru:\"#cd853f\",pink:\"#ffc0cb\",plum:\"#dda0dd\",powderblue:\"#b0e0e6\",purple:\"#800080\",red:\"#ff0000\",rosybrown:\"#bc8f8f\",royalblue:\"#4169e1\",saddlebrown:\"#8b4513\",salmon:\"#fa8072\",sandybrown:\"#f4a460\",seagreen:\"#2e8b57\",seashell:\"#fff5ee\",sienna:\"#a0522d\",silver:\"#c0c0c0\",skyblue:\"#87ceeb\",slateblue:\"#6a5acd\",slategray:\"#708090\",snow:\"#fffafa\",springgreen:\"#00ff7f\",steelblue:\"#4682b4\",tan:\"#d2b48c\",teal:\"#008080\",thistle:\"#d8bfd8\",tomato:\"#ff6347\",turquoise:\"#40e0d0\",violet:\"#ee82ee\",wheat:\"#f5deb3\",white:\"#ffffff\",whitesmoke:\"#f5f5f5\",yellow:\"#ffff00\",yellowgreen:\"#9acd32\"}[n.toLowerCase()];if(t&&(e=Y(t)),!e)return\"black\";const o=e.match(/^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+(?:\\.\\d+)?))?\\)$/);if(o){const e=parseInt(o[1]),n=parseInt(o[2]),t=parseInt(o[3]);return Math.sqrt(e*e*.299+n*n*.587+t*t*.114)>127.5?\"black\":\"white\"}return\"black\"}const X={backgroundColor:\"#eeeded\",submitButtonColor:\"black\",submitButtonTextColor:\"white\",ratingButtonColor:\"white\",ratingButtonActiveColor:\"black\",borderColor:\"#c9c6c6\",placeholder:\"Start typing...\",whiteLabel:!1,displayThankYouMessage:!0,thankYouMessageHeader:\"Thank you for your feedback!\",position:\"right\"},J=\"#eeeded\",K=function(){var e;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;o&&(localStorage.setItem(ie(t),\"true\"),o.capture(\"survey sent\",{$survey_name:t.name,$survey_id:t.id,$survey_iteration:t.current_iteration,$survey_iteration_start_date:t.current_iteration_start_date,$survey_questions:t.questions.map((e=>e.question)),sessionRecordingUrl:null===(e=o.get_session_replay_url)||void 0===e?void 0:e.call(o),...n,$set:{[le(t,\"responded\")]:!0}}),j.dispatchEvent(new Event(\"PHSurveySent\")))},ee=(e,n,t)=>{var o;!t&&n&&(n.capture(\"survey dismissed\",{$survey_name:e.name,$survey_id:e.id,$survey_iteration:e.current_iteration,$survey_iteration_start_date:e.current_iteration_start_date,sessionRecordingUrl:null===(o=n.get_session_replay_url)||void 0===o?void 0:o.call(n),$set:{[le(e,\"dismissed\")]:!0}}),localStorage.setItem(ie(e),\"true\"),j.dispatchEvent(new Event(\"PHSurveyClosed\")))},ne=e=>e.map((e=>({sort:Math.floor(10*Math.random()),value:e}))).sort(((e,n)=>e.sort-n.sort)).map((e=>e.value)),te=(e,n)=>e.length===n.length&&e.every(((e,t)=>e===n[t]))?n.reverse():n,oe=e=>(e.questions.forEach(((e,n)=>{e.originalQuestionIndex=n})),e.appearance&&e.appearance.shuffleQuestions?te(e.questions,ne(e.questions)):e.questions),re=e=>{var n,t;return!(null===(n=e.conditions)||void 0===n||null===(t=n.events)||void 0===t||!t.repeatedActivation||!(e=>{var n,t,o,r,i,l;return null!=(null===(n=e.conditions)||void 0===n||null===(t=n.events)||void 0===t||null===(o=t.values)||void 0===o?void 0:o.length)&&(null===(r=e.conditions)||void 0===r||null===(i=r.events)||void 0===i||null===(l=i.values)||void 0===l?void 0:l.length)>0})(e))},ie=e=>{let n=`${R}${e.id}`;return e.current_iteration&&e.current_iteration>0&&(n=`${R}${e.id}_${e.current_iteration}`),n},le=(e,n)=>{let t=`$survey_${n}/${e.id}`;return e.current_iteration&&e.current_iteration>0&&(t=`$survey_${n}/${e.id}/${e.current_iteration}`),t},ae=function(e,n){var t={__c:n=\"__cC\"+h++,__:e,Consumer:function(e,n){return e.children(n)},Provider:function(e){var t,o;return this.getChildContext||(t=[],(o={})[n]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&t.some((function(e){e.__e=!0,H(e)}))},this.sub=function(e){t.push(e);var n=e.componentWillUnmount;e.componentWillUnmount=function(){t.splice(t.indexOf(e),1),n&&n.call(e)}}),e.children}};return t.Provider.__=t.Consumer.contextType=t}({isPreviewMode:!1,previewPageIndex:0,handleCloseSurveyPopup:()=>{},isPopup:!0}),se=e=>{let{component:n,children:t,renderAsHtml:o,style:r}=e;return U(n,o?{dangerouslySetInnerHTML:{__html:t},style:r}:{children:t,style:r})},ue=l;var ce,de,pe,_e,fe=0,he=[],ve=[],ge=u.__b,me=u.__r,ye=u.diffed,be=u.__c,Ce=u.unmount;function xe(e,n){u.__h&&u.__h(de,e,fe||n),fe=0;var t=de.__H||(de.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({__V:ve}),t.__[e]}function ke(e){return fe=1,function(e,n,t){var o=xe(ce++,2);if(o.t=e,!o.__c&&(o.__=[Ee(void 0,n),function(e){var n=o.__N?o.__N[0]:o.__[0],t=o.t(n,e);n!==t&&(o.__N=[t,o.__[1]],o.__c.setState({}))}],o.__c=de,!de.u)){var r=function(e,n,t){if(!o.__c.__H)return!0;var r=o.__c.__H.__.filter((function(e){return e.__c}));if(r.every((function(e){return!e.__N})))return!i||i.call(this,e,n,t);var l=!1;return r.forEach((function(e){if(e.__N){var n=e.__[0];e.__=e.__N,e.__N=void 0,n!==e.__[0]&&(l=!0)}})),!(!l&&o.__c.props===e)&&(!i||i.call(this,e,n,t))};de.u=!0;var i=de.shouldComponentUpdate,l=de.componentWillUpdate;de.componentWillUpdate=function(e,n,t){if(this.__e){var o=i;i=void 0,r(e,n,t),i=o}l&&l.call(this,e,n,t)},de.shouldComponentUpdate=r}return o.__N||o.__}(Ee,e)}function we(e,n){var t=xe(ce++,3);!u.__s&&Ie(t.__H,n)&&(t.__=e,t.i=n,de.__H.__h.push(t))}function Se(e){return fe=5,qe((function(){return{current:e}}),[])}function qe(e,n){var t=xe(ce++,7);return Ie(t.__H,n)?(t.__V=e(),t.i=n,t.__h=e,t.__V):t.__}function Te(e){var n=de.context[e.__c],t=xe(ce++,9);return t.c=e,n?(null==t.__&&(t.__=!0,n.sub(de)),n.props.value):e.__}function He(){for(var e;e=he.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach($e),e.__H.__h.forEach(Me),e.__H.__h=[]}catch(n){e.__H.__h=[],u.__e(n,e.__v)}}u.__b=function(e){de=null,ge&&ge(e)},u.__r=function(e){me&&me(e),ce=0;var n=(de=e.__c).__H;n&&(pe===de?(n.__h=[],de.__h=[],n.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=ve,e.__N=e.i=void 0}))):(n.__h.forEach($e),n.__h.forEach(Me),n.__h=[],ce=0)),pe=de},u.diffed=function(e){ye&&ye(e);var n=e.__c;n&&n.__H&&(n.__H.__h.length&&(1!==he.push(n)&&_e===u.requestAnimationFrame||((_e=u.requestAnimationFrame)||Le)(He)),n.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==ve&&(e.__=e.__V),e.i=void 0,e.__V=ve}))),pe=de=null},u.__c=function(e,n){n.some((function(e){try{e.__h.forEach($e),e.__h=e.__h.filter((function(e){return!e.__||Me(e)}))}catch(t){n.some((function(e){e.__h&&(e.__h=[])})),n=[],u.__e(t,e.__v)}})),be&&be(e,n)},u.unmount=function(e){Ce&&Ce(e);var n,t=e.__c;t&&t.__H&&(t.__H.__.forEach((function(e){try{$e(e)}catch(e){n=e}})),t.__H=void 0,n&&u.__e(n,t.__v))};var Pe=\"function\"==typeof requestAnimationFrame;function Le(e){var n,t=function(){clearTimeout(o),Pe&&cancelAnimationFrame(n),setTimeout(e)},o=setTimeout(t,100);Pe&&(n=requestAnimationFrame(t))}function $e(e){var n=de,t=e.__c;\"function\"==typeof t&&(e.__c=void 0,t()),de=n}function Me(e){var n=de;e.__c=e.__(),de=n}function Ie(e,n){return!e||e.length!==n.length||n.some((function(n,t){return n!==e[t]}))}function Ee(e,n){return\"function\"==typeof n?n(e):n}const Fe=Array.isArray,De=Object.prototype.toString,Ze=Fe||function(e){return\"[object Array]\"===De.call(e)},Ne=function(e){return null===e},Ae=function(e){return\"[object Number]\"==De.call(e)};var Ve=0;function Be(e,n,t,o,r,i){var l,a,s={};for(a in n)\"ref\"==a?l=n[a]:s[a]=n[a];var c={type:e,props:s,key:t,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--Ve,__i:-1,__u:0,__source:r,__self:i};if(\"function\"==typeof e&&(l=e.defaultProps))for(a in l)void 0===s[a]&&(s[a]=l[a]);return u.vnode&&u.vnode(c),c}const Qe=Be(\"svg\",{className:\"emoji-svg\",xmlns:\"http://www.w3.org/2000/svg\",height:\"48\",viewBox:\"0 -960 960 960\",width:\"48\",children:Be(\"path\",{d:\"M626-533q22.5 0 38.25-15.75T680-587q0-22.5-15.75-38.25T626-641q-22.5 0-38.25 15.75T572-587q0 22.5 15.75 38.25T626-533Zm-292 0q22.5 0 38.25-15.75T388-587q0-22.5-15.75-38.25T334-641q-22.5 0-38.25 15.75T280-587q0 22.5 15.75 38.25T334-533Zm146 272q66 0 121.5-35.5T682-393h-52q-23 40-63 61.5T480.5-310q-46.5 0-87-21T331-393h-53q26 61 81 96.5T480-261Zm0 181q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 340q142.375 0 241.188-98.812Q820-337.625 820-480t-98.812-241.188Q622.375-820 480-820t-241.188 98.812Q140-622.375 140-480t98.812 241.188Q337.625-140 480-140Z\"})}),We=Be(\"svg\",{className:\"emoji-svg\",xmlns:\"http://www.w3.org/2000/svg\",height:\"48\",viewBox:\"0 -960 960 960\",width:\"48\",children:Be(\"path\",{d:\"M626-533q22.5 0 38.25-15.75T680-587q0-22.5-15.75-38.25T626-641q-22.5 0-38.25 15.75T572-587q0 22.5 15.75 38.25T626-533Zm-292 0q22.5 0 38.25-15.75T388-587q0-22.5-15.75-38.25T334-641q-22.5 0-38.25 15.75T280-587q0 22.5 15.75 38.25T334-533Zm20 194h253v-49H354v49ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 340q142.375 0 241.188-98.812Q820-337.625 820-480t-98.812-241.188Q622.375-820 480-820t-241.188 98.812Q140-622.375 140-480t98.812 241.188Q337.625-140 480-140Z\"})}),Ue=Be(\"svg\",{className:\"emoji-svg\",xmlns:\"http://www.w3.org/2000/svg\",height:\"48\",viewBox:\"0 -960 960 960\",width:\"48\",children:Be(\"path\",{d:\"M626-533q22.5 0 38.25-15.75T680-587q0-22.5-15.75-38.25T626-641q-22.5 0-38.25 15.75T572-587q0 22.5 15.75 38.25T626-533Zm-292 0q22.5 0 38.25-15.75T388-587q0-22.5-15.75-38.25T334-641q-22.5 0-38.25 15.75T280-587q0 22.5 15.75 38.25T334-533Zm146.174 116Q413-417 358.5-379.5T278-280h53q22-42 62.173-65t87.5-23Q528-368 567.5-344.5T630-280h52q-25-63-79.826-100-54.826-37-122-37ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 340q142.375 0 241.188-98.812Q820-337.625 820-480t-98.812-241.188Q622.375-820 480-820t-241.188 98.812Q140-622.375 140-480t98.812 241.188Q337.625-140 480-140Z\"})}),je=Be(\"svg\",{className:\"emoji-svg\",xmlns:\"http://www.w3.org/2000/svg\",height:\"48\",viewBox:\"0 -960 960 960\",width:\"48\",children:Be(\"path\",{d:\"M480-417q-67 0-121.5 37.5T278-280h404q-25-63-80-100t-122-37Zm-183-72 50-45 45 45 31-36-45-45 45-45-31-36-45 45-50-45-31 36 45 45-45 45 31 36Zm272 0 44-45 51 45 31-36-45-45 45-45-31-36-51 45-44-45-31 36 44 45-44 45 31 36ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 340q142 0 241-99t99-241q0-142-99-241t-241-99q-142 0-241 99t-99 241q0 142 99 241t241 99Z\"})}),Oe=Be(\"svg\",{className:\"emoji-svg\",xmlns:\"http://www.w3.org/2000/svg\",height:\"48\",viewBox:\"0 -960 960 960\",width:\"48\",children:Be(\"path\",{d:\"M479.504-261Q537-261 585.5-287q48.5-26 78.5-72.4 6-11.6-.75-22.6-6.75-11-20.25-11H316.918Q303-393 296.5-382t-.5 22.6q30 46.4 78.5 72.4 48.5 26 105.004 26ZM347-578l27 27q7.636 8 17.818 8Q402-543 410-551q8-8 8-18t-8-18l-42-42q-8.8-9-20.9-9-12.1 0-21.1 9l-42 42q-8 7.636-8 17.818Q276-559 284-551q8 8 18 8t18-8l27-27Zm267 0 27 27q7.714 8 18 8t18-8q8-7.636 8-17.818Q685-579 677-587l-42-42q-8.8-9-20.9-9-12.1 0-21.1 9l-42 42q-8 7.714-8 18t8 18q7.636 8 17.818 8Q579-543 587-551l27-27ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 340q142.375 0 241.188-98.812Q820-337.625 820-480t-98.812-241.188Q622.375-820 480-820t-241.188 98.812Q140-622.375 140-480t98.812 241.188Q337.625-140 480-140Z\"})}),Re=Be(\"svg\",{width:\"12\",height:\"12\",viewBox:\"0 0 12 12\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:Be(\"path\",{\"fill-rule\":\"evenodd\",\"clip-rule\":\"evenodd\",d:\"M0.164752 0.164752C0.384422 -0.0549175 0.740578 -0.0549175 0.960248 0.164752L6 5.20451L11.0398 0.164752C11.2594 -0.0549175 11.6156 -0.0549175 11.8352 0.164752C12.0549 0.384422 12.0549 0.740578 11.8352 0.960248L6.79549 6L11.8352 11.0398C12.0549 11.2594 12.0549 11.6156 11.8352 11.8352C11.6156 12.0549 11.2594 12.0549 11.0398 11.8352L6 6.79549L0.960248 11.8352C0.740578 12.0549 0.384422 12.0549 0.164752 11.8352C-0.0549175 11.6156 -0.0549175 11.2594 0.164752 11.0398L5.20451 6L0.164752 0.960248C-0.0549175 0.740578 -0.0549175 0.384422 0.164752 0.164752Z\",fill:\"black\"})}),ze=Be(\"svg\",{width:\"77\",height:\"14\",viewBox:\"0 0 77 14\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[Be(\"g\",{\"clip-path\":\"url(#clip0_2415_6911)\",children:[Be(\"mask\",{id:\"mask0_2415_6911\",style:{maskType:\"luminance\"},maskUnits:\"userSpaceOnUse\",x:\"0\",y:\"0\",width:\"77\",height:\"14\",children:Be(\"path\",{d:\"M0.5 0H76.5V14H0.5V0Z\",fill:\"white\"})}),Be(\"g\",{mask:\"url(#mask0_2415_6911)\",children:[Be(\"path\",{d:\"M5.77226 8.02931C5.59388 8.37329 5.08474 8.37329 4.90634 8.02931L4.4797 7.20672C4.41155 7.07535 4.41155 6.9207 4.4797 6.78933L4.90634 5.96669C5.08474 5.62276 5.59388 5.62276 5.77226 5.96669L6.19893 6.78933C6.26709 6.9207 6.26709 7.07535 6.19893 7.20672L5.77226 8.02931ZM5.77226 12.6946C5.59388 13.0386 5.08474 13.0386 4.90634 12.6946L4.4797 11.872C4.41155 11.7406 4.41155 11.586 4.4797 11.4546L4.90634 10.632C5.08474 10.288 5.59388 10.288 5.77226 10.632L6.19893 11.4546C6.26709 11.586 6.26709 11.7406 6.19893 11.872L5.77226 12.6946Z\",fill:\"#1D4AFF\"}),Be(\"path\",{d:\"M0.5 10.9238C0.5 10.508 1.02142 10.2998 1.32637 10.5938L3.54508 12.7327C3.85003 13.0267 3.63405 13.5294 3.20279 13.5294H0.984076C0.716728 13.5294 0.5 13.3205 0.5 13.0627V10.9238ZM0.5 8.67083C0.5 8.79459 0.551001 8.91331 0.641783 9.00081L5.19753 13.3927C5.28831 13.4802 5.41144 13.5294 5.53982 13.5294H8.0421C8.47337 13.5294 8.68936 13.0267 8.3844 12.7327L1.32637 5.92856C1.02142 5.63456 0.5 5.84278 0.5 6.25854V8.67083ZM0.5 4.00556C0.5 4.12932 0.551001 4.24802 0.641783 4.33554L10.0368 13.3927C10.1276 13.4802 10.2508 13.5294 10.3791 13.5294H12.8814C13.3127 13.5294 13.5287 13.0267 13.2237 12.7327L1.32637 1.26329C1.02142 0.969312 0.5 1.17752 0.5 1.59327V4.00556ZM5.33931 4.00556C5.33931 4.12932 5.39033 4.24802 5.4811 4.33554L14.1916 12.7327C14.4965 13.0267 15.0179 12.8185 15.0179 12.4028V9.99047C15.0179 9.86671 14.9669 9.74799 14.8762 9.66049L6.16568 1.26329C5.86071 0.969307 5.33931 1.17752 5.33931 1.59327V4.00556ZM11.005 1.26329C10.7 0.969307 10.1786 1.17752 10.1786 1.59327V4.00556C10.1786 4.12932 10.2296 4.24802 10.3204 4.33554L14.1916 8.06748C14.4965 8.36148 15.0179 8.15325 15.0179 7.7375V5.3252C15.0179 5.20144 14.9669 5.08272 14.8762 4.99522L11.005 1.26329Z\",fill:\"#F9BD2B\"}),Be(\"path\",{d:\"M21.0852 10.981L16.5288 6.58843C16.2238 6.29443 15.7024 6.50266 15.7024 6.91841V13.0627C15.7024 13.3205 15.9191 13.5294 16.1865 13.5294H23.2446C23.5119 13.5294 23.7287 13.3205 23.7287 13.0627V12.5032C23.7287 12.2455 23.511 12.0396 23.2459 12.0063C22.4323 11.9042 21.6713 11.546 21.0852 10.981ZM18.0252 12.0365C17.5978 12.0365 17.251 11.7021 17.251 11.2901C17.251 10.878 17.5978 10.5436 18.0252 10.5436C18.4527 10.5436 18.7996 10.878 18.7996 11.2901C18.7996 11.7021 18.4527 12.0365 18.0252 12.0365Z\",fill:\"currentColor\"}),Be(\"path\",{d:\"M0.5 13.0627C0.5 13.3205 0.716728 13.5294 0.984076 13.5294H3.20279C3.63405 13.5294 3.85003 13.0267 3.54508 12.7327L1.32637 10.5938C1.02142 10.2998 0.5 10.508 0.5 10.9238V13.0627ZM5.33931 5.13191L1.32637 1.26329C1.02142 0.969306 0.5 1.17752 0.5 1.59327V4.00556C0.5 4.12932 0.551001 4.24802 0.641783 4.33554L5.33931 8.86412V5.13191ZM1.32637 5.92855C1.02142 5.63455 0.5 5.84278 0.5 6.25853V8.67083C0.5 8.79459 0.551001 8.91331 0.641783 9.00081L5.33931 13.5294V9.79717L1.32637 5.92855Z\",fill:\"#1D4AFF\"}),Be(\"path\",{d:\"M10.1787 5.3252C10.1787 5.20144 10.1277 5.08272 10.0369 4.99522L6.16572 1.26329C5.8608 0.969306 5.33936 1.17752 5.33936 1.59327V4.00556C5.33936 4.12932 5.39037 4.24802 5.48114 4.33554L10.1787 8.86412V5.3252ZM5.33936 13.5294H8.04214C8.47341 13.5294 8.6894 13.0267 8.38443 12.7327L5.33936 9.79717V13.5294ZM5.33936 5.13191V8.67083C5.33936 8.79459 5.39037 8.91331 5.48114 9.00081L10.1787 13.5294V9.99047C10.1787 9.86671 10.1277 9.74803 10.0369 9.66049L5.33936 5.13191Z\",fill:\"#F54E00\"}),Be(\"path\",{d:\"M29.375 11.6667H31.3636V8.48772H33.0249C34.8499 8.48772 36.0204 7.4443 36.0204 5.83052C36.0204 4.21681 34.8499 3.17334 33.0249 3.17334H29.375V11.6667ZM31.3636 6.84972V4.81136H32.8236C33.5787 4.81136 34.0318 5.19958 34.0318 5.83052C34.0318 6.4615 33.5787 6.84972 32.8236 6.84972H31.3636ZM39.618 11.7637C41.5563 11.7637 42.9659 10.429 42.9659 8.60905C42.9659 6.78905 41.5563 5.45438 39.618 5.45438C37.6546 5.45438 36.2701 6.78905 36.2701 8.60905C36.2701 10.429 37.6546 11.7637 39.618 11.7637ZM38.1077 8.60905C38.1077 7.63838 38.7118 6.97105 39.618 6.97105C40.5116 6.97105 41.1157 7.63838 41.1157 8.60905C41.1157 9.57972 40.5116 10.2471 39.618 10.2471C38.7118 10.2471 38.1077 9.57972 38.1077 8.60905ZM46.1482 11.7637C47.6333 11.7637 48.6402 10.8658 48.6402 9.81025C48.6402 7.33505 45.2294 8.13585 45.2294 7.16518C45.2294 6.8983 45.5189 6.72843 45.9342 6.72843C46.3622 6.72843 46.8782 6.98318 47.0418 7.54132L48.527 6.94678C48.2375 6.06105 47.1677 5.45438 45.8713 5.45438C44.4743 5.45438 43.6058 6.25518 43.6058 7.21372C43.6058 9.53118 46.9663 8.88812 46.9663 9.84665C46.9663 10.1864 46.6391 10.417 46.1482 10.417C45.4434 10.417 44.9525 9.94376 44.8015 9.3735L43.3164 9.93158C43.6436 10.8537 44.6001 11.7637 46.1482 11.7637ZM53.4241 11.606L53.2982 10.0651C53.0843 10.1743 52.8074 10.2106 52.5808 10.2106C52.1278 10.2106 51.8257 9.89523 51.8257 9.34918V7.03172H53.3612V5.55145H51.8257V3.78001H49.9755V5.55145H48.9687V7.03172H49.9755V9.57972C49.9755 11.06 51.0202 11.7637 52.3921 11.7637C52.7696 11.7637 53.122 11.7031 53.4241 11.606ZM59.8749 3.17334V6.47358H56.376V3.17334H54.3874V11.6667H56.376V8.11158H59.8749V11.6667H61.8761V3.17334H59.8749ZM66.2899 11.7637C68.2281 11.7637 69.6378 10.429 69.6378 8.60905C69.6378 6.78905 68.2281 5.45438 66.2899 5.45438C64.3265 5.45438 62.942 6.78905 62.942 8.60905C62.942 10.429 64.3265 11.7637 66.2899 11.7637ZM64.7796 8.60905C64.7796 7.63838 65.3837 6.97105 66.2899 6.97105C67.1835 6.97105 67.7876 7.63838 67.7876 8.60905C67.7876 9.57972 67.1835 10.2471 66.2899 10.2471C65.3837 10.2471 64.7796 9.57972 64.7796 8.60905ZM73.2088 11.4725C73.901 11.4725 74.5177 11.242 74.845 10.8416V11.424C74.845 12.1034 74.2786 12.5767 73.4102 12.5767C72.7935 12.5767 72.2523 12.2854 72.1642 11.788L70.4776 12.0428C70.7042 13.1955 71.925 13.972 73.4102 13.972C75.361 13.972 76.6574 12.8679 76.6574 11.2298V5.55145H74.8324V6.07318C74.4926 5.69705 73.9136 5.45438 73.171 5.45438C71.409 5.45438 70.3014 6.61918 70.3014 8.46345C70.3014 10.3077 71.409 11.4725 73.2088 11.4725ZM72.1012 8.46345C72.1012 7.55345 72.655 6.97105 73.5109 6.97105C74.3793 6.97105 74.9331 7.55345 74.9331 8.46345C74.9331 9.37345 74.3793 9.95585 73.5109 9.95585C72.655 9.95585 72.1012 9.37345 72.1012 8.46345Z\",fill:\"currentColor\"})]})]}),Be(\"defs\",{children:Be(\"clipPath\",{id:\"clip0_2415_6911\",children:Be(\"rect\",{width:\"76\",height:\"14\",fill:\"white\",transform:\"translate(0.5)\"})})})]}),Ye=Be(\"svg\",{width:\"16\",height:\"12\",viewBox:\"0 0 16 12\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:Be(\"path\",{d:\"M5.30769 10.6923L4.77736 11.2226C4.91801 11.3633 5.10878 11.4423 5.30769 11.4423C5.5066 11.4423 5.69737 11.3633 5.83802 11.2226L5.30769 10.6923ZM15.5303 1.53033C15.8232 1.23744 15.8232 0.762563 15.5303 0.46967C15.2374 0.176777 14.7626 0.176777 14.4697 0.46967L15.5303 1.53033ZM1.53033 5.85429C1.23744 5.56139 0.762563 5.56139 0.46967 5.85429C0.176777 6.14718 0.176777 6.62205 0.46967 6.91495L1.53033 5.85429ZM5.83802 11.2226L15.5303 1.53033L14.4697 0.46967L4.77736 10.162L5.83802 11.2226ZM0.46967 6.91495L4.77736 11.2226L5.83802 10.162L1.53033 5.85429L0.46967 6.91495Z\",fill:\"currentColor\"})});function Ge(){return Be(\"a\",{href:\"https://posthog.com\",target:\"_blank\",rel:\"noopener\",className:\"footer-branding\",children:[\"Survey by \",ze]})}function Xe(e){let{text:n,submitDisabled:t,appearance:r,onSubmit:i,link:l}=e;const{isPreviewMode:a,isPopup:s}=Te(ae),u=r.submitButtonTextColor||G(r.submitButtonColor||X.submitButtonColor);return Be(\"div\",{className:\"bottom-section\",children:[Be(\"div\",{className:\"buttons\",children:Be(\"button\",{className:\"form-submit\",disabled:t&&!a,type:\"button\",style:s?{color:u}:{},onClick:()=>{a||(l&&(null==o||o.open(l)),i())},children:n})}),!r.whiteLabel&&Be(Ge,{})]})}function Je(e){let{question:n,description:t,descriptionContentType:o,backgroundColor:r,forceDisableHtml:i}=e;const{isPopup:l}=Te(ae);return Be(\"div\",{style:l?{backgroundColor:r||X.backgroundColor}:{},children:[Be(\"div\",{className:\"survey-question\",children:n}),t&&se({component:x(\"div\",{className:\"survey-question-description\"}),children:t,renderAsHtml:!i&&\"text\"!==o})]})}function Ke(e){let{onClick:n}=e;const{isPreviewMode:t}=Te(ae);return Be(\"div\",{className:\"cancel-btn-wrapper\",onClick:n,disabled:t,children:Be(\"button\",{className:\"form-cancel\",onClick:n,disabled:t,children:Re})})}function en(e){let{header:n,description:t,contentType:o,forceDisableHtml:r,appearance:i,onClose:l,styleOverrides:a}=e;const s=G(i.backgroundColor||X.backgroundColor),{isPopup:u}=Te(ae);return Be(w,{children:Be(\"div\",{className:\"thank-you-message\",style:{...a},children:Be(\"div\",{className:\"thank-you-message-container\",children:[u&&Be(Ke,{onClick:()=>l()}),Be(\"h3\",{className:\"thank-you-message-header\",style:{color:s},children:n}),t&&se({component:x(\"div\",{className:\"thank-you-message-body\"}),children:t,renderAsHtml:!r&&\"text\"!==o,style:{color:s}}),u&&Be(Xe,{text:i.thankYouMessageCloseButtonText||\"Close\",submitDisabled:!1,appearance:i,onSubmit:()=>l()})]})})})}function nn(e){var n;const t=Se(null),[o,r]=ke(null!==(n=e.defaultTextColor)&&void 0!==n?n:\"black\");return we((()=>{if(t.current){const e=function(e){const n=j.getComputedStyle(e).backgroundColor;if(\"rgba(0, 0, 0, 0)\"===n)return\"black\";const t=n.match(/^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+(?:\\.\\d+)?))?\\)$/);if(!t)return\"black\";const o=parseInt(t[1]),r=parseInt(t[2]),i=parseInt(t[3]);return Math.sqrt(o*o*.299+r*r*.587+i*i*.114)>127.5?\"black\":\"white\"}(t.current);r(e)}}),[e.appearance,e.forceUpdate]),{ref:t,textColor:o}}function tn(e){let{question:n,forceDisableHtml:t,appearance:o,onSubmit:r}=e;const i=Se(null),[l,a]=ke(\"\");return Be(\"div\",{ref:i,children:[Be(Je,{question:n.question,description:n.description,descriptionContentType:n.descriptionContentType,backgroundColor:o.backgroundColor,forceDisableHtml:t}),Be(\"textarea\",{rows:4,placeholder:null==o?void 0:o.placeholder,onInput:e=>a(e.currentTarget.value)}),Be(Xe,{text:n.buttonText||\"Submit\",submitDisabled:!l&&!n.optional,appearance:o,onSubmit:()=>r(l)})]})}function on(e){let{question:n,forceDisableHtml:t,appearance:o,onSubmit:r}=e;return Be(w,{children:[Be(Je,{question:n.question,description:n.description,descriptionContentType:n.descriptionContentType,forceDisableHtml:t}),Be(Xe,{text:n.buttonText||\"Submit\",submitDisabled:!1,link:n.link,appearance:o,onSubmit:()=>r(\"link clicked\")})]})}function rn(e){let{question:n,forceDisableHtml:t,displayQuestionIndex:o,appearance:r,onSubmit:i}=e;const l=n.scale,a=10===n.scale?0:1,[s,u]=ke(null);return Be(w,{children:[Be(Je,{question:n.question,description:n.description,descriptionContentType:n.descriptionContentType,forceDisableHtml:t,backgroundColor:r.backgroundColor}),Be(\"div\",{className:\"rating-section\",children:[Be(\"div\",{className:\"rating-options\",children:[\"emoji\"===n.display&&Be(\"div\",{className:\"rating-options-emoji\",children:(3===n.scale?sn:un).map(((e,n)=>{const t=n+1===s;return Be(\"button\",{className:`ratings-emoji question-${o}-rating-${n} ${t?\"rating-active\":null}`,value:n+1,type:\"button\",onClick:()=>{u(n+1)},style:{fill:t?r.ratingButtonActiveColor:r.ratingButtonColor,borderColor:r.borderColor},children:e},n)}))}),\"number\"===n.display&&Be(\"div\",{className:\"rating-options-number\",style:{gridTemplateColumns:`repeat(${l-a+1}, minmax(0, 1fr))`},children:_n(n.scale).map(((e,n)=>Be(ln,{displayQuestionIndex:o,active:s===e,appearance:r,num:e,setActiveNumber:e=>{u(e)}},n)))})]}),Be(\"div\",{className:\"rating-text\",children:[Be(\"div\",{children:n.lowerBoundLabel}),Be(\"div\",{children:n.upperBoundLabel})]})]}),Be(Xe,{text:n.buttonText||(null==r?void 0:r.submitButtonText)||\"Submit\",submitDisabled:Ne(s)&&!n.optional,appearance:r,onSubmit:()=>i(s)})]})}function ln(e){let{num:n,active:t,displayQuestionIndex:o,appearance:r,setActiveNumber:i}=e;const{textColor:l,ref:a}=nn({appearance:r,defaultTextColor:\"black\",forceUpdate:t});return Be(\"button\",{ref:a,className:`ratings-number question-${o}-rating-${n} ${t?\"rating-active\":null}`,type:\"button\",onClick:()=>{i(n)},style:{color:l,backgroundColor:t?r.ratingButtonActiveColor:r.ratingButtonColor,borderColor:r.borderColor},children:n})}function an(e){let{question:t,forceDisableHtml:o,displayQuestionIndex:r,appearance:i,onSubmit:l}=e;const a=Se(null),s=qe((()=>(e=>{if(!e.shuffleOptions)return e.choices;const n=e.choices;let t=\"\";e.hasOpenChoice&&(t=n.pop());const o=te(n,ne(n));return e.hasOpenChoice&&(e.choices.push(t),o.push(t)),o})(t)),[t]),[u,c]=ke(t.type===n.MultipleChoice?[]:null),[d,p]=ke(!1),[_,f]=ke(\"\"),h=t.type===n.SingleChoice?\"radio\":\"checkbox\";return Be(\"div\",{ref:a,children:[Be(Je,{question:t.question,description:t.description,descriptionContentType:t.descriptionContentType,forceDisableHtml:o,backgroundColor:i.backgroundColor}),Be(\"div\",{className:\"multiple-choice-options\",children:s.map(((e,o)=>{let i=\"choice-option\";const l=e,a=e;return t.hasOpenChoice&&o===t.choices.length-1&&(i+=\" choice-option-open\"),Be(\"div\",{className:i,children:[Be(\"input\",{type:h,id:`surveyQuestion${r}Choice${o}`,name:`question${r}`,value:l,disabled:!l,onInput:()=>t.hasOpenChoice&&o===t.choices.length-1?p(!d):t.type===n.SingleChoice?c(l):t.type===n.MultipleChoice&&Ze(u)?u.includes(l)?c(u.filter((e=>e!==l))):c([...u,l]):void 0}),Be(\"label\",{htmlFor:`surveyQuestion${r}Choice${o}`,style:{color:\"black\"},children:t.hasOpenChoice&&o===t.choices.length-1?Be(w,{children:[Be(\"span\",{children:[a,\":\"]}),Be(\"input\",{type:\"text\",id:`surveyQuestion${r}Choice${o}Open`,name:`question${r}`,onInput:e=>{const o=e.currentTarget.value;return t.type===n.SingleChoice?c(o):t.type===n.MultipleChoice&&Ze(u)?f(o):void 0}})]}):a}),Be(\"span\",{className:\"choice-check\",style:{color:\"black\"},children:Ye})]})}))}),Be(Xe,{text:t.buttonText||\"Submit\",submitDisabled:(Ne(u)||Ze(u)&&!d&&0===u.length||Ze(u)&&d&&!_&&0===u.length&&!t.optional)&&!t.optional,appearance:i,onSubmit:()=>{d&&t.type===n.MultipleChoice?Ze(u)&&l([...u,_]):l(u)}})]})}const sn=[Ue,We,Qe],un=[je,Ue,We,Qe,Oe],cn=[1,2,3,4,5],dn=[1,2,3,4,5,6,7],pn=[0,1,2,3,4,5,6,7,8,9,10];function _n(e){switch(e){case 5:default:return cn;case 7:return dn;case 10:return pn}}const fn=\"[PostHog.js]\",hn={_log:function(e){if(o&&a.POSTHOG_DEBUG&&!function(e){return void 0===e}(o.console)&&o.console){const i=\"__rrweb_original__\"in o.console[e]?o.console[e].__rrweb_original__:o.console[e];for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];i(fn,...t)}},info:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];hn._log(\"log\",...n)},warn:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];hn._log(\"warn\",...n)},error:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];hn._log(\"error\",...n)},critical:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];console.error(fn,...n)},uninitializedWarning:e=>{hn.error(`You must initialize PostHog before calling ${e}`)}},vn=o,gn=l;class mn{constructor(e){this.posthog=e,this.surveyInFocus=null}canShowNextEventBasedSurvey=()=>{const e=gn.querySelectorAll(\"div[class^=PostHogSurvey]\");var n;return!(e.length>0)||1===(null===(n=e[e.length-1].shadowRoot)||void 0===n?void 0:n.childElementCount)};handlePopoverSurvey=e=>{var n;const t=null===(n=e.conditions)||void 0===n?void 0:n.seenSurveyWaitPeriodInDays,o=localStorage.getItem(\"lastSeenSurveyDate\");if(t&&o){const e=new Date,n=Math.abs(e.getTime()-new Date(o).getTime());if(Math.ceil(n/864e5)<t)return}const r=(e=>!!localStorage.getItem(ie(e))&&!re(e))(e);if(!r){this.addSurveyToFocus(e.id);const n=((e,n,t)=>{const o=O.createElement(\"div\");o.className=`PostHogSurvey${n}`;const r=o.attachShadow({mode:\"open\"});if(e){const n=Object.assign(O.createElement(\"style\"),{innerText:e});r.appendChild(n)}return O.body.appendChild(o),r})(z(null==e?void 0:e.appearance),e.id);W(Be(Cn,{posthog:this.posthog,survey:e,removeSurveyFromFocus:this.removeSurveyFromFocus,isPopup:!0},\"popover-survey\"),n)}};handleWidget=e=>{const n=function(e){var n;const t=ue.createElement(\"div\");t.className=`PostHogWidget${e.id}`;const o=t.attachShadow({mode:\"open\"}),r=`\\n        .ph-survey-widget-tab {\\n            position: fixed;\\n            top: 50%;\\n            right: 0;\\n            background: ${(null===(n=e.appearance)||void 0===n?void 0:n.widgetColor)||\"#e0a045\"};\\n            color: white;\\n            transform: rotate(-90deg) translate(0, -100%);\\n            transform-origin: right top;\\n            min-width: 40px;\\n            padding: 8px 12px;\\n            font-weight: 500;\\n            border-radius: 3px 3px 0 0;\\n            text-align: center;\\n            cursor: pointer;\\n            z-index: 9999999;\\n        }\\n        .ph-survey-widget-tab:hover {\\n            padding-bottom: 13px;\\n        }\\n        .ph-survey-widget-button {\\n            position: fixed;\\n        }\\n    `;return o.append(Object.assign(ue.createElement(\"style\"),{innerText:r})),ue.body.appendChild(t),o}(e),t=z(e.appearance);n.appendChild(Object.assign(gn.createElement(\"style\"),{innerText:t})),W(Be(kn,{posthog:this.posthog,survey:e,removeSurveyFromFocus:this.removeSurveyFromFocus},\"feedback-survey\"),n)};handleWidgetSelector=e=>{var n;const t=(null===(n=e.appearance)||void 0===n?void 0:n.widgetSelector)&&gn.querySelector(e.appearance.widgetSelector);if(t)if(0===gn.querySelectorAll(`.PostHogWidget${e.id}`).length)this.handleWidget(e);else if(1===gn.querySelectorAll(`.PostHogWidget${e.id}`).length&&!t.getAttribute(\"PHWidgetSurveyClickListener\")){var o,r;const n=null===(o=gn.querySelector(`.PostHogWidget${e.id}`))||void 0===o||null===(r=o.shadowRoot)||void 0===r?void 0:r.querySelector(\".survey-form\");t.addEventListener(\"click\",(()=>{n&&(n.style.display=\"none\"===n.style.display?\"block\":\"none\",n.addEventListener(\"PHSurveyClosed\",(()=>{this.removeSurveyFromFocus(e.id),n.style.display=\"none\"})))})),t.setAttribute(\"PHWidgetSurveyClickListener\",\"true\")}};sortSurveysByAppearanceDelay(e){return e.sort(((e,n)=>{var t,o;return((null===(t=e.appearance)||void 0===t?void 0:t.surveyPopupDelaySeconds)||0)-((null===(o=n.appearance)||void 0===o?void 0:o.surveyPopupDelaySeconds)||0)}))}canRenderSurvey=n=>{const t={visible:!1};if(n.end_date)return t.disabledReason=`survey was completed on ${n.end_date}`,t;if(n.type!=e.Popover)return t.disabledReason=\"Only Popover survey types can be rendered\",t;if(!(!n.linked_flag_key||this.posthog.featureFlags.isFeatureEnabled(n.linked_flag_key)))return t.disabledReason=`linked feature flag ${n.linked_flag_key} is false`,t;if(!(!n.targeting_flag_key||this.posthog.featureFlags.isFeatureEnabled(n.targeting_flag_key)))return t.disabledReason=`targeting feature flag ${n.targeting_flag_key} is false`,t;return!n.internal_targeting_flag_key||this.posthog.featureFlags.isFeatureEnabled(n.internal_targeting_flag_key)?(t.visible=!0,t):(t.disabledReason=`internal targeting feature flag ${n.internal_targeting_flag_key} is false`,t)};renderSurvey=(e,n)=>{W(Be(Cn,{posthog:this.posthog,survey:e,removeSurveyFromFocus:this.removeSurveyFromFocus,isPopup:!1},\"popover-survey\"),n)};callSurveysAndEvaluateDisplayLogic=(()=>{var n=this;return function(){var t;let o=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(t=n.posthog)||void 0===t||t.getActiveMatchingSurveys((t=>{const o=t.filter((e=>\"api\"!==e.type));n.sortSurveysByAppearanceDelay(o).forEach((t=>{if(Ne(n.surveyInFocus)){var o,r,i;if(t.type===e.Widget)\"tab\"===(null===(o=t.appearance)||void 0===o?void 0:o.widgetType)&&0===gn.querySelectorAll(`.PostHogWidget${t.id}`).length&&n.handleWidget(t),\"selector\"===(null===(r=t.appearance)||void 0===r?void 0:r.widgetType)&&null!==(i=t.appearance)&&void 0!==i&&i.widgetSelector&&n.handleWidgetSelector(t);t.type===e.Popover&&n.canShowNextEventBasedSurvey()&&n.handlePopoverSurvey(t)}}))}),o)}})();addSurveyToFocus=e=>{Ne(this.surveyInFocus)||hn.error(`Survey ${[...this.surveyInFocus]} already in focus. Cannot add survey ${e}.`),this.surveyInFocus=e};removeSurveyFromFocus=e=>{this.surveyInFocus!==e&&hn.error(`Survey ${e} is not in focus. Cannot remove survey ${e}.`),this.surveyInFocus=null};getTestAPI(){return{addSurveyToFocus:this.addSurveyToFocus,removeSurveyFromFocus:this.removeSurveyFromFocus,surveyInFocus:this.surveyInFocus,canShowNextEventBasedSurvey:this.canShowNextEventBasedSurvey,handleWidget:this.handleWidget,handlePopoverSurvey:this.handlePopoverSurvey,handleWidgetSelector:this.handleWidgetSelector,sortSurveysByAppearanceDelay:this.sortSurveysByAppearanceDelay}}}function yn(e){if(!gn||!vn)return;const n=new mn(e);return n.callSurveysAndEvaluateDisplayLogic(!0),setInterval((()=>{n.callSurveysAndEvaluateDisplayLogic(!1)}),1e3),n}function bn(e,n,t,o,r){const[i,l]=ke(o||0===t),[a,s]=ke(!1);return we((()=>{if(o||!n)return;const i=()=>{r(e.id),l(!1)},a=()=>{var n,t;null!==(n=e.appearance)&&void 0!==n&&n.displayThankYouMessage?(s(!0),r(e.id),null!==(t=e.appearance)&&void 0!==t&&t.autoDisappear&&setTimeout((()=>{l(!1)}),5e3)):(r(e.id),l(!1))},u=()=>{var t;l(!0),vn.dispatchEvent(new Event(\"PHSurveyShown\")),n.capture(\"survey shown\",{$survey_name:e.name,$survey_id:e.id,$survey_iteration:e.current_iteration,$survey_iteration_start_date:e.current_iteration_start_date,sessionRecordingUrl:null===(t=n.get_session_replay_url)||void 0===t?void 0:t.call(n)}),localStorage.setItem(\"lastSeenSurveyDate\",(new Date).toISOString())};return vn.addEventListener(\"PHSurveyClosed\",i),vn.addEventListener(\"PHSurveySent\",a),t>0?(()=>{const e=setTimeout((()=>{u()}),t);return()=>{clearTimeout(e),vn.removeEventListener(\"PHSurveyClosed\",i),vn.removeEventListener(\"PHSurveySent\",a)}})():(u(),()=>{vn.removeEventListener(\"PHSurveyClosed\",i),vn.removeEventListener(\"PHSurveySent\",a)})}),[]),{isPopupVisible:i,isSurveySent:a,setIsPopupVisible:l}}function Cn(e){var n,t,o,r,i,l;let{survey:a,forceDisableHtml:s,posthog:u,style:c,previewPageIndex:d,removeSurveyFromFocus:p,isPopup:_}=e;const f=Number.isInteger(d),h=null!==(n=a.appearance)&&void 0!==n&&n.surveyPopupDelaySeconds?1e3*a.appearance.surveyPopupDelaySeconds:0,{isPopupVisible:v,isSurveySent:g,setIsPopupVisible:m}=bn(a,u,h,f,p),y=g||d===a.questions.length,b=null!==(t=c)&&void 0!==t&&t.left&&Ae(null===(o=c)||void 0===o?void 0:o.left)?{left:c.left-40}:{};return f&&(c=c||{},c.left=\"unset\",c.right=\"unset\",c.transform=\"unset\"),v?Be(ae.Provider,{value:{isPreviewMode:f,previewPageIndex:d,handleCloseSurveyPopup:()=>ee(a,u,f),isPopup:_||!1},children:y?Be(en,{header:(null===(r=a.appearance)||void 0===r?void 0:r.thankYouMessageHeader)||\"Thank you!\",description:(null===(i=a.appearance)||void 0===i?void 0:i.thankYouMessageDescription)||\"\",forceDisableHtml:!!s,contentType:null===(l=a.appearance)||void 0===l?void 0:l.thankYouMessageDescriptionContentType,appearance:a.appearance||X,styleOverrides:{...c,...b},onClose:()=>m(!1)}):Be(xn,{survey:a,forceDisableHtml:!!s,posthog:u,styleOverrides:c})}):Be(w,{})}function xn(e){var n,o;let{survey:r,forceDisableHtml:i,posthog:l,styleOverrides:a}=e;const s=G((null===(n=r.appearance)||void 0===n?void 0:n.backgroundColor)||X.backgroundColor),[u,c]=ke({}),{isPreviewMode:d,previewPageIndex:p,handleCloseSurveyPopup:_,isPopup:f}=Te(ae),[h,v]=ke(p||0),g=qe((()=>oe(r)),[r]);we((()=>{v(null!=p?p:0)}),[p]);return Be(\"form\",{className:\"survey-form\",style:f?{color:s,borderColor:null===(o=r.appearance)||void 0===o?void 0:o.borderColor,...a}:{},children:g.map(((e,n)=>{var o;const{originalQuestionIndex:a}=e;return(d?h===a:h===n)&&Be(\"div\",{className:\"survey-box\",style:f?{backgroundColor:(null===(o=r.appearance)||void 0===o?void 0:o.backgroundColor)||X.backgroundColor}:{},children:[f&&Be(Ke,{onClick:()=>_()}),wn({question:e,forceDisableHtml:i,displayQuestionIndex:n,appearance:r.appearance||X,onSubmit:e=>(e=>{let{res:n,originalQuestionIndex:o,displayQuestionIndex:i}=e;if(!l)return;const a=0===o?\"$survey_response\":`$survey_response_${o}`;if(c({...u,[a]:n}),!l.getNextSurveyStep)return void(i===r.questions.length-1?K({...u,[a]:n},r,l):v(i+1));const s=l.getNextSurveyStep(r,i,n);s===t.End?K({...u,[a]:n},r,l):v(s)})({res:e,originalQuestionIndex:a,displayQuestionIndex:n})})]})}))})}function kn(e){var n,t;let{survey:o,forceDisableHtml:r,posthog:i,readOnly:l,removeSurveyFromFocus:a}=e;const[s,u]=ke(!1),[c,d]=ke({}),p=Se(null);return we((()=>{var e,n;if(!l&&i){if(\"tab\"===(null===(e=o.appearance)||void 0===e?void 0:e.widgetType)&&p.current){var t;const e=p.current.getBoundingClientRect(),n={top:\"50%\",left:parseInt(\"\"+(e.right-360)),bottom:\"auto\",borderRadius:10,borderBottom:`1.5px solid ${(null===(t=o.appearance)||void 0===t?void 0:t.borderColor)||\"#c9c6c6\"}`};d(n)}if(\"selector\"===(null===(n=o.appearance)||void 0===n?void 0:n.widgetType)){const e=gn.querySelector(o.appearance.widgetSelector||\"\");null==e||e.addEventListener(\"click\",(()=>{u(!s)})),null==e||e.setAttribute(\"PHWidgetSurveyClickListener\",\"true\")}}}),[]),Be(w,{children:[\"tab\"===(null===(n=o.appearance)||void 0===n?void 0:n.widgetType)&&Be(\"div\",{className:\"ph-survey-widget-tab\",ref:p,onClick:()=>!l&&u(!s),style:{color:G(o.appearance.widgetColor)},children:[Be(\"div\",{className:\"ph-survey-widget-tab-icon\"}),(null===(t=o.appearance)||void 0===t?void 0:t.widgetLabel)||\"\"]}),s&&Be(Cn,{posthog:i,survey:o,forceDisableHtml:r,style:c,removeSurveyFromFocus:a,isPopup:!0},\"feedback-widget-survey\")]})}const wn=e=>{let{question:t,forceDisableHtml:o,displayQuestionIndex:r,appearance:i,onSubmit:l}=e;const a={[n.Open]:tn,[n.Link]:on,[n.Rating]:rn,[n.SingleChoice]:an,[n.MultipleChoice]:an},s={question:t,forceDisableHtml:o,appearance:i,onSubmit:l},u={[n.Open]:{},[n.Link]:{},[n.Rating]:{displayQuestionIndex:r},[n.SingleChoice]:{displayQuestionIndex:r},[n.MultipleChoice]:{displayQuestionIndex:r}};return Be(a[t.type],{...{...s,...u[t.type]}})};a.__PosthogExtensions__=a.__PosthogExtensions__||{},a.__PosthogExtensions__.canActivateRepeatedly=re,a.__PosthogExtensions__.generateSurveys=yn,a.extendPostHogWithSurveys=yn}();\n//# sourceMappingURL=surveys.js.map\n","/**\n * Having Survey types in types.ts was confusing tsc\n * and generating an invalid module.d.ts\n * See https://github.com/PostHog/posthog-js/issues/698\n */\n\nexport interface SurveyAppearance {\n    // keep in sync with frontend/src/types.ts -> SurveyAppearance\n    backgroundColor?: string\n    submitButtonColor?: string\n    // text color is deprecated, use auto contrast text color instead\n    textColor?: string\n    // deprecate submit button text eventually\n    submitButtonText?: string\n    submitButtonTextColor?: string\n    descriptionTextColor?: string\n    ratingButtonColor?: string\n    ratingButtonActiveColor?: string\n    ratingButtonHoverColor?: string\n    whiteLabel?: boolean\n    autoDisappear?: boolean\n    displayThankYouMessage?: boolean\n    thankYouMessageHeader?: string\n    thankYouMessageDescription?: string\n    thankYouMessageDescriptionContentType?: SurveyQuestionDescriptionContentType\n    thankYouMessageCloseButtonText?: string\n    borderColor?: string\n    position?: 'left' | 'right' | 'center'\n    placeholder?: string\n    shuffleQuestions?: boolean\n    surveyPopupDelaySeconds?: number\n    // widget options\n    widgetType?: 'button' | 'tab' | 'selector'\n    widgetSelector?: string\n    widgetLabel?: string\n    widgetColor?: string\n    // questionable: Not in frontend/src/types.ts -> SurveyAppearance, but used in site app\n    maxWidth?: string\n    zIndex?: string\n}\n\nexport enum SurveyType {\n    Popover = 'popover',\n    API = 'api',\n    Widget = 'widget',\n}\n\nexport type SurveyQuestion = BasicSurveyQuestion | LinkSurveyQuestion | RatingSurveyQuestion | MultipleSurveyQuestion\n\nexport type SurveyQuestionDescriptionContentType = 'html' | 'text'\n\ninterface SurveyQuestionBase {\n    question: string\n    description?: string | null\n    descriptionContentType?: SurveyQuestionDescriptionContentType\n    optional?: boolean\n    buttonText?: string\n    originalQuestionIndex: number\n    branching?: NextQuestionBranching | EndBranching | ResponseBasedBranching | SpecificQuestionBranching\n}\n\nexport interface BasicSurveyQuestion extends SurveyQuestionBase {\n    type: SurveyQuestionType.Open\n}\n\nexport interface LinkSurveyQuestion extends SurveyQuestionBase {\n    type: SurveyQuestionType.Link\n    link?: string | null\n}\n\nexport interface RatingSurveyQuestion extends SurveyQuestionBase {\n    type: SurveyQuestionType.Rating\n    display: 'number' | 'emoji'\n    scale: 3 | 5 | 7 | 10\n    lowerBoundLabel: string\n    upperBoundLabel: string\n}\n\nexport interface MultipleSurveyQuestion extends SurveyQuestionBase {\n    type: SurveyQuestionType.SingleChoice | SurveyQuestionType.MultipleChoice\n    choices: string[]\n    hasOpenChoice?: boolean\n    shuffleOptions?: boolean\n}\n\nexport enum SurveyQuestionType {\n    Open = 'open',\n    MultipleChoice = 'multiple_choice',\n    SingleChoice = 'single_choice',\n    Rating = 'rating',\n    Link = 'link',\n}\n\nexport enum SurveyQuestionBranchingType {\n    NextQuestion = 'next_question',\n    End = 'end',\n    ResponseBased = 'response_based',\n    SpecificQuestion = 'specific_question',\n}\n\ninterface NextQuestionBranching {\n    type: SurveyQuestionBranchingType.NextQuestion\n}\n\ninterface EndBranching {\n    type: SurveyQuestionBranchingType.End\n}\n\ninterface ResponseBasedBranching {\n    type: SurveyQuestionBranchingType.ResponseBased\n    responseValues: Record<string, any>\n}\n\ninterface SpecificQuestionBranching {\n    type: SurveyQuestionBranchingType.SpecificQuestion\n    index: number\n}\n\nexport interface SurveyResponse {\n    surveys: Survey[]\n}\n\nexport type SurveyCallback = (surveys: Survey[]) => void\n\nexport type SurveyUrlMatchType = 'regex' | 'not_regex' | 'exact' | 'is_not' | 'icontains' | 'not_icontains'\n\nexport interface SurveyElement {\n    text?: string\n    $el_text?: string\n    tag_name?: string\n    href?: string\n    attr_id?: string\n    attr_class?: string[]\n    nth_child?: number\n    nth_of_type?: number\n    attributes?: Record<string, any>\n    event_id?: number\n    order?: number\n    group_id?: number\n}\nexport interface SurveyRenderReason {\n    visible: boolean\n    disabledReason?: string\n}\n\nexport interface Survey {\n    // Sync this with the backend's SurveyAPISerializer!\n    id: string\n    name: string\n    description: string\n    type: SurveyType\n    linked_flag_key: string | null\n    targeting_flag_key: string | null\n    internal_targeting_flag_key: string | null\n    questions: SurveyQuestion[]\n    appearance: SurveyAppearance | null\n    conditions: {\n        url?: string\n        selector?: string\n        seenSurveyWaitPeriodInDays?: number\n        urlMatchType?: SurveyUrlMatchType\n        events: {\n            repeatedActivation?: boolean\n            values: {\n                name: string\n            }[]\n        } | null\n        actions: {\n            values: ActionType[]\n        } | null\n    } | null\n    start_date: string | null\n    end_date: string | null\n    current_iteration: number | null\n    current_iteration_start_date: string | null\n}\n\nexport interface ActionType {\n    count?: number\n    created_at: string\n    deleted?: boolean\n    id: number\n    name: string | null\n    steps?: ActionStepType[]\n    tags?: string[]\n    is_action?: true\n    action_id?: number // alias of id to make it compatible with event definitions uuid\n}\n\n/** Sync with plugin-server/src/types.ts */\nexport type ActionStepStringMatching = 'contains' | 'exact' | 'regex'\n\nexport interface ActionStepType {\n    event?: string | null\n    selector?: string | null\n    /** @deprecated Only `selector` should be used now. */\n    tag_name?: string\n    text?: string | null\n    /** @default StringMatching.Exact */\n    text_matching?: ActionStepStringMatching | null\n    href?: string | null\n    /** @default ActionStepStringMatching.Exact */\n    href_matching?: ActionStepStringMatching | null\n    url?: string | null\n    /** @default StringMatching.Contains */\n    url_matching?: ActionStepStringMatching | null\n}\n","var n,l,u,t,i,o,r,f,e,c={},s=[],a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,h=Array.isArray;function v(n,l){for(var u in l)n[u]=l[u];return n}function p(n){var l=n.parentNode;l&&l.removeChild(n)}function y(l,u,t){var i,o,r,f={};for(r in u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):t),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return d(l,f,i,o,null)}function d(n,t,i,o,r){var f={type:n,props:t,key:i,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==r?++u:r,__i:-1,__u:0};return null==r&&null!=l.vnode&&l.vnode(f),f}function _(){return{current:null}}function g(n){return n.children}function b(n,l){this.props=n,this.context=l}function m(n,l){if(null==l)return n.__?m(n.__,n.__i+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?m(n):null}function k(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return k(n)}}function w(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!x.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||r)(x)}function x(){var n,u,t,o,r,e,c,s,a;for(i.sort(f);n=i.shift();)n.__d&&(u=i.length,o=void 0,e=(r=(t=n).__v).__e,s=[],a=[],(c=t.__P)&&((o=v({},r)).__v=r.__v+1,l.vnode&&l.vnode(o),L(c,o,r,t.__n,void 0!==c.ownerSVGElement,32&r.__u?[e]:null,s,null==e?m(r):e,!!(32&r.__u),a),o.__.__k[o.__i]=o,M(s,o,a),o.__e!=e&&k(o)),i.length>u&&i.sort(f));x.__r=0}function C(n,l,u,t,i,o,r,f,e,a,h){var v,p,y,d,_,g=t&&t.__k||s,b=l.length;for(u.__d=e,P(u,l,g),e=u.__d,v=0;v<b;v++)null!=(y=u.__k[v])&&\"boolean\"!=typeof y&&\"function\"!=typeof y&&(p=-1===y.__i?c:g[y.__i]||c,y.__i=v,L(n,y,p,i,o,r,f,e,a,h),d=y.__e,y.ref&&p.ref!=y.ref&&(p.ref&&z(p.ref,null,y),h.push(y.ref,y.__c||d,y)),null==_&&null!=d&&(_=d),65536&y.__u||p.__k===y.__k?e=S(y,e,n):\"function\"==typeof y.type&&void 0!==y.__d?e=y.__d:d&&(e=d.nextSibling),y.__d=void 0,y.__u&=-196609);u.__d=e,u.__e=_}function P(n,l,u){var t,i,o,r,f,e=l.length,c=u.length,s=c,a=0;for(n.__k=[],t=0;t<e;t++)null!=(i=n.__k[t]=null==(i=l[t])||\"boolean\"==typeof i||\"function\"==typeof i?null:\"string\"==typeof i||\"number\"==typeof i||\"bigint\"==typeof i||i.constructor==String?d(null,i,null,null,i):h(i)?d(g,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?d(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=n,i.__b=n.__b+1,f=H(i,u,r=t+a,s),i.__i=f,o=null,-1!==f&&(s--,(o=u[f])&&(o.__u|=131072)),null==o||null===o.__v?(-1==f&&a--,\"function\"!=typeof i.type&&(i.__u|=65536)):f!==r&&(f===r+1?a++:f>r?s>e-r?a+=f-r:a--:a=f<r&&f==r-1?f-r:0,f!==t+a&&(i.__u|=65536))):(o=u[t])&&null==o.key&&o.__e&&(o.__e==n.__d&&(n.__d=m(o)),N(o,o,!1),u[t]=null,s--);if(s)for(t=0;t<c;t++)null!=(o=u[t])&&0==(131072&o.__u)&&(o.__e==n.__d&&(n.__d=m(o)),N(o,o))}function S(n,l,u){var t,i;if(\"function\"==typeof n.type){for(t=n.__k,i=0;t&&i<t.length;i++)t[i]&&(t[i].__=n,l=S(t[i],l,u));return l}return n.__e!=l&&(u.insertBefore(n.__e,l||null),l=n.__e),l&&l.nextSibling}function $(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(h(n)?n.some(function(n){$(n,l)}):l.push(n)),l}function H(n,l,u,t){var i=n.key,o=n.type,r=u-1,f=u+1,e=l[u];if(null===e||e&&i==e.key&&o===e.type)return u;if(t>(null!=e&&0==(131072&e.__u)?1:0))for(;r>=0||f<l.length;){if(r>=0){if((e=l[r])&&0==(131072&e.__u)&&i==e.key&&o===e.type)return r;r--}if(f<l.length){if((e=l[f])&&0==(131072&e.__u)&&i==e.key&&o===e.type)return f;f++}}return-1}function I(n,l,u){\"-\"===l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||a.test(l)?u:u+\"px\"}function T(n,l,u,t,i){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof t&&(n.style.cssText=t=\"\"),t)for(l in t)u&&l in u||I(n.style,l,\"\");if(u)for(l in u)t&&u[l]===t[l]||I(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/(PointerCapture)$|Capture$/,\"$1\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?t?u.u=t.u:(u.u=Date.now(),n.addEventListener(l,o?D:A,o)):n.removeEventListener(l,o?D:A,o);else{if(i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==l&&\"height\"!==l&&\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&\"rowSpan\"!==l&&\"colSpan\"!==l&&\"role\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!==l[4]?n.removeAttribute(l):n.setAttribute(l,u))}}function A(n){var u=this.l[n.type+!1];if(n.t){if(n.t<=u.u)return}else n.t=Date.now();return u(l.event?l.event(n):n)}function D(n){return this.l[n.type+!0](l.event?l.event(n):n)}function L(n,u,t,i,o,r,f,e,c,s){var a,p,y,d,_,m,k,w,x,P,S,$,H,I,T,A=u.type;if(void 0!==u.constructor)return null;128&t.__u&&(c=!!(32&t.__u),r=[e=u.__e=t.__e]),(a=l.__b)&&a(u);n:if(\"function\"==typeof A)try{if(w=u.props,x=(a=A.contextType)&&i[a.__c],P=a?x?x.props.value:a.__:i,t.__c?k=(p=u.__c=t.__c).__=p.__E:(\"prototype\"in A&&A.prototype.render?u.__c=p=new A(w,P):(u.__c=p=new b(w,P),p.constructor=A,p.render=O),x&&x.sub(p),p.props=w,p.state||(p.state={}),p.context=P,p.__n=i,y=p.__d=!0,p.__h=[],p._sb=[]),null==p.__s&&(p.__s=p.state),null!=A.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=v({},p.__s)),v(p.__s,A.getDerivedStateFromProps(w,p.__s))),d=p.props,_=p.state,p.__v=u,y)null==A.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==A.getDerivedStateFromProps&&w!==d&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(w,P),!p.__e&&(null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(w,p.__s,P)||u.__v===t.__v)){for(u.__v!==t.__v&&(p.props=w,p.state=p.__s,p.__d=!1),u.__e=t.__e,u.__k=t.__k,u.__k.forEach(function(n){n&&(n.__=u)}),S=0;S<p._sb.length;S++)p.__h.push(p._sb[S]);p._sb=[],p.__h.length&&f.push(p);break n}null!=p.componentWillUpdate&&p.componentWillUpdate(w,p.__s,P),null!=p.componentDidUpdate&&p.__h.push(function(){p.componentDidUpdate(d,_,m)})}if(p.context=P,p.props=w,p.__P=n,p.__e=!1,$=l.__r,H=0,\"prototype\"in A&&A.prototype.render){for(p.state=p.__s,p.__d=!1,$&&$(u),a=p.render(p.props,p.state,p.context),I=0;I<p._sb.length;I++)p.__h.push(p._sb[I]);p._sb=[]}else do{p.__d=!1,$&&$(u),a=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++H<25);p.state=p.__s,null!=p.getChildContext&&(i=v(v({},i),p.getChildContext())),y||null==p.getSnapshotBeforeUpdate||(m=p.getSnapshotBeforeUpdate(d,_)),C(n,h(T=null!=a&&a.type===g&&null==a.key?a.props.children:a)?T:[T],u,t,i,o,r,f,e,c,s),p.base=u.__e,u.__u&=-161,p.__h.length&&f.push(p),k&&(p.__E=p.__=null)}catch(n){u.__v=null,c||null!=r?(u.__e=e,u.__u|=c?160:32,r[r.indexOf(e)]=null):(u.__e=t.__e,u.__k=t.__k),l.__e(n,u,t)}else null==r&&u.__v===t.__v?(u.__k=t.__k,u.__e=t.__e):u.__e=j(t.__e,u,t,i,o,r,f,c,s);(a=l.diffed)&&a(u)}function M(n,u,t){u.__d=void 0;for(var i=0;i<t.length;i++)z(t[i],t[++i],t[++i]);l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function j(l,u,t,i,o,r,f,e,s){var a,v,y,d,_,g,b,k=t.props,w=u.props,x=u.type;if(\"svg\"===x&&(o=!0),null!=r)for(a=0;a<r.length;a++)if((_=r[a])&&\"setAttribute\"in _==!!x&&(x?_.localName===x:3===_.nodeType)){l=_,r[a]=null;break}if(null==l){if(null===x)return document.createTextNode(w);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",x):document.createElement(x,w.is&&w),r=null,e=!1}if(null===x)k===w||e&&l.data===w||(l.data=w);else{if(r=r&&n.call(l.childNodes),k=t.props||c,!e&&null!=r)for(k={},a=0;a<l.attributes.length;a++)k[(_=l.attributes[a]).name]=_.value;for(a in k)_=k[a],\"children\"==a||(\"dangerouslySetInnerHTML\"==a?y=_:\"key\"===a||a in w||T(l,a,null,_,o));for(a in w)_=w[a],\"children\"==a?d=_:\"dangerouslySetInnerHTML\"==a?v=_:\"value\"==a?g=_:\"checked\"==a?b=_:\"key\"===a||e&&\"function\"!=typeof _||k[a]===_||T(l,a,_,k[a],o);if(v)e||y&&(v.__html===y.__html||v.__html===l.innerHTML)||(l.innerHTML=v.__html),u.__k=[];else if(y&&(l.innerHTML=\"\"),C(l,h(d)?d:[d],u,t,i,o&&\"foreignObject\"!==x,r,f,r?r[0]:t.__k&&m(t,0),e,s),null!=r)for(a=r.length;a--;)null!=r[a]&&p(r[a]);e||(a=\"value\",void 0!==g&&(g!==l[a]||\"progress\"===x&&!g||\"option\"===x&&g!==k[a])&&T(l,a,g,k[a],!1),a=\"checked\",void 0!==b&&b!==l[a]&&T(l,a,b,k[a],!1))}return l}function z(n,u,t){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,t)}}function N(n,u,t){var i,o;if(l.unmount&&l.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||z(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){l.__e(n,u)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(o=0;o<i.length;o++)i[o]&&N(i[o],u,t||\"function\"!=typeof n.type);t||null==n.__e||p(n.__e),n.__=n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function q(u,t,i){var o,r,f,e;l.__&&l.__(u,t),r=(o=\"function\"==typeof i)?null:i&&i.__k||t.__k,f=[],e=[],L(t,u=(!o&&i||t).__k=y(g,null,[u]),r||c,c,void 0!==t.ownerSVGElement,!o&&i?[i]:r?null:t.firstChild?n.call(t.childNodes):null,f,!o&&i?i:r?r.__e:t.firstChild,o,e),M(f,u,e)}function B(n,l){q(n,l,B)}function E(l,u,t){var i,o,r,f,e=v({},l.props);for(r in l.type&&l.type.defaultProps&&(f=l.type.defaultProps),u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:e[r]=void 0===u[r]&&void 0!==f?f[r]:u[r];return arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):t),d(l.type,e,i||l.key,o||l.ref,null)}function F(n,l){var u={__c:l=\"__cC\"+e++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,t;return this.getChildContext||(u=[],(t={})[l]=this,this.getChildContext=function(){return t},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(function(n){n.__e=!0,w(n)})},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=s.slice,l={__e:function(n,l,u,t){for(var i,o,r;l=l.__;)if((i=l.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(n)),r=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,t||{}),r=i.__d),r)return i.__E=i}catch(l){n=l}throw n}},u=0,t=function(n){return null!=n&&null==n.constructor},b.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=v({},this.state),\"function\"==typeof n&&(n=n(v({},u),this.props)),n&&v(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),w(this))},b.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),w(this))},b.prototype.render=g,i=[],r=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f=function(n,l){return n.__v.__b-l.__v.__b},x.__r=0,e=0;export{b as Component,g as Fragment,E as cloneElement,F as createContext,y as createElement,_ as createRef,y as h,B as hydrate,t as isValidElement,l as options,q as render,$ as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","import { PostHog } from '../../posthog-core'\nimport { Survey, SurveyAppearance, MultipleSurveyQuestion, SurveyQuestion } from '../../posthog-surveys-types'\nimport { window as _window, document as _document } from '../../utils/globals'\nimport { VNode, cloneElement, createContext } from 'preact'\n// We cast the types here which is dangerous but protected by the top level generateSurveys call\nconst window = _window as Window & typeof globalThis\nconst document = _document as Document\nconst SurveySeenPrefix = 'seenSurvey_'\nexport const style = (appearance: SurveyAppearance | null) => {\n    const positions = {\n        left: 'left: 30px;',\n        right: 'right: 30px;',\n        center: `\n            left: 50%;\n            transform: translateX(-50%);\n          `,\n    }\n    return `\n          .survey-form, .thank-you-message {\n              position: fixed;\n              margin: 0px;\n              bottom: 0px;\n              color: black;\n              font-weight: normal;\n              font-family: -apple-system, BlinkMacSystemFont, \"Inter\", \"Segoe UI\", \"Roboto\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n              text-align: left;\n              max-width: ${parseInt(appearance?.maxWidth || '300')}px;\n              width: 100%;\n              z-index: ${parseInt(appearance?.zIndex || '99999')};\n              border: 1.5px solid ${appearance?.borderColor || '#c9c6c6'};\n              border-bottom: 0px;\n              ${positions[appearance?.position || 'right'] || 'right: 30px;'}\n              flex-direction: column;\n              background: ${appearance?.backgroundColor || '#eeeded'};\n              border-top-left-radius: 10px;\n              border-top-right-radius: 10px;\n              box-shadow: -6px 0 16px -8px rgb(0 0 0 / 8%), -9px 0 28px 0 rgb(0 0 0 / 5%), -12px 0 48px 16px rgb(0 0 0 / 3%);\n          }\n          \n          .survey-box, .thank-you-message-container {\n              padding: 20px 25px 10px;\n              display: flex;\n              flex-direction: column;\n              border-radius: 10px;\n          }\n\n          .thank-you-message {\n              text-align: center;\n          }\n\n          .form-submit[disabled] {\n              opacity: 0.6;\n              filter: grayscale(50%);\n              cursor: not-allowed;\n          }\n          .survey-form textarea {\n              color: #2d2d2d;\n              font-size: 14px;\n              font-family: -apple-system, BlinkMacSystemFont, \"Inter\", \"Segoe UI\", \"Roboto\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n              background: white;\n              color: black;\n              outline: none;\n              padding-left: 10px;\n              padding-right: 10px;\n              padding-top: 10px;\n              border-radius: 6px;\n              border-color: ${appearance?.borderColor || '#c9c6c6'};\n              margin-top: 14px;\n              width: 100%;\n              box-sizing: border-box;\n          }\n          .survey-box:has(.survey-question:empty):not(:has(.survey-question-description)) textarea {\n              margin-top: 0;\n          }\n          .form-submit {\n              box-sizing: border-box;\n              margin: 0;\n              font-family: inherit;\n              overflow: visible;\n              text-transform: none;\n              position: relative;\n              display: inline-block;\n              font-weight: 700;\n              white-space: nowrap;\n              text-align: center;\n              border: 1.5px solid transparent;\n              cursor: pointer;\n              user-select: none;\n              touch-action: manipulation;\n              padding: 12px;\n              font-size: 14px;\n              border-radius: 6px;\n              outline: 0;\n              background: ${appearance?.submitButtonColor || 'black'} !important;\n              text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.12);\n              box-shadow: 0 2px 0 rgba(0, 0, 0, 0.045);\n              width: 100%;\n          }\n          .form-cancel {\n              display: flex;\n              float: right;\n              border: none;\n              background: none;\n              cursor: pointer;\n          }\n          .cancel-btn-wrapper {\n              position: absolute;\n              width: 35px;\n              height: 35px;\n              border-radius: 100%;\n              top: 0;\n              right: 0;\n              transform: translate(50%, -50%);\n              background: white;\n              border: 1.5px solid ${appearance?.borderColor || '#c9c6c6'};\n              display: flex;\n              justify-content: center;\n              align-items: center;\n          }\n          .bolded { font-weight: 600; }\n          .buttons {\n              display: flex;\n              justify-content: center;\n          }\n          .footer-branding {\n              font-size: 11px;\n              margin-top: 10px;\n              text-align: center;\n              display: flex;\n              justify-content: center;\n              gap: 4px;\n              align-items: center;\n              font-weight: 500;\n              background: ${appearance?.backgroundColor || '#eeeded'};\n              text-decoration: none;\n              backgroundColor: ${appearance?.backgroundColor || '#eeeded'};\n              color: ${getContrastingTextColor(appearance?.backgroundColor || '#eeeded')};\n          }\n          .survey-question {\n              font-weight: 500;\n              font-size: 14px;\n              background: ${appearance?.backgroundColor || '#eeeded'};\n          }\n          .question-textarea-wrapper {\n              display: flex;\n              flex-direction: column;\n          }\n          .survey-question-description {\n              font-size: 13px;\n              padding-top: 5px;\n              background: ${appearance?.backgroundColor || '#eeeded'};\n          }\n          .ratings-number {\n              font-size: 16px;\n              font-weight: 600;\n              padding: 8px 0px;\n              border: none;\n          }\n          .ratings-number:hover {\n              cursor: pointer;\n          }\n          .rating-options {\n              margin-top: 14px;\n          }\n          .rating-options-number {\n              display: grid;\n              border-radius: 6px;\n              overflow: hidden;\n              border: 1.5px solid ${appearance?.borderColor || '#c9c6c6'};\n          }\n          .rating-options-number > .ratings-number {\n              border-right: 1px solid ${appearance?.borderColor || '#c9c6c6'};\n          }\n          .rating-options-number > .ratings-number:last-of-type {\n              border-right: 0px;\n          }\n          .rating-options-number .rating-active {\n              background: ${appearance?.ratingButtonActiveColor || 'black'};\n          }\n          .rating-options-emoji {\n              display: flex;\n              justify-content: space-between;\n          }\n          .ratings-emoji {\n              font-size: 16px;\n              background-color: transparent;\n              border: none;\n              padding: 0px;\n          }\n          .ratings-emoji:hover {\n              cursor: pointer;\n          }\n          .ratings-emoji.rating-active svg {\n              fill: ${appearance?.ratingButtonActiveColor || 'black'};\n          }\n          .emoji-svg {\n              fill: '#939393';\n          }\n          .rating-text {\n              display: flex;\n              flex-direction: row;\n              font-size: 11px;\n              justify-content: space-between;\n              margin-top: 6px;\n              background: ${appearance?.backgroundColor || '#eeeded'};\n              opacity: .60;\n          }\n          .multiple-choice-options {\n              margin-top: 13px;\n              font-size: 14px;\n          }\n          .survey-box:has(.survey-question:empty):not(:has(.survey-question-description)) .multiple-choice-options {\n              margin-top: 0;\n          }\n          .multiple-choice-options .choice-option {\n              display: flex;\n              align-items: center;\n              gap: 4px;\n              font-size: 13px;\n              cursor: pointer;\n              margin-bottom: 5px;\n              position: relative;\n          }\n          .multiple-choice-options > .choice-option:last-of-type {\n              margin-bottom: 0px;\n          }\n          .multiple-choice-options input {\n              cursor: pointer;\n              position: absolute;\n              opacity: 0;\n          }\n          .choice-check {\n              position: absolute;\n              right: 10px;\n              background: white;\n          }\n          .choice-check svg {\n              display: none;\n          }\n          .multiple-choice-options .choice-option:hover .choice-check svg {\n              display: inline-block;\n              opacity: .25;\n          }\n          .multiple-choice-options input:checked + label + .choice-check svg {\n              display: inline-block;\n              opacity: 100% !important;\n          }\n          .multiple-choice-options input:checked + label {\n              font-weight: bold;\n              border: 1.5px solid rgba(0,0,0);\n          }\n          .multiple-choice-options input:checked + label input {\n              font-weight: bold;\n          }\n          .multiple-choice-options label {\n              width: 100%;\n              cursor: pointer;\n              padding: 10px;\n              border: 1.5px solid rgba(0,0,0,.25);\n              border-radius: 4px;\n              background: white;\n          }\n          .multiple-choice-options .choice-option-open label {\n              padding-right: 30px;\n              display: flex;\n              flex-wrap: wrap;\n              gap: 8px;\n              max-width: 100%;\n          }\n          .multiple-choice-options .choice-option-open label span {\n              width: 100%;\n          }\n          .multiple-choice-options .choice-option-open input:disabled + label {\n              opacity: 0.6;\n          }\n          .multiple-choice-options .choice-option-open label input {\n              position: relative;\n              opacity: 1;\n              flex-grow: 1;\n              border: 0;\n              outline: 0;\n          }\n          .thank-you-message-body {\n              margin-top: 6px;\n              font-size: 14px;\n              background: ${appearance?.backgroundColor || '#eeeded'};\n          }\n          .thank-you-message-header {\n              margin: 10px 0px 0px;\n              background: ${appearance?.backgroundColor || '#eeeded'};\n          }\n          .thank-you-message-container .form-submit {\n              margin-top: 20px;\n              margin-bottom: 10px;\n          }\n          .thank-you-message-countdown {\n              margin-left: 6px;\n          }\n          .bottom-section {\n              margin-top: 14px;\n          }\n          `\n}\n\nfunction nameToHex(name: string) {\n    return {\n        aliceblue: '#f0f8ff',\n        antiquewhite: '#faebd7',\n        aqua: '#00ffff',\n        aquamarine: '#7fffd4',\n        azure: '#f0ffff',\n        beige: '#f5f5dc',\n        bisque: '#ffe4c4',\n        black: '#000000',\n        blanchedalmond: '#ffebcd',\n        blue: '#0000ff',\n        blueviolet: '#8a2be2',\n        brown: '#a52a2a',\n        burlywood: '#deb887',\n        cadetblue: '#5f9ea0',\n        chartreuse: '#7fff00',\n        chocolate: '#d2691e',\n        coral: '#ff7f50',\n        cornflowerblue: '#6495ed',\n        cornsilk: '#fff8dc',\n        crimson: '#dc143c',\n        cyan: '#00ffff',\n        darkblue: '#00008b',\n        darkcyan: '#008b8b',\n        darkgoldenrod: '#b8860b',\n        darkgray: '#a9a9a9',\n        darkgreen: '#006400',\n        darkkhaki: '#bdb76b',\n        darkmagenta: '#8b008b',\n        darkolivegreen: '#556b2f',\n        darkorange: '#ff8c00',\n        darkorchid: '#9932cc',\n        darkred: '#8b0000',\n        darksalmon: '#e9967a',\n        darkseagreen: '#8fbc8f',\n        darkslateblue: '#483d8b',\n        darkslategray: '#2f4f4f',\n        darkturquoise: '#00ced1',\n        darkviolet: '#9400d3',\n        deeppink: '#ff1493',\n        deepskyblue: '#00bfff',\n        dimgray: '#696969',\n        dodgerblue: '#1e90ff',\n        firebrick: '#b22222',\n        floralwhite: '#fffaf0',\n        forestgreen: '#228b22',\n        fuchsia: '#ff00ff',\n        gainsboro: '#dcdcdc',\n        ghostwhite: '#f8f8ff',\n        gold: '#ffd700',\n        goldenrod: '#daa520',\n        gray: '#808080',\n        green: '#008000',\n        greenyellow: '#adff2f',\n        honeydew: '#f0fff0',\n        hotpink: '#ff69b4',\n        'indianred ': '#cd5c5c',\n        indigo: '#4b0082',\n        ivory: '#fffff0',\n        khaki: '#f0e68c',\n        lavender: '#e6e6fa',\n        lavenderblush: '#fff0f5',\n        lawngreen: '#7cfc00',\n        lemonchiffon: '#fffacd',\n        lightblue: '#add8e6',\n        lightcoral: '#f08080',\n        lightcyan: '#e0ffff',\n        lightgoldenrodyellow: '#fafad2',\n        lightgrey: '#d3d3d3',\n        lightgreen: '#90ee90',\n        lightpink: '#ffb6c1',\n        lightsalmon: '#ffa07a',\n        lightseagreen: '#20b2aa',\n        lightskyblue: '#87cefa',\n        lightslategray: '#778899',\n        lightsteelblue: '#b0c4de',\n        lightyellow: '#ffffe0',\n        lime: '#00ff00',\n        limegreen: '#32cd32',\n        linen: '#faf0e6',\n        magenta: '#ff00ff',\n        maroon: '#800000',\n        mediumaquamarine: '#66cdaa',\n        mediumblue: '#0000cd',\n        mediumorchid: '#ba55d3',\n        mediumpurple: '#9370d8',\n        mediumseagreen: '#3cb371',\n        mediumslateblue: '#7b68ee',\n        mediumspringgreen: '#00fa9a',\n        mediumturquoise: '#48d1cc',\n        mediumvioletred: '#c71585',\n        midnightblue: '#191970',\n        mintcream: '#f5fffa',\n        mistyrose: '#ffe4e1',\n        moccasin: '#ffe4b5',\n        navajowhite: '#ffdead',\n        navy: '#000080',\n        oldlace: '#fdf5e6',\n        olive: '#808000',\n        olivedrab: '#6b8e23',\n        orange: '#ffa500',\n        orangered: '#ff4500',\n        orchid: '#da70d6',\n        palegoldenrod: '#eee8aa',\n        palegreen: '#98fb98',\n        paleturquoise: '#afeeee',\n        palevioletred: '#d87093',\n        papayawhip: '#ffefd5',\n        peachpuff: '#ffdab9',\n        peru: '#cd853f',\n        pink: '#ffc0cb',\n        plum: '#dda0dd',\n        powderblue: '#b0e0e6',\n        purple: '#800080',\n        red: '#ff0000',\n        rosybrown: '#bc8f8f',\n        royalblue: '#4169e1',\n        saddlebrown: '#8b4513',\n        salmon: '#fa8072',\n        sandybrown: '#f4a460',\n        seagreen: '#2e8b57',\n        seashell: '#fff5ee',\n        sienna: '#a0522d',\n        silver: '#c0c0c0',\n        skyblue: '#87ceeb',\n        slateblue: '#6a5acd',\n        slategray: '#708090',\n        snow: '#fffafa',\n        springgreen: '#00ff7f',\n        steelblue: '#4682b4',\n        tan: '#d2b48c',\n        teal: '#008080',\n        thistle: '#d8bfd8',\n        tomato: '#ff6347',\n        turquoise: '#40e0d0',\n        violet: '#ee82ee',\n        wheat: '#f5deb3',\n        white: '#ffffff',\n        whitesmoke: '#f5f5f5',\n        yellow: '#ffff00',\n        yellowgreen: '#9acd32',\n    }[name.toLowerCase()]\n}\n\nfunction hex2rgb(c: string) {\n    if (c[0] === '#') {\n        const hexColor = c.replace(/^#/, '')\n        const r = parseInt(hexColor.slice(0, 2), 16)\n        const g = parseInt(hexColor.slice(2, 4), 16)\n        const b = parseInt(hexColor.slice(4, 6), 16)\n        return 'rgb(' + r + ',' + g + ',' + b + ')'\n    }\n    return 'rgb(255, 255, 255)'\n}\n\nexport function getContrastingTextColor(color: string = defaultBackgroundColor) {\n    let rgb\n    if (color[0] === '#') {\n        rgb = hex2rgb(color)\n    }\n    if (color.startsWith('rgb')) {\n        rgb = color\n    }\n    // otherwise it's a color name\n    const nameColorToHex = nameToHex(color)\n    if (nameColorToHex) {\n        rgb = hex2rgb(nameColorToHex)\n    }\n    if (!rgb) {\n        return 'black'\n    }\n    const colorMatch = rgb.match(/^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+(?:\\.\\d+)?))?\\)$/)\n    if (colorMatch) {\n        const r = parseInt(colorMatch[1])\n        const g = parseInt(colorMatch[2])\n        const b = parseInt(colorMatch[3])\n        const hsp = Math.sqrt(0.299 * (r * r) + 0.587 * (g * g) + 0.114 * (b * b))\n        return hsp > 127.5 ? 'black' : 'white'\n    }\n    return 'black'\n}\nexport function getTextColor(el: HTMLElement) {\n    const backgroundColor = window.getComputedStyle(el).backgroundColor\n    if (backgroundColor === 'rgba(0, 0, 0, 0)') {\n        return 'black'\n    }\n    const colorMatch = backgroundColor.match(/^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+(?:\\.\\d+)?))?\\)$/)\n    if (!colorMatch) return 'black'\n\n    const r = parseInt(colorMatch[1])\n    const g = parseInt(colorMatch[2])\n    const b = parseInt(colorMatch[3])\n    const hsp = Math.sqrt(0.299 * (r * r) + 0.587 * (g * g) + 0.114 * (b * b))\n    return hsp > 127.5 ? 'black' : 'white'\n}\n\nexport const defaultSurveyAppearance: SurveyAppearance = {\n    backgroundColor: '#eeeded',\n    submitButtonColor: 'black',\n    submitButtonTextColor: 'white',\n    ratingButtonColor: 'white',\n    ratingButtonActiveColor: 'black',\n    borderColor: '#c9c6c6',\n    placeholder: 'Start typing...',\n    whiteLabel: false,\n    displayThankYouMessage: true,\n    thankYouMessageHeader: 'Thank you for your feedback!',\n    position: 'right',\n}\n\nexport const defaultBackgroundColor = '#eeeded'\n\nexport const createShadow = (styleSheet: string, surveyId: string, element?: Element) => {\n    const div = document.createElement('div')\n    div.className = `PostHogSurvey${surveyId}`\n    const shadow = div.attachShadow({ mode: 'open' })\n    if (styleSheet) {\n        const styleElement = Object.assign(document.createElement('style'), {\n            innerText: styleSheet,\n        })\n        shadow.appendChild(styleElement)\n    }\n    ;(element ? element : document.body).appendChild(div)\n    return shadow\n}\n\nexport const sendSurveyEvent = (\n    responses: Record<string, string | number | string[] | null> = {},\n    survey: Survey,\n    posthog?: PostHog\n) => {\n    if (!posthog) return\n    localStorage.setItem(getSurveySeenKey(survey), 'true')\n\n    posthog.capture('survey sent', {\n        $survey_name: survey.name,\n        $survey_id: survey.id,\n        $survey_iteration: survey.current_iteration,\n        $survey_iteration_start_date: survey.current_iteration_start_date,\n        $survey_questions: survey.questions.map((question) => question.question),\n        sessionRecordingUrl: posthog.get_session_replay_url?.(),\n        ...responses,\n        $set: {\n            [getSurveyInteractionProperty(survey, 'responded')]: true,\n        },\n    })\n    window.dispatchEvent(new Event('PHSurveySent'))\n}\n\nexport const dismissedSurveyEvent = (survey: Survey, posthog?: PostHog, readOnly?: boolean) => {\n    // TODO: state management and unit tests for this would be nice\n    if (readOnly || !posthog) {\n        return\n    }\n    posthog.capture('survey dismissed', {\n        $survey_name: survey.name,\n        $survey_id: survey.id,\n        $survey_iteration: survey.current_iteration,\n        $survey_iteration_start_date: survey.current_iteration_start_date,\n        sessionRecordingUrl: posthog.get_session_replay_url?.(),\n        $set: {\n            [getSurveyInteractionProperty(survey, 'dismissed')]: true,\n        },\n    })\n    localStorage.setItem(getSurveySeenKey(survey), 'true')\n    window.dispatchEvent(new Event('PHSurveyClosed'))\n}\n\n// Use the Fisher-yates algorithm to shuffle this array\n// https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle\nexport const shuffle = (array: any[]) => {\n    return array\n        .map((a) => ({ sort: Math.floor(Math.random() * 10), value: a }))\n        .sort((a, b) => a.sort - b.sort)\n        .map((a) => a.value)\n}\n\nconst reverseIfUnshuffled = (unshuffled: any[], shuffled: any[]): any[] => {\n    if (unshuffled.length === shuffled.length && unshuffled.every((val, index) => val === shuffled[index])) {\n        return shuffled.reverse()\n    }\n\n    return shuffled\n}\n\nexport const getDisplayOrderChoices = (question: MultipleSurveyQuestion): string[] => {\n    if (!question.shuffleOptions) {\n        return question.choices\n    }\n\n    const displayOrderChoices = question.choices\n    let openEndedChoice = ''\n    if (question.hasOpenChoice) {\n        // if the question has an open-ended choice, its always the last element in the choices array.\n        openEndedChoice = displayOrderChoices.pop()!\n    }\n\n    const shuffledOptions = reverseIfUnshuffled(displayOrderChoices, shuffle(displayOrderChoices))\n\n    if (question.hasOpenChoice) {\n        question.choices.push(openEndedChoice)\n        shuffledOptions.push(openEndedChoice)\n    }\n\n    return shuffledOptions\n}\n\nexport const getDisplayOrderQuestions = (survey: Survey): SurveyQuestion[] => {\n    // retain the original questionIndex so we can correlate values in the webapp\n    survey.questions.forEach((question, idx) => {\n        question.originalQuestionIndex = idx\n    })\n\n    if (!survey.appearance || !survey.appearance.shuffleQuestions) {\n        return survey.questions\n    }\n\n    return reverseIfUnshuffled(survey.questions, shuffle(survey.questions))\n}\n\nexport const hasEvents = (survey: Survey): boolean => {\n    return survey.conditions?.events?.values?.length != undefined && survey.conditions?.events?.values?.length > 0\n}\n\nexport const canActivateRepeatedly = (survey: Survey): boolean => {\n    return !!(survey.conditions?.events?.repeatedActivation && hasEvents(survey))\n}\n\n/**\n * getSurveySeen checks local storage for the surveySeen Key a\n * and overrides this value if the survey can be repeatedly activated by its events.\n * @param survey\n */\nexport const getSurveySeen = (survey: Survey): boolean => {\n    const surveySeen = localStorage.getItem(getSurveySeenKey(survey))\n    if (surveySeen) {\n        // if a survey has already been seen,\n        // we will override it with the event repeated activation value.\n        return !canActivateRepeatedly(survey)\n    }\n\n    return false\n}\n\nexport const getSurveySeenKey = (survey: Survey): string => {\n    let surveySeenKey = `${SurveySeenPrefix}${survey.id}`\n    if (survey.current_iteration && survey.current_iteration > 0) {\n        surveySeenKey = `${SurveySeenPrefix}${survey.id}_${survey.current_iteration}`\n    }\n\n    return surveySeenKey\n}\n\nexport const getSurveySeenStorageKeys = (): string[] => {\n    const surveyKeys = []\n    for (let i = 0; i < localStorage.length; i++) {\n        const key = localStorage.key(i)\n        if (key?.startsWith(SurveySeenPrefix)) {\n            surveyKeys.push(key)\n        }\n    }\n\n    return surveyKeys\n}\n\nconst getSurveyInteractionProperty = (survey: Survey, action: string): string => {\n    let surveyProperty = `$survey_${action}/${survey.id}`\n    if (survey.current_iteration && survey.current_iteration > 0) {\n        surveyProperty = `$survey_${action}/${survey.id}/${survey.current_iteration}`\n    }\n\n    return surveyProperty\n}\n\nexport const SurveyContext = createContext<{\n    isPreviewMode: boolean\n    previewPageIndex: number | undefined\n    handleCloseSurveyPopup: () => void\n    isPopup: boolean\n}>({\n    isPreviewMode: false,\n    previewPageIndex: 0,\n    handleCloseSurveyPopup: () => {},\n    isPopup: true,\n})\n\ninterface RenderProps {\n    component: VNode<{ className: string }>\n    children: string\n    renderAsHtml?: boolean\n    style?: React.CSSProperties\n}\n\nexport const renderChildrenAsTextOrHtml = ({ component, children, renderAsHtml, style }: RenderProps) => {\n    return renderAsHtml\n        ? cloneElement(component, {\n              dangerouslySetInnerHTML: { __html: children },\n              style,\n          })\n        : cloneElement(component, {\n              children,\n              style,\n          })\n}\n","import { Survey } from '../posthog-surveys-types'\nimport { document as _document } from '../utils/globals'\n\n// We cast the types here which is dangerous but protected by the top level generateSurveys call\nconst document = _document as Document\n\nexport function createWidgetShadow(survey: Survey) {\n    const div = document.createElement('div')\n    div.className = `PostHogWidget${survey.id}`\n    const shadow = div.attachShadow({ mode: 'open' })\n    const widgetStyleSheet = createWidgetStyle(survey.appearance?.widgetColor)\n    shadow.append(Object.assign(document.createElement('style'), { innerText: widgetStyleSheet }))\n    document.body.appendChild(div)\n    return shadow\n}\n\nexport function createWidgetStyle(widgetColor?: string) {\n    return `\n        .ph-survey-widget-tab {\n            position: fixed;\n            top: 50%;\n            right: 0;\n            background: ${widgetColor || '#e0a045'};\n            color: white;\n            transform: rotate(-90deg) translate(0, -100%);\n            transform-origin: right top;\n            min-width: 40px;\n            padding: 8px 12px;\n            font-weight: 500;\n            border-radius: 3px 3px 0 0;\n            text-align: center;\n            cursor: pointer;\n            z-index: 9999999;\n        }\n        .ph-survey-widget-tab:hover {\n            padding-bottom: 13px;\n        }\n        .ph-survey-widget-button {\n            position: fixed;\n        }\n    `\n}\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=[],e=n.__b,a=n.__r,v=n.diffed,l=n.__c,m=n.unmount;function d(t,u){n.__h&&n.__h(r,t,o||u),o=0;var i=r.__H||(r.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:c}),i.__[t]}function h(n){return o=1,s(B,n)}function s(n,u,i){var o=d(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):B(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.u)){var f=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return n.__c});if(u.every(function(n){return!n.__N}))return!c||c.call(this,n,t,r);var i=!1;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),!(!i&&o.__c.props===n)&&(!c||c.call(this,n,t,r))};r.u=!0;var c=r.shouldComponentUpdate,e=r.componentWillUpdate;r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u}e&&e.call(this,n,t,r)},r.shouldComponentUpdate=f}return o.__N||o.__}function p(u,i){var o=d(t++,3);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__H.__h.push(o))}function y(u,i){var o=d(t++,4);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__h.push(o))}function _(n){return o=5,F(function(){return{current:n}},[])}function A(n,t,r){o=6,y(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==r?r:r.concat(n))}function F(n,r){var u=d(t++,7);return z(u.__H,r)?(u.__V=n(),u.i=r,u.__h=n,u.__V):u.__}function T(n,t){return o=8,F(function(){return n},t)}function q(n){var u=r.context[n.__c],i=d(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function x(t,r){n.useDebugValue&&n.useDebugValue(r?r(t):t)}function P(n){var u=d(t++,10),i=h();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function V(){var n=d(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function b(){for(var t;t=f.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(k),t.__H.__h.forEach(w),t.__H.__h=[]}catch(r){t.__H.__h=[],n.__e(r,t.__v)}}n.__b=function(n){r=null,e&&e(n)},n.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=c,n.__N=n.i=void 0})):(i.__h.forEach(k),i.__h.forEach(w),i.__h=[],t=0)),u=r},n.diffed=function(t){v&&v(t);var o=t.__c;o&&o.__H&&(o.__H.__h.length&&(1!==f.push(o)&&i===n.requestAnimationFrame||((i=n.requestAnimationFrame)||j)(b)),o.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==c&&(n.__=n.__V),n.i=void 0,n.__V=c})),u=r=null},n.__c=function(t,r){r.some(function(t){try{t.__h.forEach(k),t.__h=t.__h.filter(function(n){return!n.__||w(n)})}catch(u){r.some(function(n){n.__h&&(n.__h=[])}),r=[],n.__e(u,t.__v)}}),l&&l(t,r)},n.unmount=function(t){m&&m(t);var r,u=t.__c;u&&u.__H&&(u.__H.__.forEach(function(n){try{k(n)}catch(n){r=n}}),u.__H=void 0,r&&n.__e(r,u.__v))};var g=\"function\"==typeof requestAnimationFrame;function j(n){var t,r=function(){clearTimeout(u),g&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);g&&(t=requestAnimationFrame(r))}function k(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function w(n){var t=r;n.__c=n.__(),r=t}function z(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function B(n,t){return\"function\"==typeof t?t(n):t}export{T as useCallback,q as useContext,x as useDebugValue,p as useEffect,P as useErrorBoundary,V as useId,A as useImperativeHandle,y as useLayoutEffect,F as useMemo,s as useReducer,_ as useRef,h as useState};\n//# sourceMappingURL=hooks.module.js.map\n","export const satisfiedEmoji = (\n    <svg className=\"emoji-svg\" xmlns=\"http://www.w3.org/2000/svg\" height=\"48\" viewBox=\"0 -960 960 960\" width=\"48\">\n        <path d=\"M626-533q22.5 0 38.25-15.75T680-587q0-22.5-15.75-38.25T626-641q-22.5 0-38.25 15.75T572-587q0 22.5 15.75 38.25T626-533Zm-292 0q22.5 0 38.25-15.75T388-587q0-22.5-15.75-38.25T334-641q-22.5 0-38.25 15.75T280-587q0 22.5 15.75 38.25T334-533Zm146 272q66 0 121.5-35.5T682-393h-52q-23 40-63 61.5T480.5-310q-46.5 0-87-21T331-393h-53q26 61 81 96.5T480-261Zm0 181q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 340q142.375 0 241.188-98.812Q820-337.625 820-480t-98.812-241.188Q622.375-820 480-820t-241.188 98.812Q140-622.375 140-480t98.812 241.188Q337.625-140 480-140Z\" />\n    </svg>\n)\nexport const neutralEmoji = (\n    <svg className=\"emoji-svg\" xmlns=\"http://www.w3.org/2000/svg\" height=\"48\" viewBox=\"0 -960 960 960\" width=\"48\">\n        <path d=\"M626-533q22.5 0 38.25-15.75T680-587q0-22.5-15.75-38.25T626-641q-22.5 0-38.25 15.75T572-587q0 22.5 15.75 38.25T626-533Zm-292 0q22.5 0 38.25-15.75T388-587q0-22.5-15.75-38.25T334-641q-22.5 0-38.25 15.75T280-587q0 22.5 15.75 38.25T334-533Zm20 194h253v-49H354v49ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 340q142.375 0 241.188-98.812Q820-337.625 820-480t-98.812-241.188Q622.375-820 480-820t-241.188 98.812Q140-622.375 140-480t98.812 241.188Q337.625-140 480-140Z\" />\n    </svg>\n)\nexport const dissatisfiedEmoji = (\n    <svg className=\"emoji-svg\" xmlns=\"http://www.w3.org/2000/svg\" height=\"48\" viewBox=\"0 -960 960 960\" width=\"48\">\n        <path d=\"M626-533q22.5 0 38.25-15.75T680-587q0-22.5-15.75-38.25T626-641q-22.5 0-38.25 15.75T572-587q0 22.5 15.75 38.25T626-533Zm-292 0q22.5 0 38.25-15.75T388-587q0-22.5-15.75-38.25T334-641q-22.5 0-38.25 15.75T280-587q0 22.5 15.75 38.25T334-533Zm146.174 116Q413-417 358.5-379.5T278-280h53q22-42 62.173-65t87.5-23Q528-368 567.5-344.5T630-280h52q-25-63-79.826-100-54.826-37-122-37ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 340q142.375 0 241.188-98.812Q820-337.625 820-480t-98.812-241.188Q622.375-820 480-820t-241.188 98.812Q140-622.375 140-480t98.812 241.188Q337.625-140 480-140Z\" />\n    </svg>\n)\nexport const veryDissatisfiedEmoji = (\n    <svg className=\"emoji-svg\" xmlns=\"http://www.w3.org/2000/svg\" height=\"48\" viewBox=\"0 -960 960 960\" width=\"48\">\n        <path d=\"M480-417q-67 0-121.5 37.5T278-280h404q-25-63-80-100t-122-37Zm-183-72 50-45 45 45 31-36-45-45 45-45-31-36-45 45-50-45-31 36 45 45-45 45 31 36Zm272 0 44-45 51 45 31-36-45-45 45-45-31-36-51 45-44-45-31 36 44 45-44 45 31 36ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 340q142 0 241-99t99-241q0-142-99-241t-241-99q-142 0-241 99t-99 241q0 142 99 241t241 99Z\" />\n    </svg>\n)\nexport const verySatisfiedEmoji = (\n    <svg className=\"emoji-svg\" xmlns=\"http://www.w3.org/2000/svg\" height=\"48\" viewBox=\"0 -960 960 960\" width=\"48\">\n        <path d=\"M479.504-261Q537-261 585.5-287q48.5-26 78.5-72.4 6-11.6-.75-22.6-6.75-11-20.25-11H316.918Q303-393 296.5-382t-.5 22.6q30 46.4 78.5 72.4 48.5 26 105.004 26ZM347-578l27 27q7.636 8 17.818 8Q402-543 410-551q8-8 8-18t-8-18l-42-42q-8.8-9-20.9-9-12.1 0-21.1 9l-42 42q-8 7.636-8 17.818Q276-559 284-551q8 8 18 8t18-8l27-27Zm267 0 27 27q7.714 8 18 8t18-8q8-7.636 8-17.818Q685-579 677-587l-42-42q-8.8-9-20.9-9-12.1 0-21.1 9l-42 42q-8 7.714-8 18t8 18q7.636 8 17.818 8Q579-543 587-551l27-27ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 340q142.375 0 241.188-98.812Q820-337.625 820-480t-98.812-241.188Q622.375-820 480-820t-241.188 98.812Q140-622.375 140-480t98.812 241.188Q337.625-140 480-140Z\" />\n    </svg>\n)\nexport const cancelSVG = (\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n            fill-rule=\"evenodd\"\n            clip-rule=\"evenodd\"\n            d=\"M0.164752 0.164752C0.384422 -0.0549175 0.740578 -0.0549175 0.960248 0.164752L6 5.20451L11.0398 0.164752C11.2594 -0.0549175 11.6156 -0.0549175 11.8352 0.164752C12.0549 0.384422 12.0549 0.740578 11.8352 0.960248L6.79549 6L11.8352 11.0398C12.0549 11.2594 12.0549 11.6156 11.8352 11.8352C11.6156 12.0549 11.2594 12.0549 11.0398 11.8352L6 6.79549L0.960248 11.8352C0.740578 12.0549 0.384422 12.0549 0.164752 11.8352C-0.0549175 11.6156 -0.0549175 11.2594 0.164752 11.0398L5.20451 6L0.164752 0.960248C-0.0549175 0.740578 -0.0549175 0.384422 0.164752 0.164752Z\"\n            fill=\"black\"\n        />\n    </svg>\n)\nexport const IconPosthogLogo = (\n    <svg width=\"77\" height=\"14\" viewBox=\"0 0 77 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g clip-path=\"url(#clip0_2415_6911)\">\n            <mask\n                id=\"mask0_2415_6911\"\n                style={{ maskType: 'luminance' }}\n                maskUnits=\"userSpaceOnUse\"\n                x=\"0\"\n                y=\"0\"\n                width=\"77\"\n                height=\"14\"\n            >\n                <path d=\"M0.5 0H76.5V14H0.5V0Z\" fill=\"white\" />\n            </mask>\n            <g mask=\"url(#mask0_2415_6911)\">\n                <path\n                    d=\"M5.77226 8.02931C5.59388 8.37329 5.08474 8.37329 4.90634 8.02931L4.4797 7.20672C4.41155 7.07535 4.41155 6.9207 4.4797 6.78933L4.90634 5.96669C5.08474 5.62276 5.59388 5.62276 5.77226 5.96669L6.19893 6.78933C6.26709 6.9207 6.26709 7.07535 6.19893 7.20672L5.77226 8.02931ZM5.77226 12.6946C5.59388 13.0386 5.08474 13.0386 4.90634 12.6946L4.4797 11.872C4.41155 11.7406 4.41155 11.586 4.4797 11.4546L4.90634 10.632C5.08474 10.288 5.59388 10.288 5.77226 10.632L6.19893 11.4546C6.26709 11.586 6.26709 11.7406 6.19893 11.872L5.77226 12.6946Z\"\n                    fill=\"#1D4AFF\"\n                />\n                <path\n                    d=\"M0.5 10.9238C0.5 10.508 1.02142 10.2998 1.32637 10.5938L3.54508 12.7327C3.85003 13.0267 3.63405 13.5294 3.20279 13.5294H0.984076C0.716728 13.5294 0.5 13.3205 0.5 13.0627V10.9238ZM0.5 8.67083C0.5 8.79459 0.551001 8.91331 0.641783 9.00081L5.19753 13.3927C5.28831 13.4802 5.41144 13.5294 5.53982 13.5294H8.0421C8.47337 13.5294 8.68936 13.0267 8.3844 12.7327L1.32637 5.92856C1.02142 5.63456 0.5 5.84278 0.5 6.25854V8.67083ZM0.5 4.00556C0.5 4.12932 0.551001 4.24802 0.641783 4.33554L10.0368 13.3927C10.1276 13.4802 10.2508 13.5294 10.3791 13.5294H12.8814C13.3127 13.5294 13.5287 13.0267 13.2237 12.7327L1.32637 1.26329C1.02142 0.969312 0.5 1.17752 0.5 1.59327V4.00556ZM5.33931 4.00556C5.33931 4.12932 5.39033 4.24802 5.4811 4.33554L14.1916 12.7327C14.4965 13.0267 15.0179 12.8185 15.0179 12.4028V9.99047C15.0179 9.86671 14.9669 9.74799 14.8762 9.66049L6.16568 1.26329C5.86071 0.969307 5.33931 1.17752 5.33931 1.59327V4.00556ZM11.005 1.26329C10.7 0.969307 10.1786 1.17752 10.1786 1.59327V4.00556C10.1786 4.12932 10.2296 4.24802 10.3204 4.33554L14.1916 8.06748C14.4965 8.36148 15.0179 8.15325 15.0179 7.7375V5.3252C15.0179 5.20144 14.9669 5.08272 14.8762 4.99522L11.005 1.26329Z\"\n                    fill=\"#F9BD2B\"\n                />\n                <path\n                    d=\"M21.0852 10.981L16.5288 6.58843C16.2238 6.29443 15.7024 6.50266 15.7024 6.91841V13.0627C15.7024 13.3205 15.9191 13.5294 16.1865 13.5294H23.2446C23.5119 13.5294 23.7287 13.3205 23.7287 13.0627V12.5032C23.7287 12.2455 23.511 12.0396 23.2459 12.0063C22.4323 11.9042 21.6713 11.546 21.0852 10.981ZM18.0252 12.0365C17.5978 12.0365 17.251 11.7021 17.251 11.2901C17.251 10.878 17.5978 10.5436 18.0252 10.5436C18.4527 10.5436 18.7996 10.878 18.7996 11.2901C18.7996 11.7021 18.4527 12.0365 18.0252 12.0365Z\"\n                    fill=\"currentColor\"\n                />\n                <path\n                    d=\"M0.5 13.0627C0.5 13.3205 0.716728 13.5294 0.984076 13.5294H3.20279C3.63405 13.5294 3.85003 13.0267 3.54508 12.7327L1.32637 10.5938C1.02142 10.2998 0.5 10.508 0.5 10.9238V13.0627ZM5.33931 5.13191L1.32637 1.26329C1.02142 0.969306 0.5 1.17752 0.5 1.59327V4.00556C0.5 4.12932 0.551001 4.24802 0.641783 4.33554L5.33931 8.86412V5.13191ZM1.32637 5.92855C1.02142 5.63455 0.5 5.84278 0.5 6.25853V8.67083C0.5 8.79459 0.551001 8.91331 0.641783 9.00081L5.33931 13.5294V9.79717L1.32637 5.92855Z\"\n                    fill=\"#1D4AFF\"\n                />\n                <path\n                    d=\"M10.1787 5.3252C10.1787 5.20144 10.1277 5.08272 10.0369 4.99522L6.16572 1.26329C5.8608 0.969306 5.33936 1.17752 5.33936 1.59327V4.00556C5.33936 4.12932 5.39037 4.24802 5.48114 4.33554L10.1787 8.86412V5.3252ZM5.33936 13.5294H8.04214C8.47341 13.5294 8.6894 13.0267 8.38443 12.7327L5.33936 9.79717V13.5294ZM5.33936 5.13191V8.67083C5.33936 8.79459 5.39037 8.91331 5.48114 9.00081L10.1787 13.5294V9.99047C10.1787 9.86671 10.1277 9.74803 10.0369 9.66049L5.33936 5.13191Z\"\n                    fill=\"#F54E00\"\n                />\n                <path\n                    d=\"M29.375 11.6667H31.3636V8.48772H33.0249C34.8499 8.48772 36.0204 7.4443 36.0204 5.83052C36.0204 4.21681 34.8499 3.17334 33.0249 3.17334H29.375V11.6667ZM31.3636 6.84972V4.81136H32.8236C33.5787 4.81136 34.0318 5.19958 34.0318 5.83052C34.0318 6.4615 33.5787 6.84972 32.8236 6.84972H31.3636ZM39.618 11.7637C41.5563 11.7637 42.9659 10.429 42.9659 8.60905C42.9659 6.78905 41.5563 5.45438 39.618 5.45438C37.6546 5.45438 36.2701 6.78905 36.2701 8.60905C36.2701 10.429 37.6546 11.7637 39.618 11.7637ZM38.1077 8.60905C38.1077 7.63838 38.7118 6.97105 39.618 6.97105C40.5116 6.97105 41.1157 7.63838 41.1157 8.60905C41.1157 9.57972 40.5116 10.2471 39.618 10.2471C38.7118 10.2471 38.1077 9.57972 38.1077 8.60905ZM46.1482 11.7637C47.6333 11.7637 48.6402 10.8658 48.6402 9.81025C48.6402 7.33505 45.2294 8.13585 45.2294 7.16518C45.2294 6.8983 45.5189 6.72843 45.9342 6.72843C46.3622 6.72843 46.8782 6.98318 47.0418 7.54132L48.527 6.94678C48.2375 6.06105 47.1677 5.45438 45.8713 5.45438C44.4743 5.45438 43.6058 6.25518 43.6058 7.21372C43.6058 9.53118 46.9663 8.88812 46.9663 9.84665C46.9663 10.1864 46.6391 10.417 46.1482 10.417C45.4434 10.417 44.9525 9.94376 44.8015 9.3735L43.3164 9.93158C43.6436 10.8537 44.6001 11.7637 46.1482 11.7637ZM53.4241 11.606L53.2982 10.0651C53.0843 10.1743 52.8074 10.2106 52.5808 10.2106C52.1278 10.2106 51.8257 9.89523 51.8257 9.34918V7.03172H53.3612V5.55145H51.8257V3.78001H49.9755V5.55145H48.9687V7.03172H49.9755V9.57972C49.9755 11.06 51.0202 11.7637 52.3921 11.7637C52.7696 11.7637 53.122 11.7031 53.4241 11.606ZM59.8749 3.17334V6.47358H56.376V3.17334H54.3874V11.6667H56.376V8.11158H59.8749V11.6667H61.8761V3.17334H59.8749ZM66.2899 11.7637C68.2281 11.7637 69.6378 10.429 69.6378 8.60905C69.6378 6.78905 68.2281 5.45438 66.2899 5.45438C64.3265 5.45438 62.942 6.78905 62.942 8.60905C62.942 10.429 64.3265 11.7637 66.2899 11.7637ZM64.7796 8.60905C64.7796 7.63838 65.3837 6.97105 66.2899 6.97105C67.1835 6.97105 67.7876 7.63838 67.7876 8.60905C67.7876 9.57972 67.1835 10.2471 66.2899 10.2471C65.3837 10.2471 64.7796 9.57972 64.7796 8.60905ZM73.2088 11.4725C73.901 11.4725 74.5177 11.242 74.845 10.8416V11.424C74.845 12.1034 74.2786 12.5767 73.4102 12.5767C72.7935 12.5767 72.2523 12.2854 72.1642 11.788L70.4776 12.0428C70.7042 13.1955 71.925 13.972 73.4102 13.972C75.361 13.972 76.6574 12.8679 76.6574 11.2298V5.55145H74.8324V6.07318C74.4926 5.69705 73.9136 5.45438 73.171 5.45438C71.409 5.45438 70.3014 6.61918 70.3014 8.46345C70.3014 10.3077 71.409 11.4725 73.2088 11.4725ZM72.1012 8.46345C72.1012 7.55345 72.655 6.97105 73.5109 6.97105C74.3793 6.97105 74.9331 7.55345 74.9331 8.46345C74.9331 9.37345 74.3793 9.95585 73.5109 9.95585C72.655 9.95585 72.1012 9.37345 72.1012 8.46345Z\"\n                    fill=\"currentColor\"\n                />\n            </g>\n        </g>\n        <defs>\n            <clipPath id=\"clip0_2415_6911\">\n                <rect width=\"76\" height=\"14\" fill=\"white\" transform=\"translate(0.5)\" />\n            </clipPath>\n        </defs>\n    </svg>\n)\nexport const checkSVG = (\n    <svg width=\"16\" height=\"12\" viewBox=\"0 0 16 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n            d=\"M5.30769 10.6923L4.77736 11.2226C4.91801 11.3633 5.10878 11.4423 5.30769 11.4423C5.5066 11.4423 5.69737 11.3633 5.83802 11.2226L5.30769 10.6923ZM15.5303 1.53033C15.8232 1.23744 15.8232 0.762563 15.5303 0.46967C15.2374 0.176777 14.7626 0.176777 14.4697 0.46967L15.5303 1.53033ZM1.53033 5.85429C1.23744 5.56139 0.762563 5.56139 0.46967 5.85429C0.176777 6.14718 0.176777 6.62205 0.46967 6.91495L1.53033 5.85429ZM5.83802 11.2226L15.5303 1.53033L14.4697 0.46967L4.77736 10.162L5.83802 11.2226ZM0.46967 6.91495L4.77736 11.2226L5.83802 10.162L1.53033 5.85429L0.46967 6.91495Z\"\n            fill=\"currentColor\"\n        />\n    </svg>\n)\n","import { IconPosthogLogo } from '../icons'\n// import { getContrastingTextColor } from '../surveys-utils'\n\nexport function PostHogLogo() {\n    // const textColor = getContrastingTextColor(backgroundColor)\n\n    return (\n        <a\n            href=\"https://posthog.com\"\n            target=\"_blank\"\n            rel=\"noopener\"\n            // style={{ backgroundColor: backgroundColor, color: textColor }}\n            className=\"footer-branding\"\n        >\n            Survey by {IconPosthogLogo}\n        </a>\n    )\n}\n","import { window } from '../../../utils/globals'\n\nimport { SurveyAppearance } from '../../../posthog-surveys-types'\n\nimport { PostHogLogo } from './PostHogLogo'\nimport { useContext } from 'preact/hooks'\nimport { SurveyContext, defaultSurveyAppearance, getContrastingTextColor } from '../surveys-utils'\n\nexport function BottomSection({\n    text,\n    submitDisabled,\n    appearance,\n    onSubmit,\n    link,\n}: {\n    text: string\n    submitDisabled: boolean\n    appearance: SurveyAppearance\n    onSubmit: () => void\n    link?: string | null\n}) {\n    const { isPreviewMode, isPopup } = useContext(SurveyContext)\n    const textColor =\n        appearance.submitButtonTextColor ||\n        getContrastingTextColor(appearance.submitButtonColor || defaultSurveyAppearance.submitButtonColor)\n    return (\n        <div className=\"bottom-section\">\n            <div className=\"buttons\">\n                <button\n                    className=\"form-submit\"\n                    disabled={submitDisabled && !isPreviewMode}\n                    type=\"button\"\n                    style={isPopup ? { color: textColor } : {}}\n                    onClick={() => {\n                        if (isPreviewMode) return\n                        if (link) {\n                            window?.open(link)\n                        }\n                        onSubmit()\n                    }}\n                >\n                    {text}\n                </button>\n            </div>\n            {!appearance.whiteLabel && <PostHogLogo />}\n        </div>\n    )\n}\n","import { SurveyContext, defaultSurveyAppearance, renderChildrenAsTextOrHtml } from '../surveys-utils'\nimport { cancelSVG } from '../icons'\nimport { useContext } from 'preact/hooks'\nimport { SurveyQuestionDescriptionContentType } from '../../../posthog-surveys-types'\nimport { h } from 'preact'\n\nexport function QuestionHeader({\n    question,\n    description,\n    descriptionContentType,\n    backgroundColor,\n    forceDisableHtml,\n}: {\n    question: string\n    description?: string | null\n    descriptionContentType?: SurveyQuestionDescriptionContentType\n    forceDisableHtml: boolean\n    backgroundColor?: string\n}) {\n    const { isPopup } = useContext(SurveyContext)\n    return (\n        <div style={isPopup ? { backgroundColor: backgroundColor || defaultSurveyAppearance.backgroundColor } : {}}>\n            <div className=\"survey-question\">{question}</div>\n            {description &&\n                renderChildrenAsTextOrHtml({\n                    component: h('div', { className: 'survey-question-description' }),\n                    children: description,\n                    renderAsHtml: !forceDisableHtml && descriptionContentType !== 'text',\n                })}\n        </div>\n    )\n}\n\nexport function Cancel({ onClick }: { onClick: () => void }) {\n    const { isPreviewMode } = useContext(SurveyContext)\n\n    return (\n        <div className=\"cancel-btn-wrapper\" onClick={onClick} disabled={isPreviewMode}>\n            <button className=\"form-cancel\" onClick={onClick} disabled={isPreviewMode}>\n                {cancelSVG}\n            </button>\n        </div>\n    )\n}\n","import { BottomSection } from './BottomSection'\nimport { Cancel } from './QuestionHeader'\nimport { SurveyAppearance, SurveyQuestionDescriptionContentType } from '../../../posthog-surveys-types'\nimport { defaultSurveyAppearance, getContrastingTextColor, renderChildrenAsTextOrHtml } from '../surveys-utils'\nimport { h } from 'preact'\n\nimport { useContext } from 'preact/hooks'\nimport { SurveyContext } from '../../surveys/surveys-utils'\n\nexport function ConfirmationMessage({\n    header,\n    description,\n    contentType,\n    forceDisableHtml,\n    appearance,\n    onClose,\n    styleOverrides,\n}: {\n    header: string\n    description: string\n    forceDisableHtml: boolean\n    contentType?: SurveyQuestionDescriptionContentType\n    appearance: SurveyAppearance\n    onClose: () => void\n    styleOverrides?: React.CSSProperties\n}) {\n    const textColor = getContrastingTextColor(appearance.backgroundColor || defaultSurveyAppearance.backgroundColor)\n\n    const { isPopup } = useContext(SurveyContext)\n\n    return (\n        <>\n            <div className=\"thank-you-message\" style={{ ...styleOverrides }}>\n                <div className=\"thank-you-message-container\">\n                    {isPopup && <Cancel onClick={() => onClose()} />}\n                    <h3 className=\"thank-you-message-header\" style={{ color: textColor }}>\n                        {header}\n                    </h3>\n                    {description &&\n                        renderChildrenAsTextOrHtml({\n                            component: h('div', { className: 'thank-you-message-body' }),\n                            children: description,\n                            renderAsHtml: !forceDisableHtml && contentType !== 'text',\n                            style: { color: textColor },\n                        })}\n                    {isPopup && (\n                        <BottomSection\n                            text={appearance.thankYouMessageCloseButtonText || 'Close'}\n                            submitDisabled={false}\n                            appearance={appearance}\n                            onSubmit={() => onClose()}\n                        />\n                    )}\n                </div>\n            </div>\n        </>\n    )\n}\n","import { useEffect, useRef, useState } from 'preact/hooks'\nimport { SurveyAppearance } from '../../../posthog-surveys-types'\nimport * as Preact from 'preact'\nimport { getTextColor } from '../surveys-utils'\n\nexport function useContrastingTextColor(options: {\n    appearance: SurveyAppearance\n    defaultTextColor?: string\n    forceUpdate?: boolean\n}): {\n    ref: Preact.RefObject<HTMLElement>\n    textColor: string\n} {\n    const ref = useRef<HTMLElement>(null)\n    const [textColor, setTextColor] = useState(options.defaultTextColor ?? 'black')\n\n    // TODO: useContext to get the background colors instead of querying the DOM\n    useEffect(() => {\n        if (ref.current) {\n            const color = getTextColor(ref.current)\n            setTextColor(color)\n        }\n    }, [options.appearance, options.forceUpdate])\n\n    return {\n        ref,\n        textColor,\n    }\n}\n","import {\n    BasicSurveyQuestion,\n    SurveyAppearance,\n    LinkSurveyQuestion,\n    RatingSurveyQuestion,\n    MultipleSurveyQuestion,\n    SurveyQuestionType,\n} from '../../../posthog-surveys-types'\nimport { RefObject } from 'preact'\nimport { useRef, useState, useMemo } from 'preact/hooks'\nimport { isNull, isArray } from '../../../utils/type-utils'\nimport { useContrastingTextColor } from '../hooks/useContrastingTextColor'\nimport {\n    checkSVG,\n    dissatisfiedEmoji,\n    neutralEmoji,\n    satisfiedEmoji,\n    veryDissatisfiedEmoji,\n    verySatisfiedEmoji,\n} from '../icons'\nimport { getDisplayOrderChoices } from '../surveys-utils'\nimport { BottomSection } from './BottomSection'\nimport { QuestionHeader } from './QuestionHeader'\n\nexport function OpenTextQuestion({\n    question,\n    forceDisableHtml,\n    appearance,\n    onSubmit,\n}: {\n    question: BasicSurveyQuestion\n    forceDisableHtml: boolean\n    appearance: SurveyAppearance\n    onSubmit: (text: string) => void\n}) {\n    const textRef = useRef(null)\n    const [text, setText] = useState('')\n\n    return (\n        <div ref={textRef}>\n            <QuestionHeader\n                question={question.question}\n                description={question.description}\n                descriptionContentType={question.descriptionContentType}\n                backgroundColor={appearance.backgroundColor}\n                forceDisableHtml={forceDisableHtml}\n            />\n            <textarea rows={4} placeholder={appearance?.placeholder} onInput={(e) => setText(e.currentTarget.value)} />\n            <BottomSection\n                text={question.buttonText || 'Submit'}\n                submitDisabled={!text && !question.optional}\n                appearance={appearance}\n                onSubmit={() => onSubmit(text)}\n            />\n        </div>\n    )\n}\n\nexport function LinkQuestion({\n    question,\n    forceDisableHtml,\n    appearance,\n    onSubmit,\n}: {\n    question: LinkSurveyQuestion\n    forceDisableHtml: boolean\n    appearance: SurveyAppearance\n    onSubmit: (clicked: string) => void\n}) {\n    return (\n        <>\n            <QuestionHeader\n                question={question.question}\n                description={question.description}\n                descriptionContentType={question.descriptionContentType}\n                forceDisableHtml={forceDisableHtml}\n            />\n            <BottomSection\n                text={question.buttonText || 'Submit'}\n                submitDisabled={false}\n                link={question.link}\n                appearance={appearance}\n                onSubmit={() => onSubmit('link clicked')}\n            />\n        </>\n    )\n}\n\nexport function RatingQuestion({\n    question,\n    forceDisableHtml,\n    displayQuestionIndex,\n    appearance,\n    onSubmit,\n}: {\n    question: RatingSurveyQuestion\n    forceDisableHtml: boolean\n    displayQuestionIndex: number\n    appearance: SurveyAppearance\n    onSubmit: (rating: number | null) => void\n}) {\n    const scale = question.scale\n    const starting = question.scale === 10 ? 0 : 1\n    const [rating, setRating] = useState<number | null>(null)\n\n    return (\n        <>\n            <QuestionHeader\n                question={question.question}\n                description={question.description}\n                descriptionContentType={question.descriptionContentType}\n                forceDisableHtml={forceDisableHtml}\n                backgroundColor={appearance.backgroundColor}\n            />\n            <div className=\"rating-section\">\n                <div className=\"rating-options\">\n                    {question.display === 'emoji' && (\n                        <div className=\"rating-options-emoji\">\n                            {(question.scale === 3 ? threeScaleEmojis : fiveScaleEmojis).map((emoji, idx) => {\n                                const active = idx + 1 === rating\n                                return (\n                                    <button\n                                        className={`ratings-emoji question-${displayQuestionIndex}-rating-${idx} ${\n                                            active ? 'rating-active' : null\n                                        }`}\n                                        value={idx + 1}\n                                        key={idx}\n                                        type=\"button\"\n                                        onClick={() => {\n                                            setRating(idx + 1)\n                                        }}\n                                        style={{\n                                            fill: active\n                                                ? appearance.ratingButtonActiveColor\n                                                : appearance.ratingButtonColor,\n                                            borderColor: appearance.borderColor,\n                                        }}\n                                    >\n                                        {emoji}\n                                    </button>\n                                )\n                            })}\n                        </div>\n                    )}\n                    {question.display === 'number' && (\n                        <div\n                            className=\"rating-options-number\"\n                            style={{ gridTemplateColumns: `repeat(${scale - starting + 1}, minmax(0, 1fr))` }}\n                        >\n                            {getScaleNumbers(question.scale).map((number, idx) => {\n                                const active = rating === number\n                                return (\n                                    <RatingButton\n                                        key={idx}\n                                        displayQuestionIndex={displayQuestionIndex}\n                                        active={active}\n                                        appearance={appearance}\n                                        num={number}\n                                        setActiveNumber={(num) => {\n                                            setRating(num)\n                                        }}\n                                    />\n                                )\n                            })}\n                        </div>\n                    )}\n                </div>\n                <div className=\"rating-text\">\n                    <div>{question.lowerBoundLabel}</div>\n                    <div>{question.upperBoundLabel}</div>\n                </div>\n            </div>\n            <BottomSection\n                text={question.buttonText || appearance?.submitButtonText || 'Submit'}\n                submitDisabled={isNull(rating) && !question.optional}\n                appearance={appearance}\n                onSubmit={() => onSubmit(rating)}\n            />\n        </>\n    )\n}\n\nexport function RatingButton({\n    num,\n    active,\n    displayQuestionIndex,\n    appearance,\n    setActiveNumber,\n}: {\n    num: number\n    active: boolean\n    displayQuestionIndex: number\n    appearance: SurveyAppearance\n    setActiveNumber: (num: number) => void\n}) {\n    const { textColor, ref } = useContrastingTextColor({ appearance, defaultTextColor: 'black', forceUpdate: active })\n    return (\n        <button\n            ref={ref as RefObject<HTMLButtonElement>}\n            className={`ratings-number question-${displayQuestionIndex}-rating-${num} ${\n                active ? 'rating-active' : null\n            }`}\n            type=\"button\"\n            onClick={() => {\n                setActiveNumber(num)\n            }}\n            style={{\n                color: textColor,\n                backgroundColor: active ? appearance.ratingButtonActiveColor : appearance.ratingButtonColor,\n                borderColor: appearance.borderColor,\n            }}\n        >\n            {num}\n        </button>\n    )\n}\n\nexport function MultipleChoiceQuestion({\n    question,\n    forceDisableHtml,\n    displayQuestionIndex,\n    appearance,\n    onSubmit,\n}: {\n    question: MultipleSurveyQuestion\n    forceDisableHtml: boolean\n    displayQuestionIndex: number\n    appearance: SurveyAppearance\n    onSubmit: (choices: string | string[] | null) => void\n}) {\n    const textRef = useRef(null)\n    const choices = useMemo(() => getDisplayOrderChoices(question), [question])\n    const [selectedChoices, setSelectedChoices] = useState<string | string[] | null>(\n        question.type === SurveyQuestionType.MultipleChoice ? [] : null\n    )\n    const [openChoiceSelected, setOpenChoiceSelected] = useState(false)\n    const [openEndedInput, setOpenEndedInput] = useState('')\n\n    const inputType = question.type === SurveyQuestionType.SingleChoice ? 'radio' : 'checkbox'\n    return (\n        <div ref={textRef}>\n            <QuestionHeader\n                question={question.question}\n                description={question.description}\n                descriptionContentType={question.descriptionContentType}\n                forceDisableHtml={forceDisableHtml}\n                backgroundColor={appearance.backgroundColor}\n            />\n            <div className=\"multiple-choice-options\">\n                {/* Remove the last element from the choices, if hasOpenChoice is set */}\n                {/* shuffle all other options here if question.shuffleOptions is set */}\n                {/* Always ensure that the open ended choice is the last option */}\n                {choices.map((choice: string, idx: number) => {\n                    let choiceClass = 'choice-option'\n                    const val = choice\n                    const option = choice\n                    if (!!question.hasOpenChoice && idx === question.choices.length - 1) {\n                        choiceClass += ' choice-option-open'\n                    }\n                    return (\n                        <div className={choiceClass}>\n                            <input\n                                type={inputType}\n                                id={`surveyQuestion${displayQuestionIndex}Choice${idx}`}\n                                name={`question${displayQuestionIndex}`}\n                                value={val}\n                                disabled={!val}\n                                onInput={() => {\n                                    if (question.hasOpenChoice && idx === question.choices.length - 1) {\n                                        return setOpenChoiceSelected(!openChoiceSelected)\n                                    }\n                                    if (question.type === SurveyQuestionType.SingleChoice) {\n                                        return setSelectedChoices(val)\n                                    }\n                                    if (\n                                        question.type === SurveyQuestionType.MultipleChoice &&\n                                        isArray(selectedChoices)\n                                    ) {\n                                        if (selectedChoices.includes(val)) {\n                                            // filter out values because clicking on a selected choice should deselect it\n                                            return setSelectedChoices(\n                                                selectedChoices.filter((choice) => choice !== val)\n                                            )\n                                        }\n                                        return setSelectedChoices([...selectedChoices, val])\n                                    }\n                                }}\n                            />\n                            <label\n                                htmlFor={`surveyQuestion${displayQuestionIndex}Choice${idx}`}\n                                style={{ color: 'black' }}\n                            >\n                                {question.hasOpenChoice && idx === question.choices.length - 1 ? (\n                                    <>\n                                        <span>{option}:</span>\n                                        <input\n                                            type=\"text\"\n                                            id={`surveyQuestion${displayQuestionIndex}Choice${idx}Open`}\n                                            name={`question${displayQuestionIndex}`}\n                                            onInput={(e) => {\n                                                const userValue = e.currentTarget.value\n                                                if (question.type === SurveyQuestionType.SingleChoice) {\n                                                    return setSelectedChoices(userValue)\n                                                }\n                                                if (\n                                                    question.type === SurveyQuestionType.MultipleChoice &&\n                                                    isArray(selectedChoices)\n                                                ) {\n                                                    return setOpenEndedInput(userValue)\n                                                }\n                                            }}\n                                        />\n                                    </>\n                                ) : (\n                                    option\n                                )}\n                            </label>\n                            <span className=\"choice-check\" style={{ color: 'black' }}>\n                                {checkSVG}\n                            </span>\n                        </div>\n                    )\n                })}\n            </div>\n            <BottomSection\n                text={question.buttonText || 'Submit'}\n                submitDisabled={\n                    (isNull(selectedChoices) ||\n                        (isArray(selectedChoices) && !openChoiceSelected && selectedChoices.length === 0) ||\n                        (isArray(selectedChoices) &&\n                            openChoiceSelected &&\n                            !openEndedInput &&\n                            selectedChoices.length === 0 &&\n                            !question.optional)) &&\n                    !question.optional\n                }\n                appearance={appearance}\n                onSubmit={() => {\n                    if (openChoiceSelected && question.type === SurveyQuestionType.MultipleChoice) {\n                        if (isArray(selectedChoices)) {\n                            onSubmit([...selectedChoices, openEndedInput])\n                        }\n                    } else {\n                        onSubmit(selectedChoices)\n                    }\n                }}\n            />\n        </div>\n    )\n}\n\nconst threeScaleEmojis = [dissatisfiedEmoji, neutralEmoji, satisfiedEmoji]\nconst fiveScaleEmojis = [veryDissatisfiedEmoji, dissatisfiedEmoji, neutralEmoji, satisfiedEmoji, verySatisfiedEmoji]\nconst fiveScaleNumbers = [1, 2, 3, 4, 5]\nconst sevenScaleNumbers = [1, 2, 3, 4, 5, 6, 7]\nconst tenScaleNumbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n\nfunction getScaleNumbers(scale: number): number[] {\n    switch (scale) {\n        case 5:\n            return fiveScaleNumbers\n        case 7:\n            return sevenScaleNumbers\n        case 10:\n            return tenScaleNumbers\n        default:\n            return fiveScaleNumbers\n    }\n}\n","import { PostHog } from '../posthog-core'\nimport {\n    Survey,\n    SurveyAppearance,\n    SurveyQuestion,\n    SurveyQuestionBranchingType,\n    SurveyQuestionType,\n    SurveyRenderReason,\n    SurveyType,\n} from '../posthog-surveys-types'\n\nimport { window as _window, document as _document } from '../utils/globals'\nimport {\n    style,\n    defaultSurveyAppearance,\n    sendSurveyEvent,\n    dismissedSurveyEvent,\n    createShadow,\n    getContrastingTextColor,\n    SurveyContext,\n    getDisplayOrderQuestions,\n    getSurveySeen,\n} from './surveys/surveys-utils'\nimport * as Preact from 'preact'\nimport { createWidgetShadow, createWidgetStyle } from './surveys-widget'\nimport { useState, useEffect, useRef, useContext, useMemo } from 'preact/hooks'\nimport { isNull, isNumber } from '../utils/type-utils'\nimport { ConfirmationMessage } from './surveys/components/ConfirmationMessage'\nimport {\n    OpenTextQuestion,\n    LinkQuestion,\n    RatingQuestion,\n    MultipleChoiceQuestion,\n} from './surveys/components/QuestionTypes'\nimport { logger } from '../utils/logger'\nimport { Cancel } from './surveys/components/QuestionHeader'\n\n// We cast the types here which is dangerous but protected by the top level generateSurveys call\nconst window = _window as Window & typeof globalThis\nconst document = _document as Document\n\nexport class SurveyManager {\n    private posthog: PostHog\n    private surveyInFocus: string | null\n\n    constructor(posthog: PostHog) {\n        this.posthog = posthog\n        // This is used to track the survey that is currently in focus. We only show one survey at a time.\n        this.surveyInFocus = null\n    }\n\n    private canShowNextEventBasedSurvey = (): boolean => {\n        // with event based surveys, we need to show the next survey without reloading the page.\n        // A simple check for div elements with the class name pattern of PostHogSurvey_xyz doesn't work here\n        // because preact leaves behind the div element for any surveys responded/dismissed with a <style> node.\n        // To alleviate this, we check the last div in the dom and see if it has any elements other than a Style node.\n        // if the last PostHogSurvey_xyz div has only one style node, we can show the next survey in the queue\n        // without reloading the page.\n        const surveyPopups = document.querySelectorAll(`div[class^=PostHogSurvey]`)\n        if (surveyPopups.length > 0) {\n            return surveyPopups[surveyPopups.length - 1].shadowRoot?.childElementCount === 1\n        }\n        return true\n    }\n\n    private handlePopoverSurvey = (survey: Survey): void => {\n        const surveyWaitPeriodInDays = survey.conditions?.seenSurveyWaitPeriodInDays\n        const lastSeenSurveyDate = localStorage.getItem(`lastSeenSurveyDate`)\n        if (surveyWaitPeriodInDays && lastSeenSurveyDate) {\n            const today = new Date()\n            const diff = Math.abs(today.getTime() - new Date(lastSeenSurveyDate).getTime())\n            const diffDaysFromToday = Math.ceil(diff / (1000 * 3600 * 24))\n            if (diffDaysFromToday < surveyWaitPeriodInDays) {\n                return\n            }\n        }\n\n        const surveySeen = getSurveySeen(survey)\n        if (!surveySeen) {\n            this.addSurveyToFocus(survey.id)\n            const shadow = createShadow(style(survey?.appearance), survey.id)\n            Preact.render(\n                <SurveyPopup\n                    key={'popover-survey'}\n                    posthog={this.posthog}\n                    survey={survey}\n                    removeSurveyFromFocus={this.removeSurveyFromFocus}\n                    isPopup={true}\n                />,\n                shadow\n            )\n        }\n    }\n\n    private handleWidget = (survey: Survey): void => {\n        const shadow = createWidgetShadow(survey)\n        const surveyStyleSheet = style(survey.appearance)\n        shadow.appendChild(Object.assign(document.createElement('style'), { innerText: surveyStyleSheet }))\n        Preact.render(\n            <FeedbackWidget\n                key={'feedback-survey'}\n                posthog={this.posthog}\n                survey={survey}\n                removeSurveyFromFocus={this.removeSurveyFromFocus}\n            />,\n            shadow\n        )\n    }\n\n    private handleWidgetSelector = (survey: Survey): void => {\n        const selectorOnPage =\n            survey.appearance?.widgetSelector && document.querySelector(survey.appearance.widgetSelector)\n        if (selectorOnPage) {\n            if (document.querySelectorAll(`.PostHogWidget${survey.id}`).length === 0) {\n                this.handleWidget(survey)\n            } else if (document.querySelectorAll(`.PostHogWidget${survey.id}`).length === 1) {\n                // we have to check if user selector already has a survey listener attached to it because we always have to check if it's on the page or not\n                if (!selectorOnPage.getAttribute('PHWidgetSurveyClickListener')) {\n                    const surveyPopup = document\n                        .querySelector(`.PostHogWidget${survey.id}`)\n                        ?.shadowRoot?.querySelector(`.survey-form`) as HTMLFormElement\n                    selectorOnPage.addEventListener('click', () => {\n                        if (surveyPopup) {\n                            surveyPopup.style.display = surveyPopup.style.display === 'none' ? 'block' : 'none'\n                            surveyPopup.addEventListener('PHSurveyClosed', () => {\n                                this.removeSurveyFromFocus(survey.id)\n                                surveyPopup.style.display = 'none'\n                            })\n                        }\n                    })\n                    selectorOnPage.setAttribute('PHWidgetSurveyClickListener', 'true')\n                }\n            }\n        }\n    }\n\n    /**\n     * Sorts surveys by their appearance delay in ascending order. If a survey does not have an appearance delay,\n     * it is considered to have a delay of 0.\n     * @param surveys\n     * @returns The surveys sorted by their appearance delay\n     */\n    private sortSurveysByAppearanceDelay(surveys: Survey[]): Survey[] {\n        return surveys.sort(\n            (a, b) => (a.appearance?.surveyPopupDelaySeconds || 0) - (b.appearance?.surveyPopupDelaySeconds || 0)\n        )\n    }\n\n    /**\n     * Checks the feature flags associated with this Survey to see if the survey can be rendered.\n     * @param survey\n     * @param instance\n     */\n    public canRenderSurvey = (survey: Survey): SurveyRenderReason => {\n        const renderReason: SurveyRenderReason = {\n            visible: false,\n        }\n\n        if (survey.end_date) {\n            renderReason.disabledReason = `survey was completed on ${survey.end_date}`\n            return renderReason\n        }\n\n        if (survey.type != SurveyType.Popover) {\n            renderReason.disabledReason = `Only Popover survey types can be rendered`\n            return renderReason\n        }\n\n        const linkedFlagCheck = survey.linked_flag_key\n            ? this.posthog.featureFlags.isFeatureEnabled(survey.linked_flag_key)\n            : true\n\n        if (!linkedFlagCheck) {\n            renderReason.disabledReason = `linked feature flag ${survey.linked_flag_key} is false`\n            return renderReason\n        }\n\n        const targetingFlagCheck = survey.targeting_flag_key\n            ? this.posthog.featureFlags.isFeatureEnabled(survey.targeting_flag_key)\n            : true\n\n        if (!targetingFlagCheck) {\n            renderReason.disabledReason = `targeting feature flag ${survey.targeting_flag_key} is false`\n            return renderReason\n        }\n\n        const internalTargetingFlagCheck = survey.internal_targeting_flag_key\n            ? this.posthog.featureFlags.isFeatureEnabled(survey.internal_targeting_flag_key)\n            : true\n\n        if (!internalTargetingFlagCheck) {\n            renderReason.disabledReason = `internal targeting feature flag ${survey.internal_targeting_flag_key} is false`\n            return renderReason\n        }\n\n        renderReason.visible = true\n        return renderReason\n    }\n\n    public renderSurvey = (survey: Survey, selector: Element): void => {\n        Preact.render(\n            <SurveyPopup\n                key={'popover-survey'}\n                posthog={this.posthog}\n                survey={survey}\n                removeSurveyFromFocus={this.removeSurveyFromFocus}\n                isPopup={false}\n            />,\n            selector\n        )\n    }\n\n    public callSurveysAndEvaluateDisplayLogic = (forceReload: boolean = false): void => {\n        this.posthog?.getActiveMatchingSurveys((surveys) => {\n            const nonAPISurveys = surveys.filter((survey) => survey.type !== 'api')\n\n            // Create a queue of surveys sorted by their appearance delay.  We will evaluate the display logic\n            // for each survey in the queue in order, and only display one survey at a time.\n            const nonAPISurveyQueue = this.sortSurveysByAppearanceDelay(nonAPISurveys)\n\n            nonAPISurveyQueue.forEach((survey) => {\n                // We only evaluate the display logic for one survey at a time\n                if (!isNull(this.surveyInFocus)) {\n                    return\n                }\n                if (survey.type === SurveyType.Widget) {\n                    if (\n                        survey.appearance?.widgetType === 'tab' &&\n                        document.querySelectorAll(`.PostHogWidget${survey.id}`).length === 0\n                    ) {\n                        this.handleWidget(survey)\n                    }\n                    if (survey.appearance?.widgetType === 'selector' && survey.appearance?.widgetSelector) {\n                        this.handleWidgetSelector(survey)\n                    }\n                }\n\n                if (survey.type === SurveyType.Popover && this.canShowNextEventBasedSurvey()) {\n                    this.handlePopoverSurvey(survey)\n                }\n            })\n        }, forceReload)\n    }\n\n    private addSurveyToFocus = (id: string): void => {\n        if (!isNull(this.surveyInFocus)) {\n            logger.error(`Survey ${[...this.surveyInFocus]} already in focus. Cannot add survey ${id}.`)\n        }\n        this.surveyInFocus = id\n    }\n\n    private removeSurveyFromFocus = (id: string): void => {\n        if (this.surveyInFocus !== id) {\n            logger.error(`Survey ${id} is not in focus. Cannot remove survey ${id}.`)\n        }\n        this.surveyInFocus = null\n    }\n\n    // Expose internal state and methods for testing\n    public getTestAPI() {\n        return {\n            addSurveyToFocus: this.addSurveyToFocus,\n            removeSurveyFromFocus: this.removeSurveyFromFocus,\n            surveyInFocus: this.surveyInFocus,\n            canShowNextEventBasedSurvey: this.canShowNextEventBasedSurvey,\n            handleWidget: this.handleWidget,\n            handlePopoverSurvey: this.handlePopoverSurvey,\n            handleWidgetSelector: this.handleWidgetSelector,\n            sortSurveysByAppearanceDelay: this.sortSurveysByAppearanceDelay,\n        }\n    }\n}\n\nexport const renderSurveysPreview = ({\n    survey,\n    parentElement,\n    previewPageIndex,\n    forceDisableHtml,\n}: {\n    survey: Survey\n    parentElement: HTMLElement\n    previewPageIndex: number\n    forceDisableHtml?: boolean\n}) => {\n    const surveyStyleSheet = style(survey.appearance)\n    const styleElement = Object.assign(document.createElement('style'), { innerText: surveyStyleSheet })\n\n    // Remove previously attached <style>\n    Array.from(parentElement.children).forEach((child) => {\n        if (child instanceof HTMLStyleElement) {\n            parentElement.removeChild(child)\n        }\n    })\n\n    parentElement.appendChild(styleElement)\n    const textColor = getContrastingTextColor(\n        survey.appearance?.backgroundColor || defaultSurveyAppearance.backgroundColor || 'white'\n    )\n\n    Preact.render(\n        <SurveyPopup\n            key=\"surveys-render-preview\"\n            survey={survey}\n            forceDisableHtml={forceDisableHtml}\n            style={{\n                position: 'relative',\n                right: 0,\n                borderBottom: `1px solid ${survey.appearance?.borderColor}`,\n                borderRadius: 10,\n                color: textColor,\n            }}\n            previewPageIndex={previewPageIndex}\n            removeSurveyFromFocus={() => {}}\n            isPopup={true}\n        />,\n        parentElement\n    )\n}\n\nexport const renderFeedbackWidgetPreview = ({\n    survey,\n    root,\n    forceDisableHtml,\n}: {\n    survey: Survey\n    root: HTMLElement\n    forceDisableHtml?: boolean\n}) => {\n    const widgetStyleSheet = createWidgetStyle(survey.appearance?.widgetColor)\n    const styleElement = Object.assign(document.createElement('style'), { innerText: widgetStyleSheet })\n    root.appendChild(styleElement)\n    Preact.render(\n        <FeedbackWidget\n            key={'feedback-render-preview'}\n            forceDisableHtml={forceDisableHtml}\n            survey={survey}\n            readOnly={true}\n            removeSurveyFromFocus={() => {}}\n        />,\n        root\n    )\n}\n\n// This is the main exported function\nexport function generateSurveys(posthog: PostHog) {\n    // NOTE: Important to ensure we never try and run surveys without a window environment\n    if (!document || !window) {\n        return\n    }\n\n    const surveyManager = new SurveyManager(posthog)\n    surveyManager.callSurveysAndEvaluateDisplayLogic(true)\n\n    // recalculate surveys every second to check if URL or selectors have changed\n    setInterval(() => {\n        surveyManager.callSurveysAndEvaluateDisplayLogic(false)\n    }, 1000)\n    return surveyManager\n}\n\nexport function usePopupVisibility(\n    survey: Survey,\n    posthog: PostHog | undefined,\n    millisecondDelay: number,\n    isPreviewMode: boolean,\n    removeSurveyFromFocus: (id: string) => void\n) {\n    const [isPopupVisible, setIsPopupVisible] = useState(isPreviewMode || millisecondDelay === 0)\n    const [isSurveySent, setIsSurveySent] = useState(false)\n\n    useEffect(() => {\n        if (isPreviewMode || !posthog) {\n            return\n        }\n\n        const handleSurveyClosed = () => {\n            removeSurveyFromFocus(survey.id)\n            setIsPopupVisible(false)\n        }\n\n        const handleSurveySent = () => {\n            if (!survey.appearance?.displayThankYouMessage) {\n                removeSurveyFromFocus(survey.id)\n                setIsPopupVisible(false)\n            } else {\n                setIsSurveySent(true)\n                removeSurveyFromFocus(survey.id)\n                if (survey.appearance?.autoDisappear) {\n                    setTimeout(() => {\n                        setIsPopupVisible(false)\n                    }, 5000)\n                }\n            }\n        }\n\n        const showSurvey = () => {\n            setIsPopupVisible(true)\n            window.dispatchEvent(new Event('PHSurveyShown'))\n            posthog.capture('survey shown', {\n                $survey_name: survey.name,\n                $survey_id: survey.id,\n                $survey_iteration: survey.current_iteration,\n                $survey_iteration_start_date: survey.current_iteration_start_date,\n                sessionRecordingUrl: posthog.get_session_replay_url?.(),\n            })\n            localStorage.setItem('lastSeenSurveyDate', new Date().toISOString())\n        }\n\n        const handleShowSurveyWithDelay = () => {\n            const timeoutId = setTimeout(() => {\n                showSurvey()\n            }, millisecondDelay)\n\n            return () => {\n                clearTimeout(timeoutId)\n                window.removeEventListener('PHSurveyClosed', handleSurveyClosed)\n                window.removeEventListener('PHSurveySent', handleSurveySent)\n            }\n        }\n\n        const handleShowSurveyImmediately = () => {\n            showSurvey()\n            return () => {\n                window.removeEventListener('PHSurveyClosed', handleSurveyClosed)\n                window.removeEventListener('PHSurveySent', handleSurveySent)\n            }\n        }\n\n        window.addEventListener('PHSurveyClosed', handleSurveyClosed)\n        window.addEventListener('PHSurveySent', handleSurveySent)\n\n        if (millisecondDelay > 0) {\n            return handleShowSurveyWithDelay()\n        } else {\n            return handleShowSurveyImmediately()\n        }\n    }, [])\n\n    return { isPopupVisible, isSurveySent, setIsPopupVisible }\n}\n\nexport function SurveyPopup({\n    survey,\n    forceDisableHtml,\n    posthog,\n    style,\n    previewPageIndex,\n    removeSurveyFromFocus,\n    isPopup,\n}: {\n    survey: Survey\n    forceDisableHtml?: boolean\n    posthog?: PostHog\n    style?: React.CSSProperties\n    previewPageIndex?: number | undefined\n    removeSurveyFromFocus: (id: string) => void\n    isPopup?: boolean\n}) {\n    const isPreviewMode = Number.isInteger(previewPageIndex)\n    // NB: The client-side code passes the millisecondDelay in seconds, but setTimeout expects milliseconds, so we multiply by 1000\n    const surveyPopupDelayMilliseconds = survey.appearance?.surveyPopupDelaySeconds\n        ? survey.appearance.surveyPopupDelaySeconds * 1000\n        : 0\n    const { isPopupVisible, isSurveySent, setIsPopupVisible } = usePopupVisibility(\n        survey,\n        posthog,\n        surveyPopupDelayMilliseconds,\n        isPreviewMode,\n        removeSurveyFromFocus\n    )\n    const shouldShowConfirmation = isSurveySent || previewPageIndex === survey.questions.length\n    const confirmationBoxLeftStyle = style?.left && isNumber(style?.left) ? { left: style.left - 40 } : {}\n\n    if (isPreviewMode) {\n        style = style || {}\n        style.left = 'unset'\n        style.right = 'unset'\n        style.transform = 'unset'\n    }\n\n    return isPopupVisible ? (\n        <SurveyContext.Provider\n            value={{\n                isPreviewMode,\n                previewPageIndex: previewPageIndex,\n                handleCloseSurveyPopup: () => dismissedSurveyEvent(survey, posthog, isPreviewMode),\n                isPopup: isPopup || false,\n            }}\n        >\n            {!shouldShowConfirmation ? (\n                <Questions\n                    survey={survey}\n                    forceDisableHtml={!!forceDisableHtml}\n                    posthog={posthog}\n                    styleOverrides={style}\n                />\n            ) : (\n                <ConfirmationMessage\n                    header={survey.appearance?.thankYouMessageHeader || 'Thank you!'}\n                    description={survey.appearance?.thankYouMessageDescription || ''}\n                    forceDisableHtml={!!forceDisableHtml}\n                    contentType={survey.appearance?.thankYouMessageDescriptionContentType}\n                    appearance={survey.appearance || defaultSurveyAppearance}\n                    styleOverrides={{ ...style, ...confirmationBoxLeftStyle }}\n                    onClose={() => setIsPopupVisible(false)}\n                />\n            )}\n        </SurveyContext.Provider>\n    ) : (\n        <></>\n    )\n}\n\nexport function Questions({\n    survey,\n    forceDisableHtml,\n    posthog,\n    styleOverrides,\n}: {\n    survey: Survey\n    forceDisableHtml: boolean\n    posthog?: PostHog\n    styleOverrides?: React.CSSProperties\n}) {\n    const textColor = getContrastingTextColor(\n        survey.appearance?.backgroundColor || defaultSurveyAppearance.backgroundColor\n    )\n    const [questionsResponses, setQuestionsResponses] = useState({})\n    const { isPreviewMode, previewPageIndex, handleCloseSurveyPopup, isPopup } = useContext(SurveyContext)\n    const [currentQuestionIndex, setCurrentQuestionIndex] = useState(previewPageIndex || 0)\n    const surveyQuestions = useMemo(() => getDisplayOrderQuestions(survey), [survey])\n\n    // Sync preview state\n    useEffect(() => {\n        setCurrentQuestionIndex(previewPageIndex ?? 0)\n    }, [previewPageIndex])\n\n    const onNextButtonClick = ({\n        res,\n        originalQuestionIndex,\n        displayQuestionIndex,\n    }: {\n        res: string | string[] | number | null\n        originalQuestionIndex: number\n        displayQuestionIndex: number\n    }) => {\n        if (!posthog) {\n            return\n        }\n\n        const responseKey =\n            originalQuestionIndex === 0 ? `$survey_response` : `$survey_response_${originalQuestionIndex}`\n\n        setQuestionsResponses({ ...questionsResponses, [responseKey]: res })\n\n        // Old SDK, no branching\n        if (!posthog.getNextSurveyStep) {\n            const isLastDisplayedQuestion = displayQuestionIndex === survey.questions.length - 1\n            if (isLastDisplayedQuestion) {\n                sendSurveyEvent({ ...questionsResponses, [responseKey]: res }, survey, posthog)\n            } else {\n                setCurrentQuestionIndex(displayQuestionIndex + 1)\n            }\n            return\n        }\n\n        const nextStep = posthog.getNextSurveyStep(survey, displayQuestionIndex, res)\n        if (nextStep === SurveyQuestionBranchingType.End) {\n            sendSurveyEvent({ ...questionsResponses, [responseKey]: res }, survey, posthog)\n        } else {\n            setCurrentQuestionIndex(nextStep)\n        }\n    }\n\n    return (\n        <form\n            className=\"survey-form\"\n            style={\n                isPopup\n                    ? {\n                          color: textColor,\n                          borderColor: survey.appearance?.borderColor,\n                          ...styleOverrides,\n                      }\n                    : {}\n            }\n        >\n            {surveyQuestions.map((question, displayQuestionIndex) => {\n                const { originalQuestionIndex } = question\n\n                const isVisible = isPreviewMode\n                    ? currentQuestionIndex === originalQuestionIndex\n                    : currentQuestionIndex === displayQuestionIndex\n                return (\n                    isVisible && (\n                        <div\n                            className=\"survey-box\"\n                            style={\n                                isPopup\n                                    ? {\n                                          backgroundColor:\n                                              survey.appearance?.backgroundColor ||\n                                              defaultSurveyAppearance.backgroundColor,\n                                      }\n                                    : {}\n                            }\n                        >\n                            {isPopup && <Cancel onClick={() => handleCloseSurveyPopup()} />}\n                            {getQuestionComponent({\n                                question,\n                                forceDisableHtml,\n                                displayQuestionIndex,\n                                appearance: survey.appearance || defaultSurveyAppearance,\n                                onSubmit: (res) =>\n                                    onNextButtonClick({\n                                        res,\n                                        originalQuestionIndex,\n                                        displayQuestionIndex,\n                                    }),\n                            })}\n                        </div>\n                    )\n                )\n            })}\n        </form>\n    )\n}\n\nexport function FeedbackWidget({\n    survey,\n    forceDisableHtml,\n    posthog,\n    readOnly,\n    removeSurveyFromFocus,\n}: {\n    survey: Survey\n    forceDisableHtml?: boolean\n    posthog?: PostHog\n    readOnly?: boolean\n    removeSurveyFromFocus: (id: string) => void\n}): JSX.Element {\n    const [showSurvey, setShowSurvey] = useState(false)\n    const [styleOverrides, setStyle] = useState({})\n    const widgetRef = useRef<HTMLDivElement>(null)\n\n    useEffect(() => {\n        if (readOnly || !posthog) {\n            return\n        }\n\n        if (survey.appearance?.widgetType === 'tab') {\n            if (widgetRef.current) {\n                const widgetPos = widgetRef.current.getBoundingClientRect()\n                const style = {\n                    top: '50%',\n                    left: parseInt(`${widgetPos.right - 360}`),\n                    bottom: 'auto',\n                    borderRadius: 10,\n                    borderBottom: `1.5px solid ${survey.appearance?.borderColor || '#c9c6c6'}`,\n                }\n                setStyle(style)\n            }\n        }\n        if (survey.appearance?.widgetType === 'selector') {\n            const widget = document.querySelector(survey.appearance.widgetSelector || '')\n            widget?.addEventListener('click', () => {\n                setShowSurvey(!showSurvey)\n            })\n            widget?.setAttribute('PHWidgetSurveyClickListener', 'true')\n        }\n    }, [])\n\n    return (\n        <>\n            {survey.appearance?.widgetType === 'tab' && (\n                <div\n                    className=\"ph-survey-widget-tab\"\n                    ref={widgetRef}\n                    onClick={() => !readOnly && setShowSurvey(!showSurvey)}\n                    style={{ color: getContrastingTextColor(survey.appearance.widgetColor) }}\n                >\n                    <div className=\"ph-survey-widget-tab-icon\"></div>\n                    {survey.appearance?.widgetLabel || ''}\n                </div>\n            )}\n            {showSurvey && (\n                <SurveyPopup\n                    key={'feedback-widget-survey'}\n                    posthog={posthog}\n                    survey={survey}\n                    forceDisableHtml={forceDisableHtml}\n                    style={styleOverrides}\n                    removeSurveyFromFocus={removeSurveyFromFocus}\n                    isPopup={true}\n                />\n            )}\n        </>\n    )\n}\n\ninterface GetQuestionComponentProps {\n    question: SurveyQuestion\n    forceDisableHtml: boolean\n    displayQuestionIndex: number\n    appearance: SurveyAppearance\n    onSubmit: (res: string | string[] | number | null) => void\n}\n\nconst getQuestionComponent = ({\n    question,\n    forceDisableHtml,\n    displayQuestionIndex,\n    appearance,\n    onSubmit,\n}: GetQuestionComponentProps): JSX.Element => {\n    const questionComponents = {\n        [SurveyQuestionType.Open]: OpenTextQuestion,\n        [SurveyQuestionType.Link]: LinkQuestion,\n        [SurveyQuestionType.Rating]: RatingQuestion,\n        [SurveyQuestionType.SingleChoice]: MultipleChoiceQuestion,\n        [SurveyQuestionType.MultipleChoice]: MultipleChoiceQuestion,\n    }\n\n    const commonProps = {\n        question,\n        forceDisableHtml,\n        appearance,\n        onSubmit,\n    }\n\n    const additionalProps: Record<SurveyQuestionType, any> = {\n        [SurveyQuestionType.Open]: {},\n        [SurveyQuestionType.Link]: {},\n        [SurveyQuestionType.Rating]: { displayQuestionIndex },\n        [SurveyQuestionType.SingleChoice]: { displayQuestionIndex },\n        [SurveyQuestionType.MultipleChoice]: { displayQuestionIndex },\n    }\n\n    const Component = questionComponents[question.type]\n    const componentProps = { ...commonProps, ...additionalProps[question.type] }\n\n    return <Component {...componentProps} />\n}\n","import { generateSurveys } from '../extensions/surveys'\n\nimport { assignableWindow } from '../utils/globals'\nimport { canActivateRepeatedly } from '../extensions/surveys/surveys-utils'\n\nassignableWindow.__PosthogExtensions__ = assignableWindow.__PosthogExtensions__ || {}\nassignableWindow.__PosthogExtensions__.canActivateRepeatedly = canActivateRepeatedly\nassignableWindow.__PosthogExtensions__.generateSurveys = generateSurveys\n\n// this used to be directly on window, but we moved it to __PosthogExtensions__\n// it is still on window for backwards compatibility\nassignableWindow.extendPostHogWithSurveys = generateSurveys\n\nexport default generateSurveys\n","!function(){\"use strict\";var e,t,n,r=-1,i=function(e){addEventListener(\"pageshow\",(function(t){t.persisted&&(r=t.timeStamp,e(t))}),!0)},a=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType(\"navigation\")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},o=function(){var e=a();return e&&e.activationStart||0},c=function(e,t){var n=a(),i=\"navigate\";return r>=0?i=\"back-forward-cache\":n&&(document.prerendering||o()>0?i=\"prerender\":document.wasDiscarded?i=\"restore\":n.type&&(i=n.type.replace(/_/g,\"-\"))),{name:e,value:void 0===t?-1:t,rating:\"good\",delta:0,entries:[],id:\"v4-\".concat(Date.now(),\"-\").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},s=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},u=function(e,t,n,r){var i,a;return function(o){t.value>=0&&(o||r)&&((a=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=a,t.rating=function(e,t){return e>t[1]?\"poor\":e>t[0]?\"needs-improvement\":\"good\"}(t.value,n),e(t))}},d=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},f=function(e){document.addEventListener(\"visibilitychange\",(function(){\"hidden\"===document.visibilityState&&e()}))},l=function(e){var t=!1;return function(){t||(e(),t=!0)}},p=-1,m=function(){return\"hidden\"!==document.visibilityState||document.prerendering?1/0:0},v=function(e){\"hidden\"===document.visibilityState&&p>-1&&(p=\"visibilitychange\"===e.type?e.timeStamp:0,h())},g=function(){addEventListener(\"visibilitychange\",v,!0),addEventListener(\"prerenderingchange\",v,!0)},h=function(){removeEventListener(\"visibilitychange\",v,!0),removeEventListener(\"prerenderingchange\",v,!0)},y=function(){return p<0&&(p=m(),g(),i((function(){setTimeout((function(){p=m(),g()}),0)}))),{get firstHiddenTime(){return p}}},T=function(e){document.prerendering?addEventListener(\"prerenderingchange\",(function(){return e()}),!0):e()},E=[1800,3e3],b=function(e,t){t=t||{},T((function(){var n,r=y(),a=c(\"FCP\"),f=s(\"paint\",(function(e){e.forEach((function(e){\"first-contentful-paint\"===e.name&&(f.disconnect(),e.startTime<r.firstHiddenTime&&(a.value=Math.max(e.startTime-o(),0),a.entries.push(e),n(!0)))}))}));f&&(n=u(e,a,E,t.reportAllChanges),i((function(r){a=c(\"FCP\"),n=u(e,a,E,t.reportAllChanges),d((function(){a.value=performance.now()-r.timeStamp,n(!0)}))})))}))},S=[.1,.25],C=[2500,4e3],L={},w=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType(\"navigation\")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},M=function(e){if(\"loading\"===document.readyState)return\"loading\";var t=w();if(t){if(e<t.domInteractive)return\"loading\";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return\"dom-interactive\";if(0===t.domComplete||e<t.domComplete)return\"dom-content-loaded\"}return\"complete\"},P=function(e){var t=e.nodeName;return 1===e.nodeType?t.toLowerCase():t.toUpperCase().replace(/^#/,\"\")},I=function(e,t){var n=\"\";try{for(;e&&9!==e.nodeType;){var r=e,i=r.id?\"#\"+r.id:P(r)+(r.classList&&r.classList.value&&r.classList.value.trim()&&r.classList.value.trim().length?\".\"+r.classList.value.trim().replace(/\\s+/g,\".\"):\"\");if(n.length+i.length>(t||100)-1)return n||i;if(n=n?i+\">\"+n:i,r.id)break;e=r.parentNode}}catch(e){}return n},k=-1,A=function(e,t){var n=w(),r=\"navigate\";return k>=0?r=\"back-forward-cache\":n&&(document.prerendering||function(){var e=w();return e&&e.activationStart||0}()>0?r=\"prerender\":document.wasDiscarded?r=\"restore\":n.type&&(r=n.type.replace(/_/g,\"-\"))),{name:e,value:-1,rating:\"good\",delta:0,entries:[],id:\"v4-\".concat(Date.now(),\"-\").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},_=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},x=function(e,t,n,r){var i,a;return function(o){t.value>=0&&(o||r)&&((a=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=a,t.rating=function(e,t){return e>t[1]?\"poor\":e>t[0]?\"needs-improvement\":\"good\"}(t.value,n),e(t))}},H=function(e){document.addEventListener(\"visibilitychange\",(function(){\"hidden\"===document.visibilityState&&e()}))},q=0,D=1/0,O=0,R=function(e){e.forEach((function(e){e.interactionId&&(D=Math.min(D,e.interactionId),O=Math.max(O,e.interactionId),q=O?(O-D)/7+1:0)}))},F=function(){\"interactionCount\"in performance||e||(e=_(\"event\",R,{type:\"event\",buffered:!0,durationThreshold:0}))},N=[],B=new Map,W=0,j=function(){return(e?q:performance.interactionCount||0)-W},X=[],V=function(e){if(X.forEach((function(t){return t(e)})),e.interactionId||\"first-input\"===e.entryType){var t=N[N.length-1],n=B.get(e.interactionId);if(n||N.length<10||e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};B.set(r.id,r),N.push(r)}N.sort((function(e,t){return t.latency-e.latency})),N.length>10&&N.splice(10).forEach((function(e){return B.delete(e.id)}))}}},z=function(e){var t=self.requestIdleCallback||self.setTimeout,n=-1;return e=function(e){var t=!1;return function(){t||(e(),t=!0)}}(e),\"hidden\"===document.visibilityState?e():(n=t(e),H(e)),n},U=[200,500],G=function(e,t){\"PerformanceEventTiming\"in self&&\"interactionId\"in PerformanceEventTiming.prototype&&(t=t||{},function(e){document.prerendering?addEventListener(\"prerenderingchange\",(function(){return e()}),!0):e()}((function(){var n;F();var r,i=A(\"INP\"),a=function(e){z((function(){e.forEach(V);var t,n=(t=Math.min(N.length-1,Math.floor(j()/50)),N[t]);n&&n.latency!==i.value&&(i.value=n.latency,i.entries=n.entries,r())}))},o=_(\"event\",a,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});r=x(e,i,U,t.reportAllChanges),o&&(o.observe({type:\"first-input\",buffered:!0}),H((function(){a(o.takeRecords()),r(!0)})),function(e){addEventListener(\"pageshow\",(function(t){t.persisted&&(k=t.timeStamp,e(t))}),!0)}((function(){W=0,N.length=0,B.clear(),i=A(\"INP\"),r=x(e,i,U,t.reportAllChanges)})))})))},J=[],K=[],Q=new WeakMap,Y=new Map,Z=-1,$=function(e){J=J.concat(e),ee()},ee=function(){Z<0&&(Z=z(te))},te=function(){Y.size>10&&Y.forEach((function(e,t){B.has(t)||Y.delete(t)}));var e=N.map((function(e){return Q.get(e.entries[0])})),t=K.length-50;K=K.filter((function(n,r){return r>=t||e.includes(n)}));for(var r=new Set,i=0;i<K.length;i++){var a=K[i];ne(a.startTime,a.processingEnd).forEach((function(e){r.add(e)}))}for(var o=0;o<50;o++){var c=J[J.length-1-o];if(!c||c.startTime<n)break;r.add(c)}J=Array.from(r),Z=-1};X.push((function(e){e.interactionId&&e.target&&!Y.has(e.interactionId)&&Y.set(e.interactionId,e.target)}),(function(e){var t,r=e.startTime+e.duration;n=Math.max(n,e.processingEnd);for(var i=K.length-1;i>=0;i--){var a=K[i];if(Math.abs(r-a.renderTime)<=8){(t=a).startTime=Math.min(e.startTime,t.startTime),t.processingStart=Math.min(e.processingStart,t.processingStart),t.processingEnd=Math.max(e.processingEnd,t.processingEnd),t.entries.push(e);break}}t||(t={startTime:e.startTime,processingStart:e.processingStart,processingEnd:e.processingEnd,renderTime:r,entries:[e]},K.push(t)),(e.interactionId||\"first-input\"===e.entryType)&&Q.set(e,t),ee()}));var ne=function(e,t){for(var n,r=[],i=0;n=J[i];i++)if(!(n.startTime+n.duration<e)){if(n.startTime>t)break;r.push(n)}return r};const re=\"undefined\"!=typeof window?window:void 0,ie=\"undefined\"!=typeof globalThis?globalThis:re,ae=null==ie?void 0:ie.navigator;null==ie||ie.document,null==ie||ie.location,null==ie||ie.fetch,null!=ie&&ie.XMLHttpRequest&&\"withCredentials\"in new ie.XMLHttpRequest&&ie.XMLHttpRequest,null==ie||ie.AbortController,null==ae||ae.userAgent;const oe=null!=re?re:{},ce={onLCP:function(e,t){t=t||{},T((function(){var n,r=y(),a=c(\"LCP\"),p=function(e){t.reportAllChanges||(e=e.slice(-1)),e.forEach((function(e){e.startTime<r.firstHiddenTime&&(a.value=Math.max(e.startTime-o(),0),a.entries=[e],n())}))},m=s(\"largest-contentful-paint\",p);if(m){n=u(e,a,C,t.reportAllChanges);var v=l((function(){L[a.id]||(p(m.takeRecords()),m.disconnect(),L[a.id]=!0,n(!0))}));[\"keydown\",\"click\"].forEach((function(e){addEventListener(e,(function(){return function(e){var t=self.requestIdleCallback||self.setTimeout,n=-1;return e=l(e),\"hidden\"===document.visibilityState?e():(n=t(e),f(e)),n}(v)}),!0)})),f(v),i((function(r){a=c(\"LCP\"),n=u(e,a,C,t.reportAllChanges),d((function(){a.value=performance.now()-r.timeStamp,L[a.id]=!0,n(!0)}))}))}}))},onCLS:function(e,t){t=t||{},b(l((function(){var n,r=c(\"CLS\",0),a=0,o=[],l=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=o[0],n=o[o.length-1];a&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(a+=e.value,o.push(e)):(a=e.value,o=[e])}})),a>r.value&&(r.value=a,r.entries=o,n())},p=s(\"layout-shift\",l);p&&(n=u(e,r,S,t.reportAllChanges),f((function(){l(p.takeRecords()),n(!0)})),i((function(){a=0,r=c(\"CLS\",0),n=u(e,r,S,t.reportAllChanges),d((function(){return n()}))})),setTimeout(n,0))})))},onFCP:b,onINP:function(e,n){t||(t=_(\"long-animation-frame\",$)),G((function(t){var n=function(e){var t=e.entries[0],n=Q.get(t),r=t.processingStart,i=n.processingEnd,a=n.entries.sort((function(e,t){return e.processingStart-t.processingStart})),o=ne(t.startTime,i),c=e.entries.find((function(e){return e.target})),s=c&&c.target||Y.get(t.interactionId),u=[t.startTime+t.duration,i].concat(o.map((function(e){return e.startTime+e.duration}))),d=Math.max.apply(Math,u),f={interactionTarget:I(s),interactionTargetElement:s,interactionType:t.name.startsWith(\"key\")?\"keyboard\":\"pointer\",interactionTime:t.startTime,nextPaintTime:d,processedEventEntries:a,longAnimationFrameEntries:o,inputDelay:r-t.startTime,processingDuration:i-r,presentationDelay:Math.max(d-i,0),loadState:M(t.startTime)};return Object.assign(e,{attribution:f})}(t);e(n)}),n)}};oe.__PosthogExtensions__=oe.__PosthogExtensions__||{},oe.__PosthogExtensions__.postHogWebVitalsCallbacks=ce,oe.postHogWebVitalsCallbacks=ce}();\n//# sourceMappingURL=web-vitals.js.map\n","var e,n,t,r,i,o=-1,a=function(e){addEventListener(\"pageshow\",(function(n){n.persisted&&(o=n.timeStamp,e(n))}),!0)},c=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType(\"navigation\")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},u=function(){var e=c();return e&&e.activationStart||0},f=function(e,n){var t=c(),r=\"navigate\";o>=0?r=\"back-forward-cache\":t&&(document.prerendering||u()>0?r=\"prerender\":document.wasDiscarded?r=\"restore\":t.type&&(r=t.type.replace(/_/g,\"-\")));return{name:e,value:void 0===n?-1:n,rating:\"good\",delta:0,entries:[],id:\"v4-\".concat(Date.now(),\"-\").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},s=function(e,n,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){n(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},t||{})),r}}catch(e){}},d=function(e,n,t,r){var i,o;return function(a){n.value>=0&&(a||r)&&((o=n.value-(i||0))||void 0===i)&&(i=n.value,n.delta=o,n.rating=function(e,n){return e>n[1]?\"poor\":e>n[0]?\"needs-improvement\":\"good\"}(n.value,t),e(n))}},l=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},p=function(e){document.addEventListener(\"visibilitychange\",(function(){\"hidden\"===document.visibilityState&&e()}))},v=function(e){var n=!1;return function(){n||(e(),n=!0)}},m=-1,h=function(){return\"hidden\"!==document.visibilityState||document.prerendering?1/0:0},g=function(e){\"hidden\"===document.visibilityState&&m>-1&&(m=\"visibilitychange\"===e.type?e.timeStamp:0,T())},y=function(){addEventListener(\"visibilitychange\",g,!0),addEventListener(\"prerenderingchange\",g,!0)},T=function(){removeEventListener(\"visibilitychange\",g,!0),removeEventListener(\"prerenderingchange\",g,!0)},E=function(){return m<0&&(m=h(),y(),a((function(){setTimeout((function(){m=h(),y()}),0)}))),{get firstHiddenTime(){return m}}},C=function(e){document.prerendering?addEventListener(\"prerenderingchange\",(function(){return e()}),!0):e()},b=[1800,3e3],S=function(e,n){n=n||{},C((function(){var t,r=E(),i=f(\"FCP\"),o=s(\"paint\",(function(e){e.forEach((function(e){\"first-contentful-paint\"===e.name&&(o.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-u(),0),i.entries.push(e),t(!0)))}))}));o&&(t=d(e,i,b,n.reportAllChanges),a((function(r){i=f(\"FCP\"),t=d(e,i,b,n.reportAllChanges),l((function(){i.value=performance.now()-r.timeStamp,t(!0)}))})))}))},L=[.1,.25],w=function(e,n){n=n||{},S(v((function(){var t,r=f(\"CLS\",0),i=0,o=[],c=function(e){e.forEach((function(e){if(!e.hadRecentInput){var n=o[0],t=o[o.length-1];i&&e.startTime-t.startTime<1e3&&e.startTime-n.startTime<5e3?(i+=e.value,o.push(e)):(i=e.value,o=[e])}})),i>r.value&&(r.value=i,r.entries=o,t())},u=s(\"layout-shift\",c);u&&(t=d(e,r,L,n.reportAllChanges),p((function(){c(u.takeRecords()),t(!0)})),a((function(){i=0,r=f(\"CLS\",0),t=d(e,r,L,n.reportAllChanges),l((function(){return t()}))})),setTimeout(t,0))})))},A=0,I=1/0,P=0,M=function(e){e.forEach((function(e){e.interactionId&&(I=Math.min(I,e.interactionId),P=Math.max(P,e.interactionId),A=P?(P-I)/7+1:0)}))},k=function(){\"interactionCount\"in performance||e||(e=s(\"event\",M,{type:\"event\",buffered:!0,durationThreshold:0}))},F=[],D=new Map,x=0,R=function(){return(e?A:performance.interactionCount||0)-x},B=[],H=function(e){if(B.forEach((function(n){return n(e)})),e.interactionId||\"first-input\"===e.entryType){var n=F[F.length-1],t=D.get(e.interactionId);if(t||F.length<10||e.duration>n.latency){if(t)e.duration>t.latency?(t.entries=[e],t.latency=e.duration):e.duration===t.latency&&e.startTime===t.entries[0].startTime&&t.entries.push(e);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};D.set(r.id,r),F.push(r)}F.sort((function(e,n){return n.latency-e.latency})),F.length>10&&F.splice(10).forEach((function(e){return D.delete(e.id)}))}}},q=function(e){var n=self.requestIdleCallback||self.setTimeout,t=-1;return e=v(e),\"hidden\"===document.visibilityState?e():(t=n(e),p(e)),t},O=[200,500],N=function(e,n){\"PerformanceEventTiming\"in self&&\"interactionId\"in PerformanceEventTiming.prototype&&(n=n||{},C((function(){var t;k();var r,i=f(\"INP\"),o=function(e){q((function(){e.forEach(H);var n,t=(n=Math.min(F.length-1,Math.floor(R()/50)),F[n]);t&&t.latency!==i.value&&(i.value=t.latency,i.entries=t.entries,r())}))},c=s(\"event\",o,{durationThreshold:null!==(t=n.durationThreshold)&&void 0!==t?t:40});r=d(e,i,O,n.reportAllChanges),c&&(c.observe({type:\"first-input\",buffered:!0}),p((function(){o(c.takeRecords()),r(!0)})),a((function(){x=0,F.length=0,D.clear(),i=f(\"INP\"),r=d(e,i,O,n.reportAllChanges)})))})))},j=[2500,4e3],_={},z=function(e,n){n=n||{},C((function(){var t,r=E(),i=f(\"LCP\"),o=function(e){n.reportAllChanges||(e=e.slice(-1)),e.forEach((function(e){e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-u(),0),i.entries=[e],t())}))},c=s(\"largest-contentful-paint\",o);if(c){t=d(e,i,j,n.reportAllChanges);var m=v((function(){_[i.id]||(o(c.takeRecords()),c.disconnect(),_[i.id]=!0,t(!0))}));[\"keydown\",\"click\"].forEach((function(e){addEventListener(e,(function(){return q(m)}),!0)})),p(m),a((function(r){i=f(\"LCP\"),t=d(e,i,j,n.reportAllChanges),l((function(){i.value=performance.now()-r.timeStamp,_[i.id]=!0,t(!0)}))}))}}))},G=[800,1800],J=function e(n){document.prerendering?C((function(){return e(n)})):\"complete\"!==document.readyState?addEventListener(\"load\",(function(){return e(n)}),!0):setTimeout(n,0)},K=function(e,n){n=n||{};var t=f(\"TTFB\"),r=d(e,t,G,n.reportAllChanges);J((function(){var i=c();i&&(t.value=Math.max(i.responseStart-u(),0),t.entries=[i],r(!0),a((function(){t=f(\"TTFB\",0),(r=d(e,t,G,n.reportAllChanges))(!0)})))}))},Q={passive:!0,capture:!0},U=new Date,V=function(e,i){n||(n=i,t=e,r=new Date,Y(removeEventListener),W())},W=function(){if(t>=0&&t<r-U){var e={entryType:\"first-input\",name:n.type,target:n.target,cancelable:n.cancelable,startTime:n.timeStamp,processingStart:n.timeStamp+t};i.forEach((function(n){n(e)})),i=[]}},X=function(e){if(e.cancelable){var n=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;\"pointerdown\"==e.type?function(e,n){var t=function(){V(e,n),i()},r=function(){i()},i=function(){removeEventListener(\"pointerup\",t,Q),removeEventListener(\"pointercancel\",r,Q)};addEventListener(\"pointerup\",t,Q),addEventListener(\"pointercancel\",r,Q)}(n,e):V(n,e)}},Y=function(e){[\"mousedown\",\"keydown\",\"touchstart\",\"pointerdown\"].forEach((function(n){return e(n,X,Q)}))},Z=[100,300],$=function(e,r){r=r||{},C((function(){var o,c=E(),u=f(\"FID\"),l=function(e){e.startTime<c.firstHiddenTime&&(u.value=e.processingStart-e.startTime,u.entries.push(e),o(!0))},m=function(e){e.forEach(l)},h=s(\"first-input\",m);o=d(e,u,Z,r.reportAllChanges),h&&(p(v((function(){m(h.takeRecords()),h.disconnect()}))),a((function(){var a;u=f(\"FID\"),o=d(e,u,Z,r.reportAllChanges),i=[],t=-1,n=null,Y(addEventListener),a=l,i.push(a),W()})))}))};export{L as CLSThresholds,b as FCPThresholds,Z as FIDThresholds,O as INPThresholds,j as LCPThresholds,G as TTFBThresholds,w as onCLS,S as onFCP,$ as onFID,N as onINP,z as onLCP,K as onTTFB};\n","var t,e,n,r=function(){var t=self.performance&&performance.getEntriesByType&&performance.getEntriesByType(\"navigation\")[0];if(t&&t.responseStart>0&&t.responseStart<performance.now())return t},i=function(t){if(\"loading\"===document.readyState)return\"loading\";var e=r();if(e){if(t<e.domInteractive)return\"loading\";if(0===e.domContentLoadedEventStart||t<e.domContentLoadedEventStart)return\"dom-interactive\";if(0===e.domComplete||t<e.domComplete)return\"dom-content-loaded\"}return\"complete\"},a=function(t){var e=t.nodeName;return 1===t.nodeType?e.toLowerCase():e.toUpperCase().replace(/^#/,\"\")},o=function(t,e){var n=\"\";try{for(;t&&9!==t.nodeType;){var r=t,i=r.id?\"#\"+r.id:a(r)+(r.classList&&r.classList.value&&r.classList.value.trim()&&r.classList.value.trim().length?\".\"+r.classList.value.trim().replace(/\\s+/g,\".\"):\"\");if(n.length+i.length>(e||100)-1)return n||i;if(n=n?i+\">\"+n:i,r.id)break;t=r.parentNode}}catch(t){}return n},c=-1,u=function(){return c},s=function(t){addEventListener(\"pageshow\",(function(e){e.persisted&&(c=e.timeStamp,t(e))}),!0)},f=function(){var t=r();return t&&t.activationStart||0},d=function(t,e){var n=r(),i=\"navigate\";u()>=0?i=\"back-forward-cache\":n&&(document.prerendering||f()>0?i=\"prerender\":document.wasDiscarded?i=\"restore\":n.type&&(i=n.type.replace(/_/g,\"-\")));return{name:t,value:void 0===e?-1:e,rating:\"good\",delta:0,entries:[],id:\"v4-\".concat(Date.now(),\"-\").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},l=function(t,e,n){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var r=new PerformanceObserver((function(t){Promise.resolve().then((function(){e(t.getEntries())}))}));return r.observe(Object.assign({type:t,buffered:!0},n||{})),r}}catch(t){}},m=function(t,e,n,r){var i,a;return function(o){e.value>=0&&(o||r)&&((a=e.value-(i||0))||void 0===i)&&(i=e.value,e.delta=a,e.rating=function(t,e){return t>e[1]?\"poor\":t>e[0]?\"needs-improvement\":\"good\"}(e.value,n),t(e))}},p=function(t){requestAnimationFrame((function(){return requestAnimationFrame((function(){return t()}))}))},v=function(t){document.addEventListener(\"visibilitychange\",(function(){\"hidden\"===document.visibilityState&&t()}))},g=function(t){var e=!1;return function(){e||(t(),e=!0)}},h=-1,T=function(){return\"hidden\"!==document.visibilityState||document.prerendering?1/0:0},y=function(t){\"hidden\"===document.visibilityState&&h>-1&&(h=\"visibilitychange\"===t.type?t.timeStamp:0,S())},E=function(){addEventListener(\"visibilitychange\",y,!0),addEventListener(\"prerenderingchange\",y,!0)},S=function(){removeEventListener(\"visibilitychange\",y,!0),removeEventListener(\"prerenderingchange\",y,!0)},b=function(){return h<0&&(h=T(),E(),s((function(){setTimeout((function(){h=T(),E()}),0)}))),{get firstHiddenTime(){return h}}},L=function(t){document.prerendering?addEventListener(\"prerenderingchange\",(function(){return t()}),!0):t()},C=[1800,3e3],M=function(t,e){e=e||{},L((function(){var n,r=b(),i=d(\"FCP\"),a=l(\"paint\",(function(t){t.forEach((function(t){\"first-contentful-paint\"===t.name&&(a.disconnect(),t.startTime<r.firstHiddenTime&&(i.value=Math.max(t.startTime-f(),0),i.entries.push(t),n(!0)))}))}));a&&(n=m(t,i,C,e.reportAllChanges),s((function(r){i=d(\"FCP\"),n=m(t,i,C,e.reportAllChanges),p((function(){i.value=performance.now()-r.timeStamp,n(!0)}))})))}))},D=[.1,.25],w=function(t,e){!function(t,e){e=e||{},M(g((function(){var n,r=d(\"CLS\",0),i=0,a=[],o=function(t){t.forEach((function(t){if(!t.hadRecentInput){var e=a[0],n=a[a.length-1];i&&t.startTime-n.startTime<1e3&&t.startTime-e.startTime<5e3?(i+=t.value,a.push(t)):(i=t.value,a=[t])}})),i>r.value&&(r.value=i,r.entries=a,n())},c=l(\"layout-shift\",o);c&&(n=m(t,r,D,e.reportAllChanges),v((function(){o(c.takeRecords()),n(!0)})),s((function(){i=0,r=d(\"CLS\",0),n=m(t,r,D,e.reportAllChanges),p((function(){return n()}))})),setTimeout(n,0))})))}((function(e){var n=function(t){var e,n={};if(t.entries.length){var r=t.entries.reduce((function(t,e){return t&&t.value>e.value?t:e}));if(r&&r.sources&&r.sources.length){var a=(e=r.sources).find((function(t){return t.node&&1===t.node.nodeType}))||e[0];a&&(n={largestShiftTarget:o(a.node),largestShiftTime:r.startTime,largestShiftValue:r.value,largestShiftSource:a,largestShiftEntry:r,loadState:i(r.startTime)})}}return Object.assign(t,{attribution:n})}(e);t(n)}),e)},x=function(t,e){M((function(e){var n=function(t){var e={timeToFirstByte:0,firstByteToFCP:t.value,loadState:i(u())};if(t.entries.length){var n=r(),a=t.entries[t.entries.length-1];if(n){var o=n.activationStart||0,c=Math.max(0,n.responseStart-o);e={timeToFirstByte:c,firstByteToFCP:t.value-c,loadState:i(t.entries[0].startTime),navigationEntry:n,fcpEntry:a}}}return Object.assign(t,{attribution:e})}(e);t(n)}),e)},I=0,k=1/0,A=0,F=function(t){t.forEach((function(t){t.interactionId&&(k=Math.min(k,t.interactionId),A=Math.max(A,t.interactionId),I=A?(A-k)/7+1:0)}))},P=function(){\"interactionCount\"in performance||t||(t=l(\"event\",F,{type:\"event\",buffered:!0,durationThreshold:0}))},B=[],O=new Map,R=0,j=function(){return(t?I:performance.interactionCount||0)-R},q=[],H=function(t){if(q.forEach((function(e){return e(t)})),t.interactionId||\"first-input\"===t.entryType){var e=B[B.length-1],n=O.get(t.interactionId);if(n||B.length<10||t.duration>e.latency){if(n)t.duration>n.latency?(n.entries=[t],n.latency=t.duration):t.duration===n.latency&&t.startTime===n.entries[0].startTime&&n.entries.push(t);else{var r={id:t.interactionId,latency:t.duration,entries:[t]};O.set(r.id,r),B.push(r)}B.sort((function(t,e){return e.latency-t.latency})),B.length>10&&B.splice(10).forEach((function(t){return O.delete(t.id)}))}}},N=function(t){var e=self.requestIdleCallback||self.setTimeout,n=-1;return t=g(t),\"hidden\"===document.visibilityState?t():(n=e(t),v(t)),n},W=[200,500],z=function(t,e){\"PerformanceEventTiming\"in self&&\"interactionId\"in PerformanceEventTiming.prototype&&(e=e||{},L((function(){var n;P();var r,i=d(\"INP\"),a=function(t){N((function(){t.forEach(H);var e,n=(e=Math.min(B.length-1,Math.floor(j()/50)),B[e]);n&&n.latency!==i.value&&(i.value=n.latency,i.entries=n.entries,r())}))},o=l(\"event\",a,{durationThreshold:null!==(n=e.durationThreshold)&&void 0!==n?n:40});r=m(t,i,W,e.reportAllChanges),o&&(o.observe({type:\"first-input\",buffered:!0}),v((function(){a(o.takeRecords()),r(!0)})),s((function(){R=0,B.length=0,O.clear(),i=d(\"INP\"),r=m(t,i,W,e.reportAllChanges)})))})))},U=[],V=[],_=new WeakMap,G=new Map,J=-1,K=function(t){U=U.concat(t),Q()},Q=function(){J<0&&(J=N(X))},X=function(){G.size>10&&G.forEach((function(t,e){O.has(e)||G.delete(e)}));var t=B.map((function(t){return _.get(t.entries[0])})),e=V.length-50;V=V.filter((function(n,r){return r>=e||t.includes(n)}));for(var r=new Set,i=0;i<V.length;i++){var a=V[i];et(a.startTime,a.processingEnd).forEach((function(t){r.add(t)}))}for(var o=0;o<50;o++){var c=U[U.length-1-o];if(!c||c.startTime<n)break;r.add(c)}U=Array.from(r),J=-1};q.push((function(t){t.interactionId&&t.target&&!G.has(t.interactionId)&&G.set(t.interactionId,t.target)}),(function(t){var e,r=t.startTime+t.duration;n=Math.max(n,t.processingEnd);for(var i=V.length-1;i>=0;i--){var a=V[i];if(Math.abs(r-a.renderTime)<=8){(e=a).startTime=Math.min(t.startTime,e.startTime),e.processingStart=Math.min(t.processingStart,e.processingStart),e.processingEnd=Math.max(t.processingEnd,e.processingEnd),e.entries.push(t);break}}e||(e={startTime:t.startTime,processingStart:t.processingStart,processingEnd:t.processingEnd,renderTime:r,entries:[t]},V.push(e)),(t.interactionId||\"first-input\"===t.entryType)&&_.set(t,e),Q()}));var Y,Z,$,tt,et=function(t,e){for(var n,r=[],i=0;n=U[i];i++)if(!(n.startTime+n.duration<t)){if(n.startTime>e)break;r.push(n)}return r},nt=function(t,n){e||(e=l(\"long-animation-frame\",K)),z((function(e){var n=function(t){var e=t.entries[0],n=_.get(e),r=e.processingStart,a=n.processingEnd,c=n.entries.sort((function(t,e){return t.processingStart-e.processingStart})),u=et(e.startTime,a),s=t.entries.find((function(t){return t.target})),f=s&&s.target||G.get(e.interactionId),d=[e.startTime+e.duration,a].concat(u.map((function(t){return t.startTime+t.duration}))),l=Math.max.apply(Math,d),m={interactionTarget:o(f),interactionTargetElement:f,interactionType:e.name.startsWith(\"key\")?\"keyboard\":\"pointer\",interactionTime:e.startTime,nextPaintTime:l,processedEventEntries:c,longAnimationFrameEntries:u,inputDelay:r-e.startTime,processingDuration:a-r,presentationDelay:Math.max(l-a,0),loadState:i(e.startTime)};return Object.assign(t,{attribution:m})}(e);t(n)}),n)},rt=[2500,4e3],it={},at=function(t,e){!function(t,e){e=e||{},L((function(){var n,r=b(),i=d(\"LCP\"),a=function(t){e.reportAllChanges||(t=t.slice(-1)),t.forEach((function(t){t.startTime<r.firstHiddenTime&&(i.value=Math.max(t.startTime-f(),0),i.entries=[t],n())}))},o=l(\"largest-contentful-paint\",a);if(o){n=m(t,i,rt,e.reportAllChanges);var c=g((function(){it[i.id]||(a(o.takeRecords()),o.disconnect(),it[i.id]=!0,n(!0))}));[\"keydown\",\"click\"].forEach((function(t){addEventListener(t,(function(){return N(c)}),!0)})),v(c),s((function(r){i=d(\"LCP\"),n=m(t,i,rt,e.reportAllChanges),p((function(){i.value=performance.now()-r.timeStamp,it[i.id]=!0,n(!0)}))}))}}))}((function(e){var n=function(t){var e={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:t.value};if(t.entries.length){var n=r();if(n){var i=n.activationStart||0,a=t.entries[t.entries.length-1],c=a.url&&performance.getEntriesByType(\"resource\").filter((function(t){return t.name===a.url}))[0],u=Math.max(0,n.responseStart-i),s=Math.max(u,c?(c.requestStart||c.startTime)-i:0),f=Math.max(s,c?c.responseEnd-i:0),d=Math.max(f,a.startTime-i);e={element:o(a.element),timeToFirstByte:u,resourceLoadDelay:s-u,resourceLoadDuration:f-s,elementRenderDelay:d-f,navigationEntry:n,lcpEntry:a},a.url&&(e.url=a.url),c&&(e.lcpResourceEntry=c)}}return Object.assign(t,{attribution:e})}(e);t(n)}),e)},ot=[800,1800],ct=function t(e){document.prerendering?L((function(){return t(e)})):\"complete\"!==document.readyState?addEventListener(\"load\",(function(){return t(e)}),!0):setTimeout(e,0)},ut=function(t,e){e=e||{};var n=d(\"TTFB\"),i=m(t,n,ot,e.reportAllChanges);ct((function(){var a=r();a&&(n.value=Math.max(a.responseStart-f(),0),n.entries=[a],i(!0),s((function(){n=d(\"TTFB\",0),(i=m(t,n,ot,e.reportAllChanges))(!0)})))}))},st=function(t,e){ut((function(e){var n=function(t){var e={waitingDuration:0,cacheDuration:0,dnsDuration:0,connectionDuration:0,requestDuration:0};if(t.entries.length){var n=t.entries[0],r=n.activationStart||0,i=Math.max((n.workerStart||n.fetchStart)-r,0),a=Math.max(n.domainLookupStart-r,0),o=Math.max(n.connectStart-r,0),c=Math.max(n.connectEnd-r,0);e={waitingDuration:i,cacheDuration:a-i,dnsDuration:o-a,connectionDuration:c-o,requestDuration:t.value-c,navigationEntry:n}}return Object.assign(t,{attribution:e})}(e);t(n)}),e)},ft={passive:!0,capture:!0},dt=new Date,lt=function(t,e){Y||(Y=e,Z=t,$=new Date,vt(removeEventListener),mt())},mt=function(){if(Z>=0&&Z<$-dt){var t={entryType:\"first-input\",name:Y.type,target:Y.target,cancelable:Y.cancelable,startTime:Y.timeStamp,processingStart:Y.timeStamp+Z};tt.forEach((function(e){e(t)})),tt=[]}},pt=function(t){if(t.cancelable){var e=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;\"pointerdown\"==t.type?function(t,e){var n=function(){lt(t,e),i()},r=function(){i()},i=function(){removeEventListener(\"pointerup\",n,ft),removeEventListener(\"pointercancel\",r,ft)};addEventListener(\"pointerup\",n,ft),addEventListener(\"pointercancel\",r,ft)}(e,t):lt(e,t)}},vt=function(t){[\"mousedown\",\"keydown\",\"touchstart\",\"pointerdown\"].forEach((function(e){return t(e,pt,ft)}))},gt=[100,300],ht=function(t,e){e=e||{},L((function(){var n,r=b(),i=d(\"FID\"),a=function(t){t.startTime<r.firstHiddenTime&&(i.value=t.processingStart-t.startTime,i.entries.push(t),n(!0))},o=function(t){t.forEach(a)},c=l(\"first-input\",o);n=m(t,i,gt,e.reportAllChanges),c&&(v(g((function(){o(c.takeRecords()),c.disconnect()}))),s((function(){var r;i=d(\"FID\"),n=m(t,i,gt,e.reportAllChanges),tt=[],Z=-1,Y=null,vt(addEventListener),r=a,tt.push(r),mt()})))}))},Tt=function(t,e){ht((function(e){var n=function(t){var e=t.entries[0],n={eventTarget:o(e.target),eventType:e.name,eventTime:e.startTime,eventEntry:e,loadState:i(e.startTime)};return Object.assign(t,{attribution:n})}(e);t(n)}),e)};export{D as CLSThresholds,C as FCPThresholds,gt as FIDThresholds,W as INPThresholds,rt as LCPThresholds,ot as TTFBThresholds,w as onCLS,x as onFCP,Tt as onFID,nt as onINP,at as onLCP,st as onTTFB};\n","import { onLCP, onCLS, onFCP } from 'web-vitals'\nimport { onINP } from 'web-vitals/attribution'\nimport { assignableWindow } from '../utils/globals'\n\nconst postHogWebVitalsCallbacks = {\n    onLCP,\n    onCLS,\n    onFCP,\n    onINP,\n}\n\nassignableWindow.__PosthogExtensions__ = assignableWindow.__PosthogExtensions__ || {}\nassignableWindow.__PosthogExtensions__.postHogWebVitalsCallbacks = postHogWebVitalsCallbacks\n\n// we used to put posthogWebVitalsCallbacks on window, and now we put it on __PosthogExtensions__\n// but that means that old clients which lazily load this extension are looking in the wrong place\n// yuck,\n// so we also put it directly on the window\n// when 1.161.1 is the oldest version seen in production we can remove this\nassignableWindow.postHogWebVitalsCallbacks = postHogWebVitalsCallbacks\n\nexport default postHogWebVitalsCallbacks\n","const e=\"undefined\"!=typeof window?window:void 0,t=\"undefined\"!=typeof globalThis?globalThis:e,i=Array.prototype,s=i.forEach,n=i.indexOf,r=null==t?void 0:t.navigator,o=null==t?void 0:t.document,a=null==t?void 0:t.location,l=null==t?void 0:t.fetch,c=null!=t&&t.XMLHttpRequest&&\"withCredentials\"in new t.XMLHttpRequest?t.XMLHttpRequest:void 0,u=null==t?void 0:t.AbortController,d=null==r?void 0:r.userAgent,h=null!=e?e:{};const _={DEBUG:!1,LIB_VERSION:\"1.186.1\"},p=Array.isArray,g=Object.prototype,f=g.hasOwnProperty,v=g.toString,m=p||function(e){return\"[object Array]\"===v.call(e)},y=function(e){return\"function\"==typeof e},b=function(e){return e===Object(e)&&!m(e)},w=function(e){if(b(e)){for(const t in e)if(f.call(e,t))return!1;return!0}return!1},S=function(e){return void 0===e},E=function(e){return\"[object String]\"==v.call(e)},k=function(e){return E(e)&&0===e.trim().length},x=function(e){return null===e},I=function(e){return S(e)||x(e)},R=function(e){return\"[object Number]\"==v.call(e)},P=function(e){return\"[object Boolean]\"===v.call(e)},F=e=>e instanceof FormData,C=\"[PostHog.js]\",T={_log:function(t){if(e&&(_.DEBUG||h.POSTHOG_DEBUG)&&!S(e.console)&&e.console){const r=\"__rrweb_original__\"in e.console[t]?e.console[t].__rrweb_original__:e.console[t];for(var i=arguments.length,s=new Array(i>1?i-1:0),n=1;n<i;n++)s[n-1]=arguments[n];r(C,...s)}},info:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];T._log(\"log\",...t)},warn:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];T._log(\"warn\",...t)},error:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];T._log(\"error\",...t)},critical:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];console.error(C,...t)},uninitializedWarning:e=>{T.error(`You must initialize PostHog before calling ${e}`)}},$=(e,t,i)=>{if(e.config.disable_external_dependency_loading)return T.warn(`${t} was requested but loading of external scripts is disabled.`),i(\"Loading of external scripts is disabled\");const s=()=>{if(!o)return i(\"document not found\");const e=o.createElement(\"script\");e.type=\"text/javascript\",e.crossOrigin=\"anonymous\",e.src=t,e.onload=e=>i(void 0,e),e.onerror=e=>i(e);const s=o.querySelectorAll(\"body > script\");var n;s.length>0?null===(n=s[0].parentNode)||void 0===n||n.insertBefore(e,s[0]):o.body.appendChild(e)};null!=o&&o.body?s():null==o||o.addEventListener(\"DOMContentLoaded\",s)};h.__PosthogExtensions__=h.__PosthogExtensions__||{},h.__PosthogExtensions__.loadExternalDependency=(e,t,i)=>{let s=`/static/${t}.js?v=${e.version}`;if(\"toolbar\"===t){const e=3e5;s=`${s}&t=${Math.floor(Date.now()/e)*e}`}const n=e.requestRouter.endpointFor(\"assets\",s);$(e,n,i)},h.__PosthogExtensions__.loadSiteApp=(e,t,i)=>{const s=e.requestRouter.endpointFor(\"api\",t);$(e,s,i)};const A={},M=function(e){return e.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\"\")};function L(e,t,i){if(m(e))if(s&&e.forEach===s)e.forEach(t,i);else if(\"length\"in e&&e.length===+e.length)for(let s=0,n=e.length;s<n;s++)if(s in e&&t.call(i,e[s],s)===A)return}function D(e,t,i){if(!I(e)){if(m(e))return L(e,t,i);if(F(e)){for(const s of e.entries())if(t.call(i,s[1],s[0])===A)return}else for(const s in e)if(f.call(e,s)&&t.call(i,e[s],s)===A)return}}const O=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];return L(i,(function(t){for(const i in t)void 0!==t[i]&&(e[i]=t[i])})),e};function N(e,t){return-1!==e.indexOf(t)}function q(e){const t=Object.keys(e);let i=t.length;const s=new Array(i);for(;i--;)s[i]=[t[i],e[t[i]]];return s}const B=function(e){try{return e()}catch{return}},H=function(e){return function(){try{for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return e.apply(this,i)}catch(e){T.critical(\"Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A.\"),T.critical(e)}}},U=function(e){const t={};return D(e,(function(e,i){E(e)&&e.length>0&&(t[i]=e)})),t},W=function(e){return e.replace(/^\\$/,\"\")};function z(e,t){return function(e,t){const i=new Set;return function e(s,n){if(s!==Object(s))return t?t(s,n):s;if(i.has(s))return;let r;return i.add(s),m(s)?(r=[],L(s,(t=>{r.push(e(t))}))):(r={},D(s,((t,s)=>{i.has(t)||(r[s]=e(t,s))}))),r}(e)}(e,(e=>E(e)&&!x(t)?e.slice(0,t):e))}const V=function(e){let t,i,s,n=\"\",r=0;for(t=i=0,r=(e=(e+\"\").replace(/\\r\\n/g,\"\\n\").replace(/\\r/g,\"\\n\")).length,s=0;s<r;s++){const r=e.charCodeAt(s);let o=null;r<128?i++:o=r>127&&r<2048?String.fromCharCode(r>>6|192,63&r|128):String.fromCharCode(r>>12|224,r>>6&63|128,63&r|128),x(o)||(i>t&&(n+=e.substring(t,i)),n+=o,t=i=s+1)}return i>t&&(n+=e.substring(t,e.length)),n},G=function(){function t(e){return e&&(e.preventDefault=t.preventDefault,e.stopPropagation=t.stopPropagation),e}return t.preventDefault=function(){this.returnValue=!1},t.stopPropagation=function(){this.cancelBubble=!0},function(i,s,n,r,o){if(i)if(i.addEventListener&&!r)i.addEventListener(s,n,!!o);else{const r=\"on\"+s,o=i[r];i[r]=function(i,s,n){return function(r){if(!(r=r||t(null==e?void 0:e.event)))return;let o,a=!0;y(n)&&(o=n(r));const l=s.call(i,r);return!1!==o&&!1!==l||(a=!1),a}}(i,n,o)}else T.error(\"No valid element provided to register_event\")}}();function j(e){const t=null==e?void 0:e.hostname;return!!E(t)&&\"herokuapp.com\"!==t.split(\".\").slice(-2).join(\".\")}function Q(e,t){for(let i=0;i<e.length;i++)if(t(e[i]))return e[i]}let J;!function(e){e.GZipJS=\"gzip-js\",e.Base64=\"base64\"}(J||(J={}));const Y=[\"fatal\",\"error\",\"warning\",\"log\",\"info\",\"debug\"],X=\"$people_distinct_id\",K=\"__alias\",Z=\"__timers\",ee=\"$autocapture_disabled_server_side\",te=\"$heatmaps_enabled_server_side\",ie=\"$exception_capture_enabled_server_side\",se=\"$exception_capture_endpoint_suffix\",ne=\"$web_vitals_enabled_server_side\",re=\"$dead_clicks_enabled_server_side\",oe=\"$web_vitals_allowed_metrics\",ae=\"$session_recording_enabled_server_side\",le=\"$console_log_recording_enabled_server_side\",ce=\"$session_recording_network_payload_capture\",ue=\"$session_recording_canvas_recording\",de=\"$replay_sample_rate\",he=\"$replay_minimum_duration\",_e=\"$sesid\",pe=\"$session_is_sampled\",ge=\"$session_recording_url_trigger_activated_session\",fe=\"$session_recording_event_trigger_activated_session\",ve=\"$enabled_feature_flags\",me=\"$early_access_features\",ye=\"$stored_person_properties\",be=\"$stored_group_properties\",we=\"$surveys\",Se=\"$surveys_activated\",Ee=\"$flag_call_reported\",ke=\"$user_state\",xe=\"$client_session_props\",Ie=\"$capture_rate_limit\",Re=\"$initial_campaign_params\",Pe=\"$initial_referrer_info\",Fe=\"$initial_person_info\",Ce=\"$epp\",Te=\"__POSTHOG_TOOLBAR__\",$e=[X,K,\"__cmpns\",Z,ae,te,_e,ve,ke,me,be,ye,we,Ee,xe,Ie,Re,Pe,Ce],Ae=\"$active_feature_flags\",Me=\"$override_feature_flags\",Le=\"$feature_flag_payloads\",De=e=>{const t={};for(const[i,s]of q(e||{}))s&&(t[i]=s);return t};class Oe{constructor(e){this.instance=e,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}getFlags(){return Object.keys(this.getFlagVariants())}getFlagVariants(){const e=this.instance.get_property(ve),t=this.instance.get_property(Me);if(!t)return e||{};const i=O({},e),s=Object.keys(t);for(let e=0;e<s.length;e++)i[s[e]]=t[s[e]];return this._override_warning||(T.warn(\" Overriding feature flags!\",{enabledFlags:e,overriddenFlags:t,finalFlags:i}),this._override_warning=!0),i}getFlagPayloads(){return this.instance.get_property(Le)||{}}reloadFeatureFlags(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}setAnonymousDistinctId(e){this.$anon_distinct_id=e}setReloadingPaused(e){this.reloadFeatureFlagsInAction=e}resetRequestQueue(){this.reloadFeatureFlagsQueued=!1}_startReloadTimer(){this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout((()=>{!this.reloadFeatureFlagsInAction&&this.reloadFeatureFlagsQueued&&(this.reloadFeatureFlagsQueued=!1,this._reloadFeatureFlagsRequest())}),5)}_reloadFeatureFlagsRequest(){if(this.instance.config.advanced_disable_feature_flags)return;this.setReloadingPaused(!0);const e=this.instance.config.token,t=this.instance.get_property(ye),i=this.instance.get_property(be),s={token:e,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:t,group_properties:i,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0};this.instance._send_request({method:\"POST\",url:this.instance.requestRouter.endpointFor(\"api\",\"/decide/?v=3\"),data:s,compression:this.instance.config.disable_compression?void 0:J.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:e=>{var t;this.setReloadingPaused(!1);let i=!0;200===e.statusCode&&(this.$anon_distinct_id=void 0,i=!1),this.receivedFeatureFlags(null!==(t=e.json)&&void 0!==t?t:{},i),this._startReloadTimer()}})}getFeatureFlag(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0))return void T.warn('getFeatureFlag for key \"'+e+\"\\\" failed. Feature flags didn't load in time.\");const i=this.getFlagVariants()[e],s=`${i}`,n=this.instance.get_property(Ee)||{};var r;!t.send_event&&\"send_event\"in t||(e in n&&n[e].includes(s)||(m(n[e])?n[e].push(s):n[e]=[s],null===(r=this.instance.persistence)||void 0===r||r.register({[Ee]:n}),this.instance.capture(\"$feature_flag_called\",{$feature_flag:e,$feature_flag_response:i})));return i}getFeatureFlagPayload(e){return this.getFlagPayloads()[e]}isFeatureEnabled(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,t);T.warn('isFeatureEnabled for key \"'+e+\"\\\" failed. Feature flags didn't load in time.\")}addFeatureFlagsHandler(e){this.featureFlagEventHandlers.push(e)}removeFeatureFlagsHandler(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter((t=>t!==e))}receivedFeatureFlags(e,t){if(!this.instance.persistence)return;this.instance.decideEndpointWasHit=!0;const i=this.getFlagVariants(),s=this.getFlagPayloads();!function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const n=e.featureFlags,r=e.featureFlagPayloads;if(!n)return;if(m(n)){const e={};if(n)for(let t=0;t<n.length;t++)e[n[t]]=!0;return void(t&&t.register({[Ae]:n,[ve]:e}))}let o=n,a=r;e.errorsWhileComputingFlags&&(o={...i,...o},a={...s,...a}),t&&t.register({[Ae]:Object.keys(De(o)),[ve]:o||{},[Le]:a||{}})}(e,this.instance.persistence,i,s),this._fireFeatureFlagsCallbacks(t)}override(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.instance.__loaded||!this.instance.persistence)return T.uninitializedWarning(\"posthog.feature_flags.override\");if(this._override_warning=t,!1===e)this.instance.persistence.unregister(Me);else if(m(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=!0;this.instance.persistence.register({[Me]:t})}else this.instance.persistence.register({[Me]:e})}onFeatureFlags(e){if(this.addFeatureFlagsHandler(e),this.instance.decideEndpointWasHit){const{flags:t,flagVariants:i}=this._prepareFeatureFlagsForCallbacks();e(t,i)}return()=>this.removeFeatureFlagsHandler(e)}updateEarlyAccessFeatureEnrollment(e,t){var i;const s={[`$feature_enrollment/${e}`]:t};this.instance.capture(\"$feature_enrollment_update\",{$feature_flag:e,$feature_enrollment:t,$set:s}),this.setPersonPropertiesForFlags(s,!1);const n={...this.getFlagVariants(),[e]:t};null===(i=this.instance.persistence)||void 0===i||i.register({[Ae]:Object.keys(De(n)),[ve]:n}),this._fireFeatureFlagsCallbacks()}getEarlyAccessFeatures(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.instance.get_property(me);if(i&&!t)return e(i);this.instance._send_request({transport:\"XHR\",url:this.instance.requestRouter.endpointFor(\"api\",`/api/early_access_features/?token=${this.instance.config.token}`),method:\"GET\",callback:t=>{var i;if(!t.json)return;const s=t.json.earlyAccessFeatures;return null===(i=this.instance.persistence)||void 0===i||i.register({[me]:s}),e(s)}})}_prepareFeatureFlagsForCallbacks(){const e=this.getFlags(),t=this.getFlagVariants();return{flags:e.filter((e=>t[e])),flagVariants:Object.keys(t).filter((e=>t[e])).reduce(((e,i)=>(e[i]=t[i],e)),{})}}_fireFeatureFlagsCallbacks(e){const{flags:t,flagVariants:i}=this._prepareFeatureFlagsForCallbacks();this.featureFlagEventHandlers.forEach((s=>s(t,i,{errorsLoading:e})))}setPersonPropertiesForFlags(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=this.instance.get_property(ye)||{};this.instance.register({[ye]:{...i,...e}}),t&&this.instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this.instance.unregister(ye)}setGroupPropertiesForFlags(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=this.instance.get_property(be)||{};0!==Object.keys(i).length&&Object.keys(i).forEach((t=>{i[t]={...i[t],...e[t]},delete e[t]})),this.instance.register({[be]:{...i,...e}}),t&&this.instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(e){if(e){const t=this.instance.get_property(be)||{};this.instance.register({[be]:{...t,[e]:{}}})}else this.instance.unregister(be)}}\n/**\n * uuidv7: An experimental implementation of the proposed UUID Version 7\n *\n * @license Apache-2.0\n * @copyright 2021-2023 LiosK\n * @packageDocumentation\n *\n * from https://github.com/LiosK/uuidv7/blob/e501462ea3d23241de13192ceae726956f9b3b7d/src/index.ts\n */Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return R(e)&&isFinite(e)&&Math.floor(e)===e});const Ne=\"0123456789abcdef\";class qe{constructor(e){if(this.bytes=e,16!==e.length)throw new TypeError(\"not 128-bit length\")}static fromFieldsV7(e,t,i,s){if(!Number.isInteger(e)||!Number.isInteger(t)||!Number.isInteger(i)||!Number.isInteger(s)||e<0||t<0||i<0||s<0||e>0xffffffffffff||t>4095||i>1073741823||s>4294967295)throw new RangeError(\"invalid field value\");const n=new Uint8Array(16);return n[0]=e/2**40,n[1]=e/2**32,n[2]=e/2**24,n[3]=e/65536,n[4]=e/256,n[5]=e,n[6]=112|t>>>8,n[7]=t,n[8]=128|i>>>24,n[9]=i>>>16,n[10]=i>>>8,n[11]=i,n[12]=s>>>24,n[13]=s>>>16,n[14]=s>>>8,n[15]=s,new qe(n)}toString(){let e=\"\";for(let t=0;t<this.bytes.length;t++)e=e+Ne.charAt(this.bytes[t]>>>4)+Ne.charAt(15&this.bytes[t]),3!==t&&5!==t&&7!==t&&9!==t||(e+=\"-\");if(36!==e.length)throw new Error(\"Invalid UUIDv7 was generated\");return e}clone(){return new qe(this.bytes.slice(0))}equals(e){return 0===this.compareTo(e)}compareTo(e){for(let t=0;t<16;t++){const i=this.bytes[t]-e.bytes[t];if(0!==i)return Math.sign(i)}return 0}}class Be{timestamp=0;counter=0;random=new We;generate(){const e=this.generateOrAbort();if(S(e)){this.timestamp=0;const e=this.generateOrAbort();if(S(e))throw new Error(\"Could not generate UUID after timestamp reset\");return e}return e}generateOrAbort(){const e=Date.now();if(e>this.timestamp)this.timestamp=e,this.resetCounter();else{if(!(e+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return qe.fromFieldsV7(this.timestamp,Math.trunc(this.counter/2**30),this.counter&2**30-1,this.random.nextUint32())}resetCounter(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}let He,Ue=e=>{if(\"undefined\"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw new Error(\"no cryptographically strong RNG available\");for(let t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};e&&!S(e.crypto)&&crypto.getRandomValues&&(Ue=e=>crypto.getRandomValues(e));class We{buffer=new Uint32Array(8);cursor=1/0;nextUint32(){return this.cursor>=this.buffer.length&&(Ue(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}const ze=()=>Ve().toString(),Ve=()=>(He||(He=new Be)).generate(),Ge=\"Thu, 01 Jan 1970 00:00:00 GMT\";let je=\"\";const Qe=/[a-z0-9][a-z0-9-]+\\.[a-z]{2,}$/i;function Je(e,t){if(t){let t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;if(je)return je;if(!t)return\"\";if([\"localhost\",\"127.0.0.1\"].includes(e))return\"\";const i=e.split(\".\");let s=Math.min(i.length,8);const n=\"dmn_chk_\"+ze(),r=new RegExp(\"(^|;)\\\\s*\"+n+\"=1\");for(;!je&&s--;){const e=i.slice(s).join(\".\"),o=n+\"=1;domain=.\"+e;t.cookie=o,r.test(t.cookie)&&(t.cookie=o+\";expires=\"+Ge,je=e)}return je}(e);if(!t){const i=(e=>{const t=e.match(Qe);return t?t[0]:\"\"})(e);i!==t&&T.info(\"Warning: cookie subdomain discovery mismatch\",i,t),t=i}return t?\"; domain=.\"+t:\"\"}return\"\"}const Ye={is_supported:()=>!!o,error:function(e){T.error(\"cookieStore error: \"+e)},get:function(e){if(o){try{const t=e+\"=\",i=o.cookie.split(\";\").filter((e=>e.length));for(let e=0;e<i.length;e++){let s=i[e];for(;\" \"==s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(t))return decodeURIComponent(s.substring(t.length,s.length))}}catch{}return null}},parse:function(e){let t;try{t=JSON.parse(Ye.get(e))||{}}catch{}return t},set:function(e,t,i,s,n){if(o)try{let r=\"\",a=\"\";const l=Je(o.location.hostname,s);if(i){const e=new Date;e.setTime(e.getTime()+24*i*60*60*1e3),r=\"; expires=\"+e.toUTCString()}n&&(a=\"; secure\");const c=e+\"=\"+encodeURIComponent(JSON.stringify(t))+r+\"; SameSite=Lax; path=/\"+l+a;return c.length>3686.4&&T.warn(\"cookieStore warning: large cookie, len=\"+c.length),o.cookie=c,c}catch{return}},remove:function(e,t){try{Ye.set(e,\"\",-1,t)}catch{return}}};let Xe=null;const Ke={is_supported:function(){if(!x(Xe))return Xe;let t=!0;if(S(e))t=!1;else try{const e=\"__mplssupport__\",i=\"xyz\";Ke.set(e,i),'\"xyz\"'!==Ke.get(e)&&(t=!1),Ke.remove(e)}catch{t=!1}return t||T.error(\"localStorage unsupported; falling back to cookie store\"),Xe=t,t},error:function(e){T.error(\"localStorage error: \"+e)},get:function(t){try{return null==e?void 0:e.localStorage.getItem(t)}catch(e){Ke.error(e)}return null},parse:function(e){try{return JSON.parse(Ke.get(e))||{}}catch{}return null},set:function(t,i){try{null==e||e.localStorage.setItem(t,JSON.stringify(i))}catch(e){Ke.error(e)}},remove:function(t){try{null==e||e.localStorage.removeItem(t)}catch(e){Ke.error(e)}}},Ze=[\"distinct_id\",_e,pe,Ce],et={...Ke,parse:function(e){try{let t={};try{t=Ye.parse(e)||{}}catch{}const i=O(t,JSON.parse(Ke.get(e)||\"{}\"));return Ke.set(e,i),i}catch{}return null},set:function(e,t,i,s,n,r){try{Ke.set(e,t,void 0,void 0,r);const o={};Ze.forEach((e=>{t[e]&&(o[e]=t[e])})),Object.keys(o).length&&Ye.set(e,o,i,s,n,r)}catch(e){Ke.error(e)}},remove:function(t,i){try{null==e||e.localStorage.removeItem(t),Ye.remove(t,i)}catch(e){Ke.error(e)}}},tt={},it={is_supported:function(){return!0},error:function(e){T.error(\"memoryStorage error: \"+e)},get:function(e){return tt[e]||null},parse:function(e){return tt[e]||null},set:function(e,t){tt[e]=t},remove:function(e){delete tt[e]}};let st=null;const nt={is_supported:function(){if(!x(st))return st;if(st=!0,S(e))st=!1;else try{const e=\"__support__\",t=\"xyz\";nt.set(e,t),'\"xyz\"'!==nt.get(e)&&(st=!1),nt.remove(e)}catch{st=!1}return st},error:function(e){T.error(\"sessionStorage error: \",e)},get:function(t){try{return null==e?void 0:e.sessionStorage.getItem(t)}catch(e){nt.error(e)}return null},parse:function(e){try{return JSON.parse(nt.get(e))||null}catch{}return null},set:function(t,i){try{null==e||e.sessionStorage.setItem(t,JSON.stringify(i))}catch(e){nt.error(e)}},remove:function(t){try{null==e||e.sessionStorage.removeItem(t)}catch(e){nt.error(e)}}},rt=[\"localhost\",\"127.0.0.1\"],ot=e=>{const t=null==o?void 0:o.createElement(\"a\");return S(t)?null:(t.href=e,t)},at=function(e,t){return!!function(e){try{new RegExp(e)}catch{return!1}return!0}(t)&&new RegExp(t).test(e)},lt=function(e){let t,i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"&\";const n=[];return D(e,(function(e,s){S(e)||S(s)||\"undefined\"===s||(t=encodeURIComponent((e=>e instanceof File)(e)?e.name:e.toString()),i=encodeURIComponent(s),n[n.length]=i+\"=\"+t)})),n.join(s)},ct=function(e,t){const i=((e.split(\"#\")[0]||\"\").split(\"?\")[1]||\"\").split(\"&\");let s;for(let e=0;e<i.length;e++){const n=i[e].split(\"=\");if(n[0]===t){s=n;break}}if(!m(s)||s.length<2)return\"\";{let e=s[1];try{e=decodeURIComponent(e)}catch{T.error(\"Skipping decoding for malformed query param: \"+e)}return e.replace(/\\+/g,\" \")}},ut=function(e,t){const i=e.match(new RegExp(t+\"=([^&]*)\"));return i?i[1]:null},dt=\"Mobile\",ht=\"iOS\",_t=\"Android\",pt=\"Tablet\",gt=_t+\" \"+pt,ft=\"iPad\",vt=\"Apple\",mt=vt+\" Watch\",yt=\"Safari\",bt=\"BlackBerry\",wt=\"Samsung\",St=wt+\"Browser\",Et=wt+\" Internet\",kt=\"Chrome\",xt=kt+\" OS\",It=kt+\" \"+ht,Rt=\"Internet Explorer\",Pt=Rt+\" \"+dt,Ft=\"Opera\",Ct=Ft+\" Mini\",Tt=\"Edge\",$t=\"Microsoft \"+Tt,At=\"Firefox\",Mt=At+\" \"+ht,Lt=\"Nintendo\",Dt=\"PlayStation\",Ot=\"Xbox\",Nt=_t+\" \"+dt,qt=dt+\" \"+yt,Bt=\"Windows\",Ht=Bt+\" Phone\",Ut=\"Nokia\",Wt=\"Ouya\",zt=\"Generic\",Vt=zt+\" \"+dt.toLowerCase(),Gt=zt+\" \"+pt.toLowerCase(),jt=\"Konqueror\",Qt=\"(\\\\d+(\\\\.\\\\d+)?)\",Jt=new RegExp(\"Version/\"+Qt),Yt=new RegExp(Ot,\"i\"),Xt=new RegExp(Dt+\" \\\\w+\",\"i\"),Kt=new RegExp(Lt+\" \\\\w+\",\"i\"),Zt=new RegExp(bt+\"|PlayBook|BB10\",\"i\"),ei={\"NT3.51\":\"NT 3.11\",\"NT4.0\":\"NT 4.0\",\"5.0\":\"2000\",5.1:\"XP\",5.2:\"XP\",\"6.0\":\"Vista\",6.1:\"7\",6.2:\"8\",6.3:\"8.1\",6.4:\"10\",\"10.0\":\"10\"};const ti=(e,t)=>t&&N(t,vt)||function(e){return N(e,yt)&&!N(e,kt)&&!N(e,_t)}(e),ii=function(e,t){return t=t||\"\",N(e,\" OPR/\")&&N(e,\"Mini\")?Ct:N(e,\" OPR/\")?Ft:Zt.test(e)?bt:N(e,\"IE\"+dt)||N(e,\"WPDesktop\")?Pt:N(e,St)?Et:N(e,Tt)||N(e,\"Edg/\")?$t:N(e,\"FBIOS\")?\"Facebook \"+dt:N(e,\"UCWEB\")||N(e,\"UCBrowser\")?\"UC Browser\":N(e,\"CriOS\")?It:N(e,\"CrMo\")?kt:N(e,_t)&&N(e,yt)?Nt:N(e,kt)?kt:N(e,\"FxiOS\")?Mt:N(e.toLowerCase(),jt.toLowerCase())?jt:ti(e,t)?N(e,dt)?qt:yt:N(e,At)?At:N(e,\"MSIE\")||N(e,\"Trident/\")?Rt:N(e,\"Gecko\")?At:\"\"},si={[Pt]:[new RegExp(\"rv:\"+Qt)],[$t]:[new RegExp(Tt+\"?\\\\/\"+Qt)],[kt]:[new RegExp(\"(\"+kt+\"|CrMo)\\\\/\"+Qt)],[It]:[new RegExp(\"CriOS\\\\/\"+Qt)],\"UC Browser\":[new RegExp(\"(UCBrowser|UCWEB)\\\\/\"+Qt)],[yt]:[Jt],[qt]:[Jt],[Ft]:[new RegExp(\"(Opera|OPR)\\\\/\"+Qt)],[At]:[new RegExp(At+\"\\\\/\"+Qt)],[Mt]:[new RegExp(\"FxiOS\\\\/\"+Qt)],[jt]:[new RegExp(\"Konqueror[:/]?\"+Qt,\"i\")],[bt]:[new RegExp(bt+\" \"+Qt),Jt],[Nt]:[new RegExp(\"android\\\\s\"+Qt,\"i\")],[Et]:[new RegExp(St+\"\\\\/\"+Qt)],[Rt]:[new RegExp(\"(rv:|MSIE )\"+Qt)],Mozilla:[new RegExp(\"rv:\"+Qt)]},ni=[[new RegExp(Ot+\"; \"+Ot+\" (.*?)[);]\",\"i\"),e=>[Ot,e&&e[1]||\"\"]],[new RegExp(Lt,\"i\"),[Lt,\"\"]],[new RegExp(Dt,\"i\"),[Dt,\"\"]],[Zt,[bt,\"\"]],[new RegExp(Bt,\"i\"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[Ht,\"\"];if(new RegExp(dt).test(t)&&!/IEMobile\\b/.test(t))return[Bt+\" \"+dt,\"\"];const i=/Windows NT ([0-9.]+)/i.exec(t);if(i&&i[1]){const e=i[1];let s=ei[e]||\"\";return/arm/i.test(t)&&(s=\"RT\"),[Bt,s]}return[Bt,\"\"]}],[/((iPhone|iPad|iPod).*?OS (\\d+)_(\\d+)_?(\\d+)?|iPhone)/,e=>{if(e&&e[3]){const t=[e[3],e[4],e[5]||\"0\"];return[ht,t.join(\".\")]}return[ht,\"\"]}],[/(watch.*\\/(\\d+\\.\\d+\\.\\d+)|watch os,(\\d+\\.\\d+),)/i,e=>{let t=\"\";return e&&e.length>=3&&(t=S(e[2])?e[3]:e[2]),[\"watchOS\",t]}],[new RegExp(\"(\"+_t+\" (\\\\d+)\\\\.(\\\\d+)\\\\.?(\\\\d+)?|\"+_t+\")\",\"i\"),e=>{if(e&&e[2]){const t=[e[2],e[3],e[4]||\"0\"];return[_t,t.join(\".\")]}return[_t,\"\"]}],[/Mac OS X (\\d+)[_.](\\d+)[_.]?(\\d+)?/i,e=>{const t=[\"Mac OS X\",\"\"];if(e&&e[1]){const i=[e[1],e[2],e[3]||\"0\"];t[1]=i.join(\".\")}return t}],[/Mac/i,[\"Mac OS X\",\"\"]],[/CrOS/,[xt,\"\"]],[/Linux|debian/i,[\"Linux\",\"\"]]],ri=function(e){return Kt.test(e)?Lt:Xt.test(e)?Dt:Yt.test(e)?Ot:new RegExp(Wt,\"i\").test(e)?Wt:new RegExp(\"(\"+Ht+\"|WPDesktop)\",\"i\").test(e)?Ht:/iPad/.test(e)?ft:/iPod/.test(e)?\"iPod Touch\":/iPhone/.test(e)?\"iPhone\":/(watch)(?: ?os[,/]|\\d,\\d\\/)[\\d.]+/i.test(e)?mt:Zt.test(e)?bt:/(kobo)\\s(ereader|touch)/i.test(e)?\"Kobo\":new RegExp(Ut,\"i\").test(e)?Ut:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\\))/i.test(e)||/(kf[a-z]+)( bui|\\)).+silk\\//i.test(e)?\"Kindle Fire\":/(Android|ZTE)/i.test(e)?!new RegExp(dt).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?_t:gt:_t:new RegExp(\"(pda|\"+dt+\")\",\"i\").test(e)?Vt:new RegExp(pt,\"i\").test(e)&&!new RegExp(pt+\" pc\",\"i\").test(e)?Gt:\"\"},oi=\"https?://(.*)\",ai=[\"utm_source\",\"utm_medium\",\"utm_campaign\",\"utm_content\",\"utm_term\",\"gclid\",\"gad_source\",\"gclsrc\",\"dclid\",\"gbraid\",\"wbraid\",\"fbclid\",\"msclkid\",\"twclid\",\"li_fat_id\",\"mc_cid\",\"igshid\",\"ttclid\",\"rdt_cid\"],li={campaignParams:function(e){return o?this._campaignParamsFromUrl(o.URL,e):{}},_campaignParamsFromUrl:function(e,t){const i=ai.concat(t||[]),s={};return D(i,(function(t){const i=ct(e,t);s[t]=i||null})),s},_searchEngine:function(e){return e?0===e.search(oi+\"google.([^/?]*)\")?\"google\":0===e.search(oi+\"bing.com\")?\"bing\":0===e.search(oi+\"yahoo.com\")?\"yahoo\":0===e.search(oi+\"duckduckgo.com\")?\"duckduckgo\":null:null},_searchInfoFromReferrer:function(e){const t=li._searchEngine(e),i=\"yahoo\"!=t?\"q\":\"p\",s={};if(!x(t)){s.$search_engine=t;const e=o?ct(o.referrer,i):\"\";e.length&&(s.ph_keyword=e)}return s},searchInfo:function(){const e=null==o?void 0:o.referrer;return e?this._searchInfoFromReferrer(e):{}},browser:ii,browserVersion:function(e,t){const i=ii(e,t),s=si[i];if(S(s))return null;for(let t=0;t<s.length;t++){const i=s[t],n=e.match(i);if(n)return parseFloat(n[n.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},os:function(e){for(let t=0;t<ni.length;t++){const[i,s]=ni[t],n=i.exec(e),r=n&&(y(s)?s(n,e):s);if(r)return r}return[\"\",\"\"]},device:ri,deviceType:function(e){const t=ri(e);return t===ft||t===gt||\"Kobo\"===t||\"Kindle Fire\"===t||t===Gt?pt:t===Lt||t===Ot||t===Dt||t===Wt?\"Console\":t===mt?\"Wearable\":t?dt:\"Desktop\"},referrer:function(){return(null==o?void 0:o.referrer)||\"$direct\"},referringDomain:function(){var e;return null!=o&&o.referrer&&(null===(e=ot(o.referrer))||void 0===e?void 0:e.host)||\"$direct\"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},initialPersonInfo:function(){return{r:this.referrer(),u:null==a?void 0:a.href}},initialPersonPropsFromInfo:function(e){var t;const{r:i,u:s}=e,n={$initial_referrer:i,$initial_referring_domain:null==i?void 0:\"$direct\"==i?\"$direct\":null===(t=ot(i))||void 0===t?void 0:t.host};if(s){n.$initial_current_url=s;const e=ot(s);n.$initial_host=null==e?void 0:e.host,n.$initial_pathname=null==e?void 0:e.pathname;D(this._campaignParamsFromUrl(s),(function(e,t){n[\"$initial_\"+W(t)]=e}))}if(i){D(this._searchInfoFromReferrer(i),(function(e,t){n[\"$initial_\"+W(t)]=e}))}return n},timezone:function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}},properties:function(){if(!d)return{};const[t,i]=li.os(d);return O(U({$os:t,$os_version:i,$browser:li.browser(d,navigator.vendor),$device:li.device(d),$device_type:li.deviceType(d),$timezone:li.timezone()}),{$current_url:null==a?void 0:a.href,$host:null==a?void 0:a.host,$pathname:null==a?void 0:a.pathname,$raw_user_agent:d.length>1e3?d.substring(0,997)+\"...\":d,$browser_version:li.browserVersion(d,navigator.vendor),$browser_language:li.browserLanguage(),$screen_height:null==e?void 0:e.screen.height,$screen_width:null==e?void 0:e.screen.width,$viewport_height:null==e?void 0:e.innerHeight,$viewport_width:null==e?void 0:e.innerWidth,$lib:\"web\",$lib_version:_.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})},people_properties:function(){if(!d)return{};const[e,t]=li.os(d);return O(U({$os:e,$os_version:t,$browser:li.browser(d,navigator.vendor)}),{$browser_version:li.browserVersion(d,navigator.vendor)})}},ci=[\"cookie\",\"localstorage\",\"localstorage+cookie\",\"sessionstorage\",\"memory\"];class ui{constructor(e){this.config=e,this.props={},this.campaign_params_saved=!1,this.name=(e=>{let t=\"\";return e.token&&(t=e.token.replace(/\\+/g,\"PL\").replace(/\\//g,\"SL\").replace(/=/g,\"EQ\")),e.persistence_name?\"ph_\"+e.persistence_name:\"ph_\"+t+\"_posthog\"})(e),this.storage=this.buildStorage(e),this.load(),e.debug&&T.info(\"Persistence loaded\",e.persistence,{...this.props}),this.update_config(e,e),this.save()}buildStorage(e){let t;-1===ci.indexOf(e.persistence.toLowerCase())&&(T.critical(\"Unknown persistence type \"+e.persistence+\"; falling back to localStorage+cookie\"),e.persistence=\"localStorage+cookie\");const i=e.persistence.toLowerCase();return t=\"localstorage\"===i&&Ke.is_supported()?Ke:\"localstorage+cookie\"===i&&et.is_supported()?et:\"sessionstorage\"===i&&nt.is_supported()?nt:\"memory\"===i?it:\"cookie\"===i?Ye:et.is_supported()?et:Ye,t}properties(){const e={};return D(this.props,(function(t,i){if(i===ve&&b(t)){const i=Object.keys(t);for(let s=0;s<i.length;s++)e[`$feature/${i[s]}`]=t[i[s]]}else(function(e,t){let i=!1;return x(e)?i:n&&e.indexOf===n?-1!=e.indexOf(t):(D(e,(function(e){if(i||(i=e===t))return A})),i)})($e,i)||(e[i]=t)})),e}load(){if(this.disabled)return;const e=this.storage.parse(this.name);e&&(this.props=O({},e))}save(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure,this.config.debug)}remove(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}clear(){this.remove(),this.props={}}register_once(e,t,i){if(b(e)){S(t)&&(t=\"None\"),this.expire_days=S(i)?this.default_expiry:i;let s=!1;if(D(e,((e,i)=>{this.props.hasOwnProperty(i)&&this.props[i]!==t||(this.props[i]=e,s=!0)})),s)return this.save(),!0}return!1}register(e,t){if(b(e)){this.expire_days=S(t)?this.default_expiry:t;let i=!1;if(D(e,((t,s)=>{e.hasOwnProperty(s)&&this.props[s]!==t&&(this.props[s]=t,i=!0)})),i)return this.save(),!0}return!1}unregister(e){e in this.props&&(delete this.props[e],this.save())}update_campaign_params(){if(!this.campaign_params_saved){const e=li.campaignParams(this.config.custom_campaign_params);w(U(e))||this.register(li.campaignParams(this.config.custom_campaign_params)),this.campaign_params_saved=!0}}update_search_keyword(){this.register(li.searchInfo())}update_referrer_info(){this.register_once(li.referrerInfo(),void 0)}set_initial_person_info(){this.props[Re]||this.props[Pe]||this.register_once({[Fe]:li.initialPersonInfo()},void 0)}get_referrer_info(){return U({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}get_initial_props(){const e={};D([Pe,Re],(t=>{const i=this.props[t];i&&D(i,(function(t,i){e[\"$initial_\"+W(i)]=t}))}));const t=this.props[Fe];if(t){const i=li.initialPersonPropsFromInfo(t);O(e,i)}return e}safe_merge(e){return D(this.props,(function(t,i){i in e||(e[i]=t)})),e}update_config(e,t){if(this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==t.persistence){const t=this.buildStorage(e),i=this.props;this.clear(),this.storage=t,this.props=i,this.save()}}set_disabled(e){this.disabled=e,this.disabled?this.remove():this.save()}set_cross_subdomain(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())}get_cross_subdomain(){return!!this.cross_subdomain}set_secure(e){e!==this.secure&&(this.secure=e,this.remove(),this.save())}set_event_timer(e,t){const i=this.props[Z]||{};i[e]=t,this.props[Z]=i,this.save()}remove_event_timer(e){const t=(this.props[Z]||{})[e];return S(t)||(delete this.props[Z][e],this.save()),t}get_property(e){return this.props[e]}set_property(e,t){this.props[e]=t,this.save()}}function di(e){var t;return(null===(t=JSON.stringify(e,function(){const e=[];return function(t,i){if(b(i)){for(;e.length>0&&e.at(-1)!==this;)e.pop();return e.includes(i)?\"[Circular]\":(e.push(i),i)}return i}}()))||void 0===t?void 0:t.length)||0}function hi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6606028.8;if(e.size>=t&&e.data.length>1){const t=Math.floor(e.data.length/2),i=e.data.slice(0,t),s=e.data.slice(t);return[hi({size:di(i),data:i,sessionId:e.sessionId,windowId:e.windowId}),hi({size:di(s),data:s,sessionId:e.sessionId,windowId:e.windowId})].flatMap((e=>e))}return[e]}var _i=(e=>(e[e.DomContentLoaded=0]=\"DomContentLoaded\",e[e.Load=1]=\"Load\",e[e.FullSnapshot=2]=\"FullSnapshot\",e[e.IncrementalSnapshot=3]=\"IncrementalSnapshot\",e[e.Meta=4]=\"Meta\",e[e.Custom=5]=\"Custom\",e[e.Plugin=6]=\"Plugin\",e))(_i||{}),pi=(e=>(e[e.Mutation=0]=\"Mutation\",e[e.MouseMove=1]=\"MouseMove\",e[e.MouseInteraction=2]=\"MouseInteraction\",e[e.Scroll=3]=\"Scroll\",e[e.ViewportResize=4]=\"ViewportResize\",e[e.Input=5]=\"Input\",e[e.TouchMove=6]=\"TouchMove\",e[e.MediaInteraction=7]=\"MediaInteraction\",e[e.StyleSheetRule=8]=\"StyleSheetRule\",e[e.CanvasMutation=9]=\"CanvasMutation\",e[e.Font=10]=\"Font\",e[e.Log=11]=\"Log\",e[e.Drag=12]=\"Drag\",e[e.StyleDeclaration=13]=\"StyleDeclaration\",e[e.Selection=14]=\"Selection\",e[e.AdoptedStyleSheet=15]=\"AdoptedStyleSheet\",e[e.CustomElement=16]=\"CustomElement\",e))(pi||{});function gi(e){var t;return e.id===Te||!(null===(t=e.closest)||void 0===t||!t.call(e,\".toolbar-global-fade-container\"))}function fi(e){return!!e&&1===e.nodeType}function vi(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function mi(e){return!!e&&3===e.nodeType}function yi(e){return!!e&&11===e.nodeType}function bi(e){return e?M(e).split(/\\s+/):[]}function wi(t){const i=null==e?void 0:e.location.href;return!!(i&&t&&t.some((e=>i.match(e))))}function Si(e){let t=\"\";switch(typeof e.className){case\"string\":t=e.className;break;case\"object\":t=(e.className&&\"baseVal\"in e.className?e.className.baseVal:null)||e.getAttribute(\"class\")||\"\";break;default:t=\"\"}return bi(t)}function Ei(e){return I(e)?null:M(e).split(/(\\s+)/).filter((e=>Oi(e))).join(\"\").replace(/[\\r\\n]/g,\" \").replace(/[ ]+/g,\" \").substring(0,255)}function ki(e){let t=\"\";return Fi(e)&&!Ci(e)&&e.childNodes&&e.childNodes.length&&D(e.childNodes,(function(e){var i;mi(e)&&e.textContent&&(t+=null!==(i=Ei(e.textContent))&&void 0!==i?i:\"\")})),M(t)}function xi(e){return S(e.target)?e.srcElement||null:null!==(t=e.target)&&void 0!==t&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}const Ii=[\"a\",\"button\",\"form\",\"input\",\"select\",\"textarea\",\"label\"];function Ri(e){const t=e.parentNode;return!(!t||!fi(t))&&t}function Pi(t,i){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;if(!e||!t||vi(t,\"html\")||!fi(t))return!1;if(null!=s&&s.url_allowlist&&!wi(s.url_allowlist))return!1;if(null!=s&&s.url_ignorelist&&wi(s.url_ignorelist))return!1;if(null!=s&&s.dom_event_allowlist){const e=s.dom_event_allowlist;if(e&&!e.some((e=>i.type===e)))return!1}let o=!1;const a=[t];let l=!0,c=t;for(;c.parentNode&&!vi(c,\"body\");)if(yi(c.parentNode))a.push(c.parentNode.host),c=c.parentNode.host;else{if(l=Ri(c),!l)break;if(n||Ii.indexOf(l.tagName.toLowerCase())>-1)o=!0;else{const t=e.getComputedStyle(l);t&&\"pointer\"===t.getPropertyValue(\"cursor\")&&(o=!0)}a.push(l),c=l}if(!function(e,t){const i=null==t?void 0:t.element_allowlist;if(S(i))return!0;for(const t of e)if(i.some((e=>t.tagName.toLowerCase()===e)))return!0;return!1}(a,s))return!1;if(!function(e,t){const i=null==t?void 0:t.css_selector_allowlist;if(S(i))return!0;for(const t of e)if(i.some((e=>t.matches(e))))return!0;return!1}(a,s))return!1;const u=e.getComputedStyle(t);if(u&&\"pointer\"===u.getPropertyValue(\"cursor\")&&\"click\"===i.type)return!0;const d=t.tagName.toLowerCase();switch(d){case\"html\":return!1;case\"form\":return(r||[\"submit\"]).indexOf(i.type)>=0;case\"input\":case\"select\":case\"textarea\":return(r||[\"change\",\"click\"]).indexOf(i.type)>=0;default:return o?(r||[\"click\"]).indexOf(i.type)>=0:(r||[\"click\"]).indexOf(i.type)>=0&&(Ii.indexOf(d)>-1||\"true\"===t.getAttribute(\"contenteditable\"))}}function Fi(e){for(let t=e;t.parentNode&&!vi(t,\"body\");t=t.parentNode){const e=Si(t);if(N(e,\"ph-sensitive\")||N(e,\"ph-no-capture\"))return!1}if(N(Si(e),\"ph-include\"))return!0;const t=e.type||\"\";if(E(t))switch(t.toLowerCase()){case\"hidden\":case\"password\":return!1}const i=e.name||e.id||\"\";if(E(i)){if(/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,\"\")))return!1}return!0}function Ci(e){return!!(vi(e,\"input\")&&![\"button\",\"checkbox\",\"submit\",\"reset\"].includes(e.type)||vi(e,\"select\")||vi(e,\"textarea\")||\"true\"===e.getAttribute(\"contenteditable\"))}const Ti=\"(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})\",$i=new RegExp(`^(?:${Ti})$`),Ai=new RegExp(Ti),Mi=\"\\\\d{3}-?\\\\d{2}-?\\\\d{4}\",Li=new RegExp(`^(${Mi})$`),Di=new RegExp(`(${Mi})`);function Oi(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(I(e))return!1;if(E(e)){e=M(e);if((t?$i:Ai).test((e||\"\").replace(/[- ]/g,\"\")))return!1;if((t?Li:Di).test(e))return!1}return!0}function Ni(e){let t=ki(e);return t=`${t} ${qi(e)}`.trim(),Oi(t)?t:\"\"}function qi(e){let t=\"\";return e&&e.childNodes&&e.childNodes.length&&D(e.childNodes,(function(e){var i;if(e&&\"span\"===(null===(i=e.tagName)||void 0===i?void 0:i.toLowerCase()))try{const i=ki(e);t=`${t} ${i}`.trim(),e.childNodes&&e.childNodes.length&&(t=`${t} ${qi(e)}`.trim())}catch(e){T.error(e)}})),t}function Bi(e){return function(e){const t=e.map((e=>{var t,i;let s=\"\";if(e.tag_name&&(s+=e.tag_name),e.attr_class){e.attr_class.sort();for(const t of e.attr_class)s+=`.${t.replace(/\"/g,\"\")}`}const n={...e.text?{text:e.text}:{},\"nth-child\":null!==(t=e.nth_child)&&void 0!==t?t:0,\"nth-of-type\":null!==(i=e.nth_of_type)&&void 0!==i?i:0,...e.href?{href:e.href}:{},...e.attr_id?{attr_id:e.attr_id}:{},...e.attributes},r={};return q(n).sort(((e,t)=>{let[i]=e,[s]=t;return i.localeCompare(s)})).forEach((e=>{let[t,i]=e;return r[Hi(t.toString())]=Hi(i.toString())})),s+=\":\",s+=q(n).map((e=>{let[t,i]=e;return`${t}=\"${i}\"`})).join(\"\"),s}));return t.join(\";\")}(function(e){return e.map((e=>{var t,i;const s={text:null===(t=e.$el_text)||void 0===t?void 0:t.slice(0,400),tag_name:e.tag_name,href:null===(i=e.attr__href)||void 0===i?void 0:i.slice(0,2048),attr_class:Ui(e),attr_id:e.attr__id,nth_child:e.nth_child,nth_of_type:e.nth_of_type,attributes:{}};return q(e).filter((e=>{let[t]=e;return 0===t.indexOf(\"attr__\")})).forEach((e=>{let[t,i]=e;return s.attributes[t]=i})),s}))}(e))}function Hi(e){return e.replace(/\"|\\\\\"/g,'\\\\\"')}function Ui(e){const t=e.attr__class;return t?m(t)?t:bi(t):void 0}const Wi=\"[SessionRecording]\",zi=\"redacted\",Vi={initiatorTypes:[\"audio\",\"beacon\",\"body\",\"css\",\"early-hint\",\"embed\",\"fetch\",\"frame\",\"iframe\",\"icon\",\"image\",\"img\",\"input\",\"link\",\"navigation\",\"object\",\"ping\",\"script\",\"track\",\"video\",\"xmlhttprequest\"],maskRequestFn:e=>e,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:[\"first-input\",\"navigation\",\"paint\",\"resource\"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[\".lr-ingest.io\",\".ingest.sentry.io\"]},Gi=[\"authorization\",\"x-forwarded-for\",\"authorization\",\"cookie\",\"set-cookie\",\"x-api-key\",\"x-real-ip\",\"remote-addr\",\"forwarded\",\"proxy-authorization\",\"x-csrf-token\",\"x-csrftoken\",\"x-xsrf-token\"],ji=[\"password\",\"secret\",\"passwd\",\"api_key\",\"apikey\",\"auth\",\"credentials\",\"mysql_pwd\",\"privatekey\",\"private_key\",\"token\"],Qi=[\"/s/\",\"/e/\",\"/i/\"];function Ji(e,t,i,s){if(I(e))return e;let n=(null==t?void 0:t[\"content-length\"])||function(e){return new Blob([e]).size}(e);return E(n)&&(n=parseInt(n)),n>i?Wi+` ${s} body too large to record (${n} bytes)`:e}function Yi(e,t){if(I(e))return e;let i=e;return Oi(i,!1)||(i=Wi+\" \"+t+\" body \"+zi),D(ji,(e=>{var s,n;null!==(s=i)&&void 0!==s&&s.length&&-1!==(null===(n=i)||void 0===n?void 0:n.indexOf(e))&&(i=Wi+\" \"+t+\" body \"+zi+\" as might contain: \"+e)})),i}const Xi=(e,t)=>{const i={payloadSizeLimitBytes:Vi.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...Vi.performanceEntryTypeToObserve],payloadHostDenyList:[...t.payloadHostDenyList||[],...Vi.payloadHostDenyList]},s=!1!==e.session_recording.recordHeaders&&t.recordHeaders,n=!1!==e.session_recording.recordBody&&t.recordBody,r=!1!==e.capture_performance&&t.recordPerformance,o=(e=>{var t;const i=Math.min(1e6,null!==(t=e.payloadSizeLimitBytes)&&void 0!==t?t:1e6);return e=>(null!=e&&e.requestBody&&(e.requestBody=Ji(e.requestBody,e.requestHeaders,i,\"Request\")),null!=e&&e.responseBody&&(e.responseBody=Ji(e.responseBody,e.responseHeaders,i,\"Response\")),e)})(i),a=e=>o((e=>{const t=ot(e.name);if(!(t&&t.pathname&&Qi.some((e=>0===t.pathname.indexOf(e)))))return e})((e=>{const t=e.requestHeaders;return I(t)||D(Object.keys(null!=t?t:{}),(e=>{Gi.includes(e.toLowerCase())&&(t[e]=zi)})),e})(e))),l=y(e.session_recording.maskNetworkRequestFn);return l&&y(e.session_recording.maskCapturedNetworkRequestFn)&&T.warn(\"Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored.\"),l&&(e.session_recording.maskCapturedNetworkRequestFn=t=>{const i=e.session_recording.maskNetworkRequestFn({url:t.name});return{...t,name:null==i?void 0:i.url}}),i.maskRequestFn=y(e.session_recording.maskCapturedNetworkRequestFn)?t=>{var i,s,n;const r=a(t);return r&&null!==(i=null===(s=(n=e.session_recording).maskCapturedNetworkRequestFn)||void 0===s?void 0:s.call(n,r))&&void 0!==i?i:void 0}:e=>function(e){if(!S(e))return e.requestBody=Yi(e.requestBody,\"Request\"),e.responseBody=Yi(e.responseBody,\"Response\"),e}(a(e)),{...Vi,...i,recordHeaders:s,recordBody:n,recordPerformance:r,recordInitialRequests:r}};function Ki(e,t,i,s){return t>i&&(T.warn(\"min cannot be greater than max.\"),t=i),R(e)?e>i?(s&&T.warn(s+\" cannot be  greater than max: \"+i+\". Using max value instead.\"),i):e<t?(s&&T.warn(s+\" cannot be less than min: \"+t+\". Using min value instead.\"),t):e:(s&&T.warn(s+\" must be a number. Defaulting to max value:\"+i),i)}class Zi{bucketSize=100;refillRate=10;mutationBuckets={};loggedTracker={};constructor(e){var t,i;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.rrweb=e,this.options=s,this.refillRate=Ki(null!==(t=this.options.refillRate)&&void 0!==t?t:this.refillRate,0,100,\"mutation throttling refill rate\"),this.bucketSize=Ki(null!==(i=this.options.bucketSize)&&void 0!==i?i:this.bucketSize,0,100,\"mutation throttling bucket size\"),setInterval((()=>{this.refillBuckets()}),1e3)}refillBuckets=()=>{Object.keys(this.mutationBuckets).forEach((e=>{this.mutationBuckets[e]=this.mutationBuckets[e]+this.refillRate,this.mutationBuckets[e]>=this.bucketSize&&delete this.mutationBuckets[e]}))};getNodeOrRelevantParent=e=>{const t=this.rrweb.mirror.getNode(e);if(\"svg\"!==(null==t?void 0:t.nodeName)&&t instanceof Element){const e=t.closest(\"svg\");if(e)return[this.rrweb.mirror.getId(e),e]}return[e,t]};numberOfChanges=e=>{var t,i,s,n,r,o,a,l;return(null!==(t=null===(i=e.removes)||void 0===i?void 0:i.length)&&void 0!==t?t:0)+(null!==(s=null===(n=e.attributes)||void 0===n?void 0:n.length)&&void 0!==s?s:0)+(null!==(r=null===(o=e.texts)||void 0===o?void 0:o.length)&&void 0!==r?r:0)+(null!==(a=null===(l=e.adds)||void 0===l?void 0:l.length)&&void 0!==a?a:0)};throttleMutations=e=>{if(3!==e.type||0!==e.data.source)return e;const t=e.data,i=this.numberOfChanges(t);t.attributes&&(t.attributes=t.attributes.filter((e=>{var t;const[i,s]=this.getNodeOrRelevantParent(e.id);if(0===this.mutationBuckets[i])return!1;var n,r;(this.mutationBuckets[i]=null!==(t=this.mutationBuckets[i])&&void 0!==t?t:this.bucketSize,this.mutationBuckets[i]=Math.max(this.mutationBuckets[i]-1,0),0===this.mutationBuckets[i])&&(this.loggedTracker[i]||(this.loggedTracker[i]=!0,null===(n=(r=this.options).onBlockedNode)||void 0===n||n.call(r,i,s)));return e})));const s=this.numberOfChanges(t);return 0!==s||i===s?e:void 0}}var es=Uint8Array,ts=Uint16Array,is=Uint32Array,ss=new es([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ns=new es([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),rs=new es([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),os=function(e,t){for(var i=new ts(31),s=0;s<31;++s)i[s]=t+=1<<e[s-1];var n=new is(i[30]);for(s=1;s<30;++s)for(var r=i[s];r<i[s+1];++r)n[r]=r-i[s]<<5|s;return[i,n]},as=os(ss,2),ls=as[0],cs=as[1];ls[28]=258,cs[258]=28;for(var us=os(ns,0)[1],ds=new ts(32768),hs=0;hs<32768;++hs){var _s=(43690&hs)>>>1|(21845&hs)<<1;_s=(61680&(_s=(52428&_s)>>>2|(13107&_s)<<2))>>>4|(3855&_s)<<4,ds[hs]=((65280&_s)>>>8|(255&_s)<<8)>>>1}var ps=function(e,t,i){for(var s=e.length,n=0,r=new ts(t);n<s;++n)++r[e[n]-1];var o,a=new ts(t);for(n=0;n<t;++n)a[n]=a[n-1]+r[n-1]<<1;if(i){o=new ts(1<<t);var l=15-t;for(n=0;n<s;++n)if(e[n])for(var c=n<<4|e[n],u=t-e[n],d=a[e[n]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)o[ds[d]>>>l]=c}else for(o=new ts(s),n=0;n<s;++n)o[n]=ds[a[e[n]-1]++]>>>15-e[n];return o},gs=new es(288);for(hs=0;hs<144;++hs)gs[hs]=8;for(hs=144;hs<256;++hs)gs[hs]=9;for(hs=256;hs<280;++hs)gs[hs]=7;for(hs=280;hs<288;++hs)gs[hs]=8;var fs=new es(32);for(hs=0;hs<32;++hs)fs[hs]=5;var vs=ps(gs,9,0),ms=ps(fs,5,0),ys=function(e){return(e/8>>0)+(7&e&&1)},bs=function(e,t,i){(null==i||i>e.length)&&(i=e.length);var s=new(e instanceof ts?ts:e instanceof is?is:es)(i-t);return s.set(e.subarray(t,i)),s},ws=function(e,t,i){i<<=7&t;var s=t/8>>0;e[s]|=i,e[s+1]|=i>>>8},Ss=function(e,t,i){i<<=7&t;var s=t/8>>0;e[s]|=i,e[s+1]|=i>>>8,e[s+2]|=i>>>16},Es=function(e,t){for(var i=[],s=0;s<e.length;++s)e[s]&&i.push({s:s,f:e[s]});var n=i.length,r=i.slice();if(!n)return[new es(0),0];if(1==n){var o=new es(i[0].s+1);return o[i[0].s]=1,[o,1]}i.sort((function(e,t){return e.f-t.f})),i.push({s:-1,f:25001});var a=i[0],l=i[1],c=0,u=1,d=2;for(i[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=n-1;)a=i[i[c].f<i[d].f?c++:d++],l=i[c!=u&&i[c].f<i[d].f?c++:d++],i[u++]={s:-1,f:a.f+l.f,l:a,r:l};var h=r[0].s;for(s=1;s<n;++s)r[s].s>h&&(h=r[s].s);var _=new ts(h+1),p=ks(i[u-1],_,0);if(p>t){s=0;var g=0,f=p-t,v=1<<f;for(r.sort((function(e,t){return _[t.s]-_[e.s]||e.f-t.f}));s<n;++s){var m=r[s].s;if(!(_[m]>t))break;g+=v-(1<<p-_[m]),_[m]=t}for(g>>>=f;g>0;){var y=r[s].s;_[y]<t?g-=1<<t-_[y]++-1:++s}for(;s>=0&&g;--s){var b=r[s].s;_[b]==t&&(--_[b],++g)}p=t}return[new es(_),p]},ks=function(e,t,i){return-1==e.s?Math.max(ks(e.l,t,i+1),ks(e.r,t,i+1)):t[e.s]=i},xs=function(e){for(var t=e.length;t&&!e[--t];);for(var i=new ts(++t),s=0,n=e[0],r=1,o=function(e){i[s++]=e},a=1;a<=t;++a)if(e[a]==n&&a!=t)++r;else{if(!n&&r>2){for(;r>138;r-=138)o(32754);r>2&&(o(r>10?r-11<<5|28690:r-3<<5|12305),r=0)}else if(r>3){for(o(n),--r;r>6;r-=6)o(8304);r>2&&(o(r-3<<5|8208),r=0)}for(;r--;)o(n);r=1,n=e[a]}return[i.subarray(0,s),t]},Is=function(e,t){for(var i=0,s=0;s<t.length;++s)i+=e[s]*t[s];return i},Rs=function(e,t,i){var s=i.length,n=ys(t+2);e[n]=255&s,e[n+1]=s>>>8,e[n+2]=255^e[n],e[n+3]=255^e[n+1];for(var r=0;r<s;++r)e[n+r+4]=i[r];return 8*(n+4+s)},Ps=function(e,t,i,s,n,r,o,a,l,c,u){ws(t,u++,i),++n[256];for(var d=Es(n,15),h=d[0],_=d[1],p=Es(r,15),g=p[0],f=p[1],v=xs(h),m=v[0],y=v[1],b=xs(g),w=b[0],S=b[1],E=new ts(19),k=0;k<m.length;++k)E[31&m[k]]++;for(k=0;k<w.length;++k)E[31&w[k]]++;for(var x=Es(E,7),I=x[0],R=x[1],P=19;P>4&&!I[rs[P-1]];--P);var F,C,T,$,A=c+5<<3,M=Is(n,gs)+Is(r,fs)+o,L=Is(n,h)+Is(r,g)+o+14+3*P+Is(E,I)+(2*E[16]+3*E[17]+7*E[18]);if(A<=M&&A<=L)return Rs(t,u,e.subarray(l,l+c));if(ws(t,u,1+(L<M)),u+=2,L<M){F=ps(h,_,0),C=h,T=ps(g,f,0),$=g;var D=ps(I,R,0);ws(t,u,y-257),ws(t,u+5,S-1),ws(t,u+10,P-4),u+=14;for(k=0;k<P;++k)ws(t,u+3*k,I[rs[k]]);u+=3*P;for(var O=[m,w],N=0;N<2;++N){var q=O[N];for(k=0;k<q.length;++k){var B=31&q[k];ws(t,u,D[B]),u+=I[B],B>15&&(ws(t,u,q[k]>>>5&127),u+=q[k]>>>12)}}}else F=vs,C=gs,T=ms,$=fs;for(k=0;k<a;++k)if(s[k]>255){B=s[k]>>>18&31;Ss(t,u,F[B+257]),u+=C[B+257],B>7&&(ws(t,u,s[k]>>>23&31),u+=ss[B]);var H=31&s[k];Ss(t,u,T[H]),u+=$[H],H>3&&(Ss(t,u,s[k]>>>5&8191),u+=ns[H])}else Ss(t,u,F[s[k]]),u+=C[s[k]];return Ss(t,u,F[256]),u+C[256]},Fs=new is([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Cs=function(){for(var e=new is(256),t=0;t<256;++t){for(var i=t,s=9;--s;)i=(1&i&&3988292384)^i>>>1;e[t]=i}return e}(),Ts=function(){var e=4294967295;return{p:function(t){for(var i=e,s=0;s<t.length;++s)i=Cs[255&i^t[s]]^i>>>8;e=i},d:function(){return 4294967295^e}}},$s=function(e,t,i,s,n){return function(e,t,i,s,n,r){var o=e.length,a=new es(s+o+5*(1+Math.floor(o/7e3))+n),l=a.subarray(s,a.length-n),c=0;if(!t||o<8)for(var u=0;u<=o;u+=65535){var d=u+65535;d<o?c=Rs(l,c,e.subarray(u,d)):(l[u]=r,c=Rs(l,c,e.subarray(u,o)))}else{for(var h=Fs[t-1],_=h>>>13,p=8191&h,g=(1<<i)-1,f=new ts(32768),v=new ts(g+1),m=Math.ceil(i/3),y=2*m,b=function(t){return(e[t]^e[t+1]<<m^e[t+2]<<y)&g},w=new is(25e3),S=new ts(288),E=new ts(32),k=0,x=0,I=(u=0,0),R=0,P=0;u<o;++u){var F=b(u),C=32767&u,T=v[F];if(f[C]=T,v[F]=C,R<=u){var $=o-u;if((k>7e3||I>24576)&&$>423){c=Ps(e,l,0,w,S,E,x,I,P,u-P,c),I=k=x=0,P=u;for(var A=0;A<286;++A)S[A]=0;for(A=0;A<30;++A)E[A]=0}var M=2,L=0,D=p,O=C-T&32767;if($>2&&F==b(u-O))for(var N=Math.min(_,$)-1,q=Math.min(32767,u),B=Math.min(258,$);O<=q&&--D&&C!=T;){if(e[u+M]==e[u+M-O]){for(var H=0;H<B&&e[u+H]==e[u+H-O];++H);if(H>M){if(M=H,L=O,H>N)break;var U=Math.min(O,H-2),W=0;for(A=0;A<U;++A){var z=u-O+A+32768&32767,V=z-f[z]+32768&32767;V>W&&(W=V,T=z)}}}O+=(C=T)-(T=f[C])+32768&32767}if(L){w[I++]=268435456|cs[M]<<18|us[L];var G=31&cs[M],j=31&us[L];x+=ss[G]+ns[j],++S[257+G],++E[j],R=u+M,++k}else w[I++]=e[u],++S[e[u]]}}c=Ps(e,l,r,w,S,E,x,I,P,u-P,c)}return bs(a,0,s+ys(c)+n)}(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,i,s,!n)},As=function(e,t,i){for(;i;++t)e[t]=i,i>>>=8},Ms=function(e,t){var i=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&As(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),i){e[3]=8;for(var s=0;s<=i.length;++s)e[s+10]=i.charCodeAt(s)}},Ls=function(e){return 10+(e.filename&&e.filename.length+1||0)};function Ds(e,t){void 0===t&&(t={});var i=Ts(),s=e.length;i.p(e);var n=$s(e,t,Ls(t),8),r=n.length;return Ms(n,t),As(n,r-8,i.d()),As(n,r-4,s),n}function Os(e,t){var i=e.length;if(\"undefined\"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var s=new es(e.length+(e.length>>>1)),n=0,r=function(e){s[n++]=e},o=0;o<i;++o){if(n+5>s.length){var a=new es(n+8+(i-o<<1));a.set(s),s=a}var l=e.charCodeAt(o);l<128||t?r(l):l<2048?(r(192|l>>>6),r(128|63&l)):l>55295&&l<57344?(r(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++o))>>>18),r(128|l>>>12&63),r(128|l>>>6&63),r(128|63&l)):(r(224|l>>>12),r(128|l>>>6&63),r(128|63&l))}return bs(s,0,n)}const Ns=3e5,qs=[pi.MouseMove,pi.MouseInteraction,pi.Scroll,pi.ViewportResize,pi.Input,pi.TouchMove,pi.MediaInteraction,pi.Drag],Bs=e=>({rrwebMethod:e,enqueuedAt:Date.now(),attempt:1}),Hs=\"[SessionRecording]\";function Us(e){return function(e,t){for(var i=\"\",s=0;s<e.length;){var n=e[s++];n<128||t?i+=String.fromCharCode(n):n<224?i+=String.fromCharCode((31&n)<<6|63&e[s++]):n<240?i+=String.fromCharCode((15&n)<<12|(63&e[s++])<<6|63&e[s++]):(n=((15&n)<<18|(63&e[s++])<<12|(63&e[s++])<<6|63&e[s++])-65536,i+=String.fromCharCode(55296|n>>10,56320|1023&n))}return i}(Ds(Os(JSON.stringify(e))),!0)}function Ws(e){return e.type===_i.Custom&&\"sessionIdle\"===e.data.tag}function zs(e,t){return t.some((t=>\"regex\"===t.matching&&new RegExp(t.url).test(e)))}class Vs{queuedRRWebEvents=[];isIdle=!1;_linkedFlagSeen=!1;_lastActivityTimestamp=Date.now();_linkedFlag=null;_removePageViewCaptureHook=void 0;_onSessionIdListener=void 0;_persistDecideOnSessionListener=void 0;_samplingSessionListener=void 0;_urlTriggers=[];_urlBlocklist=[];_urlBlocked=!1;_eventTriggers=[];_removeEventTriggerCaptureHook=void 0;_forceAllowLocalhostNetworkCapture=!1;get sessionIdleThresholdMilliseconds(){return this.instance.config.session_recording.session_idle_threshold_ms||3e5}get rrwebRecord(){var e,t;return null==h||null===(e=h.__PosthogExtensions__)||void 0===e||null===(t=e.rrweb)||void 0===t?void 0:t.record}get started(){return this._captureStarted}get sessionManager(){if(!this.instance.sessionManager)throw new Error(Hs+\" must be started with a valid sessionManager.\");return this.instance.sessionManager}get fullSnapshotIntervalMillis(){var e,t;return\"trigger_pending\"===this.triggerStatus?6e4:null!==(e=null===(t=this.instance.config.session_recording)||void 0===t?void 0:t.full_snapshot_interval_millis)&&void 0!==e?e:Ns}get isSampled(){const e=this.instance.get_property(pe);return P(e)?e:null}get sessionDuration(){var e,t;const i=null===(e=this.buffer)||void 0===e?void 0:e.data[(null===(t=this.buffer)||void 0===t?void 0:t.data.length)-1],{sessionStartTimestamp:s}=this.sessionManager.checkAndGetSessionAndWindowId(!0);return i?i.timestamp-s:null}get isRecordingEnabled(){const t=!!this.instance.get_property(ae),i=!this.instance.config.disable_session_recording;return e&&t&&i}get isConsoleLogCaptureEnabled(){const e=!!this.instance.get_property(le),t=this.instance.config.enable_recording_console_log;return null!=t?t:e}get canvasRecording(){var e,t,i,s,n,r;const o=this.instance.config.session_recording.captureCanvas,a=this.instance.get_property(ue),l=null!==(e=null!==(t=null==o?void 0:o.recordCanvas)&&void 0!==t?t:null==a?void 0:a.enabled)&&void 0!==e&&e,c=null!==(i=null!==(s=null==o?void 0:o.canvasFps)&&void 0!==s?s:null==a?void 0:a.fps)&&void 0!==i?i:0,u=null!==(n=null!==(r=null==o?void 0:o.canvasQuality)&&void 0!==r?r:null==a?void 0:a.quality)&&void 0!==n?n:0;return{enabled:l,fps:Ki(c,0,12,\"canvas recording fps\"),quality:Ki(u,0,1,\"canvas recording quality\")}}get networkPayloadCapture(){var e,t;const i=this.instance.get_property(ce),s={recordHeaders:null===(e=this.instance.config.session_recording)||void 0===e?void 0:e.recordHeaders,recordBody:null===(t=this.instance.config.session_recording)||void 0===t?void 0:t.recordBody},n=(null==s?void 0:s.recordHeaders)||(null==i?void 0:i.recordHeaders),r=(null==s?void 0:s.recordBody)||(null==i?void 0:i.recordBody),o=b(this.instance.config.capture_performance)?this.instance.config.capture_performance.network_timing:this.instance.config.capture_performance,a=!!(P(o)?o:null==i?void 0:i.capturePerformance);return n||r||a?{recordHeaders:n,recordBody:r,recordPerformance:a}:void 0}get sampleRate(){const e=this.instance.get_property(de);return R(e)?e:null}get minimumDuration(){const e=this.instance.get_property(he);return R(e)?e:null}get status(){return this.receivedDecide?this.isRecordingEnabled?I(this._linkedFlag)||this._linkedFlagSeen?\"trigger_pending\"===this.triggerStatus?\"buffering\":this._urlBlocked?\"paused\":P(this.isSampled)?this.isSampled?\"sampled\":\"disabled\":\"active\":\"buffering\":\"disabled\":\"buffering\"}get urlTriggerStatus(){var e;if(0===this._urlTriggers.length)return\"trigger_disabled\";return(null===(e=this.instance)||void 0===e?void 0:e.get_property(ge))===this.sessionId?\"trigger_activated\":\"trigger_pending\"}get eventTriggerStatus(){var e;if(0===this._eventTriggers.length)return\"trigger_disabled\";return(null===(e=this.instance)||void 0===e?void 0:e.get_property(fe))===this.sessionId?\"trigger_activated\":\"trigger_pending\"}get triggerStatus(){const e=\"trigger_activated\"===this.eventTriggerStatus||\"trigger_activated\"===this.urlTriggerStatus,t=\"trigger_pending\"===this.eventTriggerStatus||\"trigger_pending\"===this.urlTriggerStatus;return e?\"trigger_activated\":t?\"trigger_pending\":\"trigger_disabled\"}constructor(e){if(this.instance=e,this._captureStarted=!1,this._endpoint=\"/s/\",this.stopRrweb=void 0,this.receivedDecide=!1,!this.instance.sessionManager)throw T.error(Hs+\" started without valid sessionManager\"),new Error(Hs+\" started without valid sessionManager. This is a bug.\");const{sessionId:t,windowId:i}=this.sessionManager.checkAndGetSessionAndWindowId();this.sessionId=t,this.windowId=i,this.buffer=this.clearBuffer(),this.sessionIdleThresholdMilliseconds>=this.sessionManager.sessionTimeoutMs&&T.warn(Hs+` session_idle_threshold_ms (${this.sessionIdleThresholdMilliseconds}) is greater than the session timeout (${this.sessionManager.sessionTimeoutMs}). Session will never be detected as idle`)}_onBeforeUnload=()=>{this._flushBuffer()};_onOffline=()=>{this._tryAddCustomEvent(\"browser offline\",{})};_onOnline=()=>{this._tryAddCustomEvent(\"browser online\",{})};_onVisibilityChange=()=>{if(null!=o&&o.visibilityState){const e=\"window \"+o.visibilityState;this._tryAddCustomEvent(e,{})}};startIfEnabledOrStop(t){this.isRecordingEnabled?(this._startCapture(t),null==e||e.addEventListener(\"beforeunload\",this._onBeforeUnload),null==e||e.addEventListener(\"offline\",this._onOffline),null==e||e.addEventListener(\"online\",this._onOnline),null==e||e.addEventListener(\"visibilitychange\",this._onVisibilityChange),this._setupSampling(),this._addEventTriggerListener(),I(this._removePageViewCaptureHook)&&(this._removePageViewCaptureHook=this.instance._addCaptureHook((t=>{try{if(\"$pageview\"===t){const t=e?this._maskUrl(e.location.href):\"\";if(!t)return;this._tryAddCustomEvent(\"$pageview\",{href:t})}}catch(e){T.error(\"Could not add $pageview to rrweb session\",e)}}))),this._onSessionIdListener||(this._onSessionIdListener=this.sessionManager.onSessionId(((e,t,i)=>{var s,n,r,o;i&&(this._tryAddCustomEvent(\"$session_id_change\",{sessionId:e,windowId:t,changeReason:i}),null===(s=this.instance)||void 0===s||null===(n=s.persistence)||void 0===n||n.unregister(fe),null===(r=this.instance)||void 0===r||null===(o=r.persistence)||void 0===o||o.unregister(ge))})))):this.stopRecording()}stopRecording(){var t,i,s,n;this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,null==e||e.removeEventListener(\"beforeunload\",this._onBeforeUnload),null==e||e.removeEventListener(\"offline\",this._onOffline),null==e||e.removeEventListener(\"online\",this._onOnline),null==e||e.removeEventListener(\"visibilitychange\",this._onVisibilityChange),this.clearBuffer(),clearInterval(this._fullSnapshotTimer),null===(t=this._removePageViewCaptureHook)||void 0===t||t.call(this),this._removePageViewCaptureHook=void 0,null===(i=this._removeEventTriggerCaptureHook)||void 0===i||i.call(this),this._removeEventTriggerCaptureHook=void 0,null===(s=this._onSessionIdListener)||void 0===s||s.call(this),this._onSessionIdListener=void 0,null===(n=this._samplingSessionListener)||void 0===n||n.call(this),this._samplingSessionListener=void 0,T.info(Hs+\" stopped\"))}makeSamplingDecision(e){var t;const i=this.sessionId!==e,s=this.sampleRate;var n;if(!R(s))return void(null===(n=this.instance.persistence)||void 0===n||n.register({[pe]:null}));const r=this.isSampled;let o;const a=i||!P(r);if(a){o=Math.random()<s}else o=r;a&&(o?this._reportStarted(\"sampled\"):T.warn(Hs+` Sample rate (${s}) has determined that this sessionId (${e}) will not be sent to the server.`),this._tryAddCustomEvent(\"samplingDecisionMade\",{sampleRate:s,isSampled:o})),null===(t=this.instance.persistence)||void 0===t||t.register({[pe]:o})}afterDecideResponse(e){var t,i,s,n,r,o;(this._persistDecideResponse(e),this._linkedFlag=(null===(t=e.sessionRecording)||void 0===t?void 0:t.linkedFlag)||null,null!==(i=e.sessionRecording)&&void 0!==i&&i.endpoint)&&(this._endpoint=null===(o=e.sessionRecording)||void 0===o?void 0:o.endpoint);if(this._setupSampling(),!I(this._linkedFlag)&&!this._linkedFlagSeen){const e=E(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,t=E(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags(((i,s)=>{const n=b(s)&&e in s,r=t?s[e]===t:n;r&&this._reportStarted(\"linked_flag_matched\",{linkedFlag:e,linkedVariant:t}),this._linkedFlagSeen=r}))}null!==(s=e.sessionRecording)&&void 0!==s&&s.urlTriggers&&(this._urlTriggers=e.sessionRecording.urlTriggers),null!==(n=e.sessionRecording)&&void 0!==n&&n.urlBlocklist&&(this._urlBlocklist=e.sessionRecording.urlBlocklist),null!==(r=e.sessionRecording)&&void 0!==r&&r.eventTriggers&&(this._eventTriggers=e.sessionRecording.eventTriggers),this.receivedDecide=!0,this.startIfEnabledOrStop()}_setupSampling(){R(this.sampleRate)&&I(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId((e=>{this.makeSamplingDecision(e)})))}_persistDecideResponse(e){if(this.instance.persistence){var t;const i=this.instance.persistence,s=()=>{var t,s,n,r,o,a,l;const c=null===(t=e.sessionRecording)||void 0===t?void 0:t.sampleRate,u=I(c)?null:parseFloat(c),d=null===(s=e.sessionRecording)||void 0===s?void 0:s.minimumDurationMilliseconds;i.register({[ae]:!!e.sessionRecording,[le]:null===(n=e.sessionRecording)||void 0===n?void 0:n.consoleLogRecordingEnabled,[ce]:{capturePerformance:e.capturePerformance,...null===(r=e.sessionRecording)||void 0===r?void 0:r.networkPayloadCapture},[ue]:{enabled:null===(o=e.sessionRecording)||void 0===o?void 0:o.recordCanvas,fps:null===(a=e.sessionRecording)||void 0===a?void 0:a.canvasFps,quality:null===(l=e.sessionRecording)||void 0===l?void 0:l.canvasQuality},[de]:u,[he]:S(d)?null:d})};s(),null===(t=this._persistDecideOnSessionListener)||void 0===t||t.call(this),this._persistDecideOnSessionListener=this.sessionManager.onSessionId(s)}}log(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"log\";null===(t=this.instance.sessionRecording)||void 0===t||t.onRRwebEmit({type:6,data:{plugin:\"rrweb/console@1\",payload:{level:i,trace:[],payload:[JSON.stringify(e)]}},timestamp:Date.now()})}_startCapture(e){if(!S(Object.assign)&&!S(Array.from)&&!(this._captureStarted||this.instance.config.disable_session_recording||this.instance.consent.isOptedOut())){var t,i;if(this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),this.rrwebRecord)this._onScriptLoaded();else null===(t=h.__PosthogExtensions__)||void 0===t||null===(i=t.loadExternalDependency)||void 0===i||i.call(t,this.instance,\"recorder\",(e=>{if(e)return T.error(Hs+\" could not load recorder\",e);this._onScriptLoaded()}));T.info(Hs+\" starting\"),\"active\"===this.status&&this._reportStarted(e||\"recording_initialized\")}}isInteractiveEvent(e){var t;return 3===e.type&&-1!==qs.indexOf(null===(t=e.data)||void 0===t?void 0:t.source)}_updateWindowAndSessionIds(e){const t=this.isInteractiveEvent(e);if(!t&&!this.isIdle){e.timestamp-this._lastActivityTimestamp>this.sessionIdleThresholdMilliseconds&&(this.isIdle=!0,clearInterval(this._fullSnapshotTimer),this._tryAddCustomEvent(\"sessionIdle\",{eventTimestamp:e.timestamp,lastActivityTimestamp:this._lastActivityTimestamp,threshold:this.sessionIdleThresholdMilliseconds,bufferLength:this.buffer.data.length,bufferSize:this.buffer.size}),this._flushBuffer())}let i=!1;if(t&&(this._lastActivityTimestamp=e.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent(\"sessionNoLongerIdle\",{reason:\"user activity\",type:e.type}),i=!0)),this.isIdle)return;const{windowId:s,sessionId:n}=this.sessionManager.checkAndGetSessionAndWindowId(!t,e.timestamp),r=this.sessionId!==n,o=this.windowId!==s;this.windowId=s,this.sessionId=n,r||o?(this.stopRecording(),this.startIfEnabledOrStop(\"session_id_changed\")):i&&this._scheduleFullSnapshot()}_tryRRWebMethod(e){try{return e.rrwebMethod(),!0}catch(t){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:e.enqueuedAt||Date.now(),attempt:e.attempt++,rrwebMethod:e.rrwebMethod}):T.warn(Hs+\" could not emit queued rrweb event.\",t,e),!1}}_tryAddCustomEvent(e,t){return this._tryRRWebMethod(Bs((()=>this.rrwebRecord.addCustomEvent(e,t))))}_tryTakeFullSnapshot(){return this._tryRRWebMethod(Bs((()=>this.rrwebRecord.takeFullSnapshot())))}_onScriptLoaded(){var e;const t={blockClass:\"ph-no-capture\",blockSelector:void 0,ignoreClass:\"ph-ignore-input\",maskTextClass:\"ph-mask\",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},i=this.instance.config.session_recording;for(const[e,s]of Object.entries(i||{}))e in t&&(\"maskInputOptions\"===e?t.maskInputOptions={password:!0,...s}:t[e]=s);if(this.canvasRecording&&this.canvasRecording.enabled&&(t.recordCanvas=!0,t.sampling={canvas:this.canvasRecording.fps},t.dataURLOptions={type:\"image/webp\",quality:this.canvasRecording.quality}),!this.rrwebRecord)return void T.error(Hs+\"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.\");this.mutationRateLimiter=null!==(e=this.mutationRateLimiter)&&void 0!==e?e:new Zi(this.rrwebRecord,{refillRate:this.instance.config.session_recording.__mutationRateLimiterRefillRate,bucketSize:this.instance.config.session_recording.__mutationRateLimiterBucketSize,onBlockedNode:(e,t)=>{const i=`Too many mutations on node '${e}'. Rate limiting. This could be due to SVG animations or something similar`;T.info(i,{node:t}),this.log(Hs+\" \"+i,\"warn\")}});const s=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord({emit:e=>{this.onRRwebEmit(e)},plugins:s,...t}),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent(\"$session_options\",{sessionRecordingOptions:t,activePlugins:s.map((e=>null==e?void 0:e.name))}),this._tryAddCustomEvent(\"$posthog_config\",{config:this.instance.config})}_scheduleFullSnapshot(){if(this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),this.isIdle)return;const e=this.fullSnapshotIntervalMillis;e&&(this._fullSnapshotTimer=setInterval((()=>{this._tryTakeFullSnapshot()}),e))}_gatherRRWebPlugins(){var e,t,i,s;const n=[],r=null===(e=h.__PosthogExtensions__)||void 0===e||null===(t=e.rrwebPlugins)||void 0===t?void 0:t.getRecordConsolePlugin;r&&this.isConsoleLogCaptureEnabled&&n.push(r());const o=null===(i=h.__PosthogExtensions__)||void 0===i||null===(s=i.rrwebPlugins)||void 0===s?void 0:s.getRecordNetworkPlugin;if(this.networkPayloadCapture&&y(o)){!rt.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?n.push(o(Xi(this.instance.config,this.networkPayloadCapture))):T.info(Hs+\" NetworkCapture not started because we are on localhost.\")}return n}onRRwebEmit(e){var t;if(this._processQueuedEvents(),!e||!b(e))return;if(e.type===_i.Meta){const t=this._maskUrl(e.data.href);if(this._lastHref=t,!t)return;e.data.href=t}else this._pageViewFallBack();if(this._checkUrlTriggerConditions(),\"paused\"===this.status&&!function(e){return e.type===_i.Custom&&\"recording paused\"===e.data.tag}(e))return;e.type===_i.FullSnapshot&&this._scheduleFullSnapshot(),e.type===_i.FullSnapshot&&\"trigger_pending\"===this.triggerStatus&&this.clearBuffer();const i=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(e):e;if(!i)return;const s=function(e){const t=e;if(t&&b(t)&&6===t.type&&b(t.data)&&\"rrweb/console@1\"===t.data.plugin){t.data.payload.payload.length>10&&(t.data.payload.payload=t.data.payload.payload.slice(0,10),t.data.payload.payload.push(\"...[truncated]\"));const i=[];for(let e=0;e<t.data.payload.payload.length;e++)t.data.payload.payload[e]&&t.data.payload.payload[e].length>2e3?i.push(t.data.payload.payload[e].slice(0,2e3)+\"...[truncated]\"):i.push(t.data.payload.payload[e]);return t.data.payload.payload=i,e}return e}(i);if(this._updateWindowAndSessionIds(s),this.isIdle&&!Ws(s))return;if(Ws(s)){const e=s.data.payload;if(e){const t=e.lastActivityTimestamp,i=e.threshold;s.timestamp=t+i}}const n=null===(t=this.instance.config.session_recording.compress_events)||void 0===t||t?function(e){if(di(e)<1024)return e;try{if(e.type===_i.FullSnapshot)return{...e,data:Us(e.data),cv:\"2024-10\"};if(e.type===_i.IncrementalSnapshot&&e.data.source===pi.Mutation)return{...e,cv:\"2024-10\",data:{...e.data,texts:Us(e.data.texts),attributes:Us(e.data.attributes),removes:Us(e.data.removes),adds:Us(e.data.adds)}};if(e.type===_i.IncrementalSnapshot&&e.data.source===pi.StyleSheetRule)return{...e,cv:\"2024-10\",data:{...e.data,adds:Us(e.data.adds),removes:Us(e.data.removes)}}}catch(e){T.error(Hs+\" could not compress event - will use uncompressed event\",e)}return e}(s):s,r={$snapshot_bytes:di(n),$snapshot_data:n,$session_id:this.sessionId,$window_id:this.windowId};\"disabled\"!==this.status?this._captureSnapshotBuffered(r):this.clearBuffer()}_pageViewFallBack(){if(this.instance.config.capture_pageview||!e)return;const t=this._maskUrl(e.location.href);this._lastHref!==t&&(this._tryAddCustomEvent(\"$url_changed\",{href:t}),this._lastHref=t)}_processQueuedEvents(){if(this.queuedRRWebEvents.length){const e=[...this.queuedRRWebEvents];this.queuedRRWebEvents=[],e.forEach((e=>{Date.now()-e.enqueuedAt<=2e3&&this._tryRRWebMethod(e)}))}}_maskUrl(e){const t=this.instance.config.session_recording;if(t.maskNetworkRequestFn){var i;let s={url:e};return s=t.maskNetworkRequestFn(s),null===(i=s)||void 0===i?void 0:i.url}return e}clearBuffer(){return this.buffer={size:0,data:[],sessionId:this.sessionId,windowId:this.windowId},this.buffer}_flushBuffer(){this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);const e=this.minimumDuration,t=this.sessionDuration,i=R(t)&&t>=0,s=R(e)&&i&&t<e;if(\"buffering\"===this.status||s)return this.flushBufferTimer=setTimeout((()=>{this._flushBuffer()}),2e3),this.buffer;if(this.buffer.data.length>0){hi(this.buffer).forEach((e=>{this._captureSnapshot({$snapshot_bytes:e.size,$snapshot_data:e.data,$session_id:e.sessionId,$window_id:e.windowId})}))}return this.clearBuffer()}_captureSnapshotBuffered(e){var t;const i=2+((null===(t=this.buffer)||void 0===t?void 0:t.data.length)||0);!this.isIdle&&(this.buffer.size+e.$snapshot_bytes+i>943718.4||this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),this.buffer.size+=e.$snapshot_bytes,this.buffer.data.push(e.$snapshot_data),this.flushBufferTimer||this.isIdle||(this.flushBufferTimer=setTimeout((()=>{this._flushBuffer()}),2e3))}_captureSnapshot(e){this.instance.capture(\"$snapshot\",e,{_url:this.instance.requestRouter.endpointFor(\"api\",this._endpoint),_noTruncate:!0,_batchKey:\"recordings\",skip_client_rate_limiting:!0})}_checkUrlTriggerConditions(){if(void 0===e||!e.location.href)return;const t=e.location.href,i=\"paused\"===this.status,s=zs(t,this._urlBlocklist);s&&!i?this._pauseRecording():!s&&i&&this._resumeRecording(),zs(t,this._urlTriggers)&&this._activateTrigger(\"url\")}_activateTrigger(e){var t,i;\"trigger_pending\"===this.triggerStatus&&(null===(t=this.instance)||void 0===t||null===(i=t.persistence)||void 0===i||i.register({[\"url\"===e?ge:fe]:this.sessionId}),this._flushBuffer(),this._reportStarted(e+\"_trigger_matched\"))}_pauseRecording(){var e,t;\"paused\"!==this.status&&(this._urlBlocked=!0,null==o||null===(e=o.body)||void 0===e||null===(t=e.classList)||void 0===t||t.add(\"ph-no-capture\"),clearInterval(this._fullSnapshotTimer),setTimeout((()=>{this._flushBuffer()}),100),T.info(Hs+\" recording paused due to URL blocker\"),this._tryAddCustomEvent(\"recording paused\",{reason:\"url blocker\"}))}_resumeRecording(){var e,t;\"paused\"===this.status&&(this._urlBlocked=!1,null==o||null===(e=o.body)||void 0===e||null===(t=e.classList)||void 0===t||t.remove(\"ph-no-capture\"),this._tryTakeFullSnapshot(),this._scheduleFullSnapshot(),this._tryAddCustomEvent(\"recording resumed\",{reason:\"left blocked url\"}),T.info(Hs+\" recording resumed\"))}_addEventTriggerListener(){0!==this._eventTriggers.length&&I(this._removeEventTriggerCaptureHook)&&(this._removeEventTriggerCaptureHook=this.instance.on(\"eventCaptured\",(e=>{try{this._eventTriggers.includes(e.event)&&this._activateTrigger(\"event\")}catch(e){T.error(Hs+\"Could not activate event trigger\",e)}})))}overrideLinkedFlag(){this._linkedFlagSeen=!0,this._reportStarted(\"linked_flag_overridden\")}overrideSampling(){var e;null===(e=this.instance.persistence)||void 0===e||e.register({[pe]:!0}),this._reportStarted(\"sampling_overridden\")}overrideTrigger(e){this._activateTrigger(e)}_reportStarted(e,t){this.instance.register_for_session({$session_recording_start_reason:e}),T.info(Hs+\" \"+e.replace(\"_\",\" \"),t),N([\"recording_initialized\",\"session_id_changed\"],e)||this._tryAddCustomEvent(e,t)}}class Gs{constructor(e){this.instance=e,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}call(){const e={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(ye),group_properties:this.instance.get_property(be),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0};this.instance._send_request({method:\"POST\",url:this.instance.requestRouter.endpointFor(\"api\",\"/decide/?v=3\"),data:e,compression:this.instance.config.disable_compression?void 0:J.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:e=>this.parseDecideResponse(e.json)})}parseDecideResponse(e){this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer();const t=!e;if(this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(null!=e?e:{},t),t)T.error(\"Failed to fetch feature flags from PostHog.\");else{if(!o||!o.body)return T.info(\"document not ready yet, trying again in 500 milliseconds...\"),void setTimeout((()=>{this.parseDecideResponse(e)}),500);if(this.instance._afterDecideResponse(e),e.siteApps)if(this.instance.config.opt_in_site_apps)for(const{id:t,url:r}of e.siteApps){var i,s,n;h[`__$$ph_site_app_${t}`]=this.instance,null===(i=h.__PosthogExtensions__)||void 0===i||null===(s=(n=i).loadSiteApp)||void 0===s||s.call(n,this.instance,r,(e=>{if(e)return T.error(`Error while initializing PostHog app with config id ${t}`,e)}))}else e.siteApps.length>0&&T.error('PostHog site apps are disabled. Enable the \"opt_in_site_apps\" config to proceed.')}}}const js=null!=e&&e.location?ut(e.location.hash,\"__posthog\")||ut(location.hash,\"state\"):null,Qs=\"_postHogToolbarParams\";var Js;!function(e){e[e.UNINITIALIZED=0]=\"UNINITIALIZED\",e[e.LOADING=1]=\"LOADING\",e[e.LOADED=2]=\"LOADED\"}(Js||(Js={}));class Ys{constructor(e){this.instance=e}setToolbarState(e){h.ph_toolbar_state=e}getToolbarState(){var e;return null!==(e=h.ph_toolbar_state)&&void 0!==e?e:Js.UNINITIALIZED}maybeLoadToolbar(){var t,i;let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!e||!o)return!1;s=null!==(t=s)&&void 0!==t?t:e.location,r=null!==(i=r)&&void 0!==i?i:e.history;try{if(!n){try{e.localStorage.setItem(\"test\",\"test\"),e.localStorage.removeItem(\"test\")}catch{return!1}n=null==e?void 0:e.localStorage}const t=js||ut(s.hash,\"__posthog\")||ut(s.hash,\"state\");let i;const o=t?B((()=>JSON.parse(atob(decodeURIComponent(t)))))||B((()=>JSON.parse(decodeURIComponent(t)))):null;return o&&\"ph_authorize\"===o.action?(i=o,i.source=\"url\",i&&Object.keys(i).length>0&&(o.desiredHash?s.hash=o.desiredHash:r?r.replaceState(r.state,\"\",s.pathname+s.search):s.hash=\"\")):(i=JSON.parse(n.getItem(Qs)||\"{}\"),i.source=\"localstorage\",delete i.userIntent),!(!i.token||this.instance.config.token!==i.token)&&(this.loadToolbar(i),!0)}catch{return!1}}_callLoadToolbar(e){(h.ph_load_toolbar||h.ph_load_editor)(e,this.instance)}loadToolbar(t){const i=!(null==o||!o.getElementById(Te));if(!e||i)return!1;const s=\"custom\"===this.instance.requestRouter.region&&this.instance.config.advanced_disable_toolbar_metrics,n={token:this.instance.config.token,...t,apiURL:this.instance.requestRouter.endpointFor(\"ui\"),...s?{instrument:!1}:{}};if(e.localStorage.setItem(Qs,JSON.stringify({...n,source:void 0})),this.getToolbarState()===Js.LOADED)this._callLoadToolbar(n);else if(this.getToolbarState()===Js.UNINITIALIZED){var r,a;this.setToolbarState(Js.LOADING),null===(r=h.__PosthogExtensions__)||void 0===r||null===(a=r.loadExternalDependency)||void 0===a||a.call(r,this.instance,\"toolbar\",(e=>{if(e)return T.error(\"Failed to load toolbar\",e),void this.setToolbarState(Js.UNINITIALIZED);this.setToolbarState(Js.LOADED),this._callLoadToolbar(n)})),G(e,\"turbolinks:load\",(()=>{this.setToolbarState(Js.UNINITIALIZED),this.loadToolbar(n)}))}return!0}_loadEditor(e){return this.loadToolbar(e)}maybeLoadEditor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return this.maybeLoadToolbar(e,t,i)}}class Xs{isPaused=!0;queue=[];flushTimeoutMs=3e3;constructor(e){this.sendRequest=e}enqueue(e){this.queue.push(e),this.flushTimeout||this.setFlushTimeout()}unload(){this.clearFlushTimeout();const e=this.queue.length>0?this.formatQueue():{},t=Object.values(e),i=[...t.filter((e=>0===e.url.indexOf(\"/e\"))),...t.filter((e=>0!==e.url.indexOf(\"/e\")))];i.map((e=>{this.sendRequest({...e,transport:\"sendBeacon\"})}))}enable(){this.isPaused=!1,this.setFlushTimeout()}setFlushTimeout(){this.isPaused||(this.flushTimeout=setTimeout((()=>{if(this.clearFlushTimeout(),this.queue.length>0){const e=this.formatQueue();for(const t in e){const i=e[t],s=(new Date).getTime();i.data&&m(i.data)&&D(i.data,(e=>{e.offset=Math.abs(e.timestamp-s),delete e.timestamp})),this.sendRequest(i)}}}),this.flushTimeoutMs))}clearFlushTimeout(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}formatQueue(){const e={};return D(this.queue,(t=>{var i;const s=t,n=(s?s.batchKey:null)||s.url;S(e[n])&&(e[n]={...s,data:[]}),null===(i=e[n].data)||void 0===i||i.push(s.data)})),this.queue=[],e}}const Ks=!!c||!!l,Zs=\"text/plain\",en=(e,t)=>{const[i,s]=e.split(\"?\"),n={...t};null==s||s.split(\"&\").forEach((e=>{const[t]=e.split(\"=\");delete n[t]}));let r=lt(n);return r=r?(s?s+\"&\":\"\")+r:s,`${i}?${r}`},tn=e=>{let{data:t,compression:i}=e;if(!t)return;if(i===J.GZipJS){const e=Ds(Os(JSON.stringify(t)),{mtime:0}),i=new Blob([e],{type:Zs});return{contentType:Zs,body:i,estimatedSize:i.size}}if(i===J.Base64){const e=function(e){const t=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";let i,s,n,r,o,a,l,c,u=0,d=0,h=\"\";const _=[];if(!e)return e;e=V(e);do{i=e.charCodeAt(u++),s=e.charCodeAt(u++),n=e.charCodeAt(u++),c=i<<16|s<<8|n,r=c>>18&63,o=c>>12&63,a=c>>6&63,l=63&c,_[d++]=t.charAt(r)+t.charAt(o)+t.charAt(a)+t.charAt(l)}while(u<e.length);switch(h=_.join(\"\"),e.length%3){case 1:h=h.slice(0,-2)+\"==\";break;case 2:h=h.slice(0,-1)+\"=\"}return h}(JSON.stringify(t)),i=(e=>\"data=\"+encodeURIComponent(\"string\"==typeof e?e:JSON.stringify(e)))(e);return{contentType:\"application/x-www-form-urlencoded\",body:i,estimatedSize:new Blob([i]).size}}const s=JSON.stringify(t);return{contentType:\"application/json\",body:s,estimatedSize:new Blob([s]).size}},sn=e=>{var t;const i=new c;i.open(e.method||\"GET\",e.url,!0);const{contentType:s,body:n}=null!==(t=tn(e))&&void 0!==t?t:{};D(e.headers,(function(e,t){i.setRequestHeader(t,e)})),s&&i.setRequestHeader(\"Content-Type\",s),e.timeout&&(i.timeout=e.timeout),i.withCredentials=!0,i.onreadystatechange=()=>{if(4===i.readyState){var t;const s={statusCode:i.status,text:i.responseText};if(200===i.status)try{s.json=JSON.parse(i.responseText)}catch{}null===(t=e.callback)||void 0===t||t.call(e,s)}},i.send(n)},nn=e=>{var t,i;const{contentType:s,body:n,estimatedSize:r}=null!==(t=tn(e))&&void 0!==t?t:{},o=new Headers;D(e.headers,(function(e,t){o.append(t,e)})),s&&o.append(\"Content-Type\",s);const a=e.url;let c=null;if(u){const t=new u;c={signal:t.signal,timeout:setTimeout((()=>t.abort()),e.timeout)}}l(a,{method:(null==e?void 0:e.method)||\"GET\",headers:o,keepalive:\"POST\"===e.method&&(r||0)<52428.8,body:n,signal:null===(i=c)||void 0===i?void 0:i.signal}).then((t=>t.text().then((i=>{var s;const n={statusCode:t.status,text:i};if(200===t.status)try{n.json=JSON.parse(i)}catch(e){T.error(e)}null===(s=e.callback)||void 0===s||s.call(e,n)})))).catch((t=>{var i;T.error(t),null===(i=e.callback)||void 0===i||i.call(e,{statusCode:0,text:t})})).finally((()=>c?clearTimeout(c.timeout):null))},rn=e=>{const t=en(e.url,{beacon:\"1\"});try{var i;const{contentType:s,body:n}=null!==(i=tn(e))&&void 0!==i?i:{},o=\"string\"==typeof n?new Blob([n],{type:s}):n;r.sendBeacon(t,o)}catch{}},on=[];c&&on.push({transport:\"XHR\",method:sn}),l&&on.push({transport:\"fetch\",method:nn}),null!=r&&r.sendBeacon&&on.push({transport:\"sendBeacon\",method:rn});class an{isPolling=!1;pollIntervalMs=3e3;queue=[];constructor(t){this.instance=t,this.queue=[],this.areWeOnline=!0,!S(e)&&\"onLine\"in e.navigator&&(this.areWeOnline=e.navigator.onLine,e.addEventListener(\"online\",(()=>{this.areWeOnline=!0,this.flush()})),e.addEventListener(\"offline\",(()=>{this.areWeOnline=!1})))}retriableRequest(e){let{retriesPerformedSoFar:t,...i}=e;R(t)&&t>0&&(i.url=en(i.url,{retry_count:t})),this.instance._send_request({...i,callback:e=>{var s;200!==e.statusCode&&(e.statusCode<400||e.statusCode>=500)&&(null!=t?t:0)<10?this.enqueue({retriesPerformedSoFar:t,...i}):null===(s=i.callback)||void 0===s||s.call(i,e)}})}enqueue(e){const t=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=t+1;const i=function(e){const t=3e3*2**e,i=t/2,s=Math.min(18e5,t),n=(Math.random()-.5)*(s-i);return Math.ceil(s+n)}(t),s=Date.now()+i;this.queue.push({retryAt:s,requestOptions:e});let n=`Enqueued failed request for retry in ${i}`;navigator.onLine||(n+=\" (Browser is offline)\"),T.warn(n),this.isPolling||(this.isPolling=!0,this.poll())}poll(){this.poller&&clearTimeout(this.poller),this.poller=setTimeout((()=>{this.areWeOnline&&this.queue.length>0&&this.flush(),this.poll()}),this.pollIntervalMs)}flush(){const e=Date.now(),t=[],i=this.queue.filter((i=>i.retryAt<e||(t.push(i),!1)));if(this.queue=t,i.length>0)for(const{requestOptions:e}of i)this.retriableRequest(e)}unload(){this.poller&&(clearTimeout(this.poller),this.poller=void 0);for(const{requestOptions:e}of this.queue)try{this.instance._send_request({...e,transport:\"sendBeacon\"})}catch(e){T.error(e)}this.queue=[]}}class ln{_sessionIdChangedHandlers=[];constructor(e,t,i,s){var n;this.config=e,this.persistence=t,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=i||ze,this._windowIdGenerator=s||ze;const r=e.persistence_name||e.token,o=e.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Ki(o,60,1800,\"session_idle_timeout_seconds\"),this._window_id_storage_key=\"ph_\"+r+\"_window_id\",this._primary_window_exists_storage_key=\"ph_\"+r+\"_primary_window_exists\",this._canUseSessionStorage()){const e=nt.parse(this._window_id_storage_key),t=nt.parse(this._primary_window_exists_storage_key);e&&!t?this._windowId=e:nt.remove(this._window_id_storage_key),nt.set(this._primary_window_exists_storage_key,!0)}if(null!==(n=this.config.bootstrap)&&void 0!==n&&n.sessionID)try{const e=(e=>{const t=e.replace(/-/g,\"\");if(32!==t.length)throw new Error(\"Not a valid UUID\");if(\"7\"!==t[12])throw new Error(\"Not a UUIDv7\");return parseInt(t.substring(0,12),16)})(this.config.bootstrap.sessionID);this._setSessionId(this.config.bootstrap.sessionID,(new Date).getTime(),e)}catch(e){T.error(\"Invalid sessionID in bootstrap\",e)}this._listenToReloadWindow()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(e){return S(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(e),this._sessionId&&e(this._sessionId,this._windowId),()=>{this._sessionIdChangedHandlers=this._sessionIdChangedHandlers.filter((t=>t!==e))}}_canUseSessionStorage(){return\"memory\"!==this.config.persistence&&!this.persistence.disabled&&nt.is_supported()}_setWindowId(e){e!==this._windowId&&(this._windowId=e,this._canUseSessionStorage()&&nt.set(this._window_id_storage_key,e))}_getWindowId(){return this._windowId?this._windowId:this._canUseSessionStorage()?nt.parse(this._window_id_storage_key):null}_setSessionId(e,t,i){e===this._sessionId&&t===this._sessionActivityTimestamp&&i===this._sessionStartTimestamp||(this._sessionStartTimestamp=i,this._sessionActivityTimestamp=t,this._sessionId=e,this.persistence.register({[_e]:[t,e,i]}))}_getSessionId(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];const e=this.persistence.props[_e];return m(e)&&2===e.length&&e.push(e[0]),e||[0,null,0]}resetSessionId(){this._setSessionId(null,null,null)}_listenToReloadWindow(){null==e||e.addEventListener(\"beforeunload\",(()=>{this._canUseSessionStorage()&&nt.remove(this._primary_window_exists_storage_key)}))}checkAndGetSessionAndWindowId(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||(new Date).getTime();let[i,s,n]=this._getSessionId(),r=this._getWindowId();const o=R(n)&&n>0&&Math.abs(t-n)>864e5;let a=!1;const l=!s,c=!e&&Math.abs(t-i)>this.sessionTimeoutMs;l||c||o?(s=this._sessionIdGenerator(),r=this._windowIdGenerator(),T.info(\"[SessionId] new session ID generated\",{sessionId:s,windowId:r,changeReason:{noSessionId:l,activityTimeout:c,sessionPastMaximumLength:o}}),n=t,a=!0):r||(r=this._windowIdGenerator(),a=!0);const u=0===i||!e||o?t:i,d=0===n?(new Date).getTime():n;return this._setWindowId(r),this._setSessionId(s,u,d),a&&this._sessionIdChangedHandlers.forEach((e=>e(s,r,a?{noSessionId:l,activityTimeout:c,sessionPastMaximumLength:o}:void 0))),{sessionId:s,windowId:r,sessionStartTimestamp:d,changeReason:a?{noSessionId:l,activityTimeout:c,sessionPastMaximumLength:o}:void 0,lastActivityTimestamp:i}}}let cn;!function(e){e.US=\"us\",e.EU=\"eu\",e.CUSTOM=\"custom\"}(cn||(cn={}));const un=\"i.posthog.com\";class dn{_regionCache={};constructor(e){this.instance=e}get apiHost(){const e=this.instance.config.api_host.trim().replace(/\\/$/,\"\");return\"https://app.posthog.com\"===e?\"https://us.i.posthog.com\":e}get uiHost(){var e;let t=null===(e=this.instance.config.ui_host)||void 0===e?void 0:e.replace(/\\/$/,\"\");return t||(t=this.apiHost.replace(`.${un}`,\".posthog.com\")),\"https://app.posthog.com\"===t?\"https://us.posthog.com\":t}get region(){return this._regionCache[this.apiHost]||(/https:\\/\\/(app|us|us-assets)(\\.i)?\\.posthog\\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=cn.US:/https:\\/\\/(eu|eu-assets)(\\.i)?\\.posthog\\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=cn.EU:this._regionCache[this.apiHost]=cn.CUSTOM),this._regionCache[this.apiHost]}endpointFor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";if(t&&(t=\"/\"===t[0]?t:`/${t}`),\"ui\"===e)return this.uiHost+t;if(this.region===cn.CUSTOM)return this.apiHost+t;const i=un+t;switch(e){case\"assets\":return`https://${this.region}-assets.${i}`;case\"api\":return`https://${this.region}.${i}`}}}const hn=\"posthog-js\";function _n(e){let{organization:t,projectId:i,prefix:s,severityAllowList:n=[\"error\"]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r=>{var o,a,l,c,u;if(!(\"*\"===n||n.includes(r.level))||!e.__loaded)return r;r.tags||(r.tags={});const d=e.requestRouter.endpointFor(\"ui\",`/project/${e.config.token}/person/${e.get_distinct_id()}`);r.tags[\"PostHog Person URL\"]=d,e.sessionRecordingStarted()&&(r.tags[\"PostHog Recording URL\"]=e.get_session_replay_url({withTimestamp:!0}));const h=(null===(o=r.exception)||void 0===o?void 0:o.values)||[];h.map((e=>{e.stacktrace&&(e.stacktrace.type=\"raw\")}));const _={$exception_message:(null===(a=h[0])||void 0===a?void 0:a.value)||r.message,$exception_type:null===(l=h[0])||void 0===l?void 0:l.type,$exception_personURL:d,$exception_level:r.level,$exception_list:h,$sentry_event_id:r.event_id,$sentry_exception:r.exception,$sentry_exception_message:(null===(c=h[0])||void 0===c?void 0:c.value)||r.message,$sentry_exception_type:null===(u=h[0])||void 0===u?void 0:u.type,$sentry_tags:r.tags,$level:r.level};return t&&i&&(_.$sentry_url=(s||\"https://sentry.io/organizations/\")+t+\"/issues/?project=\"+i+\"&query=\"+r.event_id),e.exceptions.sendExceptionEvent(_),r}}class pn{constructor(e,t,i,s,n){this.name=hn,this.setupOnce=function(r){r(_n(e,{organization:t,projectId:i,prefix:s,severityAllowList:n}))}}}function gn(e,t){const i=e.config.segment;if(!i)return t();!function(e,t){const i=e.config.segment;if(!i)return t();const s=i=>{const s=()=>i.anonymousId()||ze();e.config.get_device_id=s,i.id()&&(e.register({distinct_id:i.id(),$device_id:s()}),e.persistence.set_property(ke,\"identified\")),t()},n=i.user();\"then\"in n&&y(n.then)?n.then((e=>s(e))):s(n)}(e,(()=>{i.register((e=>{Promise&&Promise.resolve||T.warn(\"This browser does not have Promise support, and can not use the segment integration\");const t=(t,i)=>{var s;if(!i)return t;t.event.userId||t.event.anonymousId===e.get_distinct_id()||(T.info(\"Segment integration does not have a userId set, resetting PostHog\"),e.reset()),t.event.userId&&t.event.userId!==e.get_distinct_id()&&(T.info(\"Segment integration has a userId set, identifying with PostHog\"),e.identify(t.event.userId));const n=e._calculate_event_properties(i,null!==(s=t.event.properties)&&void 0!==s?s:{},new Date);return t.event.properties=Object.assign({},n,t.event.properties),t};return{name:\"PostHog JS\",type:\"enrichment\",version:\"1.0.0\",isLoaded:()=>!0,load:()=>Promise.resolve(),track:e=>t(e,e.event.event),page:e=>t(e,\"$pageview\"),identify:e=>t(e,\"$identify\"),screen:e=>t(e,\"$screen\")}})(e)).then((()=>{t()}))}))}class fn{constructor(e){this._instance=e}doPageView(t){var i;const s=this._previousPageViewProperties(t);return this._currentPath=null!==(i=null==e?void 0:e.location.pathname)&&void 0!==i?i:\"\",this._instance.scrollManager.resetContext(),this._prevPageviewTimestamp=t,s}doPageLeave(e){return this._previousPageViewProperties(e)}_previousPageViewProperties(e){const t=this._currentPath,i=this._prevPageviewTimestamp,s=this._instance.scrollManager.getContext();if(!i)return{};let n={};if(s){let{maxScrollHeight:e,lastScrollY:t,maxScrollY:i,maxContentHeight:r,lastContentY:o,maxContentY:a}=s;if(!(S(e)||S(t)||S(i)||S(r)||S(o)||S(a))){e=Math.ceil(e),t=Math.ceil(t),i=Math.ceil(i),r=Math.ceil(r),o=Math.ceil(o),a=Math.ceil(a);n={$prev_pageview_last_scroll:t,$prev_pageview_last_scroll_percentage:e<=1?1:Ki(t/e,0,1),$prev_pageview_max_scroll:i,$prev_pageview_max_scroll_percentage:e<=1?1:Ki(i/e,0,1),$prev_pageview_last_content:o,$prev_pageview_last_content_percentage:r<=1?1:Ki(o/r,0,1),$prev_pageview_max_content:a,$prev_pageview_max_content_percentage:r<=1?1:Ki(a/r,0,1)}}}return t&&(n.$prev_pageview_pathname=t),i&&(n.$prev_pageview_duration=(e.getTime()-i.getTime())/1e3),n}}let vn,mn,yn;!function(e){e.Popover=\"popover\",e.API=\"api\",e.Widget=\"widget\"}(vn||(vn={})),function(e){e.Open=\"open\",e.MultipleChoice=\"multiple_choice\",e.SingleChoice=\"single_choice\",e.Rating=\"rating\",e.Link=\"link\"}(mn||(mn={})),function(e){e.NextQuestion=\"next_question\",e.End=\"end\",e.ResponseBased=\"response_based\",e.SpecificQuestion=\"specific_question\"}(yn||(yn={}));class bn{events={};constructor(){this.events={}}on(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),()=>{this.events[e]=this.events[e].filter((e=>e!==t))}}emit(e,t){for(const i of this.events[e]||[])i(t);for(const i of this.events[\"*\"]||[])i(e,t)}}class wn{_debugEventEmitter=new bn;constructor(e){this.instance=e,this.actionEvents=new Set,this.actionRegistry=new Set}init(){var e;if(!S(null===(e=this.instance)||void 0===e?void 0:e._addCaptureHook)){var t;const e=(e,t)=>{this.on(e,t)};null===(t=this.instance)||void 0===t||t._addCaptureHook(e)}}register(e){var t,i;if(!S(null===(t=this.instance)||void 0===t?void 0:t._addCaptureHook)&&(e.forEach((e=>{var t,i;null===(t=this.actionRegistry)||void 0===t||t.add(e),null===(i=e.steps)||void 0===i||i.forEach((e=>{var t;null===(t=this.actionEvents)||void 0===t||t.add((null==e?void 0:e.event)||\"\")}))})),null!==(i=this.instance)&&void 0!==i&&i.autocapture)){var s;const t=new Set;e.forEach((e=>{var i;null===(i=e.steps)||void 0===i||i.forEach((e=>{null!=e&&e.selector&&t.add(null==e?void 0:e.selector)}))})),null===(s=this.instance)||void 0===s||s.autocapture.setElementSelectors(t)}}on(e,t){var i;null!=t&&0!=e.length&&(this.actionEvents.has(e)||this.actionEvents.has(null==t?void 0:t.event))&&this.actionRegistry&&(null===(i=this.actionRegistry)||void 0===i?void 0:i.size)>0&&this.actionRegistry.forEach((e=>{this.checkAction(t,e)&&this._debugEventEmitter.emit(\"actionCaptured\",e.name)}))}_addActionHook(e){this.onAction(\"actionCaptured\",(t=>e(t)))}checkAction(e,t){if(null==(null==t?void 0:t.steps))return!1;for(const i of t.steps)if(this.checkStep(e,i))return!0;return!1}onAction(e,t){return this._debugEventEmitter.on(e,t)}checkStep=(e,t)=>this.checkStepEvent(e,t)&&this.checkStepUrl(e,t)&&this.checkStepElement(e,t);checkStepEvent=(e,t)=>null==t||!t.event||(null==e?void 0:e.event)===(null==t?void 0:t.event);checkStepUrl(e,t){if(null!=t&&t.url){var i;const s=null==e||null===(i=e.properties)||void 0===i?void 0:i.$current_url;if(!s||\"string\"!=typeof s)return!1;if(!wn.matchString(s,null==t?void 0:t.url,(null==t?void 0:t.url_matching)||\"contains\"))return!1}return!0}static matchString(t,i,s){switch(s){case\"regex\":return!!e&&at(t,i);case\"exact\":return i===t;case\"contains\":const s=wn.escapeStringRegexp(i).replace(/_/g,\".\").replace(/%/g,\".*\");return at(t,s);default:return!1}}static escapeStringRegexp(e){return e.replace(/[|\\\\{}()[\\]^$+*?.]/g,\"\\\\$&\").replace(/-/g,\"\\\\x2d\")}checkStepElement(e,t){if(null!=t&&t.href||null!=t&&t.tag_name||null!=t&&t.text){if(!this.getElementsList(e).some((e=>!(null!=t&&t.href&&!wn.matchString(e.href||\"\",null==t?void 0:t.href,(null==t?void 0:t.href_matching)||\"exact\"))&&((null==t||!t.tag_name||e.tag_name===(null==t?void 0:t.tag_name))&&!(null!=t&&t.text&&!wn.matchString(e.text||\"\",null==t?void 0:t.text,(null==t?void 0:t.text_matching)||\"exact\")&&!wn.matchString(e.$el_text||\"\",null==t?void 0:t.text,(null==t?void 0:t.text_matching)||\"exact\"))))))return!1}if(null!=t&&t.selector){var i;const s=null==e||null===(i=e.properties)||void 0===i?void 0:i.$element_selectors;if(!s)return!1;if(!s.includes(null==t?void 0:t.selector))return!1}return!0}getElementsList(e){return null==(null==e?void 0:e.properties.$elements)?[]:null==e?void 0:e.properties.$elements}}class Sn{static SURVEY_SHOWN_EVENT_NAME=\"survey shown\";constructor(e){this.instance=e,this.eventToSurveys=new Map,this.actionToSurveys=new Map}register(e){var t;S(null===(t=this.instance)||void 0===t?void 0:t._addCaptureHook)||(this.setupEventBasedSurveys(e),this.setupActionBasedSurveys(e))}setupActionBasedSurveys(e){const t=e.filter((e=>{var t,i,s,n;return(null===(t=e.conditions)||void 0===t?void 0:t.actions)&&(null===(i=e.conditions)||void 0===i||null===(s=i.actions)||void 0===s||null===(n=s.values)||void 0===n?void 0:n.length)>0}));if(0!==t.length){if(null==this.actionMatcher){this.actionMatcher=new wn(this.instance),this.actionMatcher.init();const e=e=>{this.onAction(e)};this.actionMatcher._addActionHook(e)}t.forEach((e=>{var t,i,s,n,r,o,a,l,c,u;e.conditions&&null!==(t=e.conditions)&&void 0!==t&&t.actions&&null!==(i=e.conditions)&&void 0!==i&&null!==(s=i.actions)&&void 0!==s&&s.values&&(null===(n=e.conditions)||void 0===n||null===(r=n.actions)||void 0===r||null===(o=r.values)||void 0===o?void 0:o.length)>0&&(null===(a=this.actionMatcher)||void 0===a||a.register(e.conditions.actions.values),null===(l=e.conditions)||void 0===l||null===(c=l.actions)||void 0===c||null===(u=c.values)||void 0===u||u.forEach((t=>{if(t&&t.name){const i=this.actionToSurveys.get(t.name);i&&i.push(e.id),this.actionToSurveys.set(t.name,i||[e.id])}})))}))}}setupEventBasedSurveys(e){var t;if(0===e.filter((e=>{var t,i,s,n;return(null===(t=e.conditions)||void 0===t?void 0:t.events)&&(null===(i=e.conditions)||void 0===i||null===(s=i.events)||void 0===s||null===(n=s.values)||void 0===n?void 0:n.length)>0})).length)return;null===(t=this.instance)||void 0===t||t._addCaptureHook(((e,t)=>{this.onEvent(e,t)})),e.forEach((e=>{var t,i,s;null===(t=e.conditions)||void 0===t||null===(i=t.events)||void 0===i||null===(s=i.values)||void 0===s||s.forEach((t=>{if(t&&t.name){const i=this.eventToSurveys.get(t.name);i&&i.push(e.id),this.eventToSurveys.set(t.name,i||[e.id])}}))}))}onEvent(e,t){var i,s;const n=(null===(i=this.instance)||void 0===i||null===(s=i.persistence)||void 0===s?void 0:s.props[Se])||[];if(Sn.SURVEY_SHOWN_EVENT_NAME==e&&t&&n.length>0){var r;const e=null==t||null===(r=t.properties)||void 0===r?void 0:r.$survey_id;if(e){const t=n.indexOf(e);t>=0&&(n.splice(t,1),this._updateActivatedSurveys(n))}}else this.eventToSurveys.has(e)&&this._updateActivatedSurveys(n.concat(this.eventToSurveys.get(e)||[]))}onAction(e){var t,i;const s=(null===(t=this.instance)||void 0===t||null===(i=t.persistence)||void 0===i?void 0:i.props[Se])||[];this.actionToSurveys.has(e)&&this._updateActivatedSurveys(s.concat(this.actionToSurveys.get(e)||[]))}_updateActivatedSurveys(e){var t,i;null===(t=this.instance)||void 0===t||null===(i=t.persistence)||void 0===i||i.register({[Se]:[...new Set(e)]})}getSurveys(){var e,t;const i=null===(e=this.instance)||void 0===e||null===(t=e.persistence)||void 0===t?void 0:t.props[Se];return i||[]}getEventToSurveys(){return this.eventToSurveys}_getActionMatcher(){return this.actionMatcher}}var En,kn,xn,In,Rn,Pn,Fn,Cn,Tn={},$n=[],An=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Mn=Array.isArray;function Ln(e,t){for(var i in t)e[i]=t[i];return e}function Dn(e){var t=e.parentNode;t&&t.removeChild(e)}function On(e,t,i,s,n){var r={type:e,props:t,key:i,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==n?++xn:n,__i:-1,__u:0};return null==n&&null!=kn.vnode&&kn.vnode(r),r}function Nn(e){return e.children}function qn(e,t){this.props=e,this.context=t}function Bn(e,t){if(null==t)return e.__?Bn(e.__,e.__i+1):null;for(var i;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e)return i.__e;return\"function\"==typeof e.type?Bn(e):null}function Hn(e){var t,i;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e){e.__e=e.__c.base=i.__e;break}return Hn(e)}}function Un(e){(!e.__d&&(e.__d=!0)&&In.push(e)&&!Wn.__r++||Rn!==kn.debounceRendering)&&((Rn=kn.debounceRendering)||Pn)(Wn)}function Wn(){var e,t,i,s,n,r,o,a,l;for(In.sort(Fn);e=In.shift();)e.__d&&(t=In.length,s=void 0,r=(n=(i=e).__v).__e,a=[],l=[],(o=i.__P)&&((s=Ln({},n)).__v=n.__v+1,kn.vnode&&kn.vnode(s),Kn(o,s,n,i.__n,void 0!==o.ownerSVGElement,32&n.__u?[r]:null,a,null==r?Bn(n):r,!!(32&n.__u),l),s.__.__k[s.__i]=s,Zn(a,s,l),s.__e!=r&&Hn(s)),In.length>t&&In.sort(Fn));Wn.__r=0}function zn(e,t,i,s,n,r,o,a,l,c,u){var d,h,_,p,g,f=s&&s.__k||$n,v=t.length;for(i.__d=l,Vn(i,t,f),l=i.__d,d=0;d<v;d++)null!=(_=i.__k[d])&&\"boolean\"!=typeof _&&\"function\"!=typeof _&&(h=-1===_.__i?Tn:f[_.__i]||Tn,_.__i=d,Kn(e,_,h,n,r,o,a,l,c,u),p=_.__e,_.ref&&h.ref!=_.ref&&(h.ref&&tr(h.ref,null,_),u.push(_.ref,_.__c||p,_)),null==g&&null!=p&&(g=p),65536&_.__u||h.__k===_.__k?l=Gn(_,l,e):\"function\"==typeof _.type&&void 0!==_.__d?l=_.__d:p&&(l=p.nextSibling),_.__d=void 0,_.__u&=-196609);i.__d=l,i.__e=g}function Vn(e,t,i){var s,n,r,o,a,l=t.length,c=i.length,u=c,d=0;for(e.__k=[],s=0;s<l;s++)null!=(n=e.__k[s]=null==(n=t[s])||\"boolean\"==typeof n||\"function\"==typeof n?null:\"string\"==typeof n||\"number\"==typeof n||\"bigint\"==typeof n||n.constructor==String?On(null,n,null,null,n):Mn(n)?On(Nn,{children:n},null,null,null):void 0===n.constructor&&n.__b>0?On(n.type,n.props,n.key,n.ref?n.ref:null,n.__v):n)?(n.__=e,n.__b=e.__b+1,a=jn(n,i,o=s+d,u),n.__i=a,r=null,-1!==a&&(u--,(r=i[a])&&(r.__u|=131072)),null==r||null===r.__v?(-1==a&&d--,\"function\"!=typeof n.type&&(n.__u|=65536)):a!==o&&(a===o+1?d++:a>o?u>l-o?d+=a-o:d--:d=a<o&&a==o-1?a-o:0,a!==s+d&&(n.__u|=65536))):(r=i[s])&&null==r.key&&r.__e&&(r.__e==e.__d&&(e.__d=Bn(r)),ir(r,r,!1),i[s]=null,u--);if(u)for(s=0;s<c;s++)null!=(r=i[s])&&0==(131072&r.__u)&&(r.__e==e.__d&&(e.__d=Bn(r)),ir(r,r))}function Gn(e,t,i){var s,n;if(\"function\"==typeof e.type){for(s=e.__k,n=0;s&&n<s.length;n++)s[n]&&(s[n].__=e,t=Gn(s[n],t,i));return t}return e.__e!=t&&(i.insertBefore(e.__e,t||null),t=e.__e),t&&t.nextSibling}function jn(e,t,i,s){var n=e.key,r=e.type,o=i-1,a=i+1,l=t[i];if(null===l||l&&n==l.key&&r===l.type)return i;if(s>(null!=l&&0==(131072&l.__u)?1:0))for(;o>=0||a<t.length;){if(o>=0){if((l=t[o])&&0==(131072&l.__u)&&n==l.key&&r===l.type)return o;o--}if(a<t.length){if((l=t[a])&&0==(131072&l.__u)&&n==l.key&&r===l.type)return a;a++}}return-1}function Qn(e,t,i){\"-\"===t[0]?e.setProperty(t,null==i?\"\":i):e[t]=null==i?\"\":\"number\"!=typeof i||An.test(t)?i:i+\"px\"}function Jn(e,t,i,s,n){var r;e:if(\"style\"===t)if(\"string\"==typeof i)e.style.cssText=i;else{if(\"string\"==typeof s&&(e.style.cssText=s=\"\"),s)for(t in s)i&&t in i||Qn(e.style,t,\"\");if(i)for(t in i)s&&i[t]===s[t]||Qn(e.style,t,i[t])}else if(\"o\"===t[0]&&\"n\"===t[1])r=t!==(t=t.replace(/(PointerCapture)$|Capture$/,\"$1\")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=i,i?s?i.u=s.u:(i.u=Date.now(),e.addEventListener(t,r?Xn:Yn,r)):e.removeEventListener(t,r?Xn:Yn,r);else{if(n)t=t.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==t&&\"height\"!==t&&\"href\"!==t&&\"list\"!==t&&\"form\"!==t&&\"tabIndex\"!==t&&\"download\"!==t&&\"rowSpan\"!==t&&\"colSpan\"!==t&&\"role\"!==t&&t in e)try{e[t]=null==i?\"\":i;break e}catch(e){}\"function\"==typeof i||(null==i||!1===i&&\"-\"!==t[4]?e.removeAttribute(t):e.setAttribute(t,i))}}function Yn(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(kn.event?kn.event(e):e)}function Xn(e){return this.l[e.type+!0](kn.event?kn.event(e):e)}function Kn(e,t,i,s,n,r,o,a,l,c){var u,d,h,_,p,g,f,v,m,y,b,w,S,E,k,x=t.type;if(void 0!==t.constructor)return null;128&i.__u&&(l=!!(32&i.__u),r=[a=t.__e=i.__e]),(u=kn.__b)&&u(t);e:if(\"function\"==typeof x)try{if(v=t.props,m=(u=x.contextType)&&s[u.__c],y=u?m?m.props.value:u.__:s,i.__c?f=(d=t.__c=i.__c).__=d.__E:(\"prototype\"in x&&x.prototype.render?t.__c=d=new x(v,y):(t.__c=d=new qn(v,y),d.constructor=x,d.render=sr),m&&m.sub(d),d.props=v,d.state||(d.state={}),d.context=y,d.__n=s,h=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=x.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=Ln({},d.__s)),Ln(d.__s,x.getDerivedStateFromProps(v,d.__s))),_=d.props,p=d.state,d.__v=t,h)null==x.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==x.getDerivedStateFromProps&&v!==_&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(v,y),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(v,d.__s,y)||t.__v===i.__v)){for(t.__v!==i.__v&&(d.props=v,d.state=d.__s,d.__d=!1),t.__e=i.__e,t.__k=i.__k,t.__k.forEach((function(e){e&&(e.__=t)})),b=0;b<d._sb.length;b++)d.__h.push(d._sb[b]);d._sb=[],d.__h.length&&o.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(v,d.__s,y),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(_,p,g)}))}if(d.context=y,d.props=v,d.__P=e,d.__e=!1,w=kn.__r,S=0,\"prototype\"in x&&x.prototype.render){for(d.state=d.__s,d.__d=!1,w&&w(t),u=d.render(d.props,d.state,d.context),E=0;E<d._sb.length;E++)d.__h.push(d._sb[E]);d._sb=[]}else do{d.__d=!1,w&&w(t),u=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++S<25);d.state=d.__s,null!=d.getChildContext&&(s=Ln(Ln({},s),d.getChildContext())),h||null==d.getSnapshotBeforeUpdate||(g=d.getSnapshotBeforeUpdate(_,p)),zn(e,Mn(k=null!=u&&u.type===Nn&&null==u.key?u.props.children:u)?k:[k],t,i,s,n,r,o,a,l,c),d.base=t.__e,t.__u&=-161,d.__h.length&&o.push(d),f&&(d.__E=d.__=null)}catch(e){t.__v=null,l||null!=r?(t.__e=a,t.__u|=l?160:32,r[r.indexOf(a)]=null):(t.__e=i.__e,t.__k=i.__k),kn.__e(e,t,i)}else null==r&&t.__v===i.__v?(t.__k=i.__k,t.__e=i.__e):t.__e=er(i.__e,t,i,s,n,r,o,l,c);(u=kn.diffed)&&u(t)}function Zn(e,t,i){t.__d=void 0;for(var s=0;s<i.length;s++)tr(i[s],i[++s],i[++s]);kn.__c&&kn.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){kn.__e(e,t.__v)}}))}function er(e,t,i,s,n,r,o,a,l){var c,u,d,h,_,p,g,f=i.props,v=t.props,m=t.type;if(\"svg\"===m&&(n=!0),null!=r)for(c=0;c<r.length;c++)if((_=r[c])&&\"setAttribute\"in _==!!m&&(m?_.localName===m:3===_.nodeType)){e=_,r[c]=null;break}if(null==e){if(null===m)return document.createTextNode(v);e=n?document.createElementNS(\"http://www.w3.org/2000/svg\",m):document.createElement(m,v.is&&v),r=null,a=!1}if(null===m)f===v||a&&e.data===v||(e.data=v);else{if(r=r&&En.call(e.childNodes),f=i.props||Tn,!a&&null!=r)for(f={},c=0;c<e.attributes.length;c++)f[(_=e.attributes[c]).name]=_.value;for(c in f)_=f[c],\"children\"==c||(\"dangerouslySetInnerHTML\"==c?d=_:\"key\"===c||c in v||Jn(e,c,null,_,n));for(c in v)_=v[c],\"children\"==c?h=_:\"dangerouslySetInnerHTML\"==c?u=_:\"value\"==c?p=_:\"checked\"==c?g=_:\"key\"===c||a&&\"function\"!=typeof _||f[c]===_||Jn(e,c,_,f[c],n);if(u)a||d&&(u.__html===d.__html||u.__html===e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(d&&(e.innerHTML=\"\"),zn(e,Mn(h)?h:[h],t,i,s,n&&\"foreignObject\"!==m,r,o,r?r[0]:i.__k&&Bn(i,0),a,l),null!=r)for(c=r.length;c--;)null!=r[c]&&Dn(r[c]);a||(c=\"value\",void 0!==p&&(p!==e[c]||\"progress\"===m&&!p||\"option\"===m&&p!==f[c])&&Jn(e,c,p,f[c],!1),c=\"checked\",void 0!==g&&g!==e[c]&&Jn(e,c,g,f[c],!1))}return e}function tr(e,t,i){try{\"function\"==typeof e?e(t):e.current=t}catch(e){kn.__e(e,i)}}function ir(e,t,i){var s,n;if(kn.unmount&&kn.unmount(e),(s=e.ref)&&(s.current&&s.current!==e.__e||tr(s,null,t)),null!=(s=e.__c)){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(e){kn.__e(e,t)}s.base=s.__P=null,e.__c=void 0}if(s=e.__k)for(n=0;n<s.length;n++)s[n]&&ir(s[n],t,i||\"function\"!=typeof e.type);i||null==e.__e||Dn(e.__e),e.__=e.__e=e.__d=void 0}function sr(e,t,i){return this.constructor(e,i)}En=$n.slice,kn={__e:function(e,t,i,s){for(var n,r,o;t=t.__;)if((n=t.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(e)),o=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e,s||{}),o=n.__d),o)return n.__E=n}catch(t){e=t}throw e}},xn=0,qn.prototype.setState=function(e,t){var i;i=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Ln({},this.state),\"function\"==typeof e&&(e=e(Ln({},i),this.props)),e&&Ln(i,e),null!=e&&this.__v&&(t&&this._sb.push(t),Un(this))},qn.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Un(this))},qn.prototype.render=Nn,In=[],Pn=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Fn=function(e,t){return e.__v.__b-t.__v.__b},Wn.__r=0,Cn=0;!function(e,t){var i={__c:t=\"__cC\"+Cn++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var i,s;return this.getChildContext||(i=[],(s={})[t]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&i.some((function(e){e.__e=!0,Un(e)}))},this.sub=function(e){i.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){i.splice(i.indexOf(e),1),t&&t.call(e)}}),e.children}};i.Provider.__=i.Consumer.contextType=i}({isPreviewMode:!1,previewPageIndex:0,handleCloseSurveyPopup:()=>{},isPopup:!0});const nr=\"[Surveys]\",rr={icontains:t=>!!e&&e.location.href.toLowerCase().indexOf(t.toLowerCase())>-1,not_icontains:t=>!!e&&-1===e.location.href.toLowerCase().indexOf(t.toLowerCase()),regex:t=>!!e&&at(e.location.href,t),not_regex:t=>!!e&&!at(e.location.href,t),exact:t=>(null==e?void 0:e.location.href)===t,is_not:t=>(null==e?void 0:e.location.href)!==t};class or{constructor(e){this.instance=e,this._surveyEventReceiver=null}afterDecideResponse(e){this._decideServerResponse=!!e.surveys,this.loadIfEnabled()}reset(){localStorage.removeItem(\"lastSeenSurveyDate\");const e=(()=>{const e=[];for(let t=0;t<localStorage.length;t++){const i=localStorage.key(t);null!=i&&i.startsWith(\"seenSurvey_\")&&e.push(i)}return e})();e.forEach((e=>localStorage.removeItem(e)))}loadIfEnabled(){var e;const t=null==h||null===(e=h.__PosthogExtensions__)||void 0===e?void 0:e.generateSurveys;var i,s;this.instance.config.disable_surveys||!this._decideServerResponse||t||(null==this._surveyEventReceiver&&(this._surveyEventReceiver=new Sn(this.instance)),null===(i=h.__PosthogExtensions__)||void 0===i||null===(s=i.loadExternalDependency)||void 0===s||s.call(i,this.instance,\"surveys\",(e=>{var t,i;if(e)return T.error(nr,\"Could not load surveys script\",e);this._surveyManager=null===(t=h.__PosthogExtensions__)||void 0===t||null===(i=t.generateSurveys)||void 0===i?void 0:i.call(t,this.instance)})))}getSurveys(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.instance.config.disable_surveys)return e([]);null==this._surveyEventReceiver&&(this._surveyEventReceiver=new Sn(this.instance));const i=this.instance.get_property(we);if(i&&!t)return e(i);this.instance._send_request({url:this.instance.requestRouter.endpointFor(\"api\",`/api/surveys/?token=${this.instance.config.token}`),method:\"GET\",transport:\"XHR\",callback:t=>{var i;if(200!==t.statusCode||!t.json)return e([]);const s=t.json.surveys||[],n=s.filter((e=>{var t,i,s,n,r,o,a,l,c,u,d,h;return(null===(t=e.conditions)||void 0===t?void 0:t.events)&&(null===(i=e.conditions)||void 0===i||null===(s=i.events)||void 0===s?void 0:s.values)&&(null===(n=e.conditions)||void 0===n||null===(r=n.events)||void 0===r||null===(o=r.values)||void 0===o?void 0:o.length)>0||(null===(a=e.conditions)||void 0===a?void 0:a.actions)&&(null===(l=e.conditions)||void 0===l||null===(c=l.actions)||void 0===c?void 0:c.values)&&(null===(u=e.conditions)||void 0===u||null===(d=u.actions)||void 0===d||null===(h=d.values)||void 0===h?void 0:h.length)>0}));var r;n.length>0&&(null===(r=this._surveyEventReceiver)||void 0===r||r.register(n));return null===(i=this.instance.persistence)||void 0===i||i.register({[we]:s}),e(s)}})}getActiveMatchingSurveys(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.getSurveys((t=>{var i;const s=t.filter((e=>!(!e.start_date||e.end_date))).filter((e=>{var t,i,s,n;if(!e.conditions)return!0;const r=null===(t=e.conditions)||void 0===t||!t.url||rr[null!==(i=null===(s=e.conditions)||void 0===s?void 0:s.urlMatchType)&&void 0!==i?i:\"icontains\"](e.conditions.url),a=null===(n=e.conditions)||void 0===n||!n.selector||(null==o?void 0:o.querySelector(e.conditions.selector));return r&&a})),n=null===(i=this._surveyEventReceiver)||void 0===i?void 0:i.getSurveys(),r=s.filter((e=>{var t,i,s,r,o,a,l,c,u,d;if(!e.linked_flag_key&&!e.targeting_flag_key&&!e.internal_targeting_flag_key)return!0;const h=!e.linked_flag_key||this.instance.featureFlags.isFeatureEnabled(e.linked_flag_key),_=!e.targeting_flag_key||this.instance.featureFlags.isFeatureEnabled(e.targeting_flag_key),p=(null===(t=e.conditions)||void 0===t?void 0:t.events)&&(null===(i=e.conditions)||void 0===i||null===(s=i.events)||void 0===s?void 0:s.values)&&(null===(r=e.conditions)||void 0===r||null===(o=r.events)||void 0===o?void 0:o.values.length)>0,g=(null===(a=e.conditions)||void 0===a?void 0:a.actions)&&(null===(l=e.conditions)||void 0===l||null===(c=l.actions)||void 0===c?void 0:c.values)&&(null===(u=e.conditions)||void 0===u||null===(d=u.actions)||void 0===d?void 0:d.values.length)>0,f=!p&&!g||(null==n?void 0:n.includes(e.id)),v=this._canActivateRepeatedly(e),m=!(e.internal_targeting_flag_key&&!v)||this.instance.featureFlags.isFeatureEnabled(e.internal_targeting_flag_key);return h&&_&&m&&f}));return e(r)}),t)}getNextSurveyStep(e,t,i){var s;const n=e.questions[t],r=t+1;if(null===(s=n.branching)||void 0===s||!s.type)return t===e.questions.length-1?yn.End:r;if(n.branching.type===yn.End)return yn.End;if(n.branching.type===yn.SpecificQuestion){if(Number.isInteger(n.branching.index))return n.branching.index}else if(n.branching.type===yn.ResponseBased){if(n.type===mn.SingleChoice){var o,a;const e=n.choices.indexOf(`${i}`);if(null!==(o=n.branching)&&void 0!==o&&null!==(a=o.responseValues)&&void 0!==a&&a.hasOwnProperty(e)){const t=n.branching.responseValues[e];return Number.isInteger(t)?t:t===yn.End?yn.End:r}}else if(n.type===mn.Rating){var l,c;if(\"number\"!=typeof i||!Number.isInteger(i))throw new Error(\"The response type must be an integer\");const e=function(e,t){if(3===t){if(e<1||e>3)throw new Error(\"The response must be in range 1-3\");return 1===e?\"negative\":2===e?\"neutral\":\"positive\"}if(5===t){if(e<1||e>5)throw new Error(\"The response must be in range 1-5\");return e<=2?\"negative\":3===e?\"neutral\":\"positive\"}if(7===t){if(e<1||e>7)throw new Error(\"The response must be in range 1-7\");return e<=3?\"negative\":4===e?\"neutral\":\"positive\"}if(10===t){if(e<0||e>10)throw new Error(\"The response must be in range 0-10\");return e<=6?\"detractors\":e<=8?\"passives\":\"promoters\"}throw new Error(\"The scale must be one of: 3, 5, 7, 10\")}(i,n.scale);if(null!==(l=n.branching)&&void 0!==l&&null!==(c=l.responseValues)&&void 0!==c&&c.hasOwnProperty(e)){const t=n.branching.responseValues[e];return Number.isInteger(t)?t:t===yn.End?yn.End:r}}return r}return T.warn(nr,\"Falling back to next question index due to unexpected branching type\"),r}_canActivateRepeatedly(e){var t;return I(null===(t=h.__PosthogExtensions__)||void 0===t?void 0:t.canActivateRepeatedly)?(T.warn(nr,\"canActivateRepeatedly is not defined, must init before calling\"),!1):h.__PosthogExtensions__.canActivateRepeatedly(e)}canRenderSurvey(e){I(this._surveyManager)?T.warn(nr,\"canActivateRepeatedly is not defined, must init before calling\"):this.getSurveys((t=>{const i=t.filter((t=>t.id===e))[0];this._surveyManager.canRenderSurvey(i)}))}renderSurvey(e,t){I(this._surveyManager)?T.warn(nr,\"canActivateRepeatedly is not defined, must init before calling\"):this.getSurveys((i=>{const s=i.filter((t=>t.id===e))[0];this._surveyManager.renderSurvey(s,null==o?void 0:o.querySelector(t))}))}}class ar{serverLimits={};lastEventRateLimited=!1;constructor(e){var t,i;this.instance=e,this.captureEventsPerSecond=(null===(t=e.config.rate_limiting)||void 0===t?void 0:t.events_per_second)||10,this.captureEventsBurstLimit=Math.max((null===(i=e.config.rate_limiting)||void 0===i?void 0:i.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(){var e,t,i;let s=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=(new Date).getTime(),r=null!==(e=null===(t=this.instance.persistence)||void 0===t?void 0:t.get_property(Ie))&&void 0!==e?e:{tokens:this.captureEventsBurstLimit,last:n};r.tokens+=(n-r.last)/1e3*this.captureEventsPerSecond,r.last=n,r.tokens>this.captureEventsBurstLimit&&(r.tokens=this.captureEventsBurstLimit);const o=r.tokens<1;return o||s||(r.tokens=Math.max(0,r.tokens-1)),!o||this.lastEventRateLimited||s||this.instance.capture(\"$$client_ingestion_warning\",{$$client_ingestion_warning_message:`posthog-js client rate limited. Config is set to ${this.captureEventsPerSecond} events per second and ${this.captureEventsBurstLimit} events burst limit.`},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=o,null===(i=this.instance.persistence)||void 0===i||i.set_property(Ie,r),{isRateLimited:o,remainingTokens:r.tokens}}isServerRateLimited(e){const t=this.serverLimits[e||\"events\"]||!1;return!1!==t&&(new Date).getTime()<t}checkForLimiting=e=>{const t=e.text;if(t&&t.length)try{const e=JSON.parse(t);(e.quota_limited||[]).forEach((e=>{T.info(`[RateLimiter] ${e||\"events\"} is quota limited.`),this.serverLimits[e]=(new Date).getTime()+6e4}))}catch(e){return void T.warn(`[RateLimiter] could not rate limit - continuing. Error: \"${null==e?void 0:e.message}\"`,{text:t})}}}const lr=()=>({initialPathName:(null==a?void 0:a.pathname)||\"\",referringDomain:li.referringDomain(),...li.campaignParams()});class cr{constructor(e,t,i){this._sessionIdManager=e,this._persistence=t,this._sessionSourceParamGenerator=i||lr,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}_getStoredProps(){return this._persistence.props[xe]}_onSessionIdCallback=e=>{const t=this._getStoredProps();if(t&&t.sessionId===e)return;const i={sessionId:e,props:this._sessionSourceParamGenerator()};this._persistence.register({[xe]:i})};getSessionProps(){var e;const t=null===(e=this._getStoredProps())||void 0===e?void 0:e.props;return t?{$client_session_initial_referring_host:t.referringDomain,$client_session_initial_pathname:t.initialPathName,$client_session_initial_utm_source:t.utm_source,$client_session_initial_utm_campaign:t.utm_campaign,$client_session_initial_utm_medium:t.utm_medium,$client_session_initial_utm_content:t.utm_content,$client_session_initial_utm_term:t.utm_term}:{}}}const ur=[\"ahrefsbot\",\"ahrefssiteaudit\",\"applebot\",\"baiduspider\",\"bingbot\",\"bingpreview\",\"bot.htm\",\"bot.php\",\"crawler\",\"deepscan\",\"duckduckbot\",\"facebookexternal\",\"facebookcatalog\",\"gptbot\",\"http://yandex.com/bots\",\"hubspot\",\"ia_archiver\",\"linkedinbot\",\"mj12bot\",\"msnbot\",\"nessus\",\"petalbot\",\"pinterest\",\"prerender\",\"rogerbot\",\"screaming frog\",\"semrushbot\",\"sitebulb\",\"slurp\",\"turnitin\",\"twitterbot\",\"vercelbot\",\"yahoo! slurp\",\"yandexbot\",\"headlesschrome\",\"cypress\",\"Google-HotelAdsVerifier\",\"adsbot-google\",\"apis-google\",\"duplexweb-google\",\"feedfetcher-google\",\"google favicon\",\"google web preview\",\"google-read-aloud\",\"googlebot\",\"googleweblight\",\"mediapartners-google\",\"storebot-google\",\"Bytespider;\"],dr=function(e,t){if(!e)return!1;const i=e.toLowerCase();return ur.concat(t||[]).some((e=>{const t=e.toLowerCase();return-1!==i.indexOf(t)}))},hr=function(e,t){if(!e)return!1;const i=e.userAgent;if(i&&dr(i,t))return!0;try{const i=null==e?void 0:e.userAgentData;if(null!=i&&i.brands&&i.brands.some((e=>dr(null==e?void 0:e.brand,t))))return!0}catch{}return!!e.webdriver};class _r{constructor(){this.clicks=[]}isRageClick(e,t,i){const s=this.clicks[this.clicks.length-1];if(s&&Math.abs(e-s.x)+Math.abs(t-s.y)<30&&i-s.timestamp<1e3){if(this.clicks.push({x:e,y:t,timestamp:i}),3===this.clicks.length)return!0}else this.clicks=[{x:e,y:t,timestamp:i}];return!1}}const pr=\"[Dead Clicks]\",gr=()=>!0,fr=e=>{var t;const i=!(null===(t=e.instance.persistence)||void 0===t||!t.get_property(re)),s=e.instance.config.capture_dead_clicks;return P(s)?s:i};class vr{get lazyLoadedDeadClicksAutocapture(){return this._lazyLoadedDeadClicksAutocapture}constructor(e,t,i){this.instance=e,this.isEnabled=t,this.onCapture=i,this.startIfEnabled()}afterDecideResponse(e){this.instance.persistence&&this.instance.persistence.register({[re]:null==e?void 0:e.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.loadScript((()=>{this.start()}))}loadScript(e){var t,i,s;null!==(t=h.__PosthogExtensions__)&&void 0!==t&&t.initDeadClicksAutocapture&&e(),null===(i=h.__PosthogExtensions__)||void 0===i||null===(s=i.loadExternalDependency)||void 0===s||s.call(i,this.instance,\"dead-clicks-autocapture\",(t=>{t?T.error(pr+\" failed to load script\",t):e()}))}start(){var e;if(o){if(!this._lazyLoadedDeadClicksAutocapture&&null!==(e=h.__PosthogExtensions__)&&void 0!==e&&e.initDeadClicksAutocapture){const e=b(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};e.__onCapture=this.onCapture,this._lazyLoadedDeadClicksAutocapture=h.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,e),this._lazyLoadedDeadClicksAutocapture.start(o),T.info(`${pr} starting...`)}}else T.error(pr+\" `document` not found. Cannot start.\")}stop(){this._lazyLoadedDeadClicksAutocapture&&(this._lazyLoadedDeadClicksAutocapture.stop(),this._lazyLoadedDeadClicksAutocapture=void 0,T.info(`${pr} stopping...`))}}class mr{rageclicks=new _r;_enabledServerSide=!1;_initialized=!1;_flushInterval=null;constructor(t){var i;this.instance=t,this._enabledServerSide=!(null===(i=this.instance.persistence)||void 0===i||!i.props[te]),null==e||e.addEventListener(\"beforeunload\",(()=>{this.flush()}))}get flushIntervalMilliseconds(){let e=5e3;return b(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(e=this.instance.config.capture_heatmaps.flush_interval_milliseconds),e}get isEnabled(){return S(this.instance.config.capture_heatmaps)?S(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps:!1!==this.instance.config.capture_heatmaps}startIfEnabled(){if(this.isEnabled){if(this._initialized)return;T.info(\"[heatmaps] starting...\"),this._setupListeners(),this._flushInterval=setInterval(this.flush.bind(this),this.flushIntervalMilliseconds)}else{var e,t;clearInterval(null!==(e=this._flushInterval)&&void 0!==e?e:void 0),null===(t=this.deadClicksCapture)||void 0===t||t.stop(),this.getAndClearBuffer()}}afterDecideResponse(e){const t=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register({[te]:t}),this._enabledServerSide=t,this.startIfEnabled()}getAndClearBuffer(){const e=this.buffer;return this.buffer=void 0,e}_onDeadClick(e){this._onClick(e.originalEvent,\"deadclick\")}_setupListeners(){e&&o&&(G(o,\"click\",(t=>this._onClick(t||(null==e?void 0:e.event))),!1,!0),G(o,\"mousemove\",(t=>this._onMouseMove(t||(null==e?void 0:e.event))),!1,!0),this.deadClicksCapture=new vr(this.instance,gr,this._onDeadClick.bind(this)),this.deadClicksCapture.startIfEnabled(),this._initialized=!0)}_getProperties(t,i){const s=this.instance.scrollManager.scrollY(),n=this.instance.scrollManager.scrollX(),r=this.instance.scrollManager.scrollElement(),o=function(t,i,s){let n=t;for(;n&&fi(n)&&!vi(n,\"body\");){if(n===s)return!1;if(N(i,null==e?void 0:e.getComputedStyle(n).position))return!0;n=Ri(n)}return!1}(xi(t),[\"fixed\",\"sticky\"],r);return{x:t.clientX+(o?0:n),y:t.clientY+(o?0:s),target_fixed:o,type:i}}_onClick(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"click\";if(gi(e.target))return;const s=this._getProperties(e,i);null!==(t=this.rageclicks)&&void 0!==t&&t.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this._capture({...s,type:\"rageclick\"}),this._capture(s)}_onMouseMove(e){gi(e.target)||(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout((()=>{this._capture(this._getProperties(e,\"mousemove\"))}),500))}_capture(t){if(!e)return;const i=e.location.href;this.buffer=this.buffer||{},this.buffer[i]||(this.buffer[i]=[]),this.buffer[i].push(t)}flush(){this.buffer&&!w(this.buffer)&&this.instance.capture(\"$$heatmap\",{$heatmap_data:this.getAndClearBuffer()})}}class yr{constructor(e){this.instance=e}getContext(){return this.context}resetContext(){const e=this.context;return setTimeout(this._updateScrollData,0),e}_updateScrollData=()=>{var e,t,i,s;this.context||(this.context={});const n=this.scrollElement(),r=this.scrollY(),o=n?Math.max(0,n.scrollHeight-n.clientHeight):0,a=r+((null==n?void 0:n.clientHeight)||0),l=(null==n?void 0:n.scrollHeight)||0;this.context.lastScrollY=Math.ceil(r),this.context.maxScrollY=Math.max(r,null!==(e=this.context.maxScrollY)&&void 0!==e?e:0),this.context.maxScrollHeight=Math.max(o,null!==(t=this.context.maxScrollHeight)&&void 0!==t?t:0),this.context.lastContentY=a,this.context.maxContentY=Math.max(a,null!==(i=this.context.maxContentY)&&void 0!==i?i:0),this.context.maxContentHeight=Math.max(l,null!==(s=this.context.maxContentHeight)&&void 0!==s?s:0)};startMeasuringScrollPosition(){null==e||e.addEventListener(\"scroll\",this._updateScrollData,!0),null==e||e.addEventListener(\"scrollend\",this._updateScrollData,!0),null==e||e.addEventListener(\"resize\",this._updateScrollData)}scrollElement(){if(!this.instance.config.scroll_root_selector)return null==e?void 0:e.document.documentElement;{const t=m(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector];for(const i of t){const t=null==e?void 0:e.document.querySelector(i);if(t)return t}}}scrollY(){if(this.instance.config.scroll_root_selector){const e=this.scrollElement();return e&&e.scrollTop||0}return e&&(e.scrollY||e.pageYOffset||e.document.documentElement.scrollTop)||0}scrollX(){if(this.instance.config.scroll_root_selector){const e=this.scrollElement();return e&&e.scrollLeft||0}return e&&(e.scrollX||e.pageXOffset||e.document.documentElement.scrollLeft)||0}}const br=\"$copy_autocapture\";function wr(e,t){return t.length>e?t.slice(0,e)+\"...\":t}function Sr(e){if(e.previousElementSibling)return e.previousElementSibling;let t=e;do{t=t.previousSibling}while(t&&!fi(t));return t}function Er(e,t,i,s){const n=e.tagName.toLowerCase(),r={tag_name:n};Ii.indexOf(n)>-1&&!i&&(\"a\"===n.toLowerCase()||\"button\"===n.toLowerCase()?r.$el_text=wr(1024,Ni(e)):r.$el_text=wr(1024,ki(e)));const o=Si(e);o.length>0&&(r.classes=o.filter((function(e){return\"\"!==e}))),D(e.attributes,(function(i){var n;if((!Ci(e)||-1!==[\"name\",\"id\",\"class\",\"aria-label\"].indexOf(i.name))&&((null==s||!s.includes(i.name))&&!t&&Oi(i.value)&&(n=i.name,!E(n)||\"_ngcontent\"!==n.substring(0,10)&&\"_nghost\"!==n.substring(0,7)))){let e=i.value;\"class\"===i.name&&(e=bi(e).join(\" \")),r[\"attr__\"+i.name]=wr(1024,e)}}));let a=1,l=1,c=e;for(;c=Sr(c);)a++,c.tagName===e.tagName&&l++;return r.nth_child=a,r.nth_of_type=l,r}function kr(t,i){var s,n;let{e:r,maskAllElementAttributes:o,maskAllText:a,elementAttributeIgnoreList:l,elementsChainAsString:c}=i;const u=[t];let d=t;for(;d.parentNode&&!vi(d,\"body\");)yi(d.parentNode)?(u.push(d.parentNode.host),d=d.parentNode.host):(u.push(d.parentNode),d=d.parentNode);const h=[],_={};let p,g=!1,f=!1;if(D(u,(e=>{const t=Fi(e);\"a\"===e.tagName.toLowerCase()&&(g=e.getAttribute(\"href\"),g=t&&g&&Oi(g)&&g);N(Si(e),\"ph-no-capture\")&&(f=!0),h.push(Er(e,o,a,l));const i=function(e){if(!Fi(e))return{};const t={};return D(e.attributes,(function(e){if(e.name&&0===e.name.indexOf(\"data-ph-capture-attribute\")){const i=e.name.replace(\"data-ph-capture-attribute-\",\"\"),s=e.value;i&&s&&Oi(s)&&(t[i]=s)}})),t}(e);O(_,i)})),f)return{props:{},explicitNoCapture:f};if(a||(\"a\"===t.tagName.toLowerCase()||\"button\"===t.tagName.toLowerCase()?h[0].$el_text=Ni(t):h[0].$el_text=ki(t)),g){var v,m;h[0].attr__href=g;const t=null===(v=ot(g))||void 0===v?void 0:v.host,i=null==e||null===(m=e.location)||void 0===m?void 0:m.host;t&&i&&t!==i&&(p=g)}return{props:O({$event_type:r.type,$ce_version:1},c?{$elements_chain:Bi(h)}:{$elements:h},null!==(s=h[0])&&void 0!==s&&s.$el_text?{$el_text:null===(n=h[0])||void 0===n?void 0:n.$el_text}:{},p&&\"click\"===r.type?{$external_click_url:p}:{},_)}}class xr{_initialized=!1;_isDisabledServerSide=null;rageclicks=new _r;_elementsChainAsString=!1;constructor(e){this.instance=e,this._elementSelectors=null}get config(){var e,t;const i=b(this.instance.config.autocapture)?this.instance.config.autocapture:{};return i.url_allowlist=null===(e=i.url_allowlist)||void 0===e?void 0:e.map((e=>new RegExp(e))),i.url_ignorelist=null===(t=i.url_ignorelist)||void 0===t?void 0:t.map((e=>new RegExp(e))),i}_addDomEventHandlers(){if(!this.isBrowserSupported())return void T.info(\"Disabling Automatic Event Collection because this browser is not supported\");if(!e||!o)return;const t=t=>{t=t||(null==e?void 0:e.event);try{this._captureEvent(t)}catch(e){T.error(\"Failed to capture event\",e)}},i=t=>{t=t||(null==e?void 0:e.event),this._captureEvent(t,br)};G(o,\"submit\",t,!1,!0),G(o,\"change\",t,!1,!0),G(o,\"click\",t,!1,!0),this.config.capture_copied_text&&(G(o,\"copy\",i,!1,!0),G(o,\"cut\",i,!1,!0))}startIfEnabled(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}afterDecideResponse(e){e.elementsChainAsString&&(this._elementsChainAsString=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[ee]:!!e.autocapture_opt_out}),this._isDisabledServerSide=!!e.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(e){this._elementSelectors=e}getElementSelectors(e){var t;const i=[];return null===(t=this._elementSelectors)||void 0===t||t.forEach((t=>{const s=null==o?void 0:o.querySelectorAll(t);null==s||s.forEach((s=>{e===s&&i.push(t)}))})),i}get isEnabled(){var e,t;const i=null===(e=this.instance.persistence)||void 0===e?void 0:e.props[ee],s=this._isDisabledServerSide;if(x(s)&&!P(i)&&!this.instance.config.advanced_disable_decide)return!1;const n=null!==(t=this._isDisabledServerSide)&&void 0!==t?t:!!i;return!!this.instance.config.autocapture&&!n}_captureEvent(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"$autocapture\";if(!this.isEnabled)return;let s=xi(t);var n;(mi(s)&&(s=s.parentNode||null),\"$autocapture\"===i&&\"click\"===t.type&&t instanceof MouseEvent)&&(this.instance.config.rageclick&&null!==(n=this.rageclicks)&&void 0!==n&&n.isRageClick(t.clientX,t.clientY,(new Date).getTime())&&this._captureEvent(t,\"$rageclick\"));const r=i===br;if(s&&Pi(s,t,this.config,r,r?[\"copy\",\"cut\"]:void 0)){const{props:n,explicitNoCapture:r}=kr(s,{e:t,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.config.element_attribute_ignorelist,elementsChainAsString:this._elementsChainAsString});if(r)return!1;const a=this.getElementSelectors(s);if(a&&a.length>0&&(n.$element_selectors=a),i===br){var o;const i=Ei(null==e||null===(o=e.getSelection())||void 0===o?void 0:o.toString()),s=t.type||\"clipboard\";if(!i)return!1;n.$selected_content=i,n.$copy_type=s}return this.instance.capture(i,n),!0}}isBrowserSupported(){return y(null==o?void 0:o.querySelectorAll)}}class Ir{_restoreXHRPatch=void 0;_restoreFetchPatch=void 0;constructor(e){this.instance=e}_loadScript(e){var t,i,s;null!==(t=h.__PosthogExtensions__)&&void 0!==t&&t.tracingHeadersPatchFns&&e(),null===(i=h.__PosthogExtensions__)||void 0===i||null===(s=i.loadExternalDependency)||void 0===s||s.call(i,this.instance,\"tracing-headers\",(t=>{if(t)return T.error(\"[TRACING-HEADERS] failed to load script\",t);e()}))}startIfEnabledOrStop(){var e,t;this.instance.config.__add_tracing_headers?this._loadScript(this._startCapturing):(null===(e=this._restoreXHRPatch)||void 0===e||e.call(this),null===(t=this._restoreFetchPatch)||void 0===t||t.call(this),this._restoreXHRPatch=void 0,this._restoreFetchPatch=void 0)}_startCapturing=()=>{var e,t,i,s;S(this._restoreXHRPatch)&&(null===(e=h.__PosthogExtensions__)||void 0===e||null===(t=e.tracingHeadersPatchFns)||void 0===t||t._patchXHR(this.instance.sessionManager));S(this._restoreFetchPatch)&&(null===(i=h.__PosthogExtensions__)||void 0===i||null===(s=i.tracingHeadersPatchFns)||void 0===s||s._patchFetch(this.instance.sessionManager))}}let Rr;!function(e){e[e.PENDING=-1]=\"PENDING\",e[e.DENIED=0]=\"DENIED\",e[e.GRANTED=1]=\"GRANTED\"}(Rr||(Rr={}));class Pr{constructor(e){this.instance=e}get config(){return this.instance.config}get consent(){return this.getDnt()?Rr.DENIED:this.storedConsent}isOptedOut(){return this.consent===Rr.DENIED||this.consent===Rr.PENDING&&this.config.opt_out_capturing_by_default}isOptedIn(){return!this.isOptedOut()}optInOut(e){this.storage.set(this.storageKey,e?1:0,this.config.cookie_expiration,this.config.cross_subdomain_cookie,this.config.secure_cookie)}reset(){this.storage.remove(this.storageKey,this.config.cross_subdomain_cookie)}get storageKey(){const{token:e,opt_out_capturing_cookie_prefix:t}=this.instance.config;return(t||\"__ph_opt_in_out_\")+e}get storedConsent(){const e=this.storage.get(this.storageKey);return\"1\"===e?Rr.GRANTED:\"0\"===e?Rr.DENIED:Rr.PENDING}get storage(){if(!this._storage){const e=this.config.opt_out_capturing_persistence_type;this._storage=\"localStorage\"===e?Ke:Ye;const t=\"localStorage\"===e?Ye:Ke;t.get(this.storageKey)&&(this._storage.get(this.storageKey)||this.optInOut(\"1\"===t.get(this.storageKey)),t.remove(this.storageKey,this.config.cross_subdomain_cookie))}return this._storage}getDnt(){return!!this.config.respect_dnt&&!!Q([null==r?void 0:r.doNotTrack,null==r?void 0:r.msDoNotTrack,h.doNotTrack],(e=>N([!0,1,\"1\",\"yes\"],e)))}}const Fr=\"[Exception Autocapture]\";class Cr{originalOnUnhandledRejectionHandler=void 0;constructor(e){var t;this.instance=e,this.remoteEnabled=!(null===(t=this.instance.persistence)||void 0===t||!t.props[ie]),this.startIfEnabled()}get isEnabled(){var e;return null!==(e=this.remoteEnabled)&&void 0!==e&&e}get isCapturing(){var t;return!(null==e||null===(t=e.onerror)||void 0===t||!t.__POSTHOG_INSTRUMENTED__)}get hasHandlers(){return this.originalOnUnhandledRejectionHandler||this.unwrapOnError}startIfEnabled(){this.isEnabled&&!this.isCapturing&&(T.info(Fr+\" enabled, starting...\"),this.loadScript(this.startCapturing))}loadScript(e){var t,i;this.hasHandlers&&e(),null===(t=h.__PosthogExtensions__)||void 0===t||null===(i=t.loadExternalDependency)||void 0===i||i.call(t,this.instance,\"exception-autocapture\",(t=>{if(t)return T.error(Fr+\" failed to load script\",t);e()}))}startCapturing=()=>{var t,i,s,n;if(!e||!this.isEnabled||this.hasHandlers||this.isCapturing)return;const r=null===(t=h.__PosthogExtensions__)||void 0===t||null===(i=t.errorWrappingFunctions)||void 0===i?void 0:i.wrapOnError,o=null===(s=h.__PosthogExtensions__)||void 0===s||null===(n=s.errorWrappingFunctions)||void 0===n?void 0:n.wrapUnhandledRejection;if(r&&o)try{this.unwrapOnError=r(this.captureException.bind(this)),this.unwrapUnhandledRejection=o(this.captureException.bind(this))}catch(e){T.error(Fr+\" failed to start\",e),this.stopCapturing()}else T.error(Fr+\" failed to load error wrapping functions - cannot start\")};stopCapturing(){var e,t;null===(e=this.unwrapOnError)||void 0===e||e.call(this),null===(t=this.unwrapUnhandledRejection)||void 0===t||t.call(this)}afterDecideResponse(e){const t=e.autocaptureExceptions;this.remoteEnabled=!!t||!1,this.instance.persistence&&this.instance.persistence.register({[ie]:this.remoteEnabled}),this.startIfEnabled()}captureException(e){const t=this.instance.requestRouter.endpointFor(\"ui\");e.$exception_personURL=`${t}/project/${this.instance.config.token}/person/${this.instance.get_distinct_id()}`,this.instance.exceptions.sendExceptionEvent(e)}}const Tr=9e5,$r=\"[Web Vitals]\";class Ar{_enabledServerSide=!1;_initialized=!1;buffer={url:void 0,metrics:[],firstMetricTimestamp:void 0};constructor(e){var t;this.instance=e,this._enabledServerSide=!(null===(t=this.instance.persistence)||void 0===t||!t.props[ne]),this.startIfEnabled()}get allowedMetrics(){var e,t;const i=b(this.instance.config.capture_performance)?null===(e=this.instance.config.capture_performance)||void 0===e?void 0:e.web_vitals_allowed_metrics:void 0;return S(i)?(null===(t=this.instance.persistence)||void 0===t?void 0:t.props[oe])||[\"CLS\",\"FCP\",\"INP\",\"LCP\"]:i}get flushToCaptureTimeoutMs(){return(b(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get _maxAllowedValue(){const e=b(this.instance.config.capture_performance)&&R(this.instance.config.capture_performance.__web_vitals_max_value)?this.instance.config.capture_performance.__web_vitals_max_value:Tr;return 0<e&&e<=6e4?Tr:e}get isEnabled(){const e=b(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals:void 0;return P(e)?e:this._enabledServerSide}startIfEnabled(){this.isEnabled&&!this._initialized&&(T.info($r+\" enabled, starting...\"),this.loadScript(this._startCapturing))}afterDecideResponse(e){const t=b(e.capturePerformance)&&!!e.capturePerformance.web_vitals,i=b(e.capturePerformance)?e.capturePerformance.web_vitals_allowed_metrics:void 0;this.instance.persistence&&(this.instance.persistence.register({[ne]:t}),this.instance.persistence.register({[oe]:i})),this._enabledServerSide=t,this.startIfEnabled()}loadScript(e){var t,i,s;null!==(t=h.__PosthogExtensions__)&&void 0!==t&&t.postHogWebVitalsCallbacks&&e(),null===(i=h.__PosthogExtensions__)||void 0===i||null===(s=i.loadExternalDependency)||void 0===s||s.call(i,this.instance,\"web-vitals\",(t=>{t?T.error($r+\" failed to load script\",t):e()}))}_currentURL(){const t=e?e.location.href:void 0;return t||T.error($r+\"Could not determine current URL\"),t}_flushToCapture=()=>{clearTimeout(this._delayedFlushTimer),0!==this.buffer.metrics.length&&(this.instance.capture(\"$web_vitals\",this.buffer.metrics.reduce(((e,t)=>({...e,[`$web_vitals_${t.name}_event`]:{...t},[`$web_vitals_${t.name}_value`]:t.value})),{})),this.buffer={url:void 0,metrics:[],firstMetricTimestamp:void 0})};_addToBuffer=e=>{var t;const i=null===(t=this.instance.sessionManager)||void 0===t?void 0:t.checkAndGetSessionAndWindowId(!0);if(S(i))return void T.error($r+\"Could not read session ID. Dropping metrics!\");this.buffer=this.buffer||{url:void 0,metrics:[],firstMetricTimestamp:void 0};const s=this._currentURL();if(S(s))return;if(I(null==e?void 0:e.name)||I(null==e?void 0:e.value))return void T.error($r+\"Invalid metric received\",e);if(this._maxAllowedValue&&e.value>=this._maxAllowedValue)return void T.error($r+\"Ignoring metric with value >= \"+this._maxAllowedValue,e);this.buffer.url!==s&&(this._flushToCapture(),this._delayedFlushTimer=setTimeout(this._flushToCapture,this.flushToCaptureTimeoutMs)),S(this.buffer.url)&&(this.buffer.url=s),this.buffer.firstMetricTimestamp=S(this.buffer.firstMetricTimestamp)?Date.now():this.buffer.firstMetricTimestamp,e.attribution&&e.attribution.interactionTargetElement&&(e.attribution.interactionTargetElement=void 0),this.buffer.metrics.push({...e,$current_url:s,$session_id:i.sessionId,$window_id:i.windowId,timestamp:Date.now()}),this.buffer.metrics.length===this.allowedMetrics.length&&this._flushToCapture()};_startCapturing=()=>{let e,t,i,s;const n=h.__PosthogExtensions__;S(n)||S(n.postHogWebVitalsCallbacks)||({onLCP:e,onCLS:t,onFCP:i,onINP:s}=n.postHogWebVitalsCallbacks),e&&t&&i&&s?(this.allowedMetrics.indexOf(\"LCP\")>-1&&e(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf(\"CLS\")>-1&&t(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf(\"FCP\")>-1&&i(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf(\"INP\")>-1&&s(this._addToBuffer.bind(this)),this._initialized=!0):T.error($r+\"web vitals callbacks not loaded - not starting\")}}const Mr={icontains:(t,i)=>!!e&&i.href.toLowerCase().indexOf(t.toLowerCase())>-1,not_icontains:(t,i)=>!!e&&-1===i.href.toLowerCase().indexOf(t.toLowerCase()),regex:(t,i)=>!!e&&at(i.href,t),not_regex:(t,i)=>!!e&&!at(i.href,t),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class Lr{constructor(e){this.instance=e;const t=e=>{this.applyFeatureFlagChanges(e)};this.instance.onFeatureFlags&&this.instance.onFeatureFlags(t),this._flagToExperiments=new Map}applyFeatureFlagChanges(e){I(this._flagToExperiments)||this.instance.config.disable_web_experiments||(Lr.logInfo(\"applying feature flags\",e),e.forEach((e=>{var t;if(this._flagToExperiments&&null!==(t=this._flagToExperiments)&&void 0!==t&&t.has(e)){var i;const t=this.instance.getFeatureFlag(e),s=null===(i=this._flagToExperiments)||void 0===i?void 0:i.get(e);t&&null!=s&&s.variants[t]&&this.applyTransforms(s.name,t,s.variants[t].transforms)}})))}afterDecideResponse(e){this._is_bot()?Lr.logInfo(\"Refusing to render web experiment since the viewer is a likely bot\"):(this._featureFlags=e.featureFlags,this.loadIfEnabled(),this.previewWebExperiment())}previewWebExperiment(){const e=Lr.getWindowLocation();if(null!=e&&e.search){const t=ct(null==e?void 0:e.search,\"__experiment_id\"),i=ct(null==e?void 0:e.search,\"__experiment_variant\");t&&i&&(Lr.logInfo(`previewing web experiments ${t} && ${i}`),this.getWebExperiments((e=>{this.showPreviewWebExperiment(parseInt(t),i,e)}),!1,!0))}}loadIfEnabled(){this.instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperimentsAndEvaluateDisplayLogic=(()=>{var e=this;return function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.getWebExperiments((t=>{Lr.logInfo(\"retrieved web experiments from the server\"),e._flagToExperiments=new Map,t.forEach((t=>{if(t.feature_flag_key&&e._featureFlags&&e._featureFlags[t.feature_flag_key]){var i;if(e._flagToExperiments)Lr.logInfo(\"setting flag key \",t.feature_flag_key,\" to web experiment \",t),null===(i=e._flagToExperiments)||void 0===i||i.set(t.feature_flag_key,t);const s=e._featureFlags[t.feature_flag_key];s&&t.variants[s]&&e.applyTransforms(t.name,s,t.variants[s].transforms)}else if(t.variants)for(const i in t.variants){const s=t.variants[i];Lr.matchesTestVariant(s)&&e.applyTransforms(t.name,i,s.transforms)}}))}),t)}})();getWebExperiments(e,t,i){if(this.instance.config.disable_web_experiments&&!i)return e([]);const s=this.instance.get_property(\"$web_experiments\");if(s&&!t)return e(s);this.instance._send_request({url:this.instance.requestRouter.endpointFor(\"api\",`/api/web_experiments/?token=${this.instance.config.token}`),method:\"GET\",transport:\"XHR\",callback:t=>{if(200!==t.statusCode||!t.json)return e([]);const i=t.json.experiments||[];return e(i)}})}showPreviewWebExperiment(e,t,i){const s=i.filter((t=>t.id===e));s&&s.length>0&&(Lr.logInfo(`Previewing web experiment [${s[0].name}] with variant [${t}]`),this.applyTransforms(s[0].name,t,s[0].variants[t].transforms,!0))}static matchesTestVariant(e){return!I(e.conditions)&&(Lr.matchUrlConditions(e)&&Lr.matchUTMConditions(e))}static matchUrlConditions(e){var t;if(I(e.conditions)||I(null===(t=e.conditions)||void 0===t?void 0:t.url))return!0;const i=Lr.getWindowLocation();if(i){var s,n,r;return null===(s=e.conditions)||void 0===s||!s.url||Mr[null!==(n=null===(r=e.conditions)||void 0===r?void 0:r.urlMatchType)&&void 0!==n?n:\"icontains\"](e.conditions.url,i)}return!1}static getWindowLocation(){return null==e?void 0:e.location}static matchUTMConditions(e){var t;if(I(e.conditions)||I(null===(t=e.conditions)||void 0===t?void 0:t.utm))return!0;const i=li.campaignParams();if(i.utm_source){var s,n,r,o,a,l,c,u,d,h,_,p,g,f,v,m;const t=null===(s=e.conditions)||void 0===s||null===(n=s.utm)||void 0===n||!n.utm_campaign||(null===(r=e.conditions)||void 0===r||null===(o=r.utm)||void 0===o?void 0:o.utm_campaign)==i.utm_campaign,y=null===(a=e.conditions)||void 0===a||null===(l=a.utm)||void 0===l||!l.utm_source||(null===(c=e.conditions)||void 0===c||null===(u=c.utm)||void 0===u?void 0:u.utm_source)==i.utm_source,b=null===(d=e.conditions)||void 0===d||null===(h=d.utm)||void 0===h||!h.utm_medium||(null===(_=e.conditions)||void 0===_||null===(p=_.utm)||void 0===p?void 0:p.utm_medium)==i.utm_medium,w=null===(g=e.conditions)||void 0===g||null===(f=g.utm)||void 0===f||!f.utm_term||(null===(v=e.conditions)||void 0===v||null===(m=v.utm)||void 0===m?void 0:m.utm_term)==i.utm_term;return t&&b&&w&&y}return!1}static logInfo(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];T.info(`[WebExperiments] ${e}`,i)}applyTransforms(e,t,i,s){var n;this._is_bot()?Lr.logInfo(\"Refusing to render web experiment since the viewer is a likely bot\"):\"control\"!==t?i.forEach((i=>{if(i.selector){var n;Lr.logInfo(`applying transform of variant ${t} for experiment ${e} `,i);let o=0;const a=null===(n=document)||void 0===n?void 0:n.querySelectorAll(i.selector);var r;if(null==a||a.forEach((e=>{const t=e;o+=1,i.attributes&&i.attributes.forEach((e=>{switch(e.name){case\"text\":t.innerText=e.value;break;case\"html\":t.innerHTML=e.value;break;case\"cssClass\":t.className=e.value;break;default:t.setAttribute(e.name,e.value)}})),i.text&&(t.innerText=i.text),i.html&&(t.parentElement?t.parentElement.innerHTML=i.html:t.innerHTML=i.html),i.css&&t.setAttribute(\"style\",i.css)})),this.instance&&this.instance.capture)this.instance.capture(\"$web_experiment_applied\",{$web_experiment_name:e,$web_experiment_variant:t,$web_experiment_preview:s,$web_experiment_document_url:null===(r=Lr.getWindowLocation())||void 0===r?void 0:r.href,$web_experiment_elements_modified:o})}})):(Lr.logInfo(\"Control variants leave the page unmodified.\"),this.instance&&this.instance.capture&&this.instance.capture(\"$web_experiment_applied\",{$web_experiment_name:e,$web_experiment_preview:s,$web_experiment_variant:t,$web_experiment_document_url:null===(n=Lr.getWindowLocation())||void 0===n?void 0:n.href,$web_experiment_elements_modified:0}))}_is_bot(){return r&&this.instance?hr(r,this.instance.config.custom_blocked_useragents):void 0}}const Dr=\"/e/\";class Or{constructor(e){var t;this.instance=e,this._endpointSuffix=(null===(t=this.instance.persistence)||void 0===t?void 0:t.props[se])||Dr}get endpoint(){return this.instance.requestRouter.endpointFor(\"api\",this._endpointSuffix)}afterDecideResponse(e){const t=e.autocaptureExceptions;this._endpointSuffix=b(t)&&t.endpoint||Dr,this.instance.persistence&&this.instance.persistence.register({[se]:this._endpointSuffix})}sendExceptionEvent(e){this.instance.capture(\"$exception\",e,{_noTruncate:!0,_batchKey:\"exceptionEvent\",_url:this.endpoint})}}const Nr={},qr=()=>{},Br=\"posthog\";let Hr=!Ks&&-1===(null==d?void 0:d.indexOf(\"MSIE\"))&&-1===(null==d?void 0:d.indexOf(\"Mozilla\"));const Ur=()=>{var t;return{api_host:\"https://us.i.posthog.com\",ui_host:null,token:\"\",autocapture:!0,rageclick:!0,cross_subdomain_cookie:j(null==o?void 0:o.location),persistence:\"localStorage+cookie\",persistence_name:\"\",loaded:qr,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:\"if_capture_pageview\",debug:a&&E(null==a?void 0:a.search)&&-1!==a.search.indexOf(\"__posthog_debug=true\")||!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,enable_recording_console_log:void 0,secure_cookie:\"https:\"===(null==e||null===(t=e.location)||void 0===t?void 0:t.protocol),ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:\"localStorage\",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},inapp_protocol:\"//\",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,on_request_error:e=>{const t=\"Bad HTTP status: \"+e.statusCode+\" \"+e.text;T.error(t)},get_device_id:e=>e,_onCapture:qr,capture_performance:void 0,name:\"posthog\",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:\"identified_only\",__add_tracing_headers:!1}},Wr=e=>{const t={};S(e.process_person)||(t.person_profiles=e.process_person),S(e.xhr_headers)||(t.request_headers=e.xhr_headers),S(e.cookie_name)||(t.persistence_name=e.cookie_name),S(e.disable_cookie)||(t.disable_persistence=e.disable_cookie);const i=O({},t,e);return m(e.property_blacklist)&&(S(e.property_denylist)?i.property_denylist=e.property_blacklist:m(e.property_denylist)?i.property_denylist=[...e.property_blacklist,...e.property_denylist]:T.error(\"Invalid value for property_denylist config: \"+e.property_denylist)),i};class zr{get _forceAllowLocalhost(){return this.__forceAllowLocalhost}set _forceAllowLocalhost(e){T.error(\"WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`\"),this.__forceAllowLocalhost=e}__forceAllowLocalhost=!1}class Vr{webPerformance=new zr;version=_.LIB_VERSION;_internalEventEmitter=new bn;constructor(){this.config=Ur(),this.decideEndpointWasHit=!1,this.SentryIntegration=pn,this.sentryIntegration=e=>function(e,t){const i=_n(e,t);return{name:hn,processEvent:e=>i(e)}}(this,e),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint=\"/e/\",this._initialPageviewCaptured=!1,this._initialPersonProfilesConfig=null,this.featureFlags=new Oe(this),this.toolbar=new Ys(this),this.scrollManager=new yr(this),this.pageViewManager=new fn(this),this.surveys=new or(this),this.experiments=new Lr(this),this.exceptions=new Or(this),this.rateLimiter=new ar(this),this.requestRouter=new dn(this),this.consent=new Pr(this),this.people={set:(e,t,i)=>{const s=E(e)?{[e]:t}:e;this.setPersonProperties(s),null==i||i({})},set_once:(e,t,i)=>{const s=E(e)?{[e]:t}:e;this.setPersonProperties(void 0,s),null==i||i({})}},this.on(\"eventCaptured\",(e=>T.info(`send \"${null==e?void 0:e.event}\"`,e)))}init(e,t,i){if(i&&i!==Br){var s;const n=null!==(s=Nr[i])&&void 0!==s?s:new Vr;return n._init(e,t,i),Nr[i]=n,Nr[Br][i]=n,n}return this._init(e,t,i)}_init(t){var i,s;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(S(t)||k(t))return T.critical(\"PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()\"),this;if(this.__loaded)return T.warn(\"You have already initialized PostHog! Re-initializing is a no-op\"),this;this.__loaded=!0,this.config={},this._triggered_notifs=[],n.person_profiles&&(this._initialPersonProfilesConfig=n.person_profiles),this.set_config(O({},Ur(),Wr(n),{name:r,token:t})),this.config.on_xhr_error&&T.error(\"[posthog] on_xhr_error is deprecated. Use on_request_error instead\"),this.compression=n.disable_compression?void 0:J.GZipJS,this.persistence=new ui(this.config),this.sessionPersistence=\"sessionStorage\"===this.config.persistence||\"memory\"===this.config.persistence?this.persistence:new ui({...this.config,persistence:\"sessionStorage\"});const o={...this.persistence.props},a={...this.sessionPersistence.props};if(this._requestQueue=new Xs((e=>this._send_retriable_request(e))),this._retryQueue=new an(this),this.__request_queue=[],this.sessionManager=new ln(this.config,this.persistence),this.sessionPropsManager=new cr(this.sessionManager,this.persistence),new Ir(this).startIfEnabledOrStop(),this.sessionRecording=new Vs(this),this.sessionRecording.startIfEnabledOrStop(),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new xr(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new mr(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new Ar(this),this.exceptionObserver=new Cr(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new vr(this,fr),this.deadClicksAutocapture.startIfEnabled(),_.DEBUG=_.DEBUG||this.config.debug,_.DEBUG&&T.info(\"Starting in debug mode\",{this:this,config:n,thisC:{...this.config},p:o,s:a}),this._sync_opt_out_with_persistence(),void 0!==(null===(i=n.bootstrap)||void 0===i?void 0:i.distinctID)){var l,c;const e=this.config.get_device_id(ze()),t=null!==(l=n.bootstrap)&&void 0!==l&&l.isIdentifiedID?e:n.bootstrap.distinctID;this.persistence.set_property(ke,null!==(c=n.bootstrap)&&void 0!==c&&c.isIdentifiedID?\"identified\":\"anonymous\"),this.register({distinct_id:n.bootstrap.distinctID,$device_id:t})}if(this._hasBootstrappedFeatureFlags()){var u,d;const e=Object.keys((null===(u=n.bootstrap)||void 0===u?void 0:u.featureFlags)||{}).filter((e=>{var t,i;return!(null===(t=n.bootstrap)||void 0===t||null===(i=t.featureFlags)||void 0===i||!i[e])})).reduce(((e,t)=>{var i,s;return e[t]=(null===(i=n.bootstrap)||void 0===i||null===(s=i.featureFlags)||void 0===s?void 0:s[t])||!1,e}),{}),t=Object.keys((null===(d=n.bootstrap)||void 0===d?void 0:d.featureFlagPayloads)||{}).filter((t=>e[t])).reduce(((e,t)=>{var i,s,r,o;null!==(i=n.bootstrap)&&void 0!==i&&null!==(s=i.featureFlagPayloads)&&void 0!==s&&s[t]&&(e[t]=null===(r=n.bootstrap)||void 0===r||null===(o=r.featureFlagPayloads)||void 0===o?void 0:o[t]);return e}),{});this.featureFlags.receivedFeatureFlags({featureFlags:e,featureFlagPayloads:t})}if(!this.get_distinct_id()){const e=this.config.get_device_id(ze());this.register_once({distinct_id:e,$device_id:e},\"\"),this.persistence.set_property(ke,\"anonymous\")}return null==e||null===(s=e.addEventListener)||void 0===s||s.call(e,\"onpagehide\"in self?\"pagehide\":\"unload\",this._handle_unload.bind(this)),this.toolbar.maybeLoadToolbar(),n.segment?gn(this,(()=>this._loaded())):this._loaded(),y(this.config._onCapture)&&this.on(\"eventCaptured\",(e=>this.config._onCapture(e.event,e))),this}_afterDecideResponse(e){var t,i,s,n,r,o,a,l,c,u;this.compression=void 0,e.supportedCompression&&!this.config.disable_compression&&(this.compression=N(e.supportedCompression,J.GZipJS)?J.GZipJS:N(e.supportedCompression,J.Base64)?J.Base64:void 0),null!==(t=e.analytics)&&void 0!==t&&t.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),this.set_config({person_profiles:this._initialPersonProfilesConfig?this._initialPersonProfilesConfig:e.defaultIdentifiedOnly?\"identified_only\":\"always\"}),null===(i=this.sessionRecording)||void 0===i||i.afterDecideResponse(e),null===(s=this.autocapture)||void 0===s||s.afterDecideResponse(e),null===(n=this.heatmaps)||void 0===n||n.afterDecideResponse(e),null===(r=this.experiments)||void 0===r||r.afterDecideResponse(e),null===(o=this.surveys)||void 0===o||o.afterDecideResponse(e),null===(a=this.webVitalsAutocapture)||void 0===a||a.afterDecideResponse(e),null===(l=this.exceptions)||void 0===l||l.afterDecideResponse(e),null===(c=this.exceptionObserver)||void 0===c||c.afterDecideResponse(e),null===(u=this.deadClicksAutocapture)||void 0===u||u.afterDecideResponse(e)}_loaded(){const e=this.config.advanced_disable_decide;e||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(e){T.critical(\"`loaded` function failed\",e)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout((()=>{this.consent.isOptedIn()&&this._captureInitialPageview()}),1),e||(new Gs(this).call(),this.featureFlags.resetRequestQueue())}_start_queue_if_opted_in(){var e;this.has_opted_out_capturing()||this.config.request_batching&&(null===(e=this._requestQueue)||void 0===e||e.enable())}_dom_loaded(){this.has_opted_out_capturing()||L(this.__request_queue,(e=>this._send_retriable_request(e))),this.__request_queue=[],this._start_queue_if_opted_in()}_handle_unload(){var e,t;this.config.request_batching?(this._shouldCapturePageleave()&&this.capture(\"$pageleave\"),null===(e=this._requestQueue)||void 0===e||e.unload(),null===(t=this._retryQueue)||void 0===t||t.unload()):this._shouldCapturePageleave()&&this.capture(\"$pageleave\",null,{transport:\"sendBeacon\"})}_send_request(e){this.__loaded&&(Hr?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=en(e.url,{ip:this.config.ip?1:0}),e.headers={...this.config.request_headers},e.compression=\"best-available\"===e.compression?this.compression:e.compression,(e=>{var t,i,s;const n={...e};n.timeout=n.timeout||6e4,n.url=en(n.url,{_:(new Date).getTime().toString(),ver:_.LIB_VERSION,compression:n.compression});const r=null!==(t=n.transport)&&void 0!==t?t:\"XHR\",o=null!==(i=null===(s=Q(on,(e=>e.transport===r)))||void 0===s?void 0:s.method)&&void 0!==i?i:on[0].method;if(!o)throw new Error(\"No available transport method\");o(n)})({...e,callback:t=>{var i,s,n;(this.rateLimiter.checkForLimiting(t),t.statusCode>=400)&&(null===(s=(n=this.config).on_request_error)||void 0===s||s.call(n,t));null===(i=e.callback)||void 0===i||i.call(e,t)}})))}_send_retriable_request(e){this._retryQueue?this._retryQueue.retriableRequest(e):this._send_request(e)}_execute_array(e){let t;const i=[],s=[],n=[];L(e,(e=>{e&&(t=e[0],m(t)?n.push(e):y(e)?e.call(this):m(e)&&\"alias\"===t?i.push(e):m(e)&&-1!==t.indexOf(\"capture\")&&y(this[t])?n.push(e):s.push(e))}));const r=function(e,t){L(e,(function(e){if(m(e[0])){let i=t;D(e,(function(e){i=i[e[0]].apply(i,e.slice(1))}))}else this[e[0]].apply(this,e.slice(1))}),t)};r(i,this),r(s,this),r(n,this)}_hasBootstrappedFeatureFlags(){var e,t;return(null===(e=this.config.bootstrap)||void 0===e?void 0:e.featureFlags)&&Object.keys(null===(t=this.config.bootstrap)||void 0===t?void 0:t.featureFlags).length>0||!1}push(e){this._execute_array([e])}capture(e,t,i){var s;if(!(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue))return void T.uninitializedWarning(\"posthog.capture\");if(this.consent.isOptedOut())return;if(S(e)||!E(e))return void T.error(\"No event name provided to posthog.capture\");if(!this.config.opt_out_useragent_filter&&this._is_bot())return;const n=null!=i&&i.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(null!=n&&n.isRateLimited)return void T.critical(\"This capture call is ignored due to client rate limiting.\");this.sessionPersistence.update_search_keyword(),this.config.store_google&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.store_google||this.config.save_referrer)&&this.persistence.set_initial_person_info();const r=new Date,o=(null==i?void 0:i.timestamp)||r;let a={uuid:ze(),event:e,properties:this._calculate_event_properties(e,t||{},o)};n&&(a.properties.$lib_rate_limit_remaining_tokens=n.remainingTokens);(null==i?void 0:i.$set)&&(a.$set=null==i?void 0:i.$set);const l=this._calculate_set_once_properties(null==i?void 0:i.$set_once);l&&(a.$set_once=l),a=z(a,null!=i&&i._noTruncate?null:this.config.properties_string_max_length),a.timestamp=o,S(null==i?void 0:i.timestamp)||(a.properties.$event_time_override_provided=!0,a.properties.$event_time_override_system_time=r);const c={...a.properties.$set,...a.$set};w(c)||this.setPersonPropertiesForFlags(c),this._internalEventEmitter.emit(\"eventCaptured\",a);const u={method:\"POST\",url:null!==(s=null==i?void 0:i._url)&&void 0!==s?s:this.requestRouter.endpointFor(\"api\",this.analyticsDefaultEndpoint),data:a,compression:\"best-available\",batchKey:null==i?void 0:i._batchKey};return!this.config.request_batching||i&&(null==i||!i._batchKey)||null!=i&&i.send_instantly?this._send_retriable_request(u):this._requestQueue.enqueue(u),a}_addCaptureHook(e){return this.on(\"eventCaptured\",(t=>e(t.event,t)))}_calculate_event_properties(e,t,i){if(i=i||new Date,!this.persistence||!this.sessionPersistence)return t;const s=this.persistence.remove_event_timer(e);let n={...t};if(n.token=this.config.token,\"$snapshot\"===e){const e={...this.persistence.properties(),...this.sessionPersistence.properties()};return n.distinct_id=e.distinct_id,(!E(n.distinct_id)&&!R(n.distinct_id)||k(n.distinct_id))&&T.error(\"Invalid distinct_id for replay event. This indicates a bug in your implementation\"),n}const r=li.properties();if(this.sessionManager){const{sessionId:e,windowId:t}=this.sessionManager.checkAndGetSessionAndWindowId();n.$session_id=e,n.$window_id=t}if(this.requestRouter.region===cn.CUSTOM&&(n.$lib_custom_api_host=this.config.api_host),this.sessionPropsManager&&this.config.__preview_send_client_session_params&&(\"$pageview\"===e||\"$pageleave\"===e||\"$autocapture\"===e)){const e=this.sessionPropsManager.getSessionProps();n=O(n,e)}if(!this.config.disable_scroll_properties){let t={};\"$pageview\"===e?t=this.pageViewManager.doPageView(i):\"$pageleave\"===e&&(t=this.pageViewManager.doPageLeave(i)),n=O(n,t)}if(\"$pageview\"===e&&o&&(n.title=o.title),!S(s)){const e=i.getTime()-s;n.$duration=parseFloat((e/1e3).toFixed(3))}d&&this.config.opt_out_useragent_filter&&(n.$browser_type=this._is_bot()?\"bot\":\"browser\"),n=O({},r,this.persistence.properties(),this.sessionPersistence.properties(),n),n.$is_identified=this._isIdentified(),m(this.config.property_denylist)?D(this.config.property_denylist,(function(e){delete n[e]})):T.error(\"Invalid value for property_denylist config: \"+this.config.property_denylist+\" or property_blacklist config: \"+this.config.property_blacklist);const a=this.config.sanitize_properties;a&&(n=a(n,e));const l=this._hasPersonProcessing();return n.$process_person_profile=l,l&&this._requirePersonProcessing(\"_calculate_event_properties\"),n}_calculate_set_once_properties(e){if(!this.persistence||!this._hasPersonProcessing())return e;let t=O({},this.persistence.get_initial_props(),e||{});const i=this.config.sanitize_properties;return i&&(t=i(t,\"$set_once\")),w(t)?void 0:t}register(e,t){var i;null===(i=this.persistence)||void 0===i||i.register(e,t)}register_once(e,t,i){var s;null===(s=this.persistence)||void 0===s||s.register_once(e,t,i)}register_for_session(e){var t;null===(t=this.sessionPersistence)||void 0===t||t.register(e)}unregister(e){var t;null===(t=this.persistence)||void 0===t||t.unregister(e)}unregister_for_session(e){var t;null===(t=this.sessionPersistence)||void 0===t||t.unregister(e)}_register_single(e,t){this.register({[e]:t})}getFeatureFlag(e,t){return this.featureFlags.getFeatureFlag(e,t)}getFeatureFlagPayload(e){const t=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(t)}catch{return t}}isFeatureEnabled(e,t){return this.featureFlags.isFeatureEnabled(e,t)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(e,t){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,t)}getEarlyAccessFeatures(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(e,t)}on(e,t){return this._internalEventEmitter.on(e,t)}onFeatureFlags(e){return this.featureFlags.onFeatureFlags(e)}onSessionId(e){var t,i;return null!==(t=null===(i=this.sessionManager)||void 0===i?void 0:i.onSessionId(e))&&void 0!==t?t:()=>{}}getSurveys(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getSurveys(e,t)}getActiveMatchingSurveys(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getActiveMatchingSurveys(e,t)}renderSurvey(e,t){this.surveys.renderSurvey(e,t)}canRenderSurvey(e){this.surveys.canRenderSurvey(e)}getNextSurveyStep(e,t,i){return this.surveys.getNextSurveyStep(e,t,i)}identify(e,t,i){if(!this.__loaded||!this.persistence)return T.uninitializedWarning(\"posthog.identify\");if(R(e)&&(e=e.toString(),T.warn(\"The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.\")),!e)return void T.error(\"Unique user id has not been set in posthog.identify\");if([\"distinct_id\",\"distinctid\"].includes(e.toLowerCase()))return void T.critical(`The string \"${e}\" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.`);if(!this._requirePersonProcessing(\"posthog.identify\"))return;const s=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property(\"$device_id\")){const e=s;this.register_once({$had_persisted_distinct_id:!0,$device_id:e},\"\")}e!==s&&e!==this.get_property(K)&&(this.unregister(K),this.register({distinct_id:e}));const n=\"anonymous\"===(this.persistence.get_property(ke)||\"anonymous\");e!==s&&n?(this.persistence.set_property(ke,\"identified\"),this.setPersonPropertiesForFlags(t||{},!1),this.capture(\"$identify\",{distinct_id:e,$anon_distinct_id:s},{$set:t||{},$set_once:i||{}}),this.featureFlags.setAnonymousDistinctId(s)):(t||i)&&this.setPersonProperties(t,i),e!==s&&(this.reloadFeatureFlags(),this.unregister(Ee))}setPersonProperties(e,t){(e||t)&&this._requirePersonProcessing(\"posthog.setPersonProperties\")&&(this.setPersonPropertiesForFlags(e||{}),this.capture(\"$set\",{$set:e||{},$set_once:t||{}}))}group(e,t,i){if(!e||!t)return void T.error(\"posthog.group requires a group type and group key\");if(!this._requirePersonProcessing(\"posthog.group\"))return;const s=this.getGroups();s[e]!==t&&this.resetGroupPropertiesForFlags(e),this.register({$groups:{...s,[e]:t}}),i&&(this.capture(\"$groupidentify\",{$group_type:e,$group_key:t,$group_set:i}),this.setGroupPropertiesForFlags({[e]:i})),s[e]===t||i||this.reloadFeatureFlags()}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._requirePersonProcessing(\"posthog.setPersonPropertiesForFlags\")&&this.featureFlags.setPersonPropertiesForFlags(e,t)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._requirePersonProcessing(\"posthog.setGroupPropertiesForFlags\")&&this.featureFlags.setGroupPropertiesForFlags(e,t)}resetGroupPropertiesForFlags(e){this.featureFlags.resetGroupPropertiesForFlags(e)}reset(e){var t,i,s,n,r;if(T.info(\"reset\"),!this.__loaded)return T.uninitializedWarning(\"posthog.reset\");const o=this.get_property(\"$device_id\");this.consent.reset(),null===(t=this.persistence)||void 0===t||t.clear(),null===(i=this.sessionPersistence)||void 0===i||i.clear(),null===(s=this.surveys)||void 0===s||s.reset(),null===(n=this.persistence)||void 0===n||n.set_property(ke,\"anonymous\"),null===(r=this.sessionManager)||void 0===r||r.resetSessionId();const a=this.config.get_device_id(ze());this.register_once({distinct_id:a,$device_id:e?a:o},\"\")}get_distinct_id(){return this.get_property(\"distinct_id\")}getGroups(){return this.get_property(\"$groups\")||{}}get_session_id(){var e,t;return null!==(e=null===(t=this.sessionManager)||void 0===t?void 0:t.checkAndGetSessionAndWindowId(!0).sessionId)&&void 0!==e?e:\"\"}get_session_replay_url(e){if(!this.sessionManager)return\"\";const{sessionId:t,sessionStartTimestamp:i}=this.sessionManager.checkAndGetSessionAndWindowId(!0);let s=this.requestRouter.endpointFor(\"ui\",`/project/${this.config.token}/replay/${t}`);if(null!=e&&e.withTimestamp&&i){var n;const t=null!==(n=e.timestampLookBack)&&void 0!==n?n:10;if(!i)return s;s+=`?t=${Math.max(Math.floor(((new Date).getTime()-i)/1e3)-t,0)}`}return s}alias(e,t){return e===this.get_property(X)?(T.critical(\"Attempting to create alias for existing People user - aborting.\"),-2):this._requirePersonProcessing(\"posthog.alias\")?(S(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single(K,e),this.capture(\"$create_alias\",{alias:e,distinct_id:t})):(T.warn(\"alias matches current distinct_id - skipping api call.\"),this.identify(e),-1)):void 0}set_config(e){const t={...this.config};var i,s,n,r;b(e)&&(O(this.config,Wr(e)),null===(i=this.persistence)||void 0===i||i.update_config(this.config,t),this.sessionPersistence=\"sessionStorage\"===this.config.persistence||\"memory\"===this.config.persistence?this.persistence:new ui({...this.config,persistence:\"sessionStorage\"}),Ke.is_supported()&&\"true\"===Ke.get(\"ph_debug\")&&(this.config.debug=!0),this.config.debug&&(_.DEBUG=!0,T.info(\"set_config\",{config:e,oldConfig:t,newConfig:{...this.config}})),null===(s=this.sessionRecording)||void 0===s||s.startIfEnabledOrStop(),null===(n=this.autocapture)||void 0===n||n.startIfEnabled(),null===(r=this.heatmaps)||void 0===r||r.startIfEnabled(),this.surveys.loadIfEnabled(),this._sync_opt_out_with_persistence())}startSessionRecording(e){const t=!0===e,i={sampling:t||!(null==e||!e.sampling),linked_flag:t||!(null==e||!e.linked_flag),url_trigger:t||!(null==e||!e.url_trigger),event_trigger:t||!(null==e||!e.event_trigger)};if(Object.values(i).some(Boolean)){var s,n,r,o,a;if(null===(s=this.sessionManager)||void 0===s||s.checkAndGetSessionAndWindowId(),i.sampling)null===(n=this.sessionRecording)||void 0===n||n.overrideSampling();if(i.linked_flag)null===(r=this.sessionRecording)||void 0===r||r.overrideLinkedFlag();if(i.url_trigger)null===(o=this.sessionRecording)||void 0===o||o.overrideTrigger(\"url\");if(i.event_trigger)null===(a=this.sessionRecording)||void 0===a||a.overrideTrigger(\"event\")}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var e;return!(null===(e=this.sessionRecording)||void 0===e||!e.started)}captureException(e,t){var i;const s=new Error(\"PostHog syntheticException\"),n=y(null===(i=h.__PosthogExtensions__)||void 0===i?void 0:i.parseErrorAsProperties)?h.__PosthogExtensions__.parseErrorAsProperties([e.message,void 0,void 0,void 0,e],{syntheticException:s}):{$exception_level:\"error\",$exception_list:[{type:e.name,value:e.message,mechanism:{handled:!0,synthetic:!1}}],...t};this.exceptions.sendExceptionEvent(n)}loadToolbar(e){return this.toolbar.loadToolbar(e)}get_property(e){var t;return null===(t=this.persistence)||void 0===t?void 0:t.props[e]}getSessionProperty(e){var t;return null===(t=this.sessionPersistence)||void 0===t?void 0:t.props[e]}toString(){var e;let t=null!==(e=this.config.name)&&void 0!==e?e:Br;return t!==Br&&(t=Br+\".\"+t),t}_isIdentified(){var e,t;return\"identified\"===(null===(e=this.persistence)||void 0===e?void 0:e.get_property(ke))||\"identified\"===(null===(t=this.sessionPersistence)||void 0===t?void 0:t.get_property(ke))}_hasPersonProcessing(){var e,t,i,s;return!(\"never\"===this.config.person_profiles||\"identified_only\"===this.config.person_profiles&&!this._isIdentified()&&w(this.getGroups())&&(null===(e=this.persistence)||void 0===e||null===(t=e.props)||void 0===t||!t[K])&&(null===(i=this.persistence)||void 0===i||null===(s=i.props)||void 0===s||!s[Ce]))}_shouldCapturePageleave(){return!0===this.config.capture_pageleave||\"if_capture_pageview\"===this.config.capture_pageleave&&this.config.capture_pageview}createPersonProfile(){this._hasPersonProcessing()||this._requirePersonProcessing(\"posthog.createPersonProfile\")&&this.setPersonProperties({},{})}_requirePersonProcessing(e){return\"never\"===this.config.person_profiles?(T.error(e+' was called, but process_person is set to \"never\". This call will be ignored.'),!1):(this._register_single(Ce,!0),!0)}_sync_opt_out_with_persistence(){var e,t;const i=this.consent.isOptedOut(),s=this.config.opt_out_persistence_by_default,n=this.config.disable_persistence||i&&!!s;var r,o;(null===(e=this.persistence)||void 0===e?void 0:e.disabled)!==n&&(null===(r=this.persistence)||void 0===r||r.set_disabled(n));(null===(t=this.sessionPersistence)||void 0===t?void 0:t.disabled)!==n&&(null===(o=this.sessionPersistence)||void 0===o||o.set_disabled(n))}opt_in_capturing(e){var t;(this.consent.optInOut(!0),this._sync_opt_out_with_persistence(),S(null==e?void 0:e.captureEventName)||null!=e&&e.captureEventName)&&this.capture(null!==(t=null==e?void 0:e.captureEventName)&&void 0!==t?t:\"$opt_in\",null==e?void 0:e.captureProperties,{send_instantly:!0});this.config.capture_pageview&&this._captureInitialPageview()}opt_out_capturing(){this.consent.optInOut(!1),this._sync_opt_out_with_persistence()}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}clear_opt_in_out_capturing(){this.consent.reset(),this._sync_opt_out_with_persistence()}_is_bot(){return r?hr(r,this.config.custom_blocked_useragents):void 0}_captureInitialPageview(){o&&!this._initialPageviewCaptured&&(this._initialPageviewCaptured=!0,this.capture(\"$pageview\",{title:o.title},{send_instantly:!0}))}debug(t){!1===t?(null==e||e.console.log(\"You've disabled debug mode.\"),localStorage&&localStorage.removeItem(\"ph_debug\"),this.set_config({debug:!1})):(null==e||e.console.log(\"You're now in debug mode. All calls to PostHog will be logged in your console.\\nYou can disable this with `posthog.debug(false)`.\"),localStorage&&localStorage.setItem(\"ph_debug\",\"true\"),this.set_config({debug:!0}))}}!function(e,t){for(let i=0;i<t.length;i++)e.prototype[t[i]]=H(e.prototype[t[i]])}(Vr,[\"identify\"]);const Gr=function(){const t=Nr[Br]=new Vr;return function(){function t(){t.done||(t.done=!0,Hr=!1,D(Nr,(function(e){e._dom_loaded()})))}null!=o&&o.addEventListener&&(\"complete\"===o.readyState?t():o.addEventListener(\"DOMContentLoaded\",t,!1)),e&&G(e,\"load\",t,!0)}(),t}();export{J as Compression,Vr as PostHog,yn as SurveyQuestionBranchingType,mn as SurveyQuestionType,vn as SurveyType,Gr as default,Gr as posthog,Y as severityLevels};\n//# sourceMappingURL=module.js.map\n","import packageInfo from '../package.json'\n\n// overridden in posthog-core,\n// e.g.     Config.DEBUG = Config.DEBUG || instance.config.debug\nconst Config = {\n    DEBUG: false,\n    LIB_VERSION: packageInfo.version,\n}\n\nexport default Config\n","import type { PostHog } from '../posthog-core'\nimport { assignableWindow, document, PostHogExtensionKind } from '../utils/globals'\nimport { logger } from '../utils/logger'\n\nconst loadScript = (posthog: PostHog, url: string, callback: (error?: string | Event, event?: Event) => void) => {\n    if (posthog.config.disable_external_dependency_loading) {\n        logger.warn(`${url} was requested but loading of external scripts is disabled.`)\n        return callback('Loading of external scripts is disabled')\n    }\n\n    const addScript = () => {\n        if (!document) {\n            return callback('document not found')\n        }\n        const scriptTag = document.createElement('script')\n        scriptTag.type = 'text/javascript'\n        scriptTag.crossOrigin = 'anonymous'\n        scriptTag.src = url\n        scriptTag.onload = (event) => callback(undefined, event)\n        scriptTag.onerror = (error) => callback(error)\n\n        const scripts = document.querySelectorAll('body > script')\n        if (scripts.length > 0) {\n            scripts[0].parentNode?.insertBefore(scriptTag, scripts[0])\n        } else {\n            // In exceptional situations this call might load before the DOM is fully ready.\n            document.body.appendChild(scriptTag)\n        }\n    }\n\n    if (document?.body) {\n        addScript()\n    } else {\n        document?.addEventListener('DOMContentLoaded', addScript)\n    }\n}\n\nassignableWindow.__PosthogExtensions__ = assignableWindow.__PosthogExtensions__ || {}\nassignableWindow.__PosthogExtensions__.loadExternalDependency = (\n    posthog: PostHog,\n    kind: PostHogExtensionKind,\n    callback: (error?: string | Event, event?: Event) => void\n): void => {\n    let scriptUrlToLoad = `/static/${kind}.js` + `?v=${posthog.version}`\n\n    if (kind === 'toolbar') {\n        // toolbar.js is served from the PostHog CDN, this has a TTL of 24 hours.\n        // the toolbar asset includes a rotating \"token\" that is valid for 5 minutes.\n        const fiveMinutesInMillis = 5 * 60 * 1000\n        // this ensures that we bust the cache periodically\n        const timestampToNearestFiveMinutes = Math.floor(Date.now() / fiveMinutesInMillis) * fiveMinutesInMillis\n\n        scriptUrlToLoad = `${scriptUrlToLoad}&t=${timestampToNearestFiveMinutes}`\n    }\n    const url = posthog.requestRouter.endpointFor('assets', scriptUrlToLoad)\n\n    loadScript(posthog, url, callback)\n}\n\nassignableWindow.__PosthogExtensions__.loadSiteApp = (\n    posthog: PostHog,\n    url: string,\n    callback: (error?: string | Event, event?: Event) => void\n): void => {\n    const scriptUrl = posthog.requestRouter.endpointFor('api', url)\n\n    loadScript(posthog, scriptUrl, callback)\n}\n","import { PostHog } from './posthog-core'\nimport type { SegmentAnalytics } from './extensions/segment-integration'\nimport { recordOptions } from './extensions/replay/sessionrecording-utils'\n\nexport type Property = any\nexport type Properties = Record<string, Property>\n\nexport interface CaptureResult {\n    uuid: string\n    event: string\n    properties: Properties\n    $set?: Properties\n    $set_once?: Properties\n    timestamp?: Date\n}\n\nexport type AutocaptureCompatibleElement = 'a' | 'button' | 'form' | 'input' | 'select' | 'textarea' | 'label'\nexport type DomAutocaptureEvents = 'click' | 'change' | 'submit'\n\n/**\n * If an array is passed for an allowlist, autocapture events will only be sent for elements matching\n * at least one of the elements in the array. Multiple allowlists can be used\n */\nexport interface AutocaptureConfig {\n    /**\n     * List of URLs to allow autocapture on, can be strings to match\n     * or regexes e.g. ['https://example.com', 'test.com/.*']\n     * this is useful when you want to autocapture on specific pages only\n     *\n     * if you set both url_allowlist and url_ignorelist,\n     * we check the allowlist first and then the ignorelist.\n     * the ignorelist can override the allowlist\n     */\n    url_allowlist?: (string | RegExp)[]\n\n    /**\n     * List of URLs to not allow autocapture on, can be strings to match\n     * or regexes e.g. ['https://example.com', 'test.com/.*']\n     * this is useful when you want to autocapture on most pages but not some specific ones\n     *\n     * if you set both url_allowlist and url_ignorelist,\n     * we check the allowlist first and then the ignorelist.\n     * the ignorelist can override the allowlist\n     */\n    url_ignorelist?: (string | RegExp)[]\n\n    /**\n     * List of DOM events to allow autocapture on  e.g. ['click', 'change', 'submit']\n     */\n    dom_event_allowlist?: DomAutocaptureEvents[]\n\n    /**\n     * List of DOM elements to allow autocapture on\n     * e.g. ['a', 'button', 'form', 'input', 'select', 'textarea', 'label']\n     * we consider the tree of elements from the root to the target element of the click event\n     * so for the tree div > div > button > svg\n     * if the allowlist has button then we allow the capture when the button or the svg is the click target\n     * but not if either of the divs are detected as the click target\n     */\n    element_allowlist?: AutocaptureCompatibleElement[]\n\n    /**\n     * List of CSS selectors to allow autocapture on\n     * e.g. ['[ph-capture]']\n     * we consider the tree of elements from the root to the target element of the click event\n     * so for the tree div > div > button > svg\n     * and allow list config `['[id]']`\n     * we will capture the click if the click-target or its parents has any id\n     */\n    css_selector_allowlist?: string[]\n\n    /**\n     * Exclude certain element attributes from autocapture\n     * E.g. ['aria-label'] or [data-attr-pii]\n     */\n    element_attribute_ignorelist?: string[]\n\n    capture_copied_text?: boolean\n}\n\nexport interface BootstrapConfig {\n    distinctID?: string\n    isIdentifiedID?: boolean\n    featureFlags?: Record<string, boolean | string>\n    featureFlagPayloads?: Record<string, JsonType>\n    /**\n     * Optionally provide a sessionID, this is so that you can provide an existing sessionID here to continue a user's session across a domain or device. It MUST be:\n     * - unique to this user\n     * - a valid UUID v7\n     * - the timestamp part must be <= the timestamp of the first event in the session\n     * - the timestamp of the last event in the session must be < the timestamp part + 24 hours\n     * **/\n    sessionID?: string\n}\n\nexport type SupportedWebVitalsMetrics = 'LCP' | 'CLS' | 'FCP' | 'INP'\n\nexport interface PerformanceCaptureConfig {\n    /** works with session replay to use the browser's native performance observer to capture performance metrics */\n    network_timing?: boolean\n    /** use chrome's web vitals library to wrap fetch and capture web vitals */\n    web_vitals?: boolean\n    /**\n     * We observe very large values reported by the Chrome web vitals library\n     * These outliers are likely not real, useful values, and we exclude them\n     * You can set this to 0 in order to include all values, NB this is not recommended\n     * if not set this defaults to 15 minutes\n     */\n    __web_vitals_max_value?: number\n    /**\n     * By default all 4 metrics are captured\n     * You can set this config to restrict which metrics are captured\n     * e.g. ['CLS', 'FCP'] to only capture those two metrics\n     * NB setting this does not override whether the capture is enabled\n     */\n    web_vitals_allowed_metrics?: SupportedWebVitalsMetrics[]\n    /**\n     * we delay flushing web vitals metrics to reduce the number of events we send\n     * this is the maximum time we will wait before sending the metrics\n     * if not set it defaults to 5 seconds\n     */\n    web_vitals_delayed_flush_ms?: number\n}\n\nexport interface DeadClickCandidate {\n    node: Element\n    originalEvent: MouseEvent\n    timestamp: number\n    // time between click and the most recent scroll\n    scrollDelayMs?: number\n    // time between click and the most recent mutation\n    mutationDelayMs?: number\n    // time between click and the most recent selection changed event\n    selectionChangedDelayMs?: number\n    // if neither scroll nor mutation seen before threshold passed\n    absoluteDelayMs?: number\n}\n\nexport type DeadClicksAutoCaptureConfig = {\n    // by default if a click is followed by a sroll within 100ms it is not a dead click\n    scroll_threshold_ms?: number\n    // by default if a click is followed by a selection change within 100ms it is not a dead click\n    selection_change_threshold_ms?: number\n    // by default if a click is followed by a mutation within 2500ms it is not a dead click\n    mutation_threshold_ms?: number\n    /**\n     * Allows setting behavior for when a dead click is captured.\n     * For e.g. to support capture to heatmaps\n     *\n     * If not provided the default behavior is to auto-capture dead click events\n     *\n     * Only intended to be provided by the SDK\n     */\n    __onCapture?: ((click: DeadClickCandidate, properties: Properties) => void) | undefined\n} & Pick<AutocaptureConfig, 'element_attribute_ignorelist'>\n\nexport interface HeatmapConfig {\n    /*\n     * how often to send batched data in $$heatmap_data events\n     * if set to 0 or not set, sends using the default interval of 1 second\n     * */\n    flush_interval_milliseconds: number\n}\n\nexport interface PostHogConfig {\n    api_host: string\n    /** @deprecated - This property is no longer supported */\n    api_method?: string\n    api_transport?: 'XHR' | 'fetch'\n    ui_host: string | null\n    token: string\n    autocapture: boolean | AutocaptureConfig\n    rageclick: boolean\n    cross_subdomain_cookie: boolean\n    persistence: 'localStorage' | 'cookie' | 'memory' | 'localStorage+cookie' | 'sessionStorage'\n    persistence_name: string\n    /** @deprecated - Use 'persistence_name' instead */\n    cookie_name?: string\n    loaded: (posthog_instance: PostHog) => void\n    store_google: boolean\n    custom_campaign_params: string[]\n    // a list of strings to be tested against navigator.userAgent to determine if the source is a bot\n    // this is **added to** the default list of bots that we check\n    // defaults to the empty array\n    custom_blocked_useragents: string[]\n    save_referrer: boolean\n    verbose: boolean\n    capture_pageview: boolean\n    capture_pageleave: boolean | 'if_capture_pageview'\n    debug: boolean\n    cookie_expiration: number\n    upgrade: boolean\n    disable_session_recording: boolean\n    disable_persistence: boolean\n    /** @deprecated - use `disable_persistence` instead  */\n    disable_cookie?: boolean\n    disable_surveys: boolean\n    disable_web_experiments: boolean\n    /** If set, posthog-js will never load external scripts such as those needed for Session Replay or Surveys. */\n    disable_external_dependency_loading?: boolean\n    enable_recording_console_log?: boolean\n    secure_cookie: boolean\n    ip: boolean\n    /** Starts the SDK in an opted out state requiring opt_in_capturing() to be called before events will b captured  */\n    opt_out_capturing_by_default: boolean\n    opt_out_capturing_persistence_type: 'localStorage' | 'cookie'\n    /** If set to true this will disable persistence if the user is opted out of capturing. @default false */\n    opt_out_persistence_by_default?: boolean\n    /** Opt out of user agent filtering such as googlebot or other bots. Defaults to `false` */\n    opt_out_useragent_filter: boolean\n\n    opt_out_capturing_cookie_prefix: string | null\n    opt_in_site_apps: boolean\n    respect_dnt: boolean\n    /** @deprecated - use `property_denylist` instead  */\n    property_blacklist?: string[]\n    property_denylist: string[]\n    request_headers: { [header_name: string]: string }\n    on_request_error?: (error: RequestResponse) => void\n    /** @deprecated - use `request_headers` instead  */\n    xhr_headers?: { [header_name: string]: string }\n    /** @deprecated - use `on_request_error` instead  */\n    on_xhr_error?: (failedRequest: XMLHttpRequest) => void\n    inapp_protocol: string\n    inapp_link_new_window: boolean\n    request_batching: boolean\n    sanitize_properties: ((properties: Properties, event_name: string) => Properties) | null\n    properties_string_max_length: number\n    session_recording: SessionRecordingOptions\n    session_idle_timeout_seconds: number\n    mask_all_element_attributes: boolean\n    mask_all_text: boolean\n    advanced_disable_decide: boolean\n    advanced_disable_feature_flags: boolean\n    advanced_disable_feature_flags_on_first_load: boolean\n    advanced_disable_toolbar_metrics: boolean\n    feature_flag_request_timeout_ms: number\n    get_device_id: (uuid: string) => string\n    name: string\n    _onCapture: (eventName: string, eventData: CaptureResult) => void\n    capture_performance?: boolean | PerformanceCaptureConfig\n    // Should only be used for testing. Could negatively impact performance.\n    disable_compression: boolean\n    bootstrap: BootstrapConfig\n    segment?: SegmentAnalytics\n    __preview_send_client_session_params?: boolean\n    /* @deprecated - use `capture_heatmaps` instead */\n    enable_heatmaps?: boolean\n    capture_heatmaps?: boolean | HeatmapConfig\n    capture_dead_clicks?: boolean | DeadClicksAutoCaptureConfig\n    disable_scroll_properties?: boolean\n    // Let the pageview scroll stats use a custom css selector for the root element, e.g. `main`\n    scroll_root_selector?: string | string[]\n\n    /** You can control whether events from PostHog-js have person processing enabled with the `person_profiles` config setting. There are three options:\n     * - `person_profiles: 'always'` _(default)_ - we will process persons data for all events\n     * - `person_profiles: 'never'` - we won't process persons for any event. This means that anonymous users will not be merged once they sign up or login, so you lose the ability to create funnels that track users from anonymous to identified. All events (including `$identify`) will be sent with `$process_person_profile: False`.\n     * - `person_profiles: 'identified_only'` - we will only process persons when you call `posthog.identify`, `posthog.alias`, `posthog.setPersonProperties`, `posthog.group`, `posthog.setPersonPropertiesForFlags` or `posthog.setGroupPropertiesForFlags` Anonymous users won't get person profiles.\n     */\n    person_profiles?: 'always' | 'never' | 'identified_only'\n    /** @deprecated - use `person_profiles` instead  */\n    process_person?: 'always' | 'never' | 'identified_only'\n\n    /** Client side rate limiting */\n    rate_limiting?: {\n        /** The average number of events per second that should be permitted (defaults to 10) */\n        events_per_second?: number\n        /** How many events can be captured in a burst. This defaults to 10 times the events_per_second count  */\n        events_burst_limit?: number\n    }\n\n    /**\n     * PREVIEW - MAY CHANGE WITHOUT WARNING - DO NOT USE IN PRODUCTION\n     * whether to wrap fetch and add tracing headers to the request\n     * */\n    __add_tracing_headers?: boolean\n}\n\nexport interface OptInOutCapturingOptions {\n    capture: (event: string, properties: Properties, options: CaptureOptions) => void\n    capture_event_name: string\n    capture_properties: Properties\n    enable_persistence: boolean\n    clear_persistence: boolean\n    persistence_type: 'cookie' | 'localStorage' | 'localStorage+cookie'\n    cookie_prefix: string\n    cookie_expiration: number\n    cross_subdomain_cookie: boolean\n    secure_cookie: boolean\n}\n\nexport interface IsFeatureEnabledOptions {\n    send_event: boolean\n}\n\nexport interface SessionRecordingOptions {\n    blockClass?: string | RegExp\n    blockSelector?: string | null\n    ignoreClass?: string\n    maskTextClass?: string | RegExp\n    maskTextSelector?: string | null\n    maskTextFn?: ((text: string, element: HTMLElement | null) => string) | null\n    maskAllInputs?: boolean\n    maskInputOptions?: recordOptions['maskInputOptions']\n    maskInputFn?: ((text: string, element?: HTMLElement) => string) | null\n    slimDOMOptions?: recordOptions['slimDOMOptions']\n    collectFonts?: boolean\n    inlineStylesheet?: boolean\n    recordCrossOriginIframes?: boolean\n    /**\n     * Allows local config to override remote canvas recording settings from the decide response\n     */\n    captureCanvas?: SessionRecordingCanvasOptions\n    /** @deprecated - use maskCapturedNetworkRequestFn instead  */\n    maskNetworkRequestFn?: ((data: NetworkRequest) => NetworkRequest | null | undefined) | null\n    /** Modify the network request before it is captured. Returning null or undefined stops it being captured */\n    maskCapturedNetworkRequestFn?: ((data: CapturedNetworkRequest) => CapturedNetworkRequest | null | undefined) | null\n    // our settings here only support a subset of those proposed for rrweb's network capture plugin\n    recordHeaders?: boolean\n    recordBody?: boolean\n    // ADVANCED: while a user is active we take a full snapshot of the browser every interval. For very few sites playback performance might be better with different interval. Set to 0 to disable\n    full_snapshot_interval_millis?: number\n    /*\n     ADVANCED: whether to partially compress rrweb events before sending them to the server,\n     defaults to true, can be set to false to disable partial compression\n     NB requests are still compressed when sent to the server regardless of this setting\n    */\n    compress_events?: boolean\n    /*\n     ADVANCED: alters the threshold before a recording considers a user has become idle.\n     Normally only altered alongside changes to session_idle_timeout_ms.\n     Default is 5 minutes.\n    */\n    session_idle_threshold_ms?: number\n    /*\n     ADVANCED: alters the refill rate for the token bucket mutation throttling\n     Normally only altered alongside posthog support guidance.\n     Accepts values between 0 and 100\n     Default is 10.\n    */\n    __mutationRateLimiterRefillRate?: number\n    /*\n     ADVANCED: alters the bucket size for the token bucket mutation throttling\n     Normally only altered alongside posthog support guidance.\n     Accepts values between 0 and 100\n     Default is 100.\n    */\n    __mutationRateLimiterBucketSize?: number\n}\n\nexport type SessionIdChangedCallback = (\n    sessionId: string,\n    windowId: string | null | undefined,\n    changeReason?: { noSessionId: boolean; activityTimeout: boolean; sessionPastMaximumLength: boolean }\n) => void\n\nexport enum Compression {\n    GZipJS = 'gzip-js',\n    Base64 = 'base64',\n}\n\n// Request types - these should be kept minimal to what request.ts needs\n\n// Minimal class to allow interop between different request methods (xhr / fetch)\nexport interface RequestResponse {\n    statusCode: number\n    text?: string\n    json?: any\n}\n\nexport type RequestCallback = (response: RequestResponse) => void\n\nexport interface RequestOptions {\n    url: string\n    // Data can be a single object or an array of objects when batched\n    data?: Record<string, any> | Record<string, any>[]\n    headers?: Record<string, any>\n    transport?: 'XHR' | 'fetch' | 'sendBeacon'\n    method?: 'POST' | 'GET'\n    urlQueryArgs?: { compression: Compression }\n    callback?: RequestCallback\n    timeout?: number\n    noRetries?: boolean\n    compression?: Compression | 'best-available'\n}\n\n// Queued request types - the same as a request but with additional queueing information\n\nexport interface QueuedRequestOptions extends RequestOptions {\n    batchKey?: string /** key of queue, e.g. 'sessionRecording' vs 'event' */\n}\n\n// Used explicitly for retriable requests\nexport interface RetriableRequestOptions extends QueuedRequestOptions {\n    retriesPerformedSoFar?: number\n}\n\nexport interface CaptureOptions {\n    $set?: Properties /** used with $identify */\n    $set_once?: Properties /** used with $identify */\n    _url?: string /** Used to override the desired endpoint for the captured event */\n    _batchKey?: string /** key of queue, e.g. 'sessionRecording' vs 'event' */\n    _noTruncate?: boolean /** if set, overrides and disables config.properties_string_max_length */\n    send_instantly?: boolean /** if set skips the batched queue */\n    skip_client_rate_limiting?: boolean /** if set skips the client side rate limiting */\n    transport?: RequestOptions['transport'] /** if set, overrides the desired transport method */\n    timestamp?: Date\n}\n\nexport type FlagVariant = { flag: string; variant: string }\n\nexport type SessionRecordingCanvasOptions = {\n    recordCanvas?: boolean | null\n    canvasFps?: number | null\n    // the API returns a decimal between 0 and 1 as a string\n    canvasQuality?: string | null\n}\n\nexport interface DecideResponse {\n    supportedCompression: Compression[]\n    featureFlags: Record<string, string | boolean>\n    featureFlagPayloads: Record<string, JsonType>\n    errorsWhileComputingFlags: boolean\n    autocapture_opt_out?: boolean\n    /**\n     *     originally capturePerformance was replay only and so boolean true\n     *     is equivalent to { network_timing: true }\n     *     now capture performance can be separately enabled within replay\n     *     and as a standalone web vitals tracker\n     *     people can have them enabled separately\n     *     they work standalone but enhance each other\n     *     TODO: deprecate this so we make a new config that doesn't need this explanation\n     */\n    capturePerformance?: boolean | PerformanceCaptureConfig\n    analytics?: {\n        endpoint?: string\n    }\n    elementsChainAsString?: boolean\n    // this is currently in development and may have breaking changes without a major version bump\n    autocaptureExceptions?:\n        | boolean\n        | {\n              endpoint?: string\n          }\n    sessionRecording?: SessionRecordingCanvasOptions & {\n        endpoint?: string\n        consoleLogRecordingEnabled?: boolean\n        // the API returns a decimal between 0 and 1 as a string\n        sampleRate?: string | null\n        minimumDurationMilliseconds?: number\n        linkedFlag?: string | FlagVariant | null\n        networkPayloadCapture?: Pick<NetworkRecordOptions, 'recordBody' | 'recordHeaders'>\n        urlTriggers?: SessionRecordingUrlTrigger[]\n        urlBlocklist?: SessionRecordingUrlTrigger[]\n        eventTriggers?: string[]\n    }\n    surveys?: boolean\n    toolbarParams: ToolbarParams\n    editorParams?: ToolbarParams /** @deprecated, renamed to toolbarParams, still present on older API responses */\n    toolbarVersion: 'toolbar' /** @deprecated, moved to toolbarParams */\n    isAuthenticated: boolean\n    siteApps: { id: number; url: string }[]\n    heatmaps?: boolean\n    defaultIdentifiedOnly?: boolean\n    captureDeadClicks?: boolean\n}\n\nexport type FeatureFlagsCallback = (\n    flags: string[],\n    variants: Record<string, string | boolean>,\n    context?: {\n        errorsLoading?: boolean\n    }\n) => void\n\nexport interface PersistentStore {\n    is_supported: () => boolean\n    error: (error: any) => void\n    parse: (name: string) => any\n    get: (name: string) => any\n    set: (\n        name: string,\n        value: any,\n        expire_days?: number | null,\n        cross_subdomain?: boolean,\n        secure?: boolean,\n        debug?: boolean\n    ) => void\n    remove: (name: string, cross_subdomain?: boolean) => void\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-object-type\nexport type Breaker = {}\nexport type EventHandler = (event: Event) => boolean | void\n\nexport type ToolbarUserIntent = 'add-action' | 'edit-action'\nexport type ToolbarSource = 'url' | 'localstorage'\nexport type ToolbarVersion = 'toolbar'\n\n/* sync with posthog */\nexport interface ToolbarParams {\n    token?: string /** public posthog-js token */\n    temporaryToken?: string /** private temporary user token */\n    actionId?: number\n    userIntent?: ToolbarUserIntent\n    source?: ToolbarSource\n    toolbarVersion?: ToolbarVersion\n    instrument?: boolean\n    distinctId?: string\n    userEmail?: string\n    dataAttributes?: string[]\n    featureFlags?: Record<string, string | boolean>\n}\n\nexport type SnippetArrayItem = [method: string, ...args: any[]]\n\nexport type JsonRecord = { [key: string]: JsonType }\nexport type JsonType = string | number | boolean | null | JsonRecord | Array<JsonType>\n\n/** A feature that isn't publicly available yet.*/\nexport interface EarlyAccessFeature {\n    // Sync this with the backend's EarlyAccessFeatureSerializer!\n    name: string\n    description: string\n    stage: 'concept' | 'alpha' | 'beta'\n    documentationUrl: string | null\n    flagKey: string | null\n}\n\nexport type EarlyAccessFeatureCallback = (earlyAccessFeatures: EarlyAccessFeature[]) => void\n\nexport interface EarlyAccessFeatureResponse {\n    earlyAccessFeatures: EarlyAccessFeature[]\n}\n\nexport type Headers = Record<string, string>\n\n/* for rrweb/network@1\n ** when that is released as part of rrweb this can be removed\n ** don't rely on this type, it may change without notice\n */\nexport type InitiatorType =\n    | 'audio'\n    | 'beacon'\n    | 'body'\n    | 'css'\n    | 'early-hint'\n    | 'embed'\n    | 'fetch'\n    | 'frame'\n    | 'iframe'\n    | 'icon'\n    | 'image'\n    | 'img'\n    | 'input'\n    | 'link'\n    | 'navigation'\n    | 'object'\n    | 'ping'\n    | 'script'\n    | 'track'\n    | 'video'\n    | 'xmlhttprequest'\n\nexport type NetworkRecordOptions = {\n    initiatorTypes?: InitiatorType[]\n    maskRequestFn?: (data: CapturedNetworkRequest) => CapturedNetworkRequest | undefined\n    recordHeaders?: boolean | { request: boolean; response: boolean }\n    recordBody?: boolean | string[] | { request: boolean | string[]; response: boolean | string[] }\n    recordInitialRequests?: boolean\n    /**\n     * whether to record PerformanceEntry events for network requests\n     */\n    recordPerformance?: boolean\n    /**\n     * the PerformanceObserver will only observe these entry types\n     */\n    performanceEntryTypeToObserve: string[]\n    /**\n     * the maximum size of the request/response body to record\n     * NB this will be at most 1MB even if set larger\n     */\n    payloadSizeLimitBytes: number\n    /**\n     * some domains we should never record the payload\n     * for example other companies session replay ingestion payloads aren't super useful but are gigantic\n     * if this isn't provided we use a default list\n     * if this is provided - we add the provided list to the default list\n     * i.e. we never record the payloads on the default deny list\n     */\n    payloadHostDenyList?: string[]\n}\n\n/** @deprecated - use CapturedNetworkRequest instead  */\nexport type NetworkRequest = {\n    url: string\n}\n\n// In rrweb this is called NetworkRequest, but we already exposed that as having only URL\n// we also want to vary from the rrweb NetworkRequest because we want to include\n// all PerformanceEntry properties too.\n// that has 4 required properties\n//     readonly duration: DOMHighResTimeStamp;\n//     readonly entryType: string;\n//     readonly name: string;\n//     readonly startTime: DOMHighResTimeStamp;\n// NB: properties below here are ALPHA, don't rely on them, they may change without notice\n\n// we mirror PerformanceEntry since we read into this type from a PerformanceObserver,\n// but we don't want to inherit its readonly-iness\ntype Writable<T> = { -readonly [P in keyof T]: T[P] }\n\nexport type CapturedNetworkRequest = Writable<Omit<PerformanceEntry, 'toJSON'>> & {\n    // properties below here are ALPHA, don't rely on them, they may change without notice\n    method?: string\n    initiatorType?: InitiatorType\n    status?: number\n    timeOrigin?: number\n    timestamp?: number\n    startTime?: number\n    endTime?: number\n    requestHeaders?: Headers\n    requestBody?: string | null\n    responseHeaders?: Headers\n    responseBody?: string | null\n    // was this captured before fetch/xhr could have been wrapped\n    isInitial?: boolean\n}\n\nexport type ErrorEventArgs = [\n    event: string | Event,\n    source?: string | undefined,\n    lineno?: number | undefined,\n    colno?: number | undefined,\n    error?: Error | undefined\n]\n\nexport type ErrorMetadata = {\n    handled?: boolean\n    synthetic?: boolean\n    syntheticException?: Error\n    overrideExceptionType?: string\n    overrideExceptionMessage?: string\n    defaultExceptionType?: string\n    defaultExceptionMessage?: string\n}\n\n// levels originally copied from Sentry to work with the sentry integration\n// and to avoid relying on a frequently changing @sentry/types dependency\n// but provided as an array of literal types, so we can constrain the level below\nexport const severityLevels = ['fatal', 'error', 'warning', 'log', 'info', 'debug'] as const\nexport declare type SeverityLevel = typeof severityLevels[number]\n\nexport interface ErrorProperties {\n    $exception_type: string\n    $exception_message: string\n    $exception_level: SeverityLevel\n    $exception_source?: string\n    $exception_lineno?: number\n    $exception_colno?: number\n    $exception_DOMException_code?: string\n    $exception_is_synthetic?: boolean\n    $exception_stack_trace_raw?: string\n    $exception_handled?: boolean\n    $exception_personURL?: string\n}\n\nexport interface ErrorConversions {\n    errorToProperties: (args: ErrorEventArgs) => ErrorProperties\n    unhandledRejectionToProperties: (args: [ev: PromiseRejectionEvent]) => ErrorProperties\n}\n\nexport interface SessionRecordingUrlTrigger {\n    url: string\n    matching: 'regex'\n}\n","/*\n * Constants\n */\n\n/* PROPERTY KEYS */\n\n// This key is deprecated, but we want to check for it to see whether aliasing is allowed.\nexport const PEOPLE_DISTINCT_ID_KEY = '$people_distinct_id'\nexport const DISTINCT_ID = 'distinct_id'\nexport const ALIAS_ID_KEY = '__alias'\nexport const CAMPAIGN_IDS_KEY = '__cmpns'\nexport const EVENT_TIMERS_KEY = '__timers'\nexport const AUTOCAPTURE_DISABLED_SERVER_SIDE = '$autocapture_disabled_server_side'\nexport const HEATMAPS_ENABLED_SERVER_SIDE = '$heatmaps_enabled_server_side'\nexport const EXCEPTION_CAPTURE_ENABLED_SERVER_SIDE = '$exception_capture_enabled_server_side'\nexport const EXCEPTION_CAPTURE_ENDPOINT_SUFFIX = '$exception_capture_endpoint_suffix'\nexport const WEB_VITALS_ENABLED_SERVER_SIDE = '$web_vitals_enabled_server_side'\nexport const DEAD_CLICKS_ENABLED_SERVER_SIDE = '$dead_clicks_enabled_server_side'\nexport const WEB_VITALS_ALLOWED_METRICS = '$web_vitals_allowed_metrics'\nexport const SESSION_RECORDING_ENABLED_SERVER_SIDE = '$session_recording_enabled_server_side'\nexport const CONSOLE_LOG_RECORDING_ENABLED_SERVER_SIDE = '$console_log_recording_enabled_server_side'\nexport const SESSION_RECORDING_NETWORK_PAYLOAD_CAPTURE = '$session_recording_network_payload_capture'\nexport const SESSION_RECORDING_CANVAS_RECORDING = '$session_recording_canvas_recording'\nexport const SESSION_RECORDING_SAMPLE_RATE = '$replay_sample_rate'\nexport const SESSION_RECORDING_MINIMUM_DURATION = '$replay_minimum_duration'\nexport const SESSION_ID = '$sesid'\nexport const SESSION_RECORDING_IS_SAMPLED = '$session_is_sampled'\nexport const SESSION_RECORDING_URL_TRIGGER_ACTIVATED_SESSION = '$session_recording_url_trigger_activated_session'\nexport const SESSION_RECORDING_URL_TRIGGER_STATUS = '$session_recording_url_trigger_status'\nexport const SESSION_RECORDING_EVENT_TRIGGER_ACTIVATED_SESSION = '$session_recording_event_trigger_activated_session'\nexport const SESSION_RECORDING_EVENT_TRIGGER_STATUS = '$session_recording_event_trigger_status'\nexport const ENABLED_FEATURE_FLAGS = '$enabled_feature_flags'\nexport const PERSISTENCE_EARLY_ACCESS_FEATURES = '$early_access_features'\nexport const STORED_PERSON_PROPERTIES_KEY = '$stored_person_properties'\nexport const STORED_GROUP_PROPERTIES_KEY = '$stored_group_properties'\nexport const SURVEYS = '$surveys'\nexport const SURVEYS_ACTIVATED = '$surveys_activated'\nexport const FLAG_CALL_REPORTED = '$flag_call_reported'\nexport const USER_STATE = '$user_state'\nexport const CLIENT_SESSION_PROPS = '$client_session_props'\nexport const CAPTURE_RATE_LIMIT = '$capture_rate_limit'\n\n/** @deprecated Delete this when INITIAL_PERSON_INFO has been around for long enough to ignore backwards compat */\nexport const INITIAL_CAMPAIGN_PARAMS = '$initial_campaign_params'\n/** @deprecated Delete this when INITIAL_PERSON_INFO has been around for long enough to ignore backwards compat */\nexport const INITIAL_REFERRER_INFO = '$initial_referrer_info'\nexport const INITIAL_PERSON_INFO = '$initial_person_info'\nexport const ENABLE_PERSON_PROCESSING = '$epp'\nexport const TOOLBAR_ID = '__POSTHOG_TOOLBAR__'\nexport const TOOLBAR_CONTAINER_CLASS = 'toolbar-global-fade-container'\n\nexport const WEB_EXPERIMENTS = '$web_experiments'\n\n// These are properties that are reserved and will not be automatically included in events\nexport const PERSISTENCE_RESERVED_PROPERTIES = [\n    PEOPLE_DISTINCT_ID_KEY,\n    ALIAS_ID_KEY,\n    CAMPAIGN_IDS_KEY,\n    EVENT_TIMERS_KEY,\n    SESSION_RECORDING_ENABLED_SERVER_SIDE,\n    HEATMAPS_ENABLED_SERVER_SIDE,\n    SESSION_ID,\n    ENABLED_FEATURE_FLAGS,\n    USER_STATE,\n    PERSISTENCE_EARLY_ACCESS_FEATURES,\n    STORED_GROUP_PROPERTIES_KEY,\n    STORED_PERSON_PROPERTIES_KEY,\n    SURVEYS,\n    FLAG_CALL_REPORTED,\n    CLIENT_SESSION_PROPS,\n    CAPTURE_RATE_LIMIT,\n    INITIAL_CAMPAIGN_PARAMS,\n    INITIAL_REFERRER_INFO,\n    ENABLE_PERSON_PROCESSING,\n]\n","import { entries, extend } from './utils'\nimport { PostHog } from './posthog-core'\nimport {\n    DecideResponse,\n    FeatureFlagsCallback,\n    EarlyAccessFeatureCallback,\n    EarlyAccessFeatureResponse,\n    Properties,\n    JsonType,\n    Compression,\n} from './types'\nimport { PostHogPersistence } from './posthog-persistence'\n\nimport {\n    PERSISTENCE_EARLY_ACCESS_FEATURES,\n    ENABLED_FEATURE_FLAGS,\n    STORED_GROUP_PROPERTIES_KEY,\n    STORED_PERSON_PROPERTIES_KEY,\n    FLAG_CALL_REPORTED,\n} from './constants'\n\nimport { isArray } from './utils/type-utils'\nimport { logger } from './utils/logger'\n\nconst PERSISTENCE_ACTIVE_FEATURE_FLAGS = '$active_feature_flags'\nconst PERSISTENCE_OVERRIDE_FEATURE_FLAGS = '$override_feature_flags'\nconst PERSISTENCE_FEATURE_FLAG_PAYLOADS = '$feature_flag_payloads'\n\nexport const filterActiveFeatureFlags = (featureFlags?: Record<string, string | boolean>) => {\n    const activeFeatureFlags: Record<string, string | boolean> = {}\n    for (const [key, value] of entries(featureFlags || {})) {\n        if (value) {\n            activeFeatureFlags[key] = value\n        }\n    }\n    return activeFeatureFlags\n}\n\nexport const parseFeatureFlagDecideResponse = (\n    response: Partial<DecideResponse>,\n    persistence: PostHogPersistence,\n    currentFlags: Record<string, string | boolean> = {},\n    currentFlagPayloads: Record<string, JsonType> = {}\n) => {\n    const flags = response['featureFlags']\n    const flagPayloads = response['featureFlagPayloads']\n    if (!flags) {\n        return\n    }\n    // using the v1 api\n    if (isArray(flags)) {\n        const $enabled_feature_flags: Record<string, boolean> = {}\n        if (flags) {\n            for (let i = 0; i < flags.length; i++) {\n                $enabled_feature_flags[flags[i]] = true\n            }\n        }\n        persistence &&\n            persistence.register({\n                [PERSISTENCE_ACTIVE_FEATURE_FLAGS]: flags,\n                [ENABLED_FEATURE_FLAGS]: $enabled_feature_flags,\n            })\n        return\n    }\n\n    // using the v2+ api\n    let newFeatureFlags = flags\n    let newFeatureFlagPayloads = flagPayloads\n    if (response.errorsWhileComputingFlags) {\n        // if not all flags were computed, we upsert flags instead of replacing them\n        newFeatureFlags = { ...currentFlags, ...newFeatureFlags }\n        newFeatureFlagPayloads = { ...currentFlagPayloads, ...newFeatureFlagPayloads }\n    }\n    persistence &&\n        persistence.register({\n            [PERSISTENCE_ACTIVE_FEATURE_FLAGS]: Object.keys(filterActiveFeatureFlags(newFeatureFlags)),\n            [ENABLED_FEATURE_FLAGS]: newFeatureFlags || {},\n            [PERSISTENCE_FEATURE_FLAG_PAYLOADS]: newFeatureFlagPayloads || {},\n        })\n}\n\nexport class PostHogFeatureFlags {\n    instance: PostHog\n    _override_warning: boolean\n    featureFlagEventHandlers: FeatureFlagsCallback[]\n    reloadFeatureFlagsQueued: boolean\n    reloadFeatureFlagsInAction: boolean\n    $anon_distinct_id: string | undefined\n\n    constructor(instance: PostHog) {\n        this.instance = instance\n        this._override_warning = false\n        this.featureFlagEventHandlers = []\n\n        this.reloadFeatureFlagsQueued = false\n        this.reloadFeatureFlagsInAction = false\n    }\n\n    getFlags(): string[] {\n        return Object.keys(this.getFlagVariants())\n    }\n\n    getFlagVariants(): Record<string, string | boolean> {\n        const enabledFlags = this.instance.get_property(ENABLED_FEATURE_FLAGS)\n        const overriddenFlags = this.instance.get_property(PERSISTENCE_OVERRIDE_FEATURE_FLAGS)\n        if (!overriddenFlags) {\n            return enabledFlags || {}\n        }\n\n        const finalFlags = extend({}, enabledFlags)\n        const overriddenKeys = Object.keys(overriddenFlags)\n        for (let i = 0; i < overriddenKeys.length; i++) {\n            finalFlags[overriddenKeys[i]] = overriddenFlags[overriddenKeys[i]]\n        }\n        if (!this._override_warning) {\n            logger.warn(' Overriding feature flags!', {\n                enabledFlags,\n                overriddenFlags,\n                finalFlags,\n            })\n            this._override_warning = true\n        }\n        return finalFlags\n    }\n\n    getFlagPayloads(): Record<string, JsonType> {\n        const flagPayloads = this.instance.get_property(PERSISTENCE_FEATURE_FLAG_PAYLOADS)\n        return flagPayloads || {}\n    }\n\n    /**\n     * Reloads feature flags asynchronously.\n     *\n     * Constraints:\n     *\n     * 1. Avoid parallel requests\n     * 2. Delay a few milliseconds after each reloadFeatureFlags call to batch subsequent changes together\n     * 3. Don't call this during initial load (as /decide will be called instead), see posthog-core.js\n     */\n    reloadFeatureFlags(): void {\n        if (!this.reloadFeatureFlagsQueued) {\n            this.reloadFeatureFlagsQueued = true\n            this._startReloadTimer()\n        }\n    }\n\n    setAnonymousDistinctId(anon_distinct_id: string): void {\n        this.$anon_distinct_id = anon_distinct_id\n    }\n\n    setReloadingPaused(isPaused: boolean): void {\n        this.reloadFeatureFlagsInAction = isPaused\n    }\n\n    resetRequestQueue(): void {\n        this.reloadFeatureFlagsQueued = false\n    }\n\n    _startReloadTimer(): void {\n        if (this.reloadFeatureFlagsQueued && !this.reloadFeatureFlagsInAction) {\n            setTimeout(() => {\n                if (!this.reloadFeatureFlagsInAction && this.reloadFeatureFlagsQueued) {\n                    this.reloadFeatureFlagsQueued = false\n                    this._reloadFeatureFlagsRequest()\n                }\n            }, 5)\n        }\n    }\n\n    _reloadFeatureFlagsRequest(): void {\n        if (this.instance.config.advanced_disable_feature_flags) {\n            return\n        }\n\n        this.setReloadingPaused(true)\n        const token = this.instance.config.token\n        const personProperties = this.instance.get_property(STORED_PERSON_PROPERTIES_KEY)\n        const groupProperties = this.instance.get_property(STORED_GROUP_PROPERTIES_KEY)\n        const json_data = {\n            token: token,\n            distinct_id: this.instance.get_distinct_id(),\n            groups: this.instance.getGroups(),\n            $anon_distinct_id: this.$anon_distinct_id,\n            person_properties: personProperties,\n            group_properties: groupProperties,\n            disable_flags: this.instance.config.advanced_disable_feature_flags || undefined,\n        }\n\n        this.instance._send_request({\n            method: 'POST',\n            url: this.instance.requestRouter.endpointFor('api', '/decide/?v=3'),\n            data: json_data,\n            compression: this.instance.config.disable_compression ? undefined : Compression.Base64,\n            timeout: this.instance.config.feature_flag_request_timeout_ms,\n            callback: (response) => {\n                this.setReloadingPaused(false)\n\n                let errorsLoading = true\n\n                if (response.statusCode === 200) {\n                    // successful request\n                    // reset anon_distinct_id after at least a single request with it\n                    // makes it through\n                    this.$anon_distinct_id = undefined\n                    errorsLoading = false\n                }\n                // :TRICKY: We want to fire the callback even if the request fails\n                // and return existing flags if they exist\n                // This is because we don't want to block clients waiting for flags to load.\n                // It's possible they're waiting for the callback to render the UI, but it never occurs.\n                this.receivedFeatureFlags(response.json ?? {}, errorsLoading)\n\n                // :TRICKY: Reload - start another request if queued!\n                this._startReloadTimer()\n            },\n        })\n    }\n\n    /*\n     * Get feature flag's value for user.\n     *\n     * ### Usage:\n     *\n     *     if(posthog.getFeatureFlag('my-flag') === 'some-variant') { // do something }\n     *\n     * @param {Object|String} key Key of the feature flag.\n     * @param {Object|String} options (optional) If {send_event: false}, we won't send an $feature_flag_call event to PostHog.\n     */\n    getFeatureFlag(key: string, options: { send_event?: boolean } = {}): boolean | string | undefined {\n        if (!this.instance.decideEndpointWasHit && !(this.getFlags() && this.getFlags().length > 0)) {\n            logger.warn('getFeatureFlag for key \"' + key + '\" failed. Feature flags didn\\'t load in time.')\n            return undefined\n        }\n        const flagValue = this.getFlagVariants()[key]\n        const flagReportValue = `${flagValue}`\n        const flagCallReported: Record<string, string[]> = this.instance.get_property(FLAG_CALL_REPORTED) || {}\n\n        if (options.send_event || !('send_event' in options)) {\n            if (!(key in flagCallReported) || !flagCallReported[key].includes(flagReportValue)) {\n                if (isArray(flagCallReported[key])) {\n                    flagCallReported[key].push(flagReportValue)\n                } else {\n                    flagCallReported[key] = [flagReportValue]\n                }\n                this.instance.persistence?.register({ [FLAG_CALL_REPORTED]: flagCallReported })\n\n                this.instance.capture('$feature_flag_called', { $feature_flag: key, $feature_flag_response: flagValue })\n            }\n        }\n        return flagValue\n    }\n\n    getFeatureFlagPayload(key: string): JsonType {\n        const payloads = this.getFlagPayloads()\n        return payloads[key]\n    }\n\n    /*\n     * See if feature flag is enabled for user.\n     *\n     * ### Usage:\n     *\n     *     if(posthog.isFeatureEnabled('beta-feature')) { // do something }\n     *\n     * @param {Object|String} key Key of the feature flag.\n     * @param {Object|String} options (optional) If {send_event: false}, we won't send an $feature_flag_call event to PostHog.\n     */\n    isFeatureEnabled(key: string, options: { send_event?: boolean } = {}): boolean | undefined {\n        if (!this.instance.decideEndpointWasHit && !(this.getFlags() && this.getFlags().length > 0)) {\n            logger.warn('isFeatureEnabled for key \"' + key + '\" failed. Feature flags didn\\'t load in time.')\n            return undefined\n        }\n        return !!this.getFeatureFlag(key, options)\n    }\n\n    addFeatureFlagsHandler(handler: FeatureFlagsCallback): void {\n        this.featureFlagEventHandlers.push(handler)\n    }\n\n    removeFeatureFlagsHandler(handler: FeatureFlagsCallback): void {\n        this.featureFlagEventHandlers = this.featureFlagEventHandlers.filter((h) => h !== handler)\n    }\n\n    receivedFeatureFlags(response: Partial<DecideResponse>, errorsLoading?: boolean): void {\n        if (!this.instance.persistence) {\n            return\n        }\n        this.instance.decideEndpointWasHit = true\n        const currentFlags = this.getFlagVariants()\n        const currentFlagPayloads = this.getFlagPayloads()\n        parseFeatureFlagDecideResponse(response, this.instance.persistence, currentFlags, currentFlagPayloads)\n        this._fireFeatureFlagsCallbacks(errorsLoading)\n    }\n\n    /*\n     * Override feature flags on the client-side.  Useful for setting non-persistent feature flags, or for testing/debugging\n     * feature flags in the PostHog app.\n     *\n     * ### Usage:\n     *\n     *     - posthog.feature_flags.override(false)\n     *     - posthog.feature_flags.override(['beta-feature'])\n     *     - posthog.feature_flags.override({'beta-feature': 'variant', 'other-feature': true})\n     *     - posthog.feature_flags.override({'beta-feature': 'variant'}, true) // Suppress warning log\n     *\n     * @param {Object|Array|String} flags Flags to override with.\n     * @param {boolean} [suppressWarning=false] Optional parameter to suppress the override warning.\n     */\n    override(flags: boolean | string[] | Record<string, string | boolean>, suppressWarning: boolean = false): void {\n        if (!this.instance.__loaded || !this.instance.persistence) {\n            return logger.uninitializedWarning('posthog.feature_flags.override')\n        }\n\n        this._override_warning = suppressWarning\n\n        if (flags === false) {\n            this.instance.persistence.unregister(PERSISTENCE_OVERRIDE_FEATURE_FLAGS)\n        } else if (isArray(flags)) {\n            const flagsObj: Record<string, string | boolean> = {}\n            for (let i = 0; i < flags.length; i++) {\n                flagsObj[flags[i]] = true\n            }\n            this.instance.persistence.register({ [PERSISTENCE_OVERRIDE_FEATURE_FLAGS]: flagsObj })\n        } else {\n            this.instance.persistence.register({ [PERSISTENCE_OVERRIDE_FEATURE_FLAGS]: flags })\n        }\n    }\n    /*\n     * Register an event listener that runs when feature flags become available or when they change.\n     * If there are flags, the listener is called immediately in addition to being called on future changes.\n     *\n     * ### Usage:\n     *\n     *     posthog.onFeatureFlags(function(featureFlags) { // do something })\n     *\n     * @param {Function} [callback] The callback function will be called once the feature flags are ready or when they are updated.\n     *                              It'll return a list of feature flags enabled for the user.\n     * @returns {Function} A function that can be called to unsubscribe the listener. Used by useEffect when the component unmounts.\n     */\n    onFeatureFlags(callback: FeatureFlagsCallback): () => void {\n        this.addFeatureFlagsHandler(callback)\n        if (this.instance.decideEndpointWasHit) {\n            const { flags, flagVariants } = this._prepareFeatureFlagsForCallbacks()\n            callback(flags, flagVariants)\n        }\n        return () => this.removeFeatureFlagsHandler(callback)\n    }\n\n    updateEarlyAccessFeatureEnrollment(key: string, isEnrolled: boolean): void {\n        const enrollmentPersonProp = {\n            [`$feature_enrollment/${key}`]: isEnrolled,\n        }\n        this.instance.capture('$feature_enrollment_update', {\n            $feature_flag: key,\n            $feature_enrollment: isEnrolled,\n            $set: enrollmentPersonProp,\n        })\n        this.setPersonPropertiesForFlags(enrollmentPersonProp, false)\n\n        const newFlags = { ...this.getFlagVariants(), [key]: isEnrolled }\n        this.instance.persistence?.register({\n            [PERSISTENCE_ACTIVE_FEATURE_FLAGS]: Object.keys(filterActiveFeatureFlags(newFlags)),\n            [ENABLED_FEATURE_FLAGS]: newFlags,\n        })\n        this._fireFeatureFlagsCallbacks()\n    }\n\n    getEarlyAccessFeatures(callback: EarlyAccessFeatureCallback, force_reload = false): void {\n        const existing_early_access_features = this.instance.get_property(PERSISTENCE_EARLY_ACCESS_FEATURES)\n\n        if (!existing_early_access_features || force_reload) {\n            this.instance._send_request({\n                transport: 'XHR',\n                url: this.instance.requestRouter.endpointFor(\n                    'api',\n                    `/api/early_access_features/?token=${this.instance.config.token}`\n                ),\n                method: 'GET',\n                callback: (response) => {\n                    if (!response.json) {\n                        return\n                    }\n                    const earlyAccessFeatures = (response.json as EarlyAccessFeatureResponse).earlyAccessFeatures\n                    this.instance.persistence?.register({ [PERSISTENCE_EARLY_ACCESS_FEATURES]: earlyAccessFeatures })\n                    return callback(earlyAccessFeatures)\n                },\n            })\n        } else {\n            return callback(existing_early_access_features)\n        }\n    }\n\n    _prepareFeatureFlagsForCallbacks(): { flags: string[]; flagVariants: Record<string, string | boolean> } {\n        const flags = this.getFlags()\n        const flagVariants = this.getFlagVariants()\n\n        // Return truthy\n        const truthyFlags = flags.filter((flag) => flagVariants[flag])\n        const truthyFlagVariants = Object.keys(flagVariants)\n            .filter((variantKey) => flagVariants[variantKey])\n            .reduce((res: Record<string, string | boolean>, key) => {\n                res[key] = flagVariants[key]\n                return res\n            }, {})\n\n        return {\n            flags: truthyFlags,\n            flagVariants: truthyFlagVariants,\n        }\n    }\n\n    _fireFeatureFlagsCallbacks(errorsLoading?: boolean): void {\n        const { flags, flagVariants } = this._prepareFeatureFlagsForCallbacks()\n        this.featureFlagEventHandlers.forEach((handler) => handler(flags, flagVariants, { errorsLoading }))\n    }\n\n    /**\n     * Set override person properties for feature flags.\n     * This is used when dealing with new persons / where you don't want to wait for ingestion\n     * to update user properties.\n     */\n    setPersonPropertiesForFlags(properties: Properties, reloadFeatureFlags = true): void {\n        // Get persisted person properties\n        const existingProperties = this.instance.get_property(STORED_PERSON_PROPERTIES_KEY) || {}\n\n        this.instance.register({\n            [STORED_PERSON_PROPERTIES_KEY]: {\n                ...existingProperties,\n                ...properties,\n            },\n        })\n\n        if (reloadFeatureFlags) {\n            this.instance.reloadFeatureFlags()\n        }\n    }\n\n    resetPersonPropertiesForFlags(): void {\n        this.instance.unregister(STORED_PERSON_PROPERTIES_KEY)\n    }\n\n    /**\n     * Set override group properties for feature flags.\n     * This is used when dealing with new groups / where you don't want to wait for ingestion\n     * to update properties.\n     * Takes in an object, the key of which is the group type.\n     * For example:\n     *     setGroupPropertiesForFlags({'organization': { name: 'CYZ', employees: '11' } })\n     */\n    setGroupPropertiesForFlags(properties: { [type: string]: Properties }, reloadFeatureFlags = true): void {\n        // Get persisted group properties\n        const existingProperties = this.instance.get_property(STORED_GROUP_PROPERTIES_KEY) || {}\n\n        if (Object.keys(existingProperties).length !== 0) {\n            Object.keys(existingProperties).forEach((groupType) => {\n                existingProperties[groupType] = {\n                    ...existingProperties[groupType],\n                    ...properties[groupType],\n                }\n                delete properties[groupType]\n            })\n        }\n\n        this.instance.register({\n            [STORED_GROUP_PROPERTIES_KEY]: {\n                ...existingProperties,\n                ...properties,\n            },\n        })\n\n        if (reloadFeatureFlags) {\n            this.instance.reloadFeatureFlags()\n        }\n    }\n\n    resetGroupPropertiesForFlags(group_type?: string): void {\n        if (group_type) {\n            const existingProperties = this.instance.get_property(STORED_GROUP_PROPERTIES_KEY) || {}\n            this.instance.register({\n                [STORED_GROUP_PROPERTIES_KEY]: { ...existingProperties, [group_type]: {} },\n            })\n        } else {\n            this.instance.unregister(STORED_GROUP_PROPERTIES_KEY)\n        }\n    }\n}\n","/**\n * uuidv7: An experimental implementation of the proposed UUID Version 7\n *\n * @license Apache-2.0\n * @copyright 2021-2023 LiosK\n * @packageDocumentation\n *\n * from https://github.com/LiosK/uuidv7/blob/e501462ea3d23241de13192ceae726956f9b3b7d/src/index.ts\n */\n\n// polyfill for IE11\nimport { window } from './utils/globals'\n\nimport { isNumber, isUndefined } from './utils/type-utils'\n\nif (!Math.trunc) {\n    Math.trunc = function (v) {\n        return v < 0 ? Math.ceil(v) : Math.floor(v)\n    }\n}\n\n// polyfill for IE11\nif (!Number.isInteger) {\n    Number.isInteger = function (value) {\n        return isNumber(value) && isFinite(value) && Math.floor(value) === value\n    }\n}\n\nconst DIGITS = '0123456789abcdef'\n\n/** Represents a UUID as a 16-byte byte array. */\nexport class UUID {\n    /** @param bytes - The 16-byte byte array representation. */\n    constructor(readonly bytes: Readonly<Uint8Array>) {\n        if (bytes.length !== 16) {\n            throw new TypeError('not 128-bit length')\n        }\n    }\n\n    /**\n     * Builds a byte array from UUIDv7 field values.\n     *\n     * @param unixTsMs - A 48-bit `unix_ts_ms` field value.\n     * @param randA - A 12-bit `rand_a` field value.\n     * @param randBHi - The higher 30 bits of 62-bit `rand_b` field value.\n     * @param randBLo - The lower 32 bits of 62-bit `rand_b` field value.\n     */\n    static fromFieldsV7(unixTsMs: number, randA: number, randBHi: number, randBLo: number): UUID {\n        if (\n            !Number.isInteger(unixTsMs) ||\n            !Number.isInteger(randA) ||\n            !Number.isInteger(randBHi) ||\n            !Number.isInteger(randBLo) ||\n            unixTsMs < 0 ||\n            randA < 0 ||\n            randBHi < 0 ||\n            randBLo < 0 ||\n            unixTsMs > 0xffff_ffff_ffff ||\n            randA > 0xfff ||\n            randBHi > 0x3fff_ffff ||\n            randBLo > 0xffff_ffff\n        ) {\n            throw new RangeError('invalid field value')\n        }\n\n        const bytes = new Uint8Array(16)\n        bytes[0] = unixTsMs / 2 ** 40\n        bytes[1] = unixTsMs / 2 ** 32\n        bytes[2] = unixTsMs / 2 ** 24\n        bytes[3] = unixTsMs / 2 ** 16\n        bytes[4] = unixTsMs / 2 ** 8\n        bytes[5] = unixTsMs\n        bytes[6] = 0x70 | (randA >>> 8)\n        bytes[7] = randA\n        bytes[8] = 0x80 | (randBHi >>> 24)\n        bytes[9] = randBHi >>> 16\n        bytes[10] = randBHi >>> 8\n        bytes[11] = randBHi\n        bytes[12] = randBLo >>> 24\n        bytes[13] = randBLo >>> 16\n        bytes[14] = randBLo >>> 8\n        bytes[15] = randBLo\n        return new UUID(bytes)\n    }\n\n    /** @returns The 8-4-4-4-12 canonical hexadecimal string representation. */\n    toString(): string {\n        let text = ''\n        for (let i = 0; i < this.bytes.length; i++) {\n            text = text + DIGITS.charAt(this.bytes[i] >>> 4) + DIGITS.charAt(this.bytes[i] & 0xf)\n            if (i === 3 || i === 5 || i === 7 || i === 9) {\n                text += '-'\n            }\n        }\n\n        if (text.length !== 36) {\n            // We saw one customer whose bundling code was mangling the UUID generation\n            // rather than accept a bad UUID, we throw an error here.\n            throw new Error('Invalid UUIDv7 was generated')\n        }\n        return text\n    }\n\n    /** Creates an object from `this`. */\n    clone(): UUID {\n        return new UUID(this.bytes.slice(0))\n    }\n\n    /** Returns true if `this` is equivalent to `other`. */\n    equals(other: UUID): boolean {\n        return this.compareTo(other) === 0\n    }\n\n    /**\n     * Returns a negative integer, zero, or positive integer if `this` is less\n     * than, equal to, or greater than `other`, respectively.\n     */\n    compareTo(other: UUID): number {\n        for (let i = 0; i < 16; i++) {\n            const diff = this.bytes[i] - other.bytes[i]\n            if (diff !== 0) {\n                return Math.sign(diff)\n            }\n        }\n        return 0\n    }\n}\n\n/** Encapsulates the monotonic counter state. */\nclass V7Generator {\n    private timestamp = 0\n    private counter = 0\n    private readonly random = new DefaultRandom()\n\n    /**\n     * Generates a new UUIDv7 object from the current timestamp, or resets the\n     * generator upon significant timestamp rollback.\n     *\n     * This method returns monotonically increasing UUIDs unless the up-to-date\n     * timestamp is significantly (by ten seconds or more) smaller than the one\n     * embedded in the immediately preceding UUID. If such a significant clock\n     * rollback is detected, this method resets the generator and returns a new\n     * UUID based on the current timestamp.\n     */\n    generate(): UUID {\n        const value = this.generateOrAbort()\n        if (!isUndefined(value)) {\n            return value\n        } else {\n            // reset state and resume\n            this.timestamp = 0\n            const valueAfterReset = this.generateOrAbort()\n            if (isUndefined(valueAfterReset)) {\n                throw new Error('Could not generate UUID after timestamp reset')\n            }\n            return valueAfterReset\n        }\n    }\n\n    /**\n     * Generates a new UUIDv7 object from the current timestamp, or returns\n     * `undefined` upon significant timestamp rollback.\n     *\n     * This method returns monotonically increasing UUIDs unless the up-to-date\n     * timestamp is significantly (by ten seconds or more) smaller than the one\n     * embedded in the immediately preceding UUID. If such a significant clock\n     * rollback is detected, this method aborts and returns `undefined`.\n     */\n    generateOrAbort(): UUID | undefined {\n        const MAX_COUNTER = 0x3ff_ffff_ffff\n        const ROLLBACK_ALLOWANCE = 10_000 // 10 seconds\n\n        const ts = Date.now()\n        if (ts > this.timestamp) {\n            this.timestamp = ts\n            this.resetCounter()\n        } else if (ts + ROLLBACK_ALLOWANCE > this.timestamp) {\n            // go on with previous timestamp if new one is not much smaller\n            this.counter++\n            if (this.counter > MAX_COUNTER) {\n                // increment timestamp at counter overflow\n                this.timestamp++\n                this.resetCounter()\n            }\n        } else {\n            // abort if clock went backwards to unbearable extent\n            return undefined\n        }\n\n        return UUID.fromFieldsV7(\n            this.timestamp,\n            Math.trunc(this.counter / 2 ** 30),\n            this.counter & (2 ** 30 - 1),\n            this.random.nextUint32()\n        )\n    }\n\n    /** Initializes the counter at a 42-bit random integer. */\n    private resetCounter(): void {\n        this.counter = this.random.nextUint32() * 0x400 + (this.random.nextUint32() & 0x3ff)\n    }\n}\n\n/** A global flag to force use of cryptographically strong RNG. */\ndeclare const UUIDV7_DENY_WEAK_RNG: boolean\n\n/** Stores `crypto.getRandomValues()` available in the environment. */\nlet getRandomValues: <T extends Uint8Array | Uint32Array>(buffer: T) => T = (buffer) => {\n    // fall back on Math.random() unless the flag is set to true\n    // TRICKY: don't use the isUndefined method here as can't pass the reference\n    if (typeof UUIDV7_DENY_WEAK_RNG !== 'undefined' && UUIDV7_DENY_WEAK_RNG) {\n        throw new Error('no cryptographically strong RNG available')\n    }\n\n    for (let i = 0; i < buffer.length; i++) {\n        buffer[i] = Math.trunc(Math.random() * 0x1_0000) * 0x1_0000 + Math.trunc(Math.random() * 0x1_0000)\n    }\n    return buffer\n}\n\n// detect Web Crypto API\nif (window && !isUndefined(window.crypto) && crypto.getRandomValues) {\n    getRandomValues = (buffer) => crypto.getRandomValues(buffer)\n}\n\n/**\n * Wraps `crypto.getRandomValues()` and compatibles to enable buffering; this\n * uses a small buffer by default to avoid unbearable throughput decline in some\n * environments as well as the waste of time and space for unused values.\n */\nclass DefaultRandom {\n    private readonly buffer = new Uint32Array(8)\n    private cursor = Infinity\n    nextUint32(): number {\n        if (this.cursor >= this.buffer.length) {\n            getRandomValues(this.buffer)\n            this.cursor = 0\n        }\n        return this.buffer[this.cursor++]\n    }\n}\n\nlet defaultGenerator: V7Generator | undefined\n\n/**\n * Generates a UUIDv7 string.\n *\n * @returns The 8-4-4-4-12 canonical hexadecimal string representation\n * (\"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\").\n */\nexport const uuidv7 = (): string => uuidv7obj().toString()\n\n/** Generates a UUIDv7 object. */\nconst uuidv7obj = (): UUID => (defaultGenerator || (defaultGenerator = new V7Generator())).generate()\n\nexport const uuid7ToTimestampMs = (uuid: string): number => {\n    // remove hyphens\n    const hex = uuid.replace(/-/g, '')\n    // ensure that it's a version 7 UUID\n    if (hex.length !== 32) {\n        throw new Error('Not a valid UUID')\n    }\n    if (hex[12] !== '7') {\n        throw new Error('Not a UUIDv7')\n    }\n    // the first 6 bytes are the timestamp, which means that we can read only the first 12 hex characters\n    return parseInt(hex.substring(0, 12), 16)\n}\n","import { extend } from './utils'\nimport { PersistentStore, Properties } from './types'\nimport { DISTINCT_ID, ENABLE_PERSON_PROCESSING, SESSION_ID, SESSION_RECORDING_IS_SAMPLED } from './constants'\n\nimport { isNull, isUndefined } from './utils/type-utils'\nimport { logger } from './utils/logger'\nimport { window, document } from './utils/globals'\nimport { uuidv7 } from './uuidv7'\n\nconst Y1970 = 'Thu, 01 Jan 1970 00:00:00 GMT'\n// we store the discovered subdomain in memory because it might be read multiple times\nlet firstNonPublicSubDomain = ''\n\n// helper to allow tests to clear this \"cache\"\nexport const resetSubDomainCache = () => {\n    firstNonPublicSubDomain = ''\n}\n\n/**\n * Browsers don't offer a way to check if something is a public suffix\n * e.g. `.com.au`, `.io`, `.org.uk`\n *\n * But they do reject cookies set on public suffixes\n * Setting a cookie on `.co.uk` would mean it was sent for every `.co.uk` site visited\n *\n * So, we can use this to check if a domain is a public suffix\n * by trying to set a cookie on a subdomain of the provided hostname\n * until the browser accepts it\n *\n * inspired by https://github.com/AngusFu/browser-root-domain\n */\nexport function seekFirstNonPublicSubDomain(hostname: string, cookieJar = document): string {\n    if (firstNonPublicSubDomain) {\n        return firstNonPublicSubDomain\n    }\n\n    if (!cookieJar) {\n        return ''\n    }\n    if (['localhost', '127.0.0.1'].includes(hostname)) return ''\n\n    const list = hostname.split('.')\n    let len = Math.min(list.length, 8) // paranoia - we know this number should be small\n    const key = 'dmn_chk_' + uuidv7()\n    const R = new RegExp('(^|;)\\\\s*' + key + '=1')\n\n    while (!firstNonPublicSubDomain && len--) {\n        const candidate = list.slice(len).join('.')\n        const candidateCookieValue = key + '=1;domain=.' + candidate\n\n        // try to set cookie\n        cookieJar.cookie = candidateCookieValue\n\n        if (R.test(cookieJar.cookie)) {\n            // the cookie was accepted by the browser, remove the test cookie\n            cookieJar.cookie = candidateCookieValue + ';expires=' + Y1970\n            firstNonPublicSubDomain = candidate\n        }\n    }\n\n    return firstNonPublicSubDomain\n}\n\nconst DOMAIN_MATCH_REGEX = /[a-z0-9][a-z0-9-]+\\.[a-z]{2,}$/i\nconst originalCookieDomainFn = (hostname: string): string => {\n    const matches = hostname.match(DOMAIN_MATCH_REGEX)\n    return matches ? matches[0] : ''\n}\n\nexport function chooseCookieDomain(hostname: string, cross_subdomain: boolean | undefined): string {\n    if (cross_subdomain) {\n        // NOTE: Could we use this for cross domain tracking?\n        let matchedSubDomain = seekFirstNonPublicSubDomain(hostname)\n\n        if (!matchedSubDomain) {\n            const originalMatch = originalCookieDomainFn(hostname)\n            if (originalMatch !== matchedSubDomain) {\n                logger.info('Warning: cookie subdomain discovery mismatch', originalMatch, matchedSubDomain)\n            }\n            matchedSubDomain = originalMatch\n        }\n\n        return matchedSubDomain ? '; domain=.' + matchedSubDomain : ''\n    }\n    return ''\n}\n\n// Methods partially borrowed from quirksmode.org/js/cookies.html\nexport const cookieStore: PersistentStore = {\n    is_supported: () => !!document,\n\n    error: function (msg) {\n        logger.error('cookieStore error: ' + msg)\n    },\n\n    get: function (name) {\n        if (!document) {\n            return\n        }\n\n        try {\n            const nameEQ = name + '='\n            const ca = document.cookie.split(';').filter((x) => x.length)\n            for (let i = 0; i < ca.length; i++) {\n                let c = ca[i]\n                while (c.charAt(0) == ' ') {\n                    c = c.substring(1, c.length)\n                }\n                if (c.indexOf(nameEQ) === 0) {\n                    return decodeURIComponent(c.substring(nameEQ.length, c.length))\n                }\n            }\n        } catch {}\n        return null\n    },\n\n    parse: function (name) {\n        let cookie\n        try {\n            cookie = JSON.parse(cookieStore.get(name)) || {}\n        } catch {\n            // noop\n        }\n        return cookie\n    },\n\n    set: function (name, value, days, cross_subdomain, is_secure) {\n        if (!document) {\n            return\n        }\n        try {\n            let expires = '',\n                secure = ''\n\n            const cdomain = chooseCookieDomain(document.location.hostname, cross_subdomain)\n\n            if (days) {\n                const date = new Date()\n                date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000)\n                expires = '; expires=' + date.toUTCString()\n            }\n\n            if (is_secure) {\n                secure = '; secure'\n            }\n\n            const new_cookie_val =\n                name +\n                '=' +\n                encodeURIComponent(JSON.stringify(value)) +\n                expires +\n                '; SameSite=Lax; path=/' +\n                cdomain +\n                secure\n\n            // 4096 bytes is the size at which some browsers (e.g. firefox) will not store a cookie, warn slightly before that\n            if (new_cookie_val.length > 4096 * 0.9) {\n                logger.warn('cookieStore warning: large cookie, len=' + new_cookie_val.length)\n            }\n\n            document.cookie = new_cookie_val\n            return new_cookie_val\n        } catch {\n            return\n        }\n    },\n\n    remove: function (name, cross_subdomain) {\n        try {\n            cookieStore.set(name, '', -1, cross_subdomain)\n        } catch {\n            return\n        }\n    },\n}\n\nlet _localStorage_supported: boolean | null = null\n\nexport const localStore: PersistentStore = {\n    is_supported: function () {\n        if (!isNull(_localStorage_supported)) {\n            return _localStorage_supported\n        }\n\n        let supported = true\n        if (!isUndefined(window)) {\n            try {\n                const key = '__mplssupport__',\n                    val = 'xyz'\n                localStore.set(key, val)\n                if (localStore.get(key) !== '\"xyz\"') {\n                    supported = false\n                }\n                localStore.remove(key)\n            } catch {\n                supported = false\n            }\n        } else {\n            supported = false\n        }\n        if (!supported) {\n            logger.error('localStorage unsupported; falling back to cookie store')\n        }\n\n        _localStorage_supported = supported\n        return supported\n    },\n\n    error: function (msg) {\n        logger.error('localStorage error: ' + msg)\n    },\n\n    get: function (name) {\n        try {\n            return window?.localStorage.getItem(name)\n        } catch (err) {\n            localStore.error(err)\n        }\n        return null\n    },\n\n    parse: function (name) {\n        try {\n            return JSON.parse(localStore.get(name)) || {}\n        } catch {\n            // noop\n        }\n        return null\n    },\n\n    set: function (name, value) {\n        try {\n            window?.localStorage.setItem(name, JSON.stringify(value))\n        } catch (err) {\n            localStore.error(err)\n        }\n    },\n\n    remove: function (name) {\n        try {\n            window?.localStorage.removeItem(name)\n        } catch (err) {\n            localStore.error(err)\n        }\n    },\n}\n\n// Use localstorage for most data but still use cookie for COOKIE_PERSISTED_PROPERTIES\n// This solves issues with cookies having too much data in them causing headers too large\n// Also makes sure we don't have to send a ton of data to the server\nconst COOKIE_PERSISTED_PROPERTIES = [DISTINCT_ID, SESSION_ID, SESSION_RECORDING_IS_SAMPLED, ENABLE_PERSON_PROCESSING]\n\nexport const localPlusCookieStore: PersistentStore = {\n    ...localStore,\n    parse: function (name) {\n        try {\n            let cookieProperties: Properties = {}\n            try {\n                // See if there's a cookie stored with data.\n                cookieProperties = cookieStore.parse(name) || {}\n            } catch {}\n            const value = extend(cookieProperties, JSON.parse(localStore.get(name) || '{}'))\n            localStore.set(name, value)\n            return value\n        } catch {\n            // noop\n        }\n        return null\n    },\n\n    set: function (name, value, days, cross_subdomain, is_secure, debug) {\n        try {\n            localStore.set(name, value, undefined, undefined, debug)\n            const cookiePersistedProperties: Record<string, any> = {}\n            COOKIE_PERSISTED_PROPERTIES.forEach((key) => {\n                if (value[key]) {\n                    cookiePersistedProperties[key] = value[key]\n                }\n            })\n\n            if (Object.keys(cookiePersistedProperties).length) {\n                cookieStore.set(name, cookiePersistedProperties, days, cross_subdomain, is_secure, debug)\n            }\n        } catch (err) {\n            localStore.error(err)\n        }\n    },\n\n    remove: function (name, cross_subdomain) {\n        try {\n            window?.localStorage.removeItem(name)\n            cookieStore.remove(name, cross_subdomain)\n        } catch (err) {\n            localStore.error(err)\n        }\n    },\n}\n\nconst memoryStorage: Properties = {}\n\n// Storage that only lasts the length of the pageview if we don't want to use cookies\nexport const memoryStore: PersistentStore = {\n    is_supported: function () {\n        return true\n    },\n\n    error: function (msg) {\n        logger.error('memoryStorage error: ' + msg)\n    },\n\n    get: function (name) {\n        return memoryStorage[name] || null\n    },\n\n    parse: function (name) {\n        return memoryStorage[name] || null\n    },\n\n    set: function (name, value) {\n        memoryStorage[name] = value\n    },\n\n    remove: function (name) {\n        delete memoryStorage[name]\n    },\n}\n\nlet sessionStorageSupported: boolean | null = null\nexport const resetSessionStorageSupported = () => {\n    sessionStorageSupported = null\n}\n// Storage that only lasts the length of a tab/window. Survives page refreshes\nexport const sessionStore: PersistentStore = {\n    is_supported: function () {\n        if (!isNull(sessionStorageSupported)) {\n            return sessionStorageSupported\n        }\n        sessionStorageSupported = true\n        if (!isUndefined(window)) {\n            try {\n                const key = '__support__',\n                    val = 'xyz'\n                sessionStore.set(key, val)\n                if (sessionStore.get(key) !== '\"xyz\"') {\n                    sessionStorageSupported = false\n                }\n                sessionStore.remove(key)\n            } catch {\n                sessionStorageSupported = false\n            }\n        } else {\n            sessionStorageSupported = false\n        }\n        return sessionStorageSupported\n    },\n\n    error: function (msg) {\n        logger.error('sessionStorage error: ', msg)\n    },\n\n    get: function (name) {\n        try {\n            return window?.sessionStorage.getItem(name)\n        } catch (err) {\n            sessionStore.error(err)\n        }\n        return null\n    },\n\n    parse: function (name) {\n        try {\n            return JSON.parse(sessionStore.get(name)) || null\n        } catch {\n            // noop\n        }\n        return null\n    },\n\n    set: function (name, value) {\n        try {\n            window?.sessionStorage.setItem(name, JSON.stringify(value))\n        } catch (err) {\n            sessionStore.error(err)\n        }\n    },\n\n    remove: function (name) {\n        try {\n            window?.sessionStorage.removeItem(name)\n        } catch (err) {\n            sessionStore.error(err)\n        }\n    },\n}\n","import { includes } from './index'\nimport { isFunction, isUndefined } from './type-utils'\n\n/**\n * this device detection code is (at time of writing) about 3% of the size of the entire library\n * this is mostly because the identifiers user in regexes and results can't be minified away since\n * they have meaning\n *\n * so, there are some pre-uglifying choices in the code to help reduce the size\n * e.g. many repeated strings are stored as variables and then old-fashioned concatenated together\n *\n * TL;DR here be dragons\n */\nconst FACEBOOK = 'Facebook'\nconst MOBILE = 'Mobile'\nconst IOS = 'iOS'\nconst ANDROID = 'Android'\nconst TABLET = 'Tablet'\nconst ANDROID_TABLET = ANDROID + ' ' + TABLET\nconst IPAD = 'iPad'\nconst APPLE = 'Apple'\nconst APPLE_WATCH = APPLE + ' Watch'\nconst SAFARI = 'Safari'\nconst BLACKBERRY = 'BlackBerry'\nconst SAMSUNG = 'Samsung'\nconst SAMSUNG_BROWSER = SAMSUNG + 'Browser'\nconst SAMSUNG_INTERNET = SAMSUNG + ' Internet'\nconst CHROME = 'Chrome'\nconst CHROME_OS = CHROME + ' OS'\nconst CHROME_IOS = CHROME + ' ' + IOS\nconst INTERNET_EXPLORER = 'Internet Explorer'\nconst INTERNET_EXPLORER_MOBILE = INTERNET_EXPLORER + ' ' + MOBILE\nconst OPERA = 'Opera'\nconst OPERA_MINI = OPERA + ' Mini'\nconst EDGE = 'Edge'\nconst MICROSOFT_EDGE = 'Microsoft ' + EDGE\nconst FIREFOX = 'Firefox'\nconst FIREFOX_IOS = FIREFOX + ' ' + IOS\nconst NINTENDO = 'Nintendo'\nconst PLAYSTATION = 'PlayStation'\nconst XBOX = 'Xbox'\nconst ANDROID_MOBILE = ANDROID + ' ' + MOBILE\nconst MOBILE_SAFARI = MOBILE + ' ' + SAFARI\nconst WINDOWS = 'Windows'\nconst WINDOWS_PHONE = WINDOWS + ' Phone'\nconst NOKIA = 'Nokia'\nconst OUYA = 'Ouya'\nconst GENERIC = 'Generic'\nconst GENERIC_MOBILE = GENERIC + ' ' + MOBILE.toLowerCase()\nconst GENERIC_TABLET = GENERIC + ' ' + TABLET.toLowerCase()\nconst KONQUEROR = 'Konqueror'\n\nconst BROWSER_VERSION_REGEX_SUFFIX = '(\\\\d+(\\\\.\\\\d+)?)'\nconst DEFAULT_BROWSER_VERSION_REGEX = new RegExp('Version/' + BROWSER_VERSION_REGEX_SUFFIX)\n\nconst XBOX_REGEX = new RegExp(XBOX, 'i')\nconst PLAYSTATION_REGEX = new RegExp(PLAYSTATION + ' \\\\w+', 'i')\nconst NINTENDO_REGEX = new RegExp(NINTENDO + ' \\\\w+', 'i')\nconst BLACKBERRY_REGEX = new RegExp(BLACKBERRY + '|PlayBook|BB10', 'i')\n\nconst windowsVersionMap: Record<string, string> = {\n    'NT3.51': 'NT 3.11',\n    'NT4.0': 'NT 4.0',\n    '5.0': '2000',\n    '5.1': 'XP',\n    '5.2': 'XP',\n    '6.0': 'Vista',\n    '6.1': '7',\n    '6.2': '8',\n    '6.3': '8.1',\n    '6.4': '10',\n    '10.0': '10',\n}\n\n/**\n * Safari detection turns out to be complicated. For e.g. https://stackoverflow.com/a/29696509\n * We can be slightly loose because some options have been ruled out (e.g. firefox on iOS)\n * before this check is made\n */\nfunction isSafari(userAgent: string): boolean {\n    return includes(userAgent, SAFARI) && !includes(userAgent, CHROME) && !includes(userAgent, ANDROID)\n}\n\nconst safariCheck = (ua: string, vendor?: string) => (vendor && includes(vendor, APPLE)) || isSafari(ua)\n\n/**\n * This function detects which browser is running this script.\n * The order of the checks are important since many user agents\n * include keywords used in later checks.\n */\nexport const detectBrowser = function (user_agent: string, vendor: string | undefined): string {\n    vendor = vendor || '' // vendor is undefined for at least IE9\n\n    if (includes(user_agent, ' OPR/') && includes(user_agent, 'Mini')) {\n        return OPERA_MINI\n    } else if (includes(user_agent, ' OPR/')) {\n        return OPERA\n    } else if (BLACKBERRY_REGEX.test(user_agent)) {\n        return BLACKBERRY\n    } else if (includes(user_agent, 'IE' + MOBILE) || includes(user_agent, 'WPDesktop')) {\n        return INTERNET_EXPLORER_MOBILE\n    }\n    // https://developer.samsung.com/internet/user-agent-string-format\n    else if (includes(user_agent, SAMSUNG_BROWSER)) {\n        return SAMSUNG_INTERNET\n    } else if (includes(user_agent, EDGE) || includes(user_agent, 'Edg/')) {\n        return MICROSOFT_EDGE\n    } else if (includes(user_agent, 'FBIOS')) {\n        return FACEBOOK + ' ' + MOBILE\n    } else if (includes(user_agent, 'UCWEB') || includes(user_agent, 'UCBrowser')) {\n        return 'UC Browser'\n    } else if (includes(user_agent, 'CriOS')) {\n        return CHROME_IOS // why not just Chrome?\n    } else if (includes(user_agent, 'CrMo')) {\n        return CHROME\n    } else if (includes(user_agent, ANDROID) && includes(user_agent, SAFARI)) {\n        return ANDROID_MOBILE\n    } else if (includes(user_agent, CHROME)) {\n        return CHROME\n    } else if (includes(user_agent, 'FxiOS')) {\n        return FIREFOX_IOS\n    } else if (includes(user_agent.toLowerCase(), KONQUEROR.toLowerCase())) {\n        return KONQUEROR\n    } else if (safariCheck(user_agent, vendor)) {\n        return includes(user_agent, MOBILE) ? MOBILE_SAFARI : SAFARI\n    } else if (includes(user_agent, FIREFOX)) {\n        return FIREFOX\n    } else if (includes(user_agent, 'MSIE') || includes(user_agent, 'Trident/')) {\n        return INTERNET_EXPLORER\n    } else if (includes(user_agent, 'Gecko')) {\n        return FIREFOX\n    }\n\n    return ''\n}\n\nconst versionRegexes: Record<string, RegExp[]> = {\n    [INTERNET_EXPLORER_MOBILE]: [new RegExp('rv:' + BROWSER_VERSION_REGEX_SUFFIX)],\n    [MICROSOFT_EDGE]: [new RegExp(EDGE + '?\\\\/' + BROWSER_VERSION_REGEX_SUFFIX)],\n    [CHROME]: [new RegExp('(' + CHROME + '|CrMo)\\\\/' + BROWSER_VERSION_REGEX_SUFFIX)],\n    [CHROME_IOS]: [new RegExp('CriOS\\\\/' + BROWSER_VERSION_REGEX_SUFFIX)],\n    'UC Browser': [new RegExp('(UCBrowser|UCWEB)\\\\/' + BROWSER_VERSION_REGEX_SUFFIX)],\n    [SAFARI]: [DEFAULT_BROWSER_VERSION_REGEX],\n    [MOBILE_SAFARI]: [DEFAULT_BROWSER_VERSION_REGEX],\n    [OPERA]: [new RegExp('(' + OPERA + '|OPR)\\\\/' + BROWSER_VERSION_REGEX_SUFFIX)],\n    [FIREFOX]: [new RegExp(FIREFOX + '\\\\/' + BROWSER_VERSION_REGEX_SUFFIX)],\n    [FIREFOX_IOS]: [new RegExp('FxiOS\\\\/' + BROWSER_VERSION_REGEX_SUFFIX)],\n    [KONQUEROR]: [new RegExp('Konqueror[:/]?' + BROWSER_VERSION_REGEX_SUFFIX, 'i')],\n    // not every blackberry user agent has the version after the name\n    [BLACKBERRY]: [new RegExp(BLACKBERRY + ' ' + BROWSER_VERSION_REGEX_SUFFIX), DEFAULT_BROWSER_VERSION_REGEX],\n    [ANDROID_MOBILE]: [new RegExp('android\\\\s' + BROWSER_VERSION_REGEX_SUFFIX, 'i')],\n    [SAMSUNG_INTERNET]: [new RegExp(SAMSUNG_BROWSER + '\\\\/' + BROWSER_VERSION_REGEX_SUFFIX)],\n    [INTERNET_EXPLORER]: [new RegExp('(rv:|MSIE )' + BROWSER_VERSION_REGEX_SUFFIX)],\n    Mozilla: [new RegExp('rv:' + BROWSER_VERSION_REGEX_SUFFIX)],\n}\n\n/**\n * This function detects which browser version is running this script,\n * parsing major and minor version (e.g., 42.1). User agent strings from:\n * http://www.useragentstring.com/pages/useragentstring.php\n *\n * `navigator.vendor` is passed in and used to help with detecting certain browsers\n * NB `navigator.vendor` is deprecated and not present in every browser\n */\nexport const detectBrowserVersion = function (userAgent: string, vendor: string | undefined): number | null {\n    const browser = detectBrowser(userAgent, vendor)\n    const regexes: RegExp[] | undefined = versionRegexes[browser as keyof typeof versionRegexes]\n    if (isUndefined(regexes)) {\n        return null\n    }\n\n    for (let i = 0; i < regexes.length; i++) {\n        const regex = regexes[i]\n        const matches = userAgent.match(regex)\n        if (matches) {\n            return parseFloat(matches[matches.length - 2])\n        }\n    }\n    return null\n}\n\n// to avoid repeating regexes or calling them twice, we have an array of matches\n// the first regex that matches uses its matcher function to return the result\nconst osMatchers: [\n    RegExp,\n    [string, string] | ((match: RegExpMatchArray | null, user_agent: string) => [string, string])\n][] = [\n    [\n        new RegExp(XBOX + '; ' + XBOX + ' (.*?)[);]', 'i'),\n        (match) => {\n            return [XBOX, (match && match[1]) || '']\n        },\n    ],\n    [new RegExp(NINTENDO, 'i'), [NINTENDO, '']],\n    [new RegExp(PLAYSTATION, 'i'), [PLAYSTATION, '']],\n    [BLACKBERRY_REGEX, [BLACKBERRY, '']],\n    [\n        new RegExp(WINDOWS, 'i'),\n        (_, user_agent) => {\n            if (/Phone/.test(user_agent) || /WPDesktop/.test(user_agent)) {\n                return [WINDOWS_PHONE, '']\n            }\n            // not all JS versions support negative lookbehind, so we need two checks here\n            if (new RegExp(MOBILE).test(user_agent) && !/IEMobile\\b/.test(user_agent)) {\n                return [WINDOWS + ' ' + MOBILE, '']\n            }\n            const match = /Windows NT ([0-9.]+)/i.exec(user_agent)\n            if (match && match[1]) {\n                const version = match[1]\n                let osVersion = windowsVersionMap[version] || ''\n                if (/arm/i.test(user_agent)) {\n                    osVersion = 'RT'\n                }\n                return [WINDOWS, osVersion]\n            }\n            return [WINDOWS, '']\n        },\n    ],\n    [\n        /((iPhone|iPad|iPod).*?OS (\\d+)_(\\d+)_?(\\d+)?|iPhone)/,\n        (match) => {\n            if (match && match[3]) {\n                const versionParts = [match[3], match[4], match[5] || '0']\n                return [IOS, versionParts.join('.')]\n            }\n            return [IOS, '']\n        },\n    ],\n    [\n        /(watch.*\\/(\\d+\\.\\d+\\.\\d+)|watch os,(\\d+\\.\\d+),)/i,\n        (match) => {\n            // e.g. Watch4,3/5.3.8 (16U680)\n            let version = ''\n            if (match && match.length >= 3) {\n                version = isUndefined(match[2]) ? match[3] : match[2]\n            }\n            return ['watchOS', version]\n        },\n    ],\n    [\n        new RegExp('(' + ANDROID + ' (\\\\d+)\\\\.(\\\\d+)\\\\.?(\\\\d+)?|' + ANDROID + ')', 'i'),\n        (match) => {\n            if (match && match[2]) {\n                const versionParts = [match[2], match[3], match[4] || '0']\n                return [ANDROID, versionParts.join('.')]\n            }\n            return [ANDROID, '']\n        },\n    ],\n    [\n        /Mac OS X (\\d+)[_.](\\d+)[_.]?(\\d+)?/i,\n        (match) => {\n            const result: [string, string] = ['Mac OS X', '']\n            if (match && match[1]) {\n                const versionParts = [match[1], match[2], match[3] || '0']\n                result[1] = versionParts.join('.')\n            }\n            return result\n        },\n    ],\n    [\n        /Mac/i,\n        // mop up a few non-standard UAs that should match mac\n        ['Mac OS X', ''],\n    ],\n    [/CrOS/, [CHROME_OS, '']],\n    [/Linux|debian/i, ['Linux', '']],\n]\n\nexport const detectOS = function (user_agent: string): [string, string] {\n    for (let i = 0; i < osMatchers.length; i++) {\n        const [rgex, resultOrFn] = osMatchers[i]\n        const match = rgex.exec(user_agent)\n        const result = match && (isFunction(resultOrFn) ? resultOrFn(match, user_agent) : resultOrFn)\n        if (result) {\n            return result\n        }\n    }\n    return ['', '']\n}\n\nexport const detectDevice = function (user_agent: string): string {\n    if (NINTENDO_REGEX.test(user_agent)) {\n        return NINTENDO\n    } else if (PLAYSTATION_REGEX.test(user_agent)) {\n        return PLAYSTATION\n    } else if (XBOX_REGEX.test(user_agent)) {\n        return XBOX\n    } else if (new RegExp(OUYA, 'i').test(user_agent)) {\n        return OUYA\n    } else if (new RegExp('(' + WINDOWS_PHONE + '|WPDesktop)', 'i').test(user_agent)) {\n        return WINDOWS_PHONE\n    } else if (/iPad/.test(user_agent)) {\n        return IPAD\n    } else if (/iPod/.test(user_agent)) {\n        return 'iPod Touch'\n    } else if (/iPhone/.test(user_agent)) {\n        return 'iPhone'\n    } else if (/(watch)(?: ?os[,/]|\\d,\\d\\/)[\\d.]+/i.test(user_agent)) {\n        return APPLE_WATCH\n    } else if (BLACKBERRY_REGEX.test(user_agent)) {\n        return BLACKBERRY\n    } else if (/(kobo)\\s(ereader|touch)/i.test(user_agent)) {\n        return 'Kobo'\n    } else if (new RegExp(NOKIA, 'i').test(user_agent)) {\n        return NOKIA\n    } else if (\n        // Kindle Fire without Silk / Echo Show\n        /(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\\))/i.test(user_agent) ||\n        // Kindle Fire HD\n        /(kf[a-z]+)( bui|\\)).+silk\\//i.test(user_agent)\n    ) {\n        return 'Kindle Fire'\n    } else if (/(Android|ZTE)/i.test(user_agent)) {\n        if (\n            !new RegExp(MOBILE).test(user_agent) ||\n            /(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(user_agent)\n        ) {\n            if (\n                (/pixel[\\daxl ]{1,6}/i.test(user_agent) && !/pixel c/i.test(user_agent)) ||\n                /(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(user_agent) ||\n                (/lmy47v/i.test(user_agent) && !/QTAQZ3/i.test(user_agent))\n            ) {\n                return ANDROID\n            }\n            return ANDROID_TABLET\n        } else {\n            return ANDROID\n        }\n    } else if (new RegExp('(pda|' + MOBILE + ')', 'i').test(user_agent)) {\n        return GENERIC_MOBILE\n    } else if (new RegExp(TABLET, 'i').test(user_agent) && !new RegExp(TABLET + ' pc', 'i').test(user_agent)) {\n        return GENERIC_TABLET\n    } else {\n        return ''\n    }\n}\n\nexport const detectDeviceType = function (user_agent: string): string {\n    const device = detectDevice(user_agent)\n    if (\n        device === IPAD ||\n        device === ANDROID_TABLET ||\n        device === 'Kobo' ||\n        device === 'Kindle Fire' ||\n        device === GENERIC_TABLET\n    ) {\n        return TABLET\n    } else if (device === NINTENDO || device === XBOX || device === PLAYSTATION || device === OUYA) {\n        return 'Console'\n    } else if (device === APPLE_WATCH) {\n        return 'Wearable'\n    } else if (device) {\n        return MOBILE\n    } else {\n        return 'Desktop'\n    }\n}\n","import { getQueryParam, convertToURL } from './request-utils'\nimport { isNull } from './type-utils'\nimport { Properties } from '../types'\nimport Config from '../config'\nimport { each, extend, stripEmptyProperties, stripLeadingDollar } from './index'\nimport { document, location, userAgent, window } from './globals'\nimport { detectBrowser, detectBrowserVersion, detectDevice, detectDeviceType, detectOS } from './user-agent-utils'\n\nconst URL_REGEX_PREFIX = 'https?://(.*)'\n\n// Should be kept in sync with https://github.com/PostHog/posthog/blob/master/plugin-server/src/utils/db/utils.ts#L60\nexport const CAMPAIGN_PARAMS = [\n    'utm_source',\n    'utm_medium',\n    'utm_campaign',\n    'utm_content',\n    'utm_term',\n    'gclid', // google ads\n    'gad_source', // google ads\n    'gclsrc', // google ads 360\n    'dclid', // google display ads\n    'gbraid', // google ads, web to app\n    'wbraid', // google ads, app to web\n    'fbclid', // facebook\n    'msclkid', // microsoft\n    'twclid', // twitter\n    'li_fat_id', // linkedin\n    'mc_cid', // mailchimp campaign id\n    'igshid', // instagram\n    'ttclid', // tiktok\n    'rdt_cid', // reddit\n]\n\nexport const EVENT_TO_PERSON_PROPERTIES = [\n    // mobile params\n    '$app_build',\n    '$app_name',\n    '$app_namespace',\n    '$app_version',\n    // web params\n    '$browser',\n    '$browser_version',\n    '$device_type',\n    '$current_url',\n    '$pathname',\n    '$os',\n    '$os_name', // $os_name is a special case, it's treated as an alias of $os!\n    '$os_version',\n    '$referring_domain',\n    '$referrer',\n]\n\nexport const Info = {\n    campaignParams: function (customParams?: string[]): Record<string, string> {\n        if (!document) {\n            return {}\n        }\n        return this._campaignParamsFromUrl(document.URL, customParams)\n    },\n\n    _campaignParamsFromUrl: function (url: string, customParams?: string[]): Record<string, string> {\n        const campaign_keywords = CAMPAIGN_PARAMS.concat(customParams || [])\n\n        const params: Record<string, any> = {}\n        each(campaign_keywords, function (kwkey) {\n            const kw = getQueryParam(url, kwkey)\n            params[kwkey] = kw ? kw : null\n        })\n\n        return params\n    },\n\n    _searchEngine: function (referrer: string): string | null {\n        if (!referrer) {\n            return null\n        } else {\n            if (referrer.search(URL_REGEX_PREFIX + 'google.([^/?]*)') === 0) {\n                return 'google'\n            } else if (referrer.search(URL_REGEX_PREFIX + 'bing.com') === 0) {\n                return 'bing'\n            } else if (referrer.search(URL_REGEX_PREFIX + 'yahoo.com') === 0) {\n                return 'yahoo'\n            } else if (referrer.search(URL_REGEX_PREFIX + 'duckduckgo.com') === 0) {\n                return 'duckduckgo'\n            } else {\n                return null\n            }\n        }\n    },\n\n    _searchInfoFromReferrer: function (referrer: string): Record<string, any> {\n        const search = Info._searchEngine(referrer)\n        const param = search != 'yahoo' ? 'q' : 'p'\n        const ret: Record<string, any> = {}\n\n        if (!isNull(search)) {\n            ret['$search_engine'] = search\n\n            const keyword = document ? getQueryParam(document.referrer, param) : ''\n            if (keyword.length) {\n                ret['ph_keyword'] = keyword\n            }\n        }\n\n        return ret\n    },\n\n    searchInfo: function (): Record<string, any> {\n        const referrer = document?.referrer\n        if (!referrer) {\n            return {}\n        }\n        return this._searchInfoFromReferrer(referrer)\n    },\n\n    /**\n     * This function detects which browser is running this script.\n     * The order of the checks are important since many user agents\n     * include keywords used in later checks.\n     */\n    browser: detectBrowser,\n\n    /**\n     * This function detects which browser version is running this script,\n     * parsing major and minor version (e.g., 42.1). User agent strings from:\n     * http://www.useragentstring.com/pages/useragentstring.php\n     *\n     * `navigator.vendor` is passed in and used to help with detecting certain browsers\n     * NB `navigator.vendor` is deprecated and not present in every browser\n     */\n    browserVersion: detectBrowserVersion,\n\n    browserLanguage: function (): string {\n        return (\n            navigator.language || // Any modern browser\n            (navigator as Record<string, any>).userLanguage // IE11\n        )\n    },\n\n    os: detectOS,\n\n    device: detectDevice,\n\n    deviceType: detectDeviceType,\n\n    referrer: function (): string {\n        return document?.referrer || '$direct'\n    },\n\n    referringDomain: function (): string {\n        if (!document?.referrer) {\n            return '$direct'\n        }\n        return convertToURL(document.referrer)?.host || '$direct'\n    },\n\n    referrerInfo: function (): Record<string, any> {\n        return {\n            $referrer: this.referrer(),\n            $referring_domain: this.referringDomain(),\n        }\n    },\n\n    initialPersonInfo: function (): Record<string, any> {\n        // we're being a bit more economical with bytes here because this is stored in the cookie\n        return {\n            r: this.referrer(),\n            u: location?.href,\n        }\n    },\n\n    initialPersonPropsFromInfo: function (info: Record<string, any>): Record<string, any> {\n        const { r: initial_referrer, u: initial_current_url } = info\n        const referring_domain =\n            initial_referrer == null\n                ? undefined\n                : initial_referrer == '$direct'\n                ? '$direct'\n                : convertToURL(initial_referrer)?.host\n\n        const props: Record<string, string | undefined> = {\n            $initial_referrer: initial_referrer,\n            $initial_referring_domain: referring_domain,\n        }\n        if (initial_current_url) {\n            props['$initial_current_url'] = initial_current_url\n            const location = convertToURL(initial_current_url)\n            props['$initial_host'] = location?.host\n            props['$initial_pathname'] = location?.pathname\n            const campaignParams = this._campaignParamsFromUrl(initial_current_url)\n            each(campaignParams, function (v, k: string) {\n                props['$initial_' + stripLeadingDollar(k)] = v\n            })\n        }\n        if (initial_referrer) {\n            const searchInfo = this._searchInfoFromReferrer(initial_referrer)\n            each(searchInfo, function (v, k: string) {\n                props['$initial_' + stripLeadingDollar(k)] = v\n            })\n        }\n        return props\n    },\n\n    timezone: function (): string | undefined {\n        try {\n            return Intl.DateTimeFormat().resolvedOptions().timeZone\n        } catch {\n            return undefined\n        }\n    },\n\n    properties: function (): Properties {\n        if (!userAgent) {\n            return {}\n        }\n        const [os_name, os_version] = Info.os(userAgent)\n        return extend(\n            stripEmptyProperties({\n                $os: os_name,\n                $os_version: os_version,\n                $browser: Info.browser(userAgent, navigator.vendor),\n                $device: Info.device(userAgent),\n                $device_type: Info.deviceType(userAgent),\n                $timezone: Info.timezone(),\n            }),\n            {\n                $current_url: location?.href,\n                $host: location?.host,\n                $pathname: location?.pathname,\n                $raw_user_agent: userAgent.length > 1000 ? userAgent.substring(0, 997) + '...' : userAgent,\n                $browser_version: Info.browserVersion(userAgent, navigator.vendor),\n                $browser_language: Info.browserLanguage(),\n                $screen_height: window?.screen.height,\n                $screen_width: window?.screen.width,\n                $viewport_height: window?.innerHeight,\n                $viewport_width: window?.innerWidth,\n                $lib: 'web',\n                $lib_version: Config.LIB_VERSION,\n                $insert_id: Math.random().toString(36).substring(2, 10) + Math.random().toString(36).substring(2, 10),\n                $time: Date.now() / 1000, // epoch time in seconds\n            }\n        )\n    },\n\n    people_properties: function (): Properties {\n        if (!userAgent) {\n            return {}\n        }\n\n        const [os_name, os_version] = Info.os(userAgent)\n        return extend(\n            stripEmptyProperties({\n                $os: os_name,\n                $os_version: os_version,\n                $browser: Info.browser(userAgent, navigator.vendor),\n            }),\n            {\n                $browser_version: Info.browserVersion(userAgent, navigator.vendor),\n            }\n        )\n    },\n}\n","/* eslint camelcase: \"off\" */\n\nimport { each, extend, include, stripEmptyProperties, stripLeadingDollar } from './utils'\nimport { cookieStore, localPlusCookieStore, localStore, memoryStore, sessionStore } from './storage'\nimport { PersistentStore, PostHogConfig, Properties } from './types'\nimport {\n    ENABLED_FEATURE_FLAGS,\n    EVENT_TIMERS_KEY,\n    INITIAL_CAMPAIGN_PARAMS,\n    INITIAL_PERSON_INFO,\n    INITIAL_REFERRER_INFO,\n    PERSISTENCE_RESERVED_PROPERTIES,\n} from './constants'\n\nimport { isEmptyObject, isObject, isUndefined } from './utils/type-utils'\nimport { Info } from './utils/event-utils'\nimport { logger } from './utils/logger'\n\nconst CASE_INSENSITIVE_PERSISTENCE_TYPES: readonly Lowercase<PostHogConfig['persistence']>[] = [\n    'cookie',\n    'localstorage',\n    'localstorage+cookie',\n    'sessionstorage',\n    'memory',\n]\n\nconst parseName = (config: PostHogConfig): string => {\n    let token = ''\n    if (config['token']) {\n        token = config['token'].replace(/\\+/g, 'PL').replace(/\\//g, 'SL').replace(/=/g, 'EQ')\n    }\n\n    if (config['persistence_name']) {\n        return 'ph_' + config['persistence_name']\n    } else {\n        return 'ph_' + token + '_posthog'\n    }\n}\n\n/**\n * PostHog Persistence Object\n * @constructor\n */\nexport class PostHogPersistence {\n    private config: PostHogConfig\n    props: Properties\n    storage: PersistentStore\n    campaign_params_saved: boolean\n    name: string\n    disabled: boolean | undefined\n    secure: boolean | undefined\n    expire_days: number | undefined\n    default_expiry: number | undefined\n    cross_subdomain: boolean | undefined\n\n    constructor(config: PostHogConfig) {\n        this.config = config\n        this.props = {}\n        this.campaign_params_saved = false\n        this.name = parseName(config)\n        this.storage = this.buildStorage(config)\n        this.load()\n        if (config.debug) {\n            logger.info('Persistence loaded', config['persistence'], { ...this.props })\n        }\n        this.update_config(config, config)\n        this.save()\n    }\n\n    private buildStorage(config: PostHogConfig) {\n        if (\n            CASE_INSENSITIVE_PERSISTENCE_TYPES.indexOf(\n                config['persistence'].toLowerCase() as Lowercase<PostHogConfig['persistence']>\n            ) === -1\n        ) {\n            logger.critical(\n                'Unknown persistence type ' + config['persistence'] + '; falling back to localStorage+cookie'\n            )\n            config['persistence'] = 'localStorage+cookie'\n        }\n\n        let store: PersistentStore\n        // We handle storage type in a case-insensitive way for backwards compatibility\n        const storage_type = config['persistence'].toLowerCase() as Lowercase<PostHogConfig['persistence']>\n        if (storage_type === 'localstorage' && localStore.is_supported()) {\n            store = localStore\n        } else if (storage_type === 'localstorage+cookie' && localPlusCookieStore.is_supported()) {\n            store = localPlusCookieStore\n        } else if (storage_type === 'sessionstorage' && sessionStore.is_supported()) {\n            store = sessionStore\n        } else if (storage_type === 'memory') {\n            store = memoryStore\n        } else if (storage_type === 'cookie') {\n            store = cookieStore\n        } else if (localPlusCookieStore.is_supported()) {\n            // selected storage type wasn't supported, fallback to 'localstorage+cookie' if possible\n            store = localPlusCookieStore\n        } else {\n            store = cookieStore\n        }\n\n        return store\n    }\n\n    properties(): Properties {\n        const p: Properties = {}\n        // Filter out reserved properties\n        each(this.props, function (v, k) {\n            if (k === ENABLED_FEATURE_FLAGS && isObject(v)) {\n                const keys = Object.keys(v)\n                for (let i = 0; i < keys.length; i++) {\n                    p[`$feature/${keys[i]}`] = v[keys[i]]\n                }\n            } else if (!include(PERSISTENCE_RESERVED_PROPERTIES, k)) {\n                p[k] = v\n            }\n        })\n        return p\n    }\n\n    load(): void {\n        if (this.disabled) {\n            return\n        }\n\n        const entry = this.storage.parse(this.name)\n\n        if (entry) {\n            this.props = extend({}, entry)\n        }\n    }\n\n    /**\n     * NOTE: Saving frequently causes issues with Recordings and Consent Management Platform (CMP) tools which\n     * observe cookie changes, and modify their UI, often causing infinite loops.\n     * As such callers of this should ideally check that the data has changed beforehand\n     */\n    save(): void {\n        if (this.disabled) {\n            return\n        }\n        this.storage.set(this.name, this.props, this.expire_days, this.cross_subdomain, this.secure, this.config.debug)\n    }\n\n    remove(): void {\n        // remove both domain and subdomain cookies\n        this.storage.remove(this.name, false)\n        this.storage.remove(this.name, true)\n    }\n\n    // removes the storage entry and deletes all loaded data\n    // forced name for tests\n\n    clear(): void {\n        this.remove()\n        this.props = {}\n    }\n\n    /**\n     * @param {Object} props\n     * @param {*=} default_value\n     * @param {number=} days\n     */\n\n    register_once(props: Properties, default_value: any, days?: number): boolean {\n        if (isObject(props)) {\n            if (isUndefined(default_value)) {\n                default_value = 'None'\n            }\n            this.expire_days = isUndefined(days) ? this.default_expiry : days\n\n            let hasChanges = false\n\n            each(props, (val, prop) => {\n                if (!this.props.hasOwnProperty(prop) || this.props[prop] === default_value) {\n                    this.props[prop] = val\n                    hasChanges = true\n                }\n            })\n\n            if (hasChanges) {\n                this.save()\n                return true\n            }\n        }\n        return false\n    }\n\n    /**\n     * @param {Object} props\n     * @param {number=} days\n     */\n\n    register(props: Properties, days?: number): boolean {\n        if (isObject(props)) {\n            this.expire_days = isUndefined(days) ? this.default_expiry : days\n\n            let hasChanges = false\n\n            each(props, (val, prop) => {\n                if (props.hasOwnProperty(prop) && this.props[prop] !== val) {\n                    this.props[prop] = val\n                    hasChanges = true\n                }\n            })\n\n            if (hasChanges) {\n                this.save()\n                return true\n            }\n        }\n        return false\n    }\n\n    unregister(prop: string): void {\n        if (prop in this.props) {\n            delete this.props[prop]\n            this.save()\n        }\n    }\n\n    update_campaign_params(): void {\n        if (!this.campaign_params_saved) {\n            const campaignParams = Info.campaignParams(this.config.custom_campaign_params)\n            // only save campaign params if there were any\n            if (!isEmptyObject(stripEmptyProperties(campaignParams))) {\n                this.register(Info.campaignParams(this.config.custom_campaign_params))\n            }\n            this.campaign_params_saved = true\n        }\n    }\n    update_search_keyword(): void {\n        this.register(Info.searchInfo())\n    }\n\n    update_referrer_info(): void {\n        this.register_once(Info.referrerInfo(), undefined)\n    }\n\n    set_initial_person_info(): void {\n        if (this.props[INITIAL_CAMPAIGN_PARAMS] || this.props[INITIAL_REFERRER_INFO]) {\n            // the user has initial properties stored the previous way, don't save them again\n            return\n        }\n\n        this.register_once(\n            {\n                [INITIAL_PERSON_INFO]: Info.initialPersonInfo(),\n            },\n            undefined\n        )\n    }\n\n    get_referrer_info(): Properties {\n        return stripEmptyProperties({\n            $referrer: this['props']['$referrer'],\n            $referring_domain: this['props']['$referring_domain'],\n        })\n    }\n\n    get_initial_props(): Properties {\n        const p: Properties = {}\n\n        // this section isn't written to anymore, but we should keep reading from it for backwards compatibility\n        // for a while\n        each([INITIAL_REFERRER_INFO, INITIAL_CAMPAIGN_PARAMS], (key) => {\n            const initialReferrerInfo = this.props[key]\n            if (initialReferrerInfo) {\n                each(initialReferrerInfo, function (v, k) {\n                    p['$initial_' + stripLeadingDollar(k)] = v\n                })\n            }\n        })\n        const initialPersonInfo = this.props[INITIAL_PERSON_INFO]\n        if (initialPersonInfo) {\n            const initialPersonProps = Info.initialPersonPropsFromInfo(initialPersonInfo)\n            extend(p, initialPersonProps)\n        }\n\n        return p\n    }\n\n    // safely fills the passed in object with stored properties,\n    // does not override any properties defined in both\n    // returns the passed in object\n\n    safe_merge(props: Properties): Properties {\n        each(this.props, function (val, prop) {\n            if (!(prop in props)) {\n                props[prop] = val\n            }\n        })\n\n        return props\n    }\n\n    update_config(config: PostHogConfig, oldConfig: PostHogConfig): void {\n        this.default_expiry = this.expire_days = config['cookie_expiration']\n        this.set_disabled(config['disable_persistence'])\n        this.set_cross_subdomain(config['cross_subdomain_cookie'])\n        this.set_secure(config['secure_cookie'])\n\n        if (config.persistence !== oldConfig.persistence) {\n            // If the persistence type has changed, we need to migrate the data.\n            const newStore = this.buildStorage(config)\n            const props = this.props\n\n            // clear the old store\n            this.clear()\n            this.storage = newStore\n            this.props = props\n\n            this.save()\n        }\n    }\n\n    set_disabled(disabled: boolean): void {\n        this.disabled = disabled\n        if (this.disabled) {\n            this.remove()\n        } else {\n            this.save()\n        }\n    }\n\n    set_cross_subdomain(cross_subdomain: boolean): void {\n        if (cross_subdomain !== this.cross_subdomain) {\n            this.cross_subdomain = cross_subdomain\n            this.remove()\n            this.save()\n        }\n    }\n\n    get_cross_subdomain(): boolean {\n        return !!this.cross_subdomain\n    }\n\n    set_secure(secure: boolean): void {\n        if (secure !== this.secure) {\n            this.secure = secure\n            this.remove()\n            this.save()\n        }\n    }\n\n    set_event_timer(event_name: string, timestamp: number): void {\n        const timers = this.props[EVENT_TIMERS_KEY] || {}\n        timers[event_name] = timestamp\n        this.props[EVENT_TIMERS_KEY] = timers\n        this.save()\n    }\n\n    remove_event_timer(event_name: string): number {\n        const timers = this.props[EVENT_TIMERS_KEY] || {}\n        const timestamp = timers[event_name]\n        if (!isUndefined(timestamp)) {\n            delete this.props[EVENT_TIMERS_KEY][event_name]\n            this.save()\n        }\n        return timestamp\n    }\n\n    get_property(prop: string): any {\n        return this.props[prop]\n    }\n\n    set_property(prop: string, to: any): void {\n        this.props[prop] = to\n        this.save()\n    }\n}\n","import type { eventWithTime, listenerHandler, pluginEvent } from '@rrweb/types'\nimport type { record } from '@rrweb/record'\n\nimport { isObject } from '../../utils/type-utils'\nimport { SnapshotBuffer } from './sessionrecording'\n\n// taken from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Cyclic_object_value#circular_references\nexport function circularReferenceReplacer() {\n    const ancestors: any[] = []\n    return function (this: any, _key: string, value: any) {\n        if (isObject(value)) {\n            // `this` is the object that value is contained in,\n            // i.e., its direct parent.\n            while (ancestors.length > 0 && ancestors.at(-1) !== this) {\n                ancestors.pop()\n            }\n            if (ancestors.includes(value)) {\n                return '[Circular]'\n            }\n            ancestors.push(value)\n            return value\n        } else {\n            return value\n        }\n    }\n}\n\nexport function estimateSize(sizeable: unknown): number {\n    return JSON.stringify(sizeable, circularReferenceReplacer())?.length || 0\n}\n\nexport const replacementImageURI =\n    'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNOCAwSDE2TDAgMTZWOEw4IDBaIiBmaWxsPSIjMkQyRDJEIi8+CjxwYXRoIGQ9Ik0xNiA4VjE2SDhMMTYgOFoiIGZpbGw9IiMyRDJEMkQiLz4KPC9zdmc+Cg=='\n\nexport const FULL_SNAPSHOT_EVENT_TYPE = 2\nexport const META_EVENT_TYPE = 4\nexport const INCREMENTAL_SNAPSHOT_EVENT_TYPE = 3\nexport const PLUGIN_EVENT_TYPE = 6\nexport const MUTATION_SOURCE_TYPE = 0\n\nexport const MAX_MESSAGE_SIZE = 5000000 // ~5mb\n\nexport type rrwebRecord = {\n    (options: recordOptions): listenerHandler\n    addCustomEvent: (tag: string, payload: any) => void\n    takeFullSnapshot: () => void\n    mirror: {\n        getId(n: Node | undefined | null): number\n        getNode(id: number): Node | null\n    }\n}\n\nexport declare type recordOptions = Exclude<Parameters<typeof record<eventWithTime>>[0], undefined>\n\n/*\n * Check whether a data payload is nearing 5mb. If it is, it checks the data for\n * data URIs (the likely culprit for large payloads). If it finds data URIs, it either replaces\n * it with a generic image (if it's an image) or removes it.\n * @data {object} the rr-web data object\n * @returns {object} the rr-web data object with data uris filtered out\n */\nexport function ensureMaxMessageSize(data: eventWithTime): { event: eventWithTime; size: number } {\n    let stringifiedData = JSON.stringify(data)\n    // Note: with compression, this limit may be able to be increased\n    // but we're assuming most of the size is from a data uri which\n    // is unlikely to be compressed further\n\n    if (stringifiedData.length > MAX_MESSAGE_SIZE) {\n        // Regex that matches the pattern for a dataURI with the shape 'data:{mime type};{encoding},{data}'. It:\n        // 1) Checks if the pattern starts with 'data:' (potentially, not at the start of the string)\n        // 2) Extracts the mime type of the data uri in the first group\n        // 3) Determines when the data URI ends.Depending on if it's used in the src tag or css, it can end with a ) or \"\n        const dataURIRegex = /data:([\\w/\\-.]+);(\\w+),([^)\"]*)/gim\n        const matches = stringifiedData.matchAll(dataURIRegex)\n        for (const match of matches) {\n            if (match[1].toLocaleLowerCase().slice(0, 6) === 'image/') {\n                stringifiedData = stringifiedData.replace(match[0], replacementImageURI)\n            } else {\n                stringifiedData = stringifiedData.replace(match[0], '')\n            }\n        }\n    }\n    return { event: JSON.parse(stringifiedData), size: stringifiedData.length }\n}\n\nexport const CONSOLE_LOG_PLUGIN_NAME = 'rrweb/console@1' // The name of the rr-web plugin that emits console logs\n\n// Console logs can be really large. This function truncates large logs\n// It's a simple function that just truncates long strings.\n// TODO: Ideally this function would have better handling of objects + lists,\n// so they could still be rendered in a pretty way after truncation.\nexport function truncateLargeConsoleLogs(_event: eventWithTime) {\n    const event = _event as pluginEvent<{ payload: string[] }>\n\n    const MAX_STRING_SIZE = 2000 // Maximum number of characters allowed in a string\n    const MAX_STRINGS_PER_LOG = 10 // A log can consist of multiple strings (e.g. consol.log('string1', 'string2'))\n\n    if (\n        event &&\n        isObject(event) &&\n        event.type === PLUGIN_EVENT_TYPE &&\n        isObject(event.data) &&\n        event.data.plugin === CONSOLE_LOG_PLUGIN_NAME\n    ) {\n        // Note: event.data.payload.payload comes from rr-web, and is an array of strings\n        if (event.data.payload.payload.length > MAX_STRINGS_PER_LOG) {\n            event.data.payload.payload = event.data.payload.payload.slice(0, MAX_STRINGS_PER_LOG)\n            event.data.payload.payload.push('...[truncated]')\n        }\n        const updatedPayload = []\n        for (let i = 0; i < event.data.payload.payload.length; i++) {\n            if (\n                event.data.payload.payload[i] && // Value can be null\n                event.data.payload.payload[i].length > MAX_STRING_SIZE\n            ) {\n                updatedPayload.push(event.data.payload.payload[i].slice(0, MAX_STRING_SIZE) + '...[truncated]')\n            } else {\n                updatedPayload.push(event.data.payload.payload[i])\n            }\n        }\n        event.data.payload.payload = updatedPayload\n        // Return original type\n        return _event\n    }\n    return _event\n}\n\nexport const SEVEN_MEGABYTES = 1024 * 1024 * 7 * 0.9 // ~7mb (with some wiggle room)\n\n// recursively splits large buffers into smaller ones\n// uses a pretty high size limit to avoid splitting too much\nexport function splitBuffer(buffer: SnapshotBuffer, sizeLimit: number = SEVEN_MEGABYTES): SnapshotBuffer[] {\n    if (buffer.size >= sizeLimit && buffer.data.length > 1) {\n        const half = Math.floor(buffer.data.length / 2)\n        const firstHalf = buffer.data.slice(0, half)\n        const secondHalf = buffer.data.slice(half)\n        return [\n            splitBuffer({\n                size: estimateSize(firstHalf),\n                data: firstHalf,\n                sessionId: buffer.sessionId,\n                windowId: buffer.windowId,\n            }),\n            splitBuffer({\n                size: estimateSize(secondHalf),\n                data: secondHalf,\n                sessionId: buffer.sessionId,\n                windowId: buffer.windowId,\n            }),\n        ].flatMap((x) => x)\n    } else {\n        return [buffer]\n    }\n}\n","var EventType = /* @__PURE__ */ ((EventType2) => {\n  EventType2[EventType2[\"DomContentLoaded\"] = 0] = \"DomContentLoaded\";\n  EventType2[EventType2[\"Load\"] = 1] = \"Load\";\n  EventType2[EventType2[\"FullSnapshot\"] = 2] = \"FullSnapshot\";\n  EventType2[EventType2[\"IncrementalSnapshot\"] = 3] = \"IncrementalSnapshot\";\n  EventType2[EventType2[\"Meta\"] = 4] = \"Meta\";\n  EventType2[EventType2[\"Custom\"] = 5] = \"Custom\";\n  EventType2[EventType2[\"Plugin\"] = 6] = \"Plugin\";\n  return EventType2;\n})(EventType || {});\nvar IncrementalSource = /* @__PURE__ */ ((IncrementalSource2) => {\n  IncrementalSource2[IncrementalSource2[\"Mutation\"] = 0] = \"Mutation\";\n  IncrementalSource2[IncrementalSource2[\"MouseMove\"] = 1] = \"MouseMove\";\n  IncrementalSource2[IncrementalSource2[\"MouseInteraction\"] = 2] = \"MouseInteraction\";\n  IncrementalSource2[IncrementalSource2[\"Scroll\"] = 3] = \"Scroll\";\n  IncrementalSource2[IncrementalSource2[\"ViewportResize\"] = 4] = \"ViewportResize\";\n  IncrementalSource2[IncrementalSource2[\"Input\"] = 5] = \"Input\";\n  IncrementalSource2[IncrementalSource2[\"TouchMove\"] = 6] = \"TouchMove\";\n  IncrementalSource2[IncrementalSource2[\"MediaInteraction\"] = 7] = \"MediaInteraction\";\n  IncrementalSource2[IncrementalSource2[\"StyleSheetRule\"] = 8] = \"StyleSheetRule\";\n  IncrementalSource2[IncrementalSource2[\"CanvasMutation\"] = 9] = \"CanvasMutation\";\n  IncrementalSource2[IncrementalSource2[\"Font\"] = 10] = \"Font\";\n  IncrementalSource2[IncrementalSource2[\"Log\"] = 11] = \"Log\";\n  IncrementalSource2[IncrementalSource2[\"Drag\"] = 12] = \"Drag\";\n  IncrementalSource2[IncrementalSource2[\"StyleDeclaration\"] = 13] = \"StyleDeclaration\";\n  IncrementalSource2[IncrementalSource2[\"Selection\"] = 14] = \"Selection\";\n  IncrementalSource2[IncrementalSource2[\"AdoptedStyleSheet\"] = 15] = \"AdoptedStyleSheet\";\n  IncrementalSource2[IncrementalSource2[\"CustomElement\"] = 16] = \"CustomElement\";\n  return IncrementalSource2;\n})(IncrementalSource || {});\nvar MouseInteractions = /* @__PURE__ */ ((MouseInteractions2) => {\n  MouseInteractions2[MouseInteractions2[\"MouseUp\"] = 0] = \"MouseUp\";\n  MouseInteractions2[MouseInteractions2[\"MouseDown\"] = 1] = \"MouseDown\";\n  MouseInteractions2[MouseInteractions2[\"Click\"] = 2] = \"Click\";\n  MouseInteractions2[MouseInteractions2[\"ContextMenu\"] = 3] = \"ContextMenu\";\n  MouseInteractions2[MouseInteractions2[\"DblClick\"] = 4] = \"DblClick\";\n  MouseInteractions2[MouseInteractions2[\"Focus\"] = 5] = \"Focus\";\n  MouseInteractions2[MouseInteractions2[\"Blur\"] = 6] = \"Blur\";\n  MouseInteractions2[MouseInteractions2[\"TouchStart\"] = 7] = \"TouchStart\";\n  MouseInteractions2[MouseInteractions2[\"TouchMove_Departed\"] = 8] = \"TouchMove_Departed\";\n  MouseInteractions2[MouseInteractions2[\"TouchEnd\"] = 9] = \"TouchEnd\";\n  MouseInteractions2[MouseInteractions2[\"TouchCancel\"] = 10] = \"TouchCancel\";\n  return MouseInteractions2;\n})(MouseInteractions || {});\nvar PointerTypes = /* @__PURE__ */ ((PointerTypes2) => {\n  PointerTypes2[PointerTypes2[\"Mouse\"] = 0] = \"Mouse\";\n  PointerTypes2[PointerTypes2[\"Pen\"] = 1] = \"Pen\";\n  PointerTypes2[PointerTypes2[\"Touch\"] = 2] = \"Touch\";\n  return PointerTypes2;\n})(PointerTypes || {});\nvar CanvasContext = /* @__PURE__ */ ((CanvasContext2) => {\n  CanvasContext2[CanvasContext2[\"2D\"] = 0] = \"2D\";\n  CanvasContext2[CanvasContext2[\"WebGL\"] = 1] = \"WebGL\";\n  CanvasContext2[CanvasContext2[\"WebGL2\"] = 2] = \"WebGL2\";\n  return CanvasContext2;\n})(CanvasContext || {});\nvar MediaInteractions = /* @__PURE__ */ ((MediaInteractions2) => {\n  MediaInteractions2[MediaInteractions2[\"Play\"] = 0] = \"Play\";\n  MediaInteractions2[MediaInteractions2[\"Pause\"] = 1] = \"Pause\";\n  MediaInteractions2[MediaInteractions2[\"Seeked\"] = 2] = \"Seeked\";\n  MediaInteractions2[MediaInteractions2[\"VolumeChange\"] = 3] = \"VolumeChange\";\n  MediaInteractions2[MediaInteractions2[\"RateChange\"] = 4] = \"RateChange\";\n  return MediaInteractions2;\n})(MediaInteractions || {});\nvar ReplayerEvents = /* @__PURE__ */ ((ReplayerEvents2) => {\n  ReplayerEvents2[\"Start\"] = \"start\";\n  ReplayerEvents2[\"Pause\"] = \"pause\";\n  ReplayerEvents2[\"Resume\"] = \"resume\";\n  ReplayerEvents2[\"Resize\"] = \"resize\";\n  ReplayerEvents2[\"Finish\"] = \"finish\";\n  ReplayerEvents2[\"FullsnapshotRebuilded\"] = \"fullsnapshot-rebuilded\";\n  ReplayerEvents2[\"LoadStylesheetStart\"] = \"load-stylesheet-start\";\n  ReplayerEvents2[\"LoadStylesheetEnd\"] = \"load-stylesheet-end\";\n  ReplayerEvents2[\"SkipStart\"] = \"skip-start\";\n  ReplayerEvents2[\"SkipEnd\"] = \"skip-end\";\n  ReplayerEvents2[\"MouseInteraction\"] = \"mouse-interaction\";\n  ReplayerEvents2[\"EventCast\"] = \"event-cast\";\n  ReplayerEvents2[\"CustomEvent\"] = \"custom-event\";\n  ReplayerEvents2[\"Flush\"] = \"flush\";\n  ReplayerEvents2[\"StateChange\"] = \"state-change\";\n  ReplayerEvents2[\"PlayBack\"] = \"play-back\";\n  ReplayerEvents2[\"Destroy\"] = \"destroy\";\n  return ReplayerEvents2;\n})(ReplayerEvents || {});\nexport {\n  CanvasContext,\n  EventType,\n  IncrementalSource,\n  MediaInteractions,\n  MouseInteractions,\n  PointerTypes,\n  ReplayerEvents\n};\n//# sourceMappingURL=types.js.map\n","import { TOOLBAR_CONTAINER_CLASS, TOOLBAR_ID } from '../constants'\n\nexport function isElementInToolbar(el: Element): boolean {\n    // NOTE: .closest is not supported in IE11 hence the operator check\n    return el.id === TOOLBAR_ID || !!el.closest?.('.' + TOOLBAR_CONTAINER_CLASS)\n}\n\n/*\n * Check whether an element has nodeType Node.ELEMENT_NODE\n * @param {Element} el - element to check\n * @returns {boolean} whether el is of the correct nodeType\n */\nexport function isElementNode(el: Node | Element | undefined | null): el is Element {\n    return !!el && el.nodeType === 1 // Node.ELEMENT_NODE - use integer constant for browser portability\n}\n\n/*\n * Check whether an element is of a given tag type.\n * Due to potential reference discrepancies (such as the webcomponents.js polyfill),\n * we want to match tagNames instead of specific references because something like\n * element === document.body won't always work because element might not be a native\n * element.\n * @param {Element} el - element to check\n * @param {string} tag - tag name (e.g., \"div\")\n * @returns {boolean} whether el is of the given tag type\n */\nexport function isTag(el: Element | undefined | null, tag: string): el is HTMLElement {\n    return !!el && !!el.tagName && el.tagName.toLowerCase() === tag.toLowerCase()\n}\n\n/*\n * Check whether an element has nodeType Node.TEXT_NODE\n * @param {Element} el - element to check\n * @returns {boolean} whether el is of the correct nodeType\n */\nexport function isTextNode(el: Element | undefined | null): el is HTMLElement {\n    return !!el && el.nodeType === 3 // Node.TEXT_NODE - use integer constant for browser portability\n}\n\n/*\n * Check whether an element has nodeType Node.DOCUMENT_FRAGMENT_NODE\n * @param {Element} el - element to check\n * @returns {boolean} whether el is of the correct nodeType\n */\nexport function isDocumentFragment(el: Element | ParentNode | undefined | null): el is DocumentFragment {\n    return !!el && el.nodeType === 11 // Node.DOCUMENT_FRAGMENT_NODE - use integer constant for browser portability\n}\n","import { AutocaptureConfig, Properties } from './types'\nimport { each, entries, includes, trim } from './utils'\n\nimport { isArray, isNullish, isString, isUndefined } from './utils/type-utils'\nimport { logger } from './utils/logger'\nimport { window } from './utils/globals'\nimport { isDocumentFragment, isElementNode, isTag, isTextNode } from './utils/element-utils'\n\nexport function splitClassString(s: string): string[] {\n    return s ? trim(s).split(/\\s+/) : []\n}\n\nfunction checkForURLMatches(urlsList: (string | RegExp)[]): boolean {\n    const url = window?.location.href\n    return !!(url && urlsList && urlsList.some((regex) => url.match(regex)))\n}\n\n/*\n * Get the className of an element, accounting for edge cases where element.className is an object\n *\n * Because this is a string it can contain unexpected characters\n * So, this method safely splits the className and returns that array.\n */\nexport function getClassNames(el: Element): string[] {\n    let className = ''\n    switch (typeof el.className) {\n        case 'string':\n            className = el.className\n            break\n        // TODO: when is this ever used?\n        case 'object': // handle cases where className might be SVGAnimatedString or some other type\n            className =\n                (el.className && 'baseVal' in el.className ? (el.className as any).baseVal : null) ||\n                el.getAttribute('class') ||\n                ''\n            break\n        default:\n            className = ''\n    }\n\n    return splitClassString(className)\n}\n\nexport function makeSafeText(s: string | null | undefined): string | null {\n    if (isNullish(s)) {\n        return null\n    }\n\n    return (\n        trim(s)\n            // scrub potentially sensitive values\n            .split(/(\\s+)/)\n            .filter((s) => shouldCaptureValue(s))\n            .join('')\n            // normalize whitespace\n            .replace(/[\\r\\n]/g, ' ')\n            .replace(/[ ]+/g, ' ')\n            // truncate\n            .substring(0, 255)\n    )\n}\n\n/*\n * Get the direct text content of an element, protecting against sensitive data collection.\n * Concats textContent of each of the element's text node children; this avoids potential\n * collection of sensitive data that could happen if we used element.textContent and the\n * element had sensitive child elements, since element.textContent includes child content.\n * Scrubs values that look like they could be sensitive (i.e. cc or ssn number).\n * @param {Element} el - element to get the text of\n * @returns {string} the element's direct text content\n */\nexport function getSafeText(el: Element): string {\n    let elText = ''\n\n    if (shouldCaptureElement(el) && !isSensitiveElement(el) && el.childNodes && el.childNodes.length) {\n        each(el.childNodes, function (child) {\n            if (isTextNode(child) && child.textContent) {\n                elText += makeSafeText(child.textContent) ?? ''\n            }\n        })\n    }\n\n    return trim(elText)\n}\n\nexport function getEventTarget(e: Event): Element | null {\n    // https://developer.mozilla.org/en-US/docs/Web/API/Event/target#Compatibility_notes\n    if (isUndefined(e.target)) {\n        return (e.srcElement as Element) || null\n    } else {\n        if ((e.target as HTMLElement)?.shadowRoot) {\n            return (e.composedPath()[0] as Element) || null\n        }\n        return (e.target as Element) || null\n    }\n}\n\nexport const autocaptureCompatibleElements = ['a', 'button', 'form', 'input', 'select', 'textarea', 'label']\n\n/*\n if there is no config, then all elements are allowed\n if there is a config, and there is an allow list, then only elements in the allow list are allowed\n assumes that some other code is checking this element's parents\n */\nfunction checkIfElementTreePassesElementAllowList(\n    elements: Element[],\n    autocaptureConfig: AutocaptureConfig | undefined\n): boolean {\n    const allowlist = autocaptureConfig?.element_allowlist\n    if (isUndefined(allowlist)) {\n        // everything is allowed, when there is no allow list\n        return true\n    }\n\n    // check each element in the tree\n    // if any of the elements are in the allow list, then the tree is allowed\n    for (const el of elements) {\n        if (allowlist.some((elementType) => el.tagName.toLowerCase() === elementType)) {\n            return true\n        }\n    }\n\n    // otherwise there is an allow list and this element tree didn't match it\n    return false\n}\n\n/*\n if there is no config, then all elements are allowed\n if there is a config, and there is an allow list, then\n only elements that match the css selector in the allow list are allowed\n assumes that some other code is checking this element's parents\n */\nfunction checkIfElementTreePassesCSSSelectorAllowList(\n    elements: Element[],\n    autocaptureConfig: AutocaptureConfig | undefined\n): boolean {\n    const allowlist = autocaptureConfig?.css_selector_allowlist\n    if (isUndefined(allowlist)) {\n        // everything is allowed, when there is no allow list\n        return true\n    }\n\n    // check each element in the tree\n    // if any of the elements are in the allow list, then the tree is allowed\n    for (const el of elements) {\n        if (allowlist.some((selector) => el.matches(selector))) {\n            return true\n        }\n    }\n\n    // otherwise there is an allow list and this element tree didn't match it\n    return false\n}\n\nexport function getParentElement(curEl: Element): Element | false {\n    const parentNode = curEl.parentNode\n    if (!parentNode || !isElementNode(parentNode)) return false\n    return parentNode\n}\n\n/*\n * Check whether a DOM event should be \"captured\" or if it may contain sentitive data\n * using a variety of heuristics.\n * @param {Element} el - element to check\n * @param {Event} event - event to check\n * @param {Object} autocaptureConfig - autocapture config\n * @param {boolean} captureOnAnyElement - whether to capture on any element, clipboard autocapture doesn't restrict to \"clickable\" elements\n * @param {string[]} allowedEventTypes - event types to capture, normally just 'click', but some autocapture types react to different events, some elements have fixed events (e.g., form has \"submit\")\n * @returns {boolean} whether the event should be captured\n */\nexport function shouldCaptureDomEvent(\n    el: Element,\n    event: Event,\n    autocaptureConfig: AutocaptureConfig | undefined = undefined,\n    captureOnAnyElement?: boolean,\n    allowedEventTypes?: string[]\n): boolean {\n    if (!window || !el || isTag(el, 'html') || !isElementNode(el)) {\n        return false\n    }\n\n    if (autocaptureConfig?.url_allowlist) {\n        // if the current URL is not in the allow list, don't capture\n        if (!checkForURLMatches(autocaptureConfig.url_allowlist)) {\n            return false\n        }\n    }\n\n    if (autocaptureConfig?.url_ignorelist) {\n        // if the current URL is in the ignore list, don't capture\n        if (checkForURLMatches(autocaptureConfig.url_ignorelist)) {\n            return false\n        }\n    }\n\n    if (autocaptureConfig?.dom_event_allowlist) {\n        const allowlist = autocaptureConfig.dom_event_allowlist\n        if (allowlist && !allowlist.some((eventType) => event.type === eventType)) {\n            return false\n        }\n    }\n\n    let parentIsUsefulElement = false\n    const targetElementList: Element[] = [el]\n    let parentNode: Element | boolean = true\n    let curEl: Element = el\n    while (curEl.parentNode && !isTag(curEl, 'body')) {\n        // If element is a shadow root, we skip it\n        if (isDocumentFragment(curEl.parentNode)) {\n            targetElementList.push((curEl.parentNode as any).host)\n            curEl = (curEl.parentNode as any).host\n            continue\n        }\n        parentNode = getParentElement(curEl)\n        if (!parentNode) break\n        if (captureOnAnyElement || autocaptureCompatibleElements.indexOf(parentNode.tagName.toLowerCase()) > -1) {\n            parentIsUsefulElement = true\n        } else {\n            const compStyles = window.getComputedStyle(parentNode)\n            if (compStyles && compStyles.getPropertyValue('cursor') === 'pointer') {\n                parentIsUsefulElement = true\n            }\n        }\n\n        targetElementList.push(parentNode)\n        curEl = parentNode\n    }\n\n    if (!checkIfElementTreePassesElementAllowList(targetElementList, autocaptureConfig)) {\n        return false\n    }\n\n    if (!checkIfElementTreePassesCSSSelectorAllowList(targetElementList, autocaptureConfig)) {\n        return false\n    }\n\n    const compStyles = window.getComputedStyle(el)\n    if (compStyles && compStyles.getPropertyValue('cursor') === 'pointer' && event.type === 'click') {\n        return true\n    }\n\n    const tag = el.tagName.toLowerCase()\n    switch (tag) {\n        case 'html':\n            return false\n        case 'form':\n            return (allowedEventTypes || ['submit']).indexOf(event.type) >= 0\n        case 'input':\n        case 'select':\n        case 'textarea':\n            return (allowedEventTypes || ['change', 'click']).indexOf(event.type) >= 0\n        default:\n            if (parentIsUsefulElement) return (allowedEventTypes || ['click']).indexOf(event.type) >= 0\n            return (\n                (allowedEventTypes || ['click']).indexOf(event.type) >= 0 &&\n                (autocaptureCompatibleElements.indexOf(tag) > -1 || el.getAttribute('contenteditable') === 'true')\n            )\n    }\n}\n\n/*\n * Check whether a DOM element should be \"captured\" or if it may contain sentitive data\n * using a variety of heuristics.\n * @param {Element} el - element to check\n * @returns {boolean} whether the element should be captured\n */\nexport function shouldCaptureElement(el: Element): boolean {\n    for (let curEl = el; curEl.parentNode && !isTag(curEl, 'body'); curEl = curEl.parentNode as Element) {\n        const classes = getClassNames(curEl)\n        if (includes(classes, 'ph-sensitive') || includes(classes, 'ph-no-capture')) {\n            return false\n        }\n    }\n\n    if (includes(getClassNames(el), 'ph-include')) {\n        return true\n    }\n\n    // don't include hidden or password fields\n    const type = (el as HTMLInputElement).type || ''\n    if (isString(type)) {\n        // it's possible for el.type to be a DOM element if el is a form with a child input[name=\"type\"]\n        switch (type.toLowerCase()) {\n            case 'hidden':\n                return false\n            case 'password':\n                return false\n        }\n    }\n\n    // filter out data from fields that look like sensitive fields\n    const name = (el as HTMLInputElement).name || el.id || ''\n    // See https://github.com/posthog/posthog-js/issues/165\n    // Under specific circumstances a bug caused .replace to be called on a DOM element\n    // instead of a string, removing the element from the page. Ensure this issue is mitigated.\n    if (isString(name)) {\n        // it's possible for el.name or el.id to be a DOM element if el is a form with a child input[name=\"name\"]\n        const sensitiveNameRegex =\n            /^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i\n        if (sensitiveNameRegex.test(name.replace(/[^a-zA-Z0-9]/g, ''))) {\n            return false\n        }\n    }\n\n    return true\n}\n\n/*\n * Check whether a DOM element is 'sensitive' and we should only capture limited data\n * @param {Element} el - element to check\n * @returns {boolean} whether the element should be captured\n */\nexport function isSensitiveElement(el: Element): boolean {\n    // don't send data from inputs or similar elements since there will always be\n    // a risk of clientside javascript placing sensitive data in attributes\n    const allowedInputTypes = ['button', 'checkbox', 'submit', 'reset']\n    if (\n        (isTag(el, 'input') && !allowedInputTypes.includes((el as HTMLInputElement).type)) ||\n        isTag(el, 'select') ||\n        isTag(el, 'textarea') ||\n        el.getAttribute('contenteditable') === 'true'\n    ) {\n        return true\n    }\n    return false\n}\n\n// Define the core pattern for matching credit card numbers\nconst coreCCPattern = `(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})`\n// Create the Anchored version of the regex by adding '^' at the start and '$' at the end\nconst anchoredCCRegex = new RegExp(`^(?:${coreCCPattern})$`)\n// The Unanchored version is essentially the core pattern, usable as is for partial matches\nconst unanchoredCCRegex = new RegExp(coreCCPattern)\n\n// Define the core pattern for matching SSNs with optional dashes\nconst coreSSNPattern = `\\\\d{3}-?\\\\d{2}-?\\\\d{4}`\n// Create the Anchored version of the regex by adding '^' at the start and '$' at the end\nconst anchoredSSNRegex = new RegExp(`^(${coreSSNPattern})$`)\n// The Unanchored version is essentially the core pattern itself, usable for partial matches\nconst unanchoredSSNRegex = new RegExp(`(${coreSSNPattern})`)\n\n/*\n * Check whether a string value should be \"captured\" or if it may contain sensitive data\n * using a variety of heuristics.\n * @param {string} value - string value to check\n * @param {boolean} anchorRegexes - whether to anchor the regexes to the start and end of the string\n * @returns {boolean} whether the element should be captured\n */\nexport function shouldCaptureValue(value: string, anchorRegexes = true): boolean {\n    if (isNullish(value)) {\n        return false\n    }\n\n    if (isString(value)) {\n        value = trim(value)\n\n        // check to see if input value looks like a credit card number\n        // see: https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9781449327453/ch04s20.html\n        const ccRegex = anchorRegexes ? anchoredCCRegex : unanchoredCCRegex\n        if (ccRegex.test((value || '').replace(/[- ]/g, ''))) {\n            return false\n        }\n\n        // check to see if input value looks like a social security number\n        const ssnRegex = anchorRegexes ? anchoredSSNRegex : unanchoredSSNRegex\n        if (ssnRegex.test(value)) {\n            return false\n        }\n    }\n\n    return true\n}\n\n/*\n * Check whether an attribute name is an Angular style attr (either _ngcontent or _nghost)\n * These update on each build and lead to noise in the element chain\n * More details on the attributes here: https://angular.io/guide/view-encapsulation\n * @param {string} attributeName - string value to check\n * @returns {boolean} whether the element is an angular tag\n */\nexport function isAngularStyleAttr(attributeName: string): boolean {\n    if (isString(attributeName)) {\n        return attributeName.substring(0, 10) === '_ngcontent' || attributeName.substring(0, 7) === '_nghost'\n    }\n    return false\n}\n\n/*\n * Iterate through children of a target element looking for span tags\n * and return the text content of the span tags, separated by spaces,\n * along with the direct text content of the target element\n * @param {Element} target - element to check\n * @returns {string} text content of the target element and its child span tags\n */\nexport function getDirectAndNestedSpanText(target: Element): string {\n    let text = getSafeText(target)\n    text = `${text} ${getNestedSpanText(target)}`.trim()\n    return shouldCaptureValue(text) ? text : ''\n}\n\n/*\n * Iterate through children of a target element looking for span tags\n * and return the text content of the span tags, separated by spaces\n * @param {Element} target - element to check\n * @returns {string} text content of span tags\n */\nexport function getNestedSpanText(target: Element): string {\n    let text = ''\n    if (target && target.childNodes && target.childNodes.length) {\n        each(target.childNodes, function (child) {\n            if (child && child.tagName?.toLowerCase() === 'span') {\n                try {\n                    const spanText = getSafeText(child)\n                    text = `${text} ${spanText}`.trim()\n\n                    if (child.childNodes && child.childNodes.length) {\n                        text = `${text} ${getNestedSpanText(child)}`.trim()\n                    }\n                } catch (e) {\n                    logger.error(e)\n                }\n            }\n        })\n    }\n    return text\n}\n\n/*\nBack in the day storing events in Postgres we use Elements for autocapture events.\nNow we're using elements_chain. We used to do this parsing/processing during ingestion.\nThis code is just copied over from ingestion, but we should optimize it\nto create elements_chain string directly.\n*/\nexport function getElementsChainString(elements: Properties[]): string {\n    return elementsToString(extractElements(elements))\n}\n\n// This interface is called 'Element' in plugin-scaffold https://github.com/PostHog/plugin-scaffold/blob/b07d3b879796ecc7e22deb71bf627694ba05386b/src/types.ts#L200\n// However 'Element' is a DOM Element when run in the browser, so we have to rename it\ninterface PHElement {\n    text?: string\n    tag_name?: string\n    href?: string\n    attr_id?: string\n    attr_class?: string[]\n    nth_child?: number\n    nth_of_type?: number\n    attributes?: Record<string, any>\n    event_id?: number\n    order?: number\n    group_id?: number\n}\n\nfunction escapeQuotes(input: string): string {\n    return input.replace(/\"|\\\\\"/g, '\\\\\"')\n}\n\nfunction elementsToString(elements: PHElement[]): string {\n    const ret = elements.map((element) => {\n        let el_string = ''\n        if (element.tag_name) {\n            el_string += element.tag_name\n        }\n        if (element.attr_class) {\n            element.attr_class.sort()\n            for (const single_class of element.attr_class) {\n                el_string += `.${single_class.replace(/\"/g, '')}`\n            }\n        }\n        const attributes: Record<string, any> = {\n            ...(element.text ? { text: element.text } : {}),\n            'nth-child': element.nth_child ?? 0,\n            'nth-of-type': element.nth_of_type ?? 0,\n            ...(element.href ? { href: element.href } : {}),\n            ...(element.attr_id ? { attr_id: element.attr_id } : {}),\n            ...element.attributes,\n        }\n        const sortedAttributes: Record<string, any> = {}\n        entries(attributes)\n            .sort(([a], [b]) => a.localeCompare(b))\n            .forEach(\n                ([key, value]) => (sortedAttributes[escapeQuotes(key.toString())] = escapeQuotes(value.toString()))\n            )\n        el_string += ':'\n        el_string += entries(attributes)\n            .map(([key, value]) => `${key}=\"${value}\"`)\n            .join('')\n        return el_string\n    })\n    return ret.join(';')\n}\n\nfunction extractElements(elements: Properties[]): PHElement[] {\n    return elements.map((el) => {\n        const response = {\n            text: el['$el_text']?.slice(0, 400),\n            tag_name: el['tag_name'],\n            href: el['attr__href']?.slice(0, 2048),\n            attr_class: extractAttrClass(el),\n            attr_id: el['attr__id'],\n            nth_child: el['nth_child'],\n            nth_of_type: el['nth_of_type'],\n            attributes: {} as { [id: string]: any },\n        }\n\n        entries(el)\n            .filter(([key]) => key.indexOf('attr__') === 0)\n            .forEach(([key, value]) => (response.attributes[key] = value))\n        return response\n    })\n}\n\nfunction extractAttrClass(el: Properties): PHElement['attr_class'] {\n    const attr_class = el['attr__class']\n    if (!attr_class) {\n        return undefined\n    } else if (isArray(attr_class)) {\n        return attr_class\n    } else {\n        return splitClassString(attr_class)\n    }\n}\n","import { isNumber } from './type-utils'\nimport { logger } from './logger'\n\nexport function clampToRange(value: unknown, min: number, max: number, label?: string): number {\n    if (min > max) {\n        logger.warn('min cannot be greater than max.')\n        min = max\n    }\n\n    if (!isNumber(value)) {\n        label && logger.warn(label + ' must be a number. Defaulting to max value:' + max)\n        return max\n    } else if (value > max) {\n        label && logger.warn(label + ' cannot be  greater than max: ' + max + '. Using max value instead.')\n        return max\n    } else if (value < min) {\n        label && logger.warn(label + ' cannot be less than min: ' + min + '. Using min value instead.')\n        return min\n    } else {\n        return value\n    }\n}\n","import type { eventWithTime, mutationCallbackParam } from '@rrweb/types'\nimport { INCREMENTAL_SNAPSHOT_EVENT_TYPE, MUTATION_SOURCE_TYPE, rrwebRecord } from './sessionrecording-utils'\nimport { clampToRange } from '../../utils/number-utils'\n\nexport class MutationRateLimiter {\n    private bucketSize = 100\n    private refillRate = 10\n    private mutationBuckets: Record<string, number> = {}\n    private loggedTracker: Record<string, boolean> = {}\n\n    constructor(\n        private readonly rrweb: rrwebRecord,\n        private readonly options: {\n            bucketSize?: number\n            refillRate?: number\n            onBlockedNode?: (id: number, node: Node | null) => void\n        } = {}\n    ) {\n        this.refillRate = clampToRange(\n            this.options.refillRate ?? this.refillRate,\n            0,\n            100,\n            'mutation throttling refill rate'\n        )\n        this.bucketSize = clampToRange(\n            this.options.bucketSize ?? this.bucketSize,\n            0,\n            100,\n            'mutation throttling bucket size'\n        )\n        setInterval(() => {\n            this.refillBuckets()\n        }, 1000)\n    }\n\n    private refillBuckets = () => {\n        Object.keys(this.mutationBuckets).forEach((key) => {\n            this.mutationBuckets[key] = this.mutationBuckets[key] + this.refillRate\n\n            if (this.mutationBuckets[key] >= this.bucketSize) {\n                delete this.mutationBuckets[key]\n            }\n        })\n    }\n\n    private getNodeOrRelevantParent = (id: number): [number, Node | null] => {\n        // For some nodes we know they are part of a larger tree such as an SVG.\n        // For those we want to block the entire node, not just the specific attribute\n\n        const node = this.rrweb.mirror.getNode(id)\n\n        // Check if the node is an Element and then find the closest parent that is an SVG\n        if (node?.nodeName !== 'svg' && node instanceof Element) {\n            const closestSVG = node.closest('svg')\n\n            if (closestSVG) {\n                return [this.rrweb.mirror.getId(closestSVG), closestSVG]\n            }\n        }\n\n        return [id, node]\n    }\n\n    private numberOfChanges = (data: Partial<mutationCallbackParam>) => {\n        return (\n            (data.removes?.length ?? 0) +\n            (data.attributes?.length ?? 0) +\n            (data.texts?.length ?? 0) +\n            (data.adds?.length ?? 0)\n        )\n    }\n\n    public throttleMutations = (event: eventWithTime) => {\n        if (event.type !== INCREMENTAL_SNAPSHOT_EVENT_TYPE || event.data.source !== MUTATION_SOURCE_TYPE) {\n            return event\n        }\n\n        const data = event.data as Partial<mutationCallbackParam>\n        const initialMutationCount = this.numberOfChanges(data)\n\n        if (data.attributes) {\n            // Most problematic mutations come from attrs where the style or minor properties are changed rapidly\n            data.attributes = data.attributes.filter((attr) => {\n                const [nodeId, node] = this.getNodeOrRelevantParent(attr.id)\n\n                if (this.mutationBuckets[nodeId] === 0) {\n                    return false\n                }\n\n                this.mutationBuckets[nodeId] = this.mutationBuckets[nodeId] ?? this.bucketSize\n                this.mutationBuckets[nodeId] = Math.max(this.mutationBuckets[nodeId] - 1, 0)\n\n                if (this.mutationBuckets[nodeId] === 0) {\n                    if (!this.loggedTracker[nodeId]) {\n                        this.loggedTracker[nodeId] = true\n                        this.options.onBlockedNode?.(nodeId, node)\n                    }\n                }\n\n                return attr\n            })\n        }\n\n        // Check if every part of the mutation is empty in which case there is nothing to do\n        const mutationCount = this.numberOfChanges(data)\n\n        if (mutationCount === 0 && initialMutationCount !== mutationCount) {\n            // If we have modified the mutation count and the remaining count is 0, then we don't need the event.\n            return\n        }\n        return event\n    }\n}\n","// DEFLATE is a complex format; to read this code, you should probably check the RFC first:\n// https://tools.ietf.org/html/rfc1951\n// You may also wish to take a look at the guide I made about this program:\n// https://gist.github.com/101arrowz/253f31eb5abc3d9275ab943003ffecad\n// Much of the following code is similar to that of UZIP.js:\n// https://github.com/photopea/UZIP.js\n// Many optimizations have been made, so the bundle size is ultimately smaller but performance is similar.\n// Sometimes 0 will appear where -1 would be more appropriate. This is because using a uint\n// is better for memory in most engines (I *think*).\nvar ch2 = {};\nvar wk = (function (c, id, msg, transfer, cb) {\n    var u = ch2[id] || (ch2[id] = URL.createObjectURL(new Blob([c], { type: 'text/javascript' })));\n    var w = new Worker(u);\n    w.onerror = function (e) { return cb(e.error, null); };\n    w.onmessage = function (e) { return cb(null, e.data); };\n    w.postMessage(msg, transfer);\n    return w;\n});\n\n// aliases for shorter compressed code (most minifers don't do this)\nvar u8 = Uint8Array, u16 = Uint16Array, u32 = Uint32Array;\n// fixed length extra bits\nvar fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, /* unused */ 0, 0, /* impossible */ 0]);\n// fixed distance extra bits\n// see fleb note\nvar fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, /* unused */ 0, 0]);\n// code length index map\nvar clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\n// get base, reverse index map from extra bits\nvar freb = function (eb, start) {\n    var b = new u16(31);\n    for (var i = 0; i < 31; ++i) {\n        b[i] = start += 1 << eb[i - 1];\n    }\n    // numbers here are at max 18 bits\n    var r = new u32(b[30]);\n    for (var i = 1; i < 30; ++i) {\n        for (var j = b[i]; j < b[i + 1]; ++j) {\n            r[j] = ((j - b[i]) << 5) | i;\n        }\n    }\n    return [b, r];\n};\nvar _a = freb(fleb, 2), fl = _a[0], revfl = _a[1];\n// we can ignore the fact that the other numbers are wrong; they never happen anyway\nfl[28] = 258, revfl[258] = 28;\nvar _b = freb(fdeb, 0), fd = _b[0], revfd = _b[1];\n// map of value to reverse (assuming 16 bits)\nvar rev = new u16(32768);\nfor (var i = 0; i < 32768; ++i) {\n    // reverse table algorithm from SO\n    var x = ((i & 0xAAAA) >>> 1) | ((i & 0x5555) << 1);\n    x = ((x & 0xCCCC) >>> 2) | ((x & 0x3333) << 2);\n    x = ((x & 0xF0F0) >>> 4) | ((x & 0x0F0F) << 4);\n    rev[i] = (((x & 0xFF00) >>> 8) | ((x & 0x00FF) << 8)) >>> 1;\n}\n// create huffman tree from u8 \"map\": index -> code length for code index\n// mb (max bits) must be at most 15\n// TODO: optimize/split up?\nvar hMap = (function (cd, mb, r) {\n    var s = cd.length;\n    // index\n    var i = 0;\n    // u16 \"map\": index -> # of codes with bit length = index\n    var l = new u16(mb);\n    // length of cd must be 288 (total # of codes)\n    for (; i < s; ++i)\n        ++l[cd[i] - 1];\n    // u16 \"map\": index -> minimum code for bit length = index\n    var le = new u16(mb);\n    for (i = 0; i < mb; ++i) {\n        le[i] = (le[i - 1] + l[i - 1]) << 1;\n    }\n    var co;\n    if (r) {\n        // u16 \"map\": index -> number of actual bits, symbol for code\n        co = new u16(1 << mb);\n        // bits to remove for reverser\n        var rvb = 15 - mb;\n        for (i = 0; i < s; ++i) {\n            // ignore 0 lengths\n            if (cd[i]) {\n                // num encoding both symbol and bits read\n                var sv = (i << 4) | cd[i];\n                // free bits\n                var r_1 = mb - cd[i];\n                // start value\n                var v = le[cd[i] - 1]++ << r_1;\n                // m is end value\n                for (var m = v | ((1 << r_1) - 1); v <= m; ++v) {\n                    // every 16 bit value starting with the code yields the same result\n                    co[rev[v] >>> rvb] = sv;\n                }\n            }\n        }\n    }\n    else {\n        co = new u16(s);\n        for (i = 0; i < s; ++i)\n            co[i] = rev[le[cd[i] - 1]++] >>> (15 - cd[i]);\n    }\n    return co;\n});\n// fixed length tree\nvar flt = new u8(288);\nfor (var i = 0; i < 144; ++i)\n    flt[i] = 8;\nfor (var i = 144; i < 256; ++i)\n    flt[i] = 9;\nfor (var i = 256; i < 280; ++i)\n    flt[i] = 7;\nfor (var i = 280; i < 288; ++i)\n    flt[i] = 8;\n// fixed distance tree\nvar fdt = new u8(32);\nfor (var i = 0; i < 32; ++i)\n    fdt[i] = 5;\n// fixed length map\nvar flm = /*#__PURE__*/ hMap(flt, 9, 0), flrm = /*#__PURE__*/ hMap(flt, 9, 1);\n// fixed distance map\nvar fdm = /*#__PURE__*/ hMap(fdt, 5, 0), fdrm = /*#__PURE__*/ hMap(fdt, 5, 1);\n// find max of array\nvar max = function (a) {\n    var m = a[0];\n    for (var i = 1; i < a.length; ++i) {\n        if (a[i] > m)\n            m = a[i];\n    }\n    return m;\n};\n// read d, starting at bit p and mask with m\nvar bits = function (d, p, m) {\n    var o = (p / 8) >> 0;\n    return ((d[o] | (d[o + 1] << 8)) >>> (p & 7)) & m;\n};\n// read d, starting at bit p continuing for at least 16 bits\nvar bits16 = function (d, p) {\n    var o = (p / 8) >> 0;\n    return ((d[o] | (d[o + 1] << 8) | (d[o + 2] << 16)) >>> (p & 7));\n};\n// get end of byte\nvar shft = function (p) { return ((p / 8) >> 0) + (p & 7 && 1); };\n// typed array slice - allows garbage collector to free original reference,\n// while being more compatible than .slice\nvar slc = function (v, s, e) {\n    if (s == null || s < 0)\n        s = 0;\n    if (e == null || e > v.length)\n        e = v.length;\n    // can't use .constructor in case user-supplied\n    var n = new (v instanceof u16 ? u16 : v instanceof u32 ? u32 : u8)(e - s);\n    n.set(v.subarray(s, e));\n    return n;\n};\n// expands raw DEFLATE data\nvar inflt = function (dat, buf, st) {\n    // source length\n    var sl = dat.length;\n    // have to estimate size\n    var noBuf = !buf || st;\n    // no state\n    var noSt = !st || st.i;\n    if (!st)\n        st = {};\n    // Assumes roughly 33% compression ratio average\n    if (!buf)\n        buf = new u8(sl * 3);\n    // ensure buffer can fit at least l elements\n    var cbuf = function (l) {\n        var bl = buf.length;\n        // need to increase size to fit\n        if (l > bl) {\n            // Double or set to necessary, whichever is greater\n            var nbuf = new u8(Math.max(bl * 2, l));\n            nbuf.set(buf);\n            buf = nbuf;\n        }\n    };\n    //  last chunk         bitpos           bytes\n    var final = st.f || 0, pos = st.p || 0, bt = st.b || 0, lm = st.l, dm = st.d, lbt = st.m, dbt = st.n;\n    // total bits\n    var tbts = sl * 8;\n    do {\n        if (!lm) {\n            // BFINAL - this is only 1 when last chunk is next\n            st.f = final = bits(dat, pos, 1);\n            // type: 0 = no compression, 1 = fixed huffman, 2 = dynamic huffman\n            var type = bits(dat, pos + 1, 3);\n            pos += 3;\n            if (!type) {\n                // go to end of byte boundary\n                var s = shft(pos) + 4, l = dat[s - 4] | (dat[s - 3] << 8), t = s + l;\n                if (t > sl) {\n                    if (noSt)\n                        throw 'unexpected EOF';\n                    break;\n                }\n                // ensure size\n                if (noBuf)\n                    cbuf(bt + l);\n                // Copy over uncompressed data\n                buf.set(dat.subarray(s, t), bt);\n                // Get new bitpos, update byte count\n                st.b = bt += l, st.p = pos = t * 8;\n                continue;\n            }\n            else if (type == 1)\n                lm = flrm, dm = fdrm, lbt = 9, dbt = 5;\n            else if (type == 2) {\n                //  literal                            lengths\n                var hLit = bits(dat, pos, 31) + 257, hcLen = bits(dat, pos + 10, 15) + 4;\n                var tl = hLit + bits(dat, pos + 5, 31) + 1;\n                pos += 14;\n                // length+distance tree\n                var ldt = new u8(tl);\n                // code length tree\n                var clt = new u8(19);\n                for (var i = 0; i < hcLen; ++i) {\n                    // use index map to get real code\n                    clt[clim[i]] = bits(dat, pos + i * 3, 7);\n                }\n                pos += hcLen * 3;\n                // code lengths bits\n                var clb = max(clt), clbmsk = (1 << clb) - 1;\n                if (!noSt && pos + tl * (clb + 7) > tbts)\n                    break;\n                // code lengths map\n                var clm = hMap(clt, clb, 1);\n                for (var i = 0; i < tl;) {\n                    var r = clm[bits(dat, pos, clbmsk)];\n                    // bits read\n                    pos += r & 15;\n                    // symbol\n                    var s = r >>> 4;\n                    // code length to copy\n                    if (s < 16) {\n                        ldt[i++] = s;\n                    }\n                    else {\n                        //  copy   count\n                        var c = 0, n = 0;\n                        if (s == 16)\n                            n = 3 + bits(dat, pos, 3), pos += 2, c = ldt[i - 1];\n                        else if (s == 17)\n                            n = 3 + bits(dat, pos, 7), pos += 3;\n                        else if (s == 18)\n                            n = 11 + bits(dat, pos, 127), pos += 7;\n                        while (n--)\n                            ldt[i++] = c;\n                    }\n                }\n                //    length tree                 distance tree\n                var lt = ldt.subarray(0, hLit), dt = ldt.subarray(hLit);\n                // max length bits\n                lbt = max(lt);\n                // max dist bits\n                dbt = max(dt);\n                lm = hMap(lt, lbt, 1);\n                dm = hMap(dt, dbt, 1);\n            }\n            else\n                throw 'invalid block type';\n            if (pos > tbts)\n                throw 'unexpected EOF';\n        }\n        // Make sure the buffer can hold this + the largest possible addition\n        // Maximum chunk size (practically, theoretically infinite) is 2^17;\n        if (noBuf)\n            cbuf(bt + 131072);\n        var lms = (1 << lbt) - 1, dms = (1 << dbt) - 1;\n        var mxa = lbt + dbt + 18;\n        while (noSt || pos + mxa < tbts) {\n            // bits read, code\n            var c = lm[bits16(dat, pos) & lms], sym = c >>> 4;\n            pos += c & 15;\n            if (pos > tbts)\n                throw 'unexpected EOF';\n            if (!c)\n                throw 'invalid length/literal';\n            if (sym < 256)\n                buf[bt++] = sym;\n            else if (sym == 256) {\n                lm = null;\n                break;\n            }\n            else {\n                var add = sym - 254;\n                // no extra bits needed if less\n                if (sym > 264) {\n                    // index\n                    var i = sym - 257, b = fleb[i];\n                    add = bits(dat, pos, (1 << b) - 1) + fl[i];\n                    pos += b;\n                }\n                // dist\n                var d = dm[bits16(dat, pos) & dms], dsym = d >>> 4;\n                if (!d)\n                    throw 'invalid distance';\n                pos += d & 15;\n                var dt = fd[dsym];\n                if (dsym > 3) {\n                    var b = fdeb[dsym];\n                    dt += bits16(dat, pos) & ((1 << b) - 1), pos += b;\n                }\n                if (pos > tbts)\n                    throw 'unexpected EOF';\n                if (noBuf)\n                    cbuf(bt + 131072);\n                var end = bt + add;\n                for (; bt < end; bt += 4) {\n                    buf[bt] = buf[bt - dt];\n                    buf[bt + 1] = buf[bt + 1 - dt];\n                    buf[bt + 2] = buf[bt + 2 - dt];\n                    buf[bt + 3] = buf[bt + 3 - dt];\n                }\n                bt = end;\n            }\n        }\n        st.l = lm, st.p = pos, st.b = bt;\n        if (lm)\n            final = 1, st.m = lbt, st.d = dm, st.n = dbt;\n    } while (!final);\n    return bt == buf.length ? buf : slc(buf, 0, bt);\n};\n// starting at p, write the minimum number of bits that can hold v to d\nvar wbits = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) >> 0;\n    d[o] |= v;\n    d[o + 1] |= v >>> 8;\n};\n// starting at p, write the minimum number of bits (>8) that can hold v to d\nvar wbits16 = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) >> 0;\n    d[o] |= v;\n    d[o + 1] |= v >>> 8;\n    d[o + 2] |= v >>> 16;\n};\n// creates code lengths from a frequency table\nvar hTree = function (d, mb) {\n    // Need extra info to make a tree\n    var t = [];\n    for (var i = 0; i < d.length; ++i) {\n        if (d[i])\n            t.push({ s: i, f: d[i] });\n    }\n    var s = t.length;\n    var t2 = t.slice();\n    if (!s)\n        return [new u8(0), 0];\n    if (s == 1) {\n        var v = new u8(t[0].s + 1);\n        v[t[0].s] = 1;\n        return [v, 1];\n    }\n    t.sort(function (a, b) { return a.f - b.f; });\n    // after i2 reaches last ind, will be stopped\n    // freq must be greater than largest possible number of symbols\n    t.push({ s: -1, f: 25001 });\n    var l = t[0], r = t[1], i0 = 0, i1 = 1, i2 = 2;\n    t[0] = { s: -1, f: l.f + r.f, l: l, r: r };\n    // efficient algorithm from UZIP.js\n    // i0 is lookbehind, i2 is lookahead - after processing two low-freq\n    // symbols that combined have high freq, will start processing i2 (high-freq,\n    // non-composite) symbols instead\n    // see https://reddit.com/r/photopea/comments/ikekht/uzipjs_questions/\n    while (i1 != s - 1) {\n        l = t[t[i0].f < t[i2].f ? i0++ : i2++];\n        r = t[i0 != i1 && t[i0].f < t[i2].f ? i0++ : i2++];\n        t[i1++] = { s: -1, f: l.f + r.f, l: l, r: r };\n    }\n    var maxSym = t2[0].s;\n    for (var i = 1; i < s; ++i) {\n        if (t2[i].s > maxSym)\n            maxSym = t2[i].s;\n    }\n    // code lengths\n    var tr = new u16(maxSym + 1);\n    // max bits in tree\n    var mbt = ln(t[i1 - 1], tr, 0);\n    if (mbt > mb) {\n        // more algorithms from UZIP.js\n        // TODO: find out how this code works (debt)\n        //  ind    debt\n        var i = 0, dt = 0;\n        //    left            cost\n        var lft = mbt - mb, cst = 1 << lft;\n        t2.sort(function (a, b) { return tr[b.s] - tr[a.s] || a.f - b.f; });\n        for (; i < s; ++i) {\n            var i2_1 = t2[i].s;\n            if (tr[i2_1] > mb) {\n                dt += cst - (1 << (mbt - tr[i2_1]));\n                tr[i2_1] = mb;\n            }\n            else\n                break;\n        }\n        dt >>>= lft;\n        while (dt > 0) {\n            var i2_2 = t2[i].s;\n            if (tr[i2_2] < mb)\n                dt -= 1 << (mb - tr[i2_2]++ - 1);\n            else\n                ++i;\n        }\n        for (; i >= 0 && dt; --i) {\n            var i2_3 = t2[i].s;\n            if (tr[i2_3] == mb) {\n                --tr[i2_3];\n                ++dt;\n            }\n        }\n        mbt = mb;\n    }\n    return [new u8(tr), mbt];\n};\n// get the max length and assign length codes\nvar ln = function (n, l, d) {\n    return n.s == -1\n        ? Math.max(ln(n.l, l, d + 1), ln(n.r, l, d + 1))\n        : (l[n.s] = d);\n};\n// length codes generation\nvar lc = function (c) {\n    var s = c.length;\n    // Note that the semicolon was intentional\n    while (s && !c[--s])\n        ;\n    var cl = new u16(++s);\n    //  ind      num         streak\n    var cli = 0, cln = c[0], cls = 1;\n    var w = function (v) { cl[cli++] = v; };\n    for (var i = 1; i <= s; ++i) {\n        if (c[i] == cln && i != s)\n            ++cls;\n        else {\n            if (!cln && cls > 2) {\n                for (; cls > 138; cls -= 138)\n                    w(32754);\n                if (cls > 2) {\n                    w(cls > 10 ? ((cls - 11) << 5) | 28690 : ((cls - 3) << 5) | 12305);\n                    cls = 0;\n                }\n            }\n            else if (cls > 3) {\n                w(cln), --cls;\n                for (; cls > 6; cls -= 6)\n                    w(8304);\n                if (cls > 2)\n                    w(((cls - 3) << 5) | 8208), cls = 0;\n            }\n            while (cls--)\n                w(cln);\n            cls = 1;\n            cln = c[i];\n        }\n    }\n    return [cl.subarray(0, cli), s];\n};\n// calculate the length of output from tree, code lengths\nvar clen = function (cf, cl) {\n    var l = 0;\n    for (var i = 0; i < cl.length; ++i)\n        l += cf[i] * cl[i];\n    return l;\n};\n// writes a fixed block\n// returns the new bit pos\nvar wfblk = function (out, pos, dat) {\n    // no need to write 00 as type: TypedArray defaults to 0\n    var s = dat.length;\n    var o = shft(pos + 2);\n    out[o] = s & 255;\n    out[o + 1] = s >>> 8;\n    out[o + 2] = out[o] ^ 255;\n    out[o + 3] = out[o + 1] ^ 255;\n    for (var i = 0; i < s; ++i)\n        out[o + i + 4] = dat[i];\n    return (o + 4 + s) * 8;\n};\n// writes a block\nvar wblk = function (dat, out, final, syms, lf, df, eb, li, bs, bl, p) {\n    wbits(out, p++, final);\n    ++lf[256];\n    var _a = hTree(lf, 15), dlt = _a[0], mlb = _a[1];\n    var _b = hTree(df, 15), ddt = _b[0], mdb = _b[1];\n    var _c = lc(dlt), lclt = _c[0], nlc = _c[1];\n    var _d = lc(ddt), lcdt = _d[0], ndc = _d[1];\n    var lcfreq = new u16(19);\n    for (var i = 0; i < lclt.length; ++i)\n        lcfreq[lclt[i] & 31]++;\n    for (var i = 0; i < lcdt.length; ++i)\n        lcfreq[lcdt[i] & 31]++;\n    var _e = hTree(lcfreq, 7), lct = _e[0], mlcb = _e[1];\n    var nlcc = 19;\n    for (; nlcc > 4 && !lct[clim[nlcc - 1]]; --nlcc)\n        ;\n    var flen = (bl + 5) << 3;\n    var ftlen = clen(lf, flt) + clen(df, fdt) + eb;\n    var dtlen = clen(lf, dlt) + clen(df, ddt) + eb + 14 + 3 * nlcc + clen(lcfreq, lct) + (2 * lcfreq[16] + 3 * lcfreq[17] + 7 * lcfreq[18]);\n    if (flen <= ftlen && flen <= dtlen)\n        return wfblk(out, p, dat.subarray(bs, bs + bl));\n    var lm, ll, dm, dl;\n    wbits(out, p, 1 + (dtlen < ftlen)), p += 2;\n    if (dtlen < ftlen) {\n        lm = hMap(dlt, mlb, 0), ll = dlt, dm = hMap(ddt, mdb, 0), dl = ddt;\n        var llm = hMap(lct, mlcb, 0);\n        wbits(out, p, nlc - 257);\n        wbits(out, p + 5, ndc - 1);\n        wbits(out, p + 10, nlcc - 4);\n        p += 14;\n        for (var i = 0; i < nlcc; ++i)\n            wbits(out, p + 3 * i, lct[clim[i]]);\n        p += 3 * nlcc;\n        var lcts = [lclt, lcdt];\n        for (var it = 0; it < 2; ++it) {\n            var clct = lcts[it];\n            for (var i = 0; i < clct.length; ++i) {\n                var len = clct[i] & 31;\n                wbits(out, p, llm[len]), p += lct[len];\n                if (len > 15)\n                    wbits(out, p, (clct[i] >>> 5) & 127), p += clct[i] >>> 12;\n            }\n        }\n    }\n    else {\n        lm = flm, ll = flt, dm = fdm, dl = fdt;\n    }\n    for (var i = 0; i < li; ++i) {\n        if (syms[i] > 255) {\n            var len = (syms[i] >>> 18) & 31;\n            wbits16(out, p, lm[len + 257]), p += ll[len + 257];\n            if (len > 7)\n                wbits(out, p, (syms[i] >>> 23) & 31), p += fleb[len];\n            var dst = syms[i] & 31;\n            wbits16(out, p, dm[dst]), p += dl[dst];\n            if (dst > 3)\n                wbits16(out, p, (syms[i] >>> 5) & 8191), p += fdeb[dst];\n        }\n        else {\n            wbits16(out, p, lm[syms[i]]), p += ll[syms[i]];\n        }\n    }\n    wbits16(out, p, lm[256]);\n    return p + ll[256];\n};\n// deflate options (nice << 13) | chain\nvar deo = /*#__PURE__*/ new u32([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]);\n// empty\nvar et = /*#__PURE__*/ new u8(0);\n// compresses data into a raw DEFLATE buffer\nvar dflt = function (dat, lvl, plvl, pre, post, lst) {\n    var s = dat.length;\n    var o = new u8(pre + s + 5 * (1 + Math.floor(s / 7000)) + post);\n    // writing to this writes to the output buffer\n    var w = o.subarray(pre, o.length - post);\n    var pos = 0;\n    if (!lvl || s < 8) {\n        for (var i = 0; i <= s; i += 65535) {\n            // end\n            var e = i + 65535;\n            if (e < s) {\n                // write full block\n                pos = wfblk(w, pos, dat.subarray(i, e));\n            }\n            else {\n                // write final block\n                w[i] = lst;\n                pos = wfblk(w, pos, dat.subarray(i, s));\n            }\n        }\n    }\n    else {\n        var opt = deo[lvl - 1];\n        var n = opt >>> 13, c = opt & 8191;\n        var msk_1 = (1 << plvl) - 1;\n        //    prev 2-byte val map    curr 2-byte val map\n        var prev = new u16(32768), head = new u16(msk_1 + 1);\n        var bs1_1 = Math.ceil(plvl / 3), bs2_1 = 2 * bs1_1;\n        var hsh = function (i) { return (dat[i] ^ (dat[i + 1] << bs1_1) ^ (dat[i + 2] << bs2_1)) & msk_1; };\n        // 24576 is an arbitrary number of maximum symbols per block\n        // 424 buffer for last block\n        var syms = new u32(25000);\n        // length/literal freq   distance freq\n        var lf = new u16(288), df = new u16(32);\n        //  l/lcnt  exbits  index  l/lind  waitdx  bitpos\n        var lc_1 = 0, eb = 0, i = 0, li = 0, wi = 0, bs = 0;\n        for (; i < s; ++i) {\n            // hash value\n            var hv = hsh(i);\n            // index mod 32768\n            var imod = i & 32767;\n            // previous index with this value\n            var pimod = head[hv];\n            prev[imod] = pimod;\n            head[hv] = imod;\n            // We always should modify head and prev, but only add symbols if\n            // this data is not yet processed (\"wait\" for wait index)\n            if (wi <= i) {\n                // bytes remaining\n                var rem = s - i;\n                if ((lc_1 > 7000 || li > 24576) && rem > 423) {\n                    pos = wblk(dat, w, 0, syms, lf, df, eb, li, bs, i - bs, pos);\n                    li = lc_1 = eb = 0, bs = i;\n                    for (var j = 0; j < 286; ++j)\n                        lf[j] = 0;\n                    for (var j = 0; j < 30; ++j)\n                        df[j] = 0;\n                }\n                //  len    dist   chain\n                var l = 2, d = 0, ch_1 = c, dif = (imod - pimod) & 32767;\n                if (rem > 2 && hv == hsh(i - dif)) {\n                    var maxn = Math.min(n, rem) - 1;\n                    var maxd = Math.min(32767, i);\n                    // max possible length\n                    // not capped at dif because decompressors implement \"rolling\" index population\n                    var ml = Math.min(258, rem);\n                    while (dif <= maxd && --ch_1 && imod != pimod) {\n                        if (dat[i + l] == dat[i + l - dif]) {\n                            var nl = 0;\n                            for (; nl < ml && dat[i + nl] == dat[i + nl - dif]; ++nl)\n                                ;\n                            if (nl > l) {\n                                l = nl, d = dif;\n                                // break out early when we reach \"nice\" (we are satisfied enough)\n                                if (nl > maxn)\n                                    break;\n                                // now, find the rarest 2-byte sequence within this\n                                // length of literals and search for that instead.\n                                // Much faster than just using the start\n                                var mmd = Math.min(dif, nl - 2);\n                                var md = 0;\n                                for (var j = 0; j < mmd; ++j) {\n                                    var ti = (i - dif + j + 32768) & 32767;\n                                    var pti = prev[ti];\n                                    var cd = (ti - pti + 32768) & 32767;\n                                    if (cd > md)\n                                        md = cd, pimod = ti;\n                                }\n                            }\n                        }\n                        // check the previous match\n                        imod = pimod, pimod = prev[imod];\n                        dif += (imod - pimod + 32768) & 32767;\n                    }\n                }\n                // d will be nonzero only when a match was found\n                if (d) {\n                    // store both dist and len data in one Uint32\n                    // Make sure this is recognized as a len/dist with 28th bit (2^28)\n                    syms[li++] = 268435456 | (revfl[l] << 18) | revfd[d];\n                    var lin = revfl[l] & 31, din = revfd[d] & 31;\n                    eb += fleb[lin] + fdeb[din];\n                    ++lf[257 + lin];\n                    ++df[din];\n                    wi = i + l;\n                    ++lc_1;\n                }\n                else {\n                    syms[li++] = dat[i];\n                    ++lf[dat[i]];\n                }\n            }\n        }\n        pos = wblk(dat, w, lst, syms, lf, df, eb, li, bs, i - bs, pos);\n        // this is the easiest way to avoid needing to maintain state\n        if (!lst)\n            pos = wfblk(w, pos, et);\n    }\n    return slc(o, 0, pre + shft(pos) + post);\n};\n// CRC32 table\nvar crct = /*#__PURE__*/ (function () {\n    var t = new u32(256);\n    for (var i = 0; i < 256; ++i) {\n        var c = i, k = 9;\n        while (--k)\n            c = ((c & 1) && 0xEDB88320) ^ (c >>> 1);\n        t[i] = c;\n    }\n    return t;\n})();\n// CRC32\nvar crc = function () {\n    var c = 0xFFFFFFFF;\n    return {\n        p: function (d) {\n            // closures have awful performance\n            var cr = c;\n            for (var i = 0; i < d.length; ++i)\n                cr = crct[(cr & 255) ^ d[i]] ^ (cr >>> 8);\n            c = cr;\n        },\n        d: function () { return c ^ 0xFFFFFFFF; }\n    };\n};\n// Alder32\nvar adler = function () {\n    var a = 1, b = 0;\n    return {\n        p: function (d) {\n            // closures have awful performance\n            var n = a, m = b;\n            var l = d.length;\n            for (var i = 0; i != l;) {\n                var e = Math.min(i + 5552, l);\n                for (; i < e; ++i)\n                    n += d[i], m += n;\n                n %= 65521, m %= 65521;\n            }\n            a = n, b = m;\n        },\n        d: function () { return ((a >>> 8) << 16 | (b & 255) << 8 | (b >>> 8)) + ((a & 255) << 23) * 2; }\n    };\n};\n;\n// deflate with opts\nvar dopt = function (dat, opt, pre, post, st) {\n    return dflt(dat, opt.level == null ? 6 : opt.level, opt.mem == null ? Math.ceil(Math.max(8, Math.min(13, Math.log(dat.length))) * 1.5) : (12 + opt.mem), pre, post, !st);\n};\n// Walmart object spread\nvar mrg = function (a, b) {\n    var o = {};\n    for (var k in a)\n        o[k] = a[k];\n    for (var k in b)\n        o[k] = b[k];\n    return o;\n};\n// worker clone\n// This is possibly the craziest part of the entire codebase, despite how simple it may seem.\n// The only parameter to this function is a closure that returns an array of variables outside of the function scope.\n// We're going to try to figure out the variable names used in the closure as strings because that is crucial for workerization.\n// We will return an object mapping of true variable name to value (basically, the current scope as a JS object).\n// The reason we can't just use the original variable names is minifiers mangling the toplevel scope.\n// This took me three weeks to figure out how to do.\nvar wcln = function (fn, fnStr, td) {\n    var dt = fn();\n    var st = fn.toString();\n    var ks = st.slice(st.indexOf('[') + 1, st.lastIndexOf(']')).replace(/ /g, '').split(',');\n    for (var i = 0; i < dt.length; ++i) {\n        var v = dt[i], k = ks[i];\n        if (typeof v == 'function') {\n            fnStr += ';' + k + '=';\n            var st_1 = v.toString();\n            if (v.prototype) {\n                // for global objects\n                if (st_1.indexOf('[native code]') != -1) {\n                    var spInd = st_1.indexOf(' ', 8) + 1;\n                    fnStr += st_1.slice(spInd, st_1.indexOf('(', spInd));\n                }\n                else {\n                    fnStr += st_1;\n                    for (var t in v.prototype)\n                        fnStr += ';' + k + '.prototype.' + t + '=' + v.prototype[t].toString();\n                }\n            }\n            else\n                fnStr += st_1;\n        }\n        else\n            td[k] = v;\n    }\n    return [fnStr, td];\n};\nvar ch = [];\n// clone bufs\nvar cbfs = function (v) {\n    var tl = [];\n    for (var k in v) {\n        if (v[k] instanceof u8 || v[k] instanceof u16 || v[k] instanceof u32)\n            tl.push((v[k] = new v[k].constructor(v[k])).buffer);\n    }\n    return tl;\n};\n// use a worker to execute code\nvar wrkr = function (fns, init, id, cb) {\n    var _a;\n    if (!ch[id]) {\n        var fnStr = '', td_1 = {}, m = fns.length - 1;\n        for (var i = 0; i < m; ++i)\n            _a = wcln(fns[i], fnStr, td_1), fnStr = _a[0], td_1 = _a[1];\n        ch[id] = wcln(fns[m], fnStr, td_1);\n    }\n    var td = mrg({}, ch[id][1]);\n    return wk(ch[id][0] + ';onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage=' + init.toString() + '}', id, td, cbfs(td), cb);\n};\n// base async inflate fn\nvar bInflt = function () { return [u8, u16, u32, fleb, fdeb, clim, fl, fd, flrm, fdrm, rev, hMap, max, bits, bits16, shft, slc, inflt, inflateSync, pbf, gu8]; };\nvar bDflt = function () { return [u8, u16, u32, fleb, fdeb, clim, revfl, revfd, flm, flt, fdm, fdt, rev, deo, et, hMap, wbits, wbits16, hTree, ln, lc, clen, wfblk, wblk, shft, slc, dflt, dopt, deflateSync, pbf]; };\n// gzip extra\nvar gze = function () { return [gzh, gzhl, wbytes, crc, crct]; };\n// gunzip extra\nvar guze = function () { return [gzs, gzl]; };\n// zlib extra\nvar zle = function () { return [zlh, wbytes, adler]; };\n// unzlib extra\nvar zule = function () { return [zlv]; };\n// post buf\nvar pbf = function (msg) { return postMessage(msg, [msg.buffer]); };\n// get u8\nvar gu8 = function (o) { return o && o.size && new u8(o.size); };\n// async helper\nvar cbify = function (dat, opts, fns, init, id, cb) {\n    var w = wrkr(fns, init, id, function (err, dat) {\n        w.terminate();\n        cb(err, dat);\n    });\n    if (!opts.consume)\n        dat = new u8(dat);\n    w.postMessage([dat, opts], [dat.buffer]);\n    return function () { w.terminate(); };\n};\n// auto stream\nvar astrm = function (strm) {\n    strm.ondata = function (dat, final) { return postMessage([dat, final], [dat.buffer]); };\n    return function (ev) { return strm.push(ev.data[0], ev.data[1]); };\n};\n// async stream attach\nvar astrmify = function (fns, strm, opts, init, id) {\n    var t;\n    var w = wrkr(fns, init, id, function (err, dat) {\n        if (err)\n            w.terminate(), strm.ondata.call(strm, err);\n        else {\n            if (dat[1])\n                w.terminate();\n            strm.ondata.call(strm, err, dat[0], dat[1]);\n        }\n    });\n    w.postMessage(opts);\n    strm.push = function (d, f) {\n        if (t)\n            throw 'stream finished';\n        if (!strm.ondata)\n            throw 'no stream handler';\n        w.postMessage([d, t = f], [d.buffer]);\n    };\n    strm.terminate = function () { w.terminate(); };\n};\n// read 2 bytes\nvar b2 = function (d, b) { return d[b] | (d[b + 1] << 8); };\n// read 4 bytes\nvar b4 = function (d, b) { return (d[b] | (d[b + 1] << 8) | (d[b + 2] << 16)) + (d[b + 3] << 23) * 2; };\n// write bytes\nvar wbytes = function (d, b, v) {\n    for (; v; ++b)\n        d[b] = v, v >>>= 8;\n};\n// gzip header\nvar gzh = function (c, o) {\n    var fn = o.filename;\n    c[0] = 31, c[1] = 139, c[2] = 8, c[8] = o.level < 2 ? 4 : o.level == 9 ? 2 : 0, c[9] = 3; // assume Unix\n    if (o.mtime != 0)\n        wbytes(c, 4, Math.floor(new Date(o.mtime || Date.now()) / 1000));\n    if (fn) {\n        c[3] = 8;\n        for (var i = 0; i <= fn.length; ++i)\n            c[i + 10] = fn.charCodeAt(i);\n    }\n};\n// gzip footer: -8 to -4 = CRC, -4 to -0 is length\n// gzip start\nvar gzs = function (d) {\n    if (d[0] != 31 || d[1] != 139 || d[2] != 8)\n        throw 'invalid gzip data';\n    var flg = d[3];\n    var st = 10;\n    if (flg & 4)\n        st += d[10] | (d[11] << 8) + 2;\n    for (var zs = (flg >> 3 & 1) + (flg >> 4 & 1); zs > 0; zs -= !d[st++])\n        ;\n    return st + (flg & 2);\n};\n// gzip length\nvar gzl = function (d) {\n    var l = d.length;\n    return (d[l - 4] | d[l - 3] << 8 | d[l - 2] << 16) + (2 * (d[l - 1] << 23));\n};\n// gzip header length\nvar gzhl = function (o) { return 10 + ((o.filename && (o.filename.length + 1)) || 0); };\n// zlib header\nvar zlh = function (c, o) {\n    var lv = o.level, fl = lv == 0 ? 0 : lv < 6 ? 1 : lv == 9 ? 3 : 2;\n    c[0] = 120, c[1] = (fl << 6) | (fl ? (32 - 2 * fl) : 1);\n};\n// zlib valid\nvar zlv = function (d) {\n    if ((d[0] & 15) != 8 || (d[0] >>> 4) > 7 || ((d[0] << 8 | d[1]) % 31))\n        throw 'invalid zlib data';\n    if (d[1] & 32)\n        throw 'invalid zlib data: preset dictionaries not supported';\n};\nfunction AsyncCmpStrm(opts, cb) {\n    if (!cb && typeof opts == 'function')\n        cb = opts, opts = {};\n    this.ondata = cb;\n    return opts;\n}\n// zlib footer: -4 to -0 is Adler32\n/**\n * Streaming DEFLATE compression\n */\nvar Deflate = /*#__PURE__*/ (function () {\n    function Deflate(opts, cb) {\n        if (!cb && typeof opts == 'function')\n            cb = opts, opts = {};\n        this.ondata = cb;\n        this.o = opts || {};\n    }\n    Deflate.prototype.p = function (c, f) {\n        this.ondata(dopt(c, this.o, 0, 0, !f), f);\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Deflate.prototype.push = function (chunk, final) {\n        if (this.d)\n            throw 'stream finished';\n        if (!this.ondata)\n            throw 'no stream handler';\n        this.d = final;\n        this.p(chunk, final || false);\n    };\n    return Deflate;\n}());\nexport { Deflate };\n/**\n * Asynchronous streaming DEFLATE compression\n */\nvar AsyncDeflate = /*#__PURE__*/ (function () {\n    function AsyncDeflate(opts, cb) {\n        astrmify([\n            bDflt,\n            function () { return [astrm, Deflate]; }\n        ], this, AsyncCmpStrm.call(this, opts, cb), function (ev) {\n            var strm = new Deflate(ev.data);\n            onmessage = astrm(strm);\n        }, 6);\n    }\n    return AsyncDeflate;\n}());\nexport { AsyncDeflate };\nexport function deflate(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return cbify(data, opts, [\n        bDflt,\n    ], function (ev) { return pbf(deflateSync(ev.data[0], ev.data[1])); }, 0, cb);\n}\n/**\n * Compresses data with DEFLATE without any wrapper\n * @param data The data to compress\n * @param opts The compression options\n * @returns The deflated version of the data\n */\nexport function deflateSync(data, opts) {\n    if (opts === void 0) { opts = {}; }\n    return dopt(data, opts, 0, 0);\n}\n/**\n * Streaming DEFLATE decompression\n */\nvar Inflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates an inflation stream\n     * @param cb The callback to call whenever data is inflated\n     */\n    function Inflate(cb) {\n        this.s = {};\n        this.p = new u8(0);\n        this.ondata = cb;\n    }\n    Inflate.prototype.e = function (c) {\n        if (this.d)\n            throw 'stream finished';\n        if (!this.ondata)\n            throw 'no stream handler';\n        var l = this.p.length;\n        var n = new u8(l + c.length);\n        n.set(this.p), n.set(c, l), this.p = n;\n    };\n    Inflate.prototype.c = function (final) {\n        this.d = this.s.i = final || false;\n        var bts = this.s.b;\n        var dt = inflt(this.p, this.o, this.s);\n        this.ondata(slc(dt, bts, this.s.b), this.d);\n        this.o = slc(dt, this.s.b - 32768), this.s.b = this.o.length;\n        this.p = slc(this.p, (this.s.p / 8) >> 0), this.s.p &= 7;\n    };\n    /**\n     * Pushes a chunk to be inflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the final chunk\n     */\n    Inflate.prototype.push = function (chunk, final) {\n        this.e(chunk), this.c(final);\n    };\n    return Inflate;\n}());\nexport { Inflate };\n/**\n * Asynchronous streaming DEFLATE decompression\n */\nvar AsyncInflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates an asynchronous inflation stream\n     * @param cb The callback to call whenever data is deflated\n     */\n    function AsyncInflate(cb) {\n        this.ondata = cb;\n        astrmify([\n            bInflt,\n            function () { return [astrm, Inflate]; }\n        ], this, 0, function () {\n            var strm = new Inflate();\n            onmessage = astrm(strm);\n        }, 7);\n    }\n    return AsyncInflate;\n}());\nexport { AsyncInflate };\nexport function inflate(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return cbify(data, opts, [\n        bInflt\n    ], function (ev) { return pbf(inflateSync(ev.data[0], gu8(ev.data[1]))); }, 1, cb);\n}\n/**\n * Expands DEFLATE data with no wrapper\n * @param data The data to decompress\n * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n * @returns The decompressed version of the data\n */\nexport function inflateSync(data, out) {\n    return inflt(data, out);\n}\n// before you yell at me for not just using extends, my reason is that TS inheritance is hard to workerize.\n/**\n * Streaming GZIP compression\n */\nvar Gzip = /*#__PURE__*/ (function () {\n    function Gzip(opts, cb) {\n        this.c = crc();\n        this.l = 0;\n        this.v = 1;\n        Deflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be GZIPped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Gzip.prototype.push = function (chunk, final) {\n        Deflate.prototype.push.call(this, chunk, final);\n    };\n    Gzip.prototype.p = function (c, f) {\n        this.c.p(c);\n        this.l += c.length;\n        var raw = dopt(c, this.o, this.v && gzhl(this.o), f && 8, !f);\n        if (this.v)\n            gzh(raw, this.o), this.v = 0;\n        if (f)\n            wbytes(raw, raw.length - 8, this.c.d()), wbytes(raw, raw.length - 4, this.l);\n        this.ondata(raw, f);\n    };\n    return Gzip;\n}());\nexport { Gzip };\n/**\n * Asynchronous streaming GZIP compression\n */\nvar AsyncGzip = /*#__PURE__*/ (function () {\n    function AsyncGzip(opts, cb) {\n        astrmify([\n            bDflt,\n            gze,\n            function () { return [astrm, Deflate, Gzip]; }\n        ], this, AsyncCmpStrm.call(this, opts, cb), function (ev) {\n            var strm = new Gzip(ev.data);\n            onmessage = astrm(strm);\n        }, 8);\n    }\n    return AsyncGzip;\n}());\nexport { AsyncGzip };\nexport function gzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return cbify(data, opts, [\n        bDflt,\n        gze,\n        function () { return [gzipSync]; }\n    ], function (ev) { return pbf(gzipSync(ev.data[0], ev.data[1])); }, 2, cb);\n}\n/**\n * Compresses data with GZIP\n * @param data The data to compress\n * @param opts The compression options\n * @returns The gzipped version of the data\n */\nexport function gzipSync(data, opts) {\n    if (opts === void 0) { opts = {}; }\n    var c = crc(), l = data.length;\n    c.p(data);\n    var d = dopt(data, opts, gzhl(opts), 8), s = d.length;\n    return gzh(d, opts), wbytes(d, s - 8, c.d()), wbytes(d, s - 4, l), d;\n}\n/**\n * Streaming GZIP decompression\n */\nvar Gunzip = /*#__PURE__*/ (function () {\n    /**\n     * Creates a GUNZIP stream\n     * @param cb The callback to call whenever data is inflated\n     */\n    function Gunzip(cb) {\n        this.v = 1;\n        Inflate.call(this, cb);\n    }\n    /**\n     * Pushes a chunk to be GUNZIPped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Gunzip.prototype.push = function (chunk, final) {\n        Inflate.prototype.e.call(this, chunk);\n        if (this.v) {\n            var s = gzs(this.p);\n            if (s >= this.p.length && !final)\n                return;\n            this.p = this.p.subarray(s), this.v = 0;\n        }\n        if (final) {\n            if (this.p.length < 8)\n                throw 'invalid gzip stream';\n            this.p = this.p.subarray(0, -8);\n        }\n        // necessary to prevent TS from using the closure value\n        // This allows for workerization to function correctly\n        Inflate.prototype.c.call(this, final);\n    };\n    return Gunzip;\n}());\nexport { Gunzip };\n/**\n * Asynchronous streaming GZIP decompression\n */\nvar AsyncGunzip = /*#__PURE__*/ (function () {\n    /**\n     * Creates an asynchronous GUNZIP stream\n     * @param cb The callback to call whenever data is deflated\n     */\n    function AsyncGunzip(cb) {\n        this.ondata = cb;\n        astrmify([\n            bInflt,\n            guze,\n            function () { return [astrm, Inflate, Gunzip]; }\n        ], this, 0, function () {\n            var strm = new Gunzip();\n            onmessage = astrm(strm);\n        }, 9);\n    }\n    return AsyncGunzip;\n}());\nexport { AsyncGunzip };\nexport function gunzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return cbify(data, opts, [\n        bInflt,\n        guze,\n        function () { return [gunzipSync]; }\n    ], function (ev) { return pbf(gunzipSync(ev.data[0])); }, 3, cb);\n}\n/**\n * Expands GZIP data\n * @param data The data to decompress\n * @param out Where to write the data. GZIP already encodes the output size, so providing this doesn't save memory.\n * @returns The decompressed version of the data\n */\nexport function gunzipSync(data, out) {\n    return inflt(data.subarray(gzs(data), -8), out || new u8(gzl(data)));\n}\n/**\n * Streaming Zlib compression\n */\nvar Zlib = /*#__PURE__*/ (function () {\n    function Zlib(opts, cb) {\n        this.c = adler();\n        this.v = 1;\n        Deflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be zlibbed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Zlib.prototype.push = function (chunk, final) {\n        Deflate.prototype.push.call(this, chunk, final);\n    };\n    Zlib.prototype.p = function (c, f) {\n        this.c.p(c);\n        var raw = dopt(c, this.o, this.v && 2, f && 4, !f);\n        if (this.v)\n            zlh(raw, this.o), this.v = 0;\n        if (f)\n            wbytes(raw, raw.length - 4, this.c.d());\n        this.ondata(raw, f);\n    };\n    return Zlib;\n}());\nexport { Zlib };\n/**\n * Asynchronous streaming Zlib compression\n */\nvar AsyncZlib = /*#__PURE__*/ (function () {\n    function AsyncZlib(opts, cb) {\n        astrmify([\n            bDflt,\n            zle,\n            function () { return [astrm, Deflate, Zlib]; }\n        ], this, AsyncCmpStrm.call(this, opts, cb), function (ev) {\n            var strm = new Zlib(ev.data);\n            onmessage = astrm(strm);\n        }, 10);\n    }\n    return AsyncZlib;\n}());\nexport { AsyncZlib };\nexport function zlib(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return cbify(data, opts, [\n        bDflt,\n        zle,\n        function () { return [zlibSync]; }\n    ], function (ev) { return pbf(zlibSync(ev.data[0], ev.data[1])); }, 4, cb);\n}\n/**\n * Compress data with Zlib\n * @param data The data to compress\n * @param opts The compression options\n * @returns The zlib-compressed version of the data\n */\nexport function zlibSync(data, opts) {\n    if (opts === void 0) { opts = {}; }\n    var a = adler();\n    a.p(data);\n    var d = dopt(data, opts, 2, 4);\n    return zlh(d, opts), wbytes(d, d.length - 4, a.d()), d;\n}\n/**\n * Streaming Zlib decompression\n */\nvar Unzlib = /*#__PURE__*/ (function () {\n    /**\n     * Creates a Zlib decompression stream\n     * @param cb The callback to call whenever data is inflated\n     */\n    function Unzlib(cb) {\n        this.v = 1;\n        Inflate.call(this, cb);\n    }\n    /**\n     * Pushes a chunk to be unzlibbed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Unzlib.prototype.push = function (chunk, final) {\n        Inflate.prototype.e.call(this, chunk);\n        if (this.v) {\n            if (this.p.length < 2 && !final)\n                return;\n            this.p = this.p.subarray(2), this.v = 0;\n        }\n        if (final) {\n            if (this.p.length < 4)\n                throw 'invalid zlib stream';\n            this.p = this.p.subarray(0, -4);\n        }\n        // necessary to prevent TS from using the closure value\n        // This allows for workerization to function correctly\n        Inflate.prototype.c.call(this, final);\n    };\n    return Unzlib;\n}());\nexport { Unzlib };\n/**\n * Asynchronous streaming Zlib decompression\n */\nvar AsyncUnzlib = /*#__PURE__*/ (function () {\n    /**\n     * Creates an asynchronous Zlib decompression stream\n     * @param cb The callback to call whenever data is deflated\n     */\n    function AsyncUnzlib(cb) {\n        this.ondata = cb;\n        astrmify([\n            bInflt,\n            zule,\n            function () { return [astrm, Inflate, Unzlib]; }\n        ], this, 0, function () {\n            var strm = new Unzlib();\n            onmessage = astrm(strm);\n        }, 11);\n    }\n    return AsyncUnzlib;\n}());\nexport { AsyncUnzlib };\nexport function unzlib(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return cbify(data, opts, [\n        bInflt,\n        zule,\n        function () { return [unzlibSync]; }\n    ], function (ev) { return pbf(unzlibSync(ev.data[0], gu8(ev.data[1]))); }, 5, cb);\n}\n/**\n * Expands Zlib data\n * @param data The data to decompress\n * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n * @returns The decompressed version of the data\n */\nexport function unzlibSync(data, out) {\n    return inflt((zlv(data), data.subarray(2, -4)), out);\n}\n// Default algorithm for compression (used because having a known output size allows faster decompression)\nexport { gzip as compress, AsyncGzip as AsyncCompress };\n// Default algorithm for compression (used because having a known output size allows faster decompression)\nexport { gzipSync as compressSync, Gzip as Compress };\n/**\n * Streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar Decompress = /*#__PURE__*/ (function () {\n    /**\n     * Creates a decompression stream\n     * @param cb The callback to call whenever data is decompressed\n     */\n    function Decompress(cb) {\n        this.G = Gunzip;\n        this.I = Inflate;\n        this.Z = Unzlib;\n        this.ondata = cb;\n    }\n    /**\n     * Pushes a chunk to be decompressed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Decompress.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            throw 'no stream handler';\n        if (!this.s) {\n            if (this.p && this.p.length) {\n                var n = new u8(this.p.length + chunk.length);\n                n.set(this.p), n.set(chunk, this.p.length);\n            }\n            else\n                this.p = chunk;\n            if (this.p.length > 2) {\n                var _this_1 = this;\n                var cb = function () { _this_1.ondata.apply(_this_1, arguments); };\n                this.s = (this.p[0] == 31 && this.p[1] == 139 && this.p[2] == 8)\n                    ? new this.G(cb)\n                    : ((this.p[0] & 15) != 8 || (this.p[0] >> 4) > 7 || ((this.p[0] << 8 | this.p[1]) % 31))\n                        ? new this.I(cb)\n                        : new this.Z(cb);\n                this.s.push(this.p, final);\n                this.p = null;\n            }\n        }\n        else\n            this.s.push(chunk, final);\n    };\n    return Decompress;\n}());\nexport { Decompress };\n/**\n * Asynchronous streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar AsyncDecompress = /*#__PURE__*/ (function () {\n    /**\n   * Creates an asynchronous decompression stream\n   * @param cb The callback to call whenever data is decompressed\n   */\n    function AsyncDecompress(cb) {\n        this.G = AsyncGunzip;\n        this.I = AsyncInflate;\n        this.Z = AsyncUnzlib;\n        this.ondata = cb;\n    }\n    /**\n     * Pushes a chunk to be decompressed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    AsyncDecompress.prototype.push = function (chunk, final) {\n        Decompress.prototype.push.call(this, chunk, final);\n    };\n    return AsyncDecompress;\n}());\nexport { AsyncDecompress };\nexport function decompress(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return (data[0] == 31 && data[1] == 139 && data[2] == 8)\n        ? gunzip(data, opts, cb)\n        : ((data[0] & 15) != 8 || (data[0] >> 4) > 7 || ((data[0] << 8 | data[1]) % 31))\n            ? inflate(data, opts, cb)\n            : unzlib(data, opts, cb);\n}\n/**\n * Expands compressed GZIP, Zlib, or raw DEFLATE data, automatically detecting the format\n * @param data The data to decompress\n * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n * @returns The decompressed version of the data\n */\nexport function decompressSync(data, out) {\n    return (data[0] == 31 && data[1] == 139 && data[2] == 8)\n        ? gunzipSync(data, out)\n        : ((data[0] & 15) != 8 || (data[0] >> 4) > 7 || ((data[0] << 8 | data[1]) % 31))\n            ? inflateSync(data, out)\n            : unzlibSync(data, out);\n}\n// flatten a directory structure\nvar fltn = function (d, p, t, o) {\n    for (var k in d) {\n        var val = d[k], n = p + k;\n        if (val instanceof u8)\n            t[n] = [val, o];\n        else if (Array.isArray(val))\n            t[n] = [val[0], mrg(o, val[1])];\n        else\n            fltn(val, n + '/', t, o);\n    }\n};\n/**\n * Converts a string into a Uint8Array for use with compression/decompression methods\n * @param str The string to encode\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless decoding a binary string.\n * @returns The string encoded in UTF-8/Latin-1 binary\n */\nexport function strToU8(str, latin1) {\n    var l = str.length;\n    if (!latin1 && typeof TextEncoder != 'undefined')\n        return new TextEncoder().encode(str);\n    var ar = new u8(str.length + (str.length >>> 1));\n    var ai = 0;\n    var w = function (v) { ar[ai++] = v; };\n    for (var i = 0; i < l; ++i) {\n        if (ai + 5 > ar.length) {\n            var n = new u8(ai + 8 + ((l - i) << 1));\n            n.set(ar);\n            ar = n;\n        }\n        var c = str.charCodeAt(i);\n        if (c < 128 || latin1)\n            w(c);\n        else if (c < 2048)\n            w(192 | (c >>> 6)), w(128 | (c & 63));\n        else if (c > 55295 && c < 57344)\n            c = 65536 + (c & 1023 << 10) | (str.charCodeAt(++i) & 1023),\n                w(240 | (c >>> 18)), w(128 | ((c >>> 12) & 63)), w(128 | ((c >>> 6) & 63)), w(128 | (c & 63));\n        else\n            w(224 | (c >>> 12)), w(128 | ((c >>> 6) & 63)), w(128 | (c & 63));\n    }\n    return slc(ar, 0, ai);\n}\n/**\n * Converts a Uint8Array to a string\n * @param dat The data to decode to string\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless encoding to binary string.\n * @returns The original UTF-8/Latin-1 string\n */\nexport function strFromU8(dat, latin1) {\n    var r = '';\n    if (!latin1 && typeof TextDecoder != 'undefined')\n        return new TextDecoder().decode(dat);\n    for (var i = 0; i < dat.length;) {\n        var c = dat[i++];\n        if (c < 128 || latin1)\n            r += String.fromCharCode(c);\n        else if (c < 224)\n            r += String.fromCharCode((c & 31) << 6 | (dat[i++] & 63));\n        else if (c < 240)\n            r += String.fromCharCode((c & 15) << 12 | (dat[i++] & 63) << 6 | (dat[i++] & 63));\n        else\n            c = ((c & 15) << 18 | (dat[i++] & 63) << 12 | (dat[i++] & 63) << 6 | (dat[i++] & 63)) - 65536,\n                r += String.fromCharCode(55296 | (c >> 10), 56320 | (c & 1023));\n    }\n    return r;\n}\n;\n// skip local zip header\nvar slzh = function (d, b) { return b + 30 + b2(d, b + 26) + b2(d, b + 28); };\n// read zip header\nvar zh = function (d, b, z) {\n    var fnl = b2(d, b + 28), fn = strFromU8(d.subarray(b + 46, b + 46 + fnl), !(b2(d, b + 8) & 2048)), es = b + 46 + fnl;\n    var _a = z ? z64e(d, es) : [b4(d, b + 20), b4(d, b + 24), b4(d, b + 42)], sc = _a[0], su = _a[1], off = _a[2];\n    return [b2(d, b + 10), sc, su, fn, es + b2(d, b + 30) + b2(d, b + 32), off];\n};\n// read zip64 extra field\nvar z64e = function (d, b) {\n    for (; b2(d, b) != 1; b += 4 + b2(d, b + 2))\n        ;\n    return [b4(d, b + 12), b4(d, b + 4), b4(d, b + 20)];\n};\n// write zip header\nvar wzh = function (d, b, c, cmp, su, fn, u, o, ce, t) {\n    var fl = fn.length, l = cmp.length;\n    wbytes(d, b, ce != null ? 0x2014B50 : 0x4034B50), b += 4;\n    if (ce != null)\n        d[b] = 20, b += 2;\n    d[b] = 20, b += 2; // spec compliance? what's that?\n    d[b++] = (t == 8 && (o.level == 1 ? 6 : o.level < 6 ? 4 : o.level == 9 ? 2 : 0)), d[b++] = u && 8;\n    d[b] = t, b += 2;\n    var dt = new Date(o.mtime || Date.now()), y = dt.getFullYear() - 1980;\n    if (y < 0 || y > 119)\n        throw 'date not in range 1980-2099';\n    wbytes(d, b, ((y << 24) * 2) | ((dt.getMonth() + 1) << 21) | (dt.getDate() << 16) | (dt.getHours() << 11) | (dt.getMinutes() << 5) | (dt.getSeconds() >>> 1));\n    b += 4;\n    wbytes(d, b, c);\n    wbytes(d, b + 4, l);\n    wbytes(d, b + 8, su);\n    wbytes(d, b + 12, fl), b += 16; // skip extra field, comment\n    if (ce != null)\n        wbytes(d, b += 10, ce), b += 4;\n    d.set(fn, b);\n    b += fl;\n    if (ce == null)\n        d.set(cmp, b);\n};\n// write zip footer (end of central directory)\nvar wzf = function (o, b, c, d, e) {\n    wbytes(o, b, 0x6054B50); // skip disk\n    wbytes(o, b + 8, c);\n    wbytes(o, b + 10, c);\n    wbytes(o, b + 12, d);\n    wbytes(o, b + 16, e);\n};\nexport function zip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    var r = {};\n    fltn(data, '', r, opts);\n    var k = Object.keys(r);\n    var lft = k.length, o = 0, tot = 0;\n    var slft = lft, files = new Array(lft);\n    var term = [];\n    var tAll = function () {\n        for (var i = 0; i < term.length; ++i)\n            term[i]();\n    };\n    var cbf = function () {\n        var out = new u8(tot + 22), oe = o, cdl = tot - o;\n        tot = 0;\n        for (var i = 0; i < slft; ++i) {\n            var f = files[i];\n            try {\n                wzh(out, tot, f.c, f.d, f.m, f.n, f.u, f.p, null, f.t);\n                wzh(out, o, f.c, f.d, f.m, f.n, f.u, f.p, tot, f.t), o += 46 + f.n.length, tot += 30 + f.n.length + f.d.length;\n            }\n            catch (e) {\n                return cb(e, null);\n            }\n        }\n        wzf(out, o, files.length, cdl, oe);\n        cb(null, out);\n    };\n    if (!lft)\n        cbf();\n    var _loop_1 = function (i) {\n        var fn = k[i];\n        var _a = r[fn], file = _a[0], p = _a[1];\n        var c = crc(), m = file.length;\n        c.p(file);\n        var n = strToU8(fn), s = n.length;\n        var t = p.level == 0 ? 0 : 8;\n        var cbl = function (e, d) {\n            if (e) {\n                tAll();\n                cb(e, null);\n            }\n            else {\n                var l = d.length;\n                files[i] = {\n                    t: t,\n                    d: d,\n                    m: m,\n                    c: c.d(),\n                    u: fn.length != l,\n                    n: n,\n                    p: p\n                };\n                o += 30 + s + l;\n                tot += 76 + 2 * s + l;\n                if (!--lft)\n                    cbf();\n            }\n        };\n        if (n.length > 65535)\n            cbl('filename too long', null);\n        if (!t)\n            cbl(null, file);\n        else if (m < 160000) {\n            try {\n                cbl(null, deflateSync(file, p));\n            }\n            catch (e) {\n                cbl(e, null);\n            }\n        }\n        else\n            term.push(deflate(file, p, cbl));\n    };\n    // Cannot use lft because it can decrease\n    for (var i = 0; i < slft; ++i) {\n        _loop_1(i);\n    }\n    return tAll;\n}\n/**\n * Synchronously creates a ZIP file. Prefer using `zip` for better performance\n * with more than one file.\n * @param data The directory structure for the ZIP archive\n * @param opts The main options, merged with per-file options\n * @returns The generated ZIP archive\n */\nexport function zipSync(data, opts) {\n    if (opts === void 0) { opts = {}; }\n    var r = {};\n    var files = [];\n    fltn(data, '', r, opts);\n    var o = 0;\n    var tot = 0;\n    for (var fn in r) {\n        var _a = r[fn], file = _a[0], p = _a[1];\n        var t = p.level == 0 ? 0 : 8;\n        var n = strToU8(fn), s = n.length;\n        if (n.length > 65535)\n            throw 'filename too long';\n        var d = t ? deflateSync(file, p) : file, l = d.length;\n        var c = crc();\n        c.p(file);\n        files.push({\n            t: t,\n            d: d,\n            m: file.length,\n            c: c.d(),\n            u: fn.length != s,\n            n: n,\n            o: o,\n            p: p\n        });\n        o += 30 + s + l;\n        tot += 76 + 2 * s + l;\n    }\n    var out = new u8(tot + 22), oe = o, cdl = tot - o;\n    for (var i = 0; i < files.length; ++i) {\n        var f = files[i];\n        wzh(out, f.o, f.c, f.d, f.m, f.n, f.u, f.p, null, f.t);\n        wzh(out, o, f.c, f.d, f.m, f.n, f.u, f.p, f.o, f.t), o += 46 + f.n.length;\n    }\n    wzf(out, o, files.length, cdl, oe);\n    return out;\n}\n/**\n * Asynchronously decompresses a ZIP archive\n * @param data The raw compressed ZIP file\n * @param cb The callback to call with the decompressed files\n * @returns A function that can be used to immediately terminate the unzipping\n */\nexport function unzip(data, cb) {\n    if (typeof cb != 'function')\n        throw 'no callback';\n    var term = [];\n    var tAll = function () {\n        for (var i = 0; i < term.length; ++i)\n            term[i]();\n    };\n    var files = {};\n    var e = data.length - 22;\n    for (; b4(data, e) != 0x6054B50; --e) {\n        if (!e || data.length - e > 65558) {\n            cb('invalid zip file', null);\n            return;\n        }\n    }\n    ;\n    var lft = b2(data, e + 8);\n    if (!lft)\n        cb(null, {});\n    var c = lft;\n    var o = b4(data, e + 16);\n    var z = o == 4294967295;\n    if (z) {\n        e = b4(data, e - 12);\n        if (b4(data, e) != 0x6064B50)\n            throw 'invalid zip file';\n        c = lft = b4(data, e + 32);\n        o = b4(data, e + 48);\n    }\n    var _loop_2 = function (i) {\n        var _a = zh(data, o, z), c_1 = _a[0], sc = _a[1], su = _a[2], fn = _a[3], no = _a[4], off = _a[5], b = slzh(data, off);\n        o = no;\n        var cbl = function (e, d) {\n            if (e) {\n                tAll();\n                cb(e, null);\n            }\n            else {\n                files[fn] = d;\n                if (!--lft)\n                    cb(null, files);\n            }\n        };\n        if (!c_1)\n            cbl(null, slc(data, b, b + sc));\n        else if (c_1 == 8) {\n            var infl = data.subarray(b, b + sc);\n            if (sc < 320000) {\n                try {\n                    cbl(null, inflateSync(infl, new u8(su)));\n                }\n                catch (e) {\n                    cbl(e, null);\n                }\n            }\n            else\n                term.push(inflate(infl, { size: su }, cbl));\n        }\n        else\n            cbl('unknown compression type ' + c_1, null);\n    };\n    for (var i = 0; i < c; ++i) {\n        _loop_2(i);\n    }\n    return tAll;\n}\n/**\n * Synchronously decompresses a ZIP archive. Prefer using `unzip` for better\n * performance with more than one file.\n * @param data The raw compressed ZIP file\n * @returns The decompressed files\n */\nexport function unzipSync(data) {\n    var files = {};\n    var e = data.length - 22;\n    for (; b4(data, e) != 0x6054B50; --e) {\n        if (!e || data.length - e > 65558)\n            throw 'invalid zip file';\n    }\n    ;\n    var c = b2(data, e + 8);\n    if (!c)\n        return {};\n    var o = b4(data, e + 16);\n    var z = o == 4294967295;\n    if (z) {\n        e = b4(data, e - 12);\n        if (b4(data, e) != 0x6064B50)\n            throw 'invalid zip file';\n        c = b4(data, e + 32);\n        o = b4(data, e + 48);\n    }\n    for (var i = 0; i < c; ++i) {\n        var _a = zh(data, o, z), c_2 = _a[0], sc = _a[1], su = _a[2], fn = _a[3], no = _a[4], off = _a[5], b = slzh(data, off);\n        o = no;\n        if (!c_2)\n            files[fn] = slc(data, b, b + sc);\n        else if (c_2 == 8)\n            files[fn] = inflateSync(data.subarray(b, b + sc), new u8(su));\n        else\n            throw 'unknown compression type ' + c_2;\n    }\n    return files;\n}\n","import {\n    CONSOLE_LOG_RECORDING_ENABLED_SERVER_SIDE,\n    SESSION_RECORDING_CANVAS_RECORDING,\n    SESSION_RECORDING_ENABLED_SERVER_SIDE,\n    SESSION_RECORDING_EVENT_TRIGGER_ACTIVATED_SESSION,\n    SESSION_RECORDING_IS_SAMPLED,\n    SESSION_RECORDING_MINIMUM_DURATION,\n    SESSION_RECORDING_NETWORK_PAYLOAD_CAPTURE,\n    SESSION_RECORDING_SAMPLE_RATE,\n    SESSION_RECORDING_URL_TRIGGER_ACTIVATED_SESSION,\n} from '../../constants'\nimport {\n    estimateSize,\n    INCREMENTAL_SNAPSHOT_EVENT_TYPE,\n    recordOptions,\n    rrwebRecord,\n    splitBuffer,\n    truncateLargeConsoleLogs,\n} from './sessionrecording-utils'\nimport { PostHog } from '../../posthog-core'\nimport {\n    CaptureResult,\n    DecideResponse,\n    FlagVariant,\n    NetworkRecordOptions,\n    NetworkRequest,\n    Properties,\n    SessionRecordingUrlTrigger,\n} from '../../types'\nimport {\n    customEvent,\n    EventType,\n    type eventWithTime,\n    IncrementalSource,\n    type listenerHandler,\n    RecordPlugin,\n} from '@rrweb/types'\n\nimport { isBoolean, isFunction, isNullish, isNumber, isObject, isString, isUndefined } from '../../utils/type-utils'\nimport { logger } from '../../utils/logger'\nimport { assignableWindow, document, window } from '../../utils/globals'\nimport { buildNetworkRequestOptions } from './config'\nimport { isLocalhost } from '../../utils/request-utils'\nimport { MutationRateLimiter } from './mutation-rate-limiter'\nimport { gzipSync, strFromU8, strToU8 } from 'fflate'\nimport { clampToRange } from '../../utils/number-utils'\nimport { includes } from '../../utils'\n\ntype SessionStartReason =\n    | 'sampling_overridden'\n    | 'recording_initialized'\n    | 'linked_flag_matched'\n    | 'linked_flag_overridden'\n    | 'sampled'\n    | 'session_id_changed'\n    | 'url_trigger_matched'\n    | 'event_trigger_matched'\n\nconst BASE_ENDPOINT = '/s/'\n\nconst ONE_MINUTE = 1000 * 60\nconst FIVE_MINUTES = ONE_MINUTE * 5\nconst TWO_SECONDS = 2000\nexport const RECORDING_IDLE_THRESHOLD_MS = FIVE_MINUTES\nconst ONE_KB = 1024\nconst PARTIAL_COMPRESSION_THRESHOLD = ONE_KB\nexport const RECORDING_MAX_EVENT_SIZE = ONE_KB * ONE_KB * 0.9 // ~1mb (with some wiggle room)\nexport const RECORDING_BUFFER_TIMEOUT = 2000 // 2 seconds\nexport const SESSION_RECORDING_BATCH_KEY = 'recordings'\n\nconst ACTIVE_SOURCES = [\n    IncrementalSource.MouseMove,\n    IncrementalSource.MouseInteraction,\n    IncrementalSource.Scroll,\n    IncrementalSource.ViewportResize,\n    IncrementalSource.Input,\n    IncrementalSource.TouchMove,\n    IncrementalSource.MediaInteraction,\n    IncrementalSource.Drag,\n]\n\nexport type TriggerType = 'url' | 'event'\ntype TriggerStatus = 'trigger_activated' | 'trigger_pending' | 'trigger_disabled'\n\n/**\n * Session recording starts in buffering mode while waiting for decide response\n * Once the response is received it might be disabled, active or sampled\n * When sampled that means a sample rate is set and the last time the session id was rotated\n * the sample rate determined this session should be sent to the server.\n */\ntype SessionRecordingStatus = 'disabled' | 'sampled' | 'active' | 'buffering' | 'paused'\n\nexport interface SnapshotBuffer {\n    size: number\n    data: any[]\n    sessionId: string\n    windowId: string\n}\n\ninterface QueuedRRWebEvent {\n    rrwebMethod: () => void\n    attempt: number\n    // the timestamp this was first put into this queue\n    enqueuedAt: number\n}\n\ninterface SessionIdlePayload {\n    eventTimestamp: number\n    lastActivityTimestamp: number\n    threshold: number\n    bufferLength: number\n    bufferSize: number\n}\n\nconst newQueuedEvent = (rrwebMethod: () => void): QueuedRRWebEvent => ({\n    rrwebMethod,\n    enqueuedAt: Date.now(),\n    attempt: 1,\n})\n\nconst LOGGER_PREFIX = '[SessionRecording]'\n\ntype compressedFullSnapshotEvent = {\n    type: EventType.FullSnapshot\n    data: string\n}\n\ntype compressedIncrementalSnapshotEvent = {\n    type: EventType.IncrementalSnapshot\n    data: {\n        source: IncrementalSource\n        texts: string\n        attributes: string\n        removes: string\n        adds: string\n    }\n}\n\ntype compressedIncrementalStyleSnapshotEvent = {\n    type: EventType.IncrementalSnapshot\n    data: {\n        source: IncrementalSource.StyleSheetRule\n        id?: number\n        styleId?: number\n        replace?: string\n        replaceSync?: string\n        adds: string\n        removes: string\n    }\n}\n\nexport type compressedEvent =\n    | compressedIncrementalStyleSnapshotEvent\n    | compressedFullSnapshotEvent\n    | compressedIncrementalSnapshotEvent\nexport type compressedEventWithTime = compressedEvent & {\n    timestamp: number\n    delay?: number\n    // marker for compression version\n    cv: '2024-10'\n}\n\nfunction gzipToString(data: unknown): string {\n    return strFromU8(gzipSync(strToU8(JSON.stringify(data))), true)\n}\n\n// rrweb's packer takes an event and returns a string or the reverse on unpact,\n// but we want to be able to inspect metadata during ingestion, and don't want to compress the entire event\n// so we have a custom packer that only compresses part of some events\nfunction compressEvent(event: eventWithTime): eventWithTime | compressedEventWithTime {\n    const originalSize = estimateSize(event)\n    if (originalSize < PARTIAL_COMPRESSION_THRESHOLD) {\n        return event\n    }\n\n    try {\n        if (event.type === EventType.FullSnapshot) {\n            return {\n                ...event,\n                data: gzipToString(event.data),\n                cv: '2024-10',\n            }\n        }\n        if (event.type === EventType.IncrementalSnapshot && event.data.source === IncrementalSource.Mutation) {\n            return {\n                ...event,\n                cv: '2024-10',\n                data: {\n                    ...event.data,\n                    texts: gzipToString(event.data.texts),\n                    attributes: gzipToString(event.data.attributes),\n                    removes: gzipToString(event.data.removes),\n                    adds: gzipToString(event.data.adds),\n                },\n            }\n        }\n        if (event.type === EventType.IncrementalSnapshot && event.data.source === IncrementalSource.StyleSheetRule) {\n            return {\n                ...event,\n                cv: '2024-10',\n                data: {\n                    ...event.data,\n                    adds: gzipToString(event.data.adds),\n                    removes: gzipToString(event.data.removes),\n                },\n            }\n        }\n    } catch (e) {\n        logger.error(LOGGER_PREFIX + ' could not compress event - will use uncompressed event', e)\n    }\n    return event\n}\n\nfunction isSessionIdleEvent(e: eventWithTime): e is eventWithTime & customEvent {\n    return e.type === EventType.Custom && e.data.tag === 'sessionIdle'\n}\n\nfunction sessionRecordingUrlTriggerMatches(url: string, triggers: SessionRecordingUrlTrigger[]) {\n    return triggers.some((trigger) => {\n        switch (trigger.matching) {\n            case 'regex':\n                return new RegExp(trigger.url).test(url)\n            default:\n                return false\n        }\n    })\n}\n\n/** When we put the recording into a paused state, we add a custom event.\n *  However in the paused state, events are dropped, and never make it to the buffer,\n *  so we need to manually let this one through */\nfunction isRecordingPausedEvent(e: eventWithTime) {\n    return e.type === EventType.Custom && e.data.tag === 'recording paused'\n}\n\nexport class SessionRecording {\n    private _endpoint: string\n    private flushBufferTimer?: any\n\n    // we have a buffer - that contains PostHog snapshot events ready to be sent to the server\n    private buffer: SnapshotBuffer\n    // and a queue - that contains rrweb events that we want to send to rrweb, but rrweb wasn't able to accept them yet\n    private queuedRRWebEvents: QueuedRRWebEvent[] = []\n\n    private mutationRateLimiter?: MutationRateLimiter\n    private _captureStarted: boolean\n    private stopRrweb: listenerHandler | undefined\n    private receivedDecide: boolean\n    private isIdle = false\n\n    private _linkedFlagSeen: boolean = false\n    private _lastActivityTimestamp: number = Date.now()\n    private windowId: string\n    private sessionId: string\n    private _linkedFlag: string | FlagVariant | null = null\n\n    private _fullSnapshotTimer?: ReturnType<typeof setInterval>\n\n    private _removePageViewCaptureHook: (() => void) | undefined = undefined\n    private _onSessionIdListener: (() => void) | undefined = undefined\n    private _persistDecideOnSessionListener: (() => void) | undefined = undefined\n    private _samplingSessionListener: (() => void) | undefined = undefined\n\n    // if pageview capture is disabled\n    // then we can manually track href changes\n    private _lastHref?: string\n\n    private _urlTriggers: SessionRecordingUrlTrigger[] = []\n    private _urlBlocklist: SessionRecordingUrlTrigger[] = []\n\n    private _urlBlocked: boolean = false\n\n    private _eventTriggers: string[] = []\n    private _removeEventTriggerCaptureHook: (() => void) | undefined = undefined\n\n    // Util to help developers working on this feature manually override\n    _forceAllowLocalhostNetworkCapture = false\n\n    private get sessionIdleThresholdMilliseconds(): number {\n        return this.instance.config.session_recording.session_idle_threshold_ms || RECORDING_IDLE_THRESHOLD_MS\n    }\n\n    private get rrwebRecord(): rrwebRecord | undefined {\n        return assignableWindow?.__PosthogExtensions__?.rrweb?.record\n    }\n\n    public get started(): boolean {\n        // TODO could we use status instead of _captureStarted?\n        return this._captureStarted\n    }\n\n    private get sessionManager() {\n        if (!this.instance.sessionManager) {\n            throw new Error(LOGGER_PREFIX + ' must be started with a valid sessionManager.')\n        }\n\n        return this.instance.sessionManager\n    }\n\n    private get fullSnapshotIntervalMillis(): number {\n        if (this.triggerStatus === 'trigger_pending') {\n            return ONE_MINUTE\n        }\n\n        return this.instance.config.session_recording?.full_snapshot_interval_millis ?? FIVE_MINUTES\n    }\n\n    private get isSampled(): boolean | null {\n        const currentValue = this.instance.get_property(SESSION_RECORDING_IS_SAMPLED)\n        return isBoolean(currentValue) ? currentValue : null\n    }\n\n    private get sessionDuration(): number | null {\n        const mostRecentSnapshot = this.buffer?.data[this.buffer?.data.length - 1]\n        const { sessionStartTimestamp } = this.sessionManager.checkAndGetSessionAndWindowId(true)\n        return mostRecentSnapshot ? mostRecentSnapshot.timestamp - sessionStartTimestamp : null\n    }\n\n    private get isRecordingEnabled() {\n        const enabled_server_side = !!this.instance.get_property(SESSION_RECORDING_ENABLED_SERVER_SIDE)\n        const enabled_client_side = !this.instance.config.disable_session_recording\n        return window && enabled_server_side && enabled_client_side\n    }\n\n    private get isConsoleLogCaptureEnabled() {\n        const enabled_server_side = !!this.instance.get_property(CONSOLE_LOG_RECORDING_ENABLED_SERVER_SIDE)\n        const enabled_client_side = this.instance.config.enable_recording_console_log\n        return enabled_client_side ?? enabled_server_side\n    }\n\n    private get canvasRecording(): { enabled: boolean; fps: number; quality: number } {\n        const canvasRecording_client_side = this.instance.config.session_recording.captureCanvas\n        const canvasRecording_server_side = this.instance.get_property(SESSION_RECORDING_CANVAS_RECORDING)\n\n        const enabled = canvasRecording_client_side?.recordCanvas ?? canvasRecording_server_side?.enabled ?? false\n        const fps = canvasRecording_client_side?.canvasFps ?? canvasRecording_server_side?.fps ?? 0\n        const quality = canvasRecording_client_side?.canvasQuality ?? canvasRecording_server_side?.quality ?? 0\n\n        return {\n            enabled,\n            fps: clampToRange(fps, 0, 12, 'canvas recording fps'),\n            quality: clampToRange(quality, 0, 1, 'canvas recording quality'),\n        }\n    }\n\n    // network payload capture config has three parts\n    // each can be configured server side or client side\n    private get networkPayloadCapture():\n        | Pick<NetworkRecordOptions, 'recordHeaders' | 'recordBody' | 'recordPerformance'>\n        | undefined {\n        const networkPayloadCapture_server_side = this.instance.get_property(SESSION_RECORDING_NETWORK_PAYLOAD_CAPTURE)\n        const networkPayloadCapture_client_side = {\n            recordHeaders: this.instance.config.session_recording?.recordHeaders,\n            recordBody: this.instance.config.session_recording?.recordBody,\n        }\n        const headersEnabled =\n            networkPayloadCapture_client_side?.recordHeaders || networkPayloadCapture_server_side?.recordHeaders\n        const bodyEnabled =\n            networkPayloadCapture_client_side?.recordBody || networkPayloadCapture_server_side?.recordBody\n        const clientConfigForPerformanceCapture = isObject(this.instance.config.capture_performance)\n            ? this.instance.config.capture_performance.network_timing\n            : this.instance.config.capture_performance\n        const networkTimingEnabled = !!(isBoolean(clientConfigForPerformanceCapture)\n            ? clientConfigForPerformanceCapture\n            : networkPayloadCapture_server_side?.capturePerformance)\n\n        return headersEnabled || bodyEnabled || networkTimingEnabled\n            ? { recordHeaders: headersEnabled, recordBody: bodyEnabled, recordPerformance: networkTimingEnabled }\n            : undefined\n    }\n\n    private get sampleRate(): number | null {\n        const rate = this.instance.get_property(SESSION_RECORDING_SAMPLE_RATE)\n        return isNumber(rate) ? rate : null\n    }\n\n    private get minimumDuration(): number | null {\n        const duration = this.instance.get_property(SESSION_RECORDING_MINIMUM_DURATION)\n        return isNumber(duration) ? duration : null\n    }\n\n    /**\n     * defaults to buffering mode until a decide response is received\n     * once a decide response is received status can be disabled, active or sampled\n     */\n    private get status(): SessionRecordingStatus {\n        if (!this.receivedDecide) {\n            return 'buffering'\n        }\n\n        if (!this.isRecordingEnabled) {\n            return 'disabled'\n        }\n\n        if (!isNullish(this._linkedFlag) && !this._linkedFlagSeen) {\n            return 'buffering'\n        }\n\n        if (this.triggerStatus === 'trigger_pending') {\n            return 'buffering'\n        }\n\n        if (this._urlBlocked) {\n            return 'paused'\n        }\n\n        if (isBoolean(this.isSampled)) {\n            return this.isSampled ? 'sampled' : 'disabled'\n        } else {\n            return 'active'\n        }\n    }\n\n    private get urlTriggerStatus(): TriggerStatus {\n        if (this._urlTriggers.length === 0) {\n            return 'trigger_disabled'\n        }\n\n        const currentTriggerSession = this.instance?.get_property(SESSION_RECORDING_URL_TRIGGER_ACTIVATED_SESSION)\n        return currentTriggerSession === this.sessionId ? 'trigger_activated' : 'trigger_pending'\n    }\n\n    private get eventTriggerStatus(): TriggerStatus {\n        if (this._eventTriggers.length === 0) {\n            return 'trigger_disabled'\n        }\n\n        const currentTriggerSession = this.instance?.get_property(SESSION_RECORDING_EVENT_TRIGGER_ACTIVATED_SESSION)\n        return currentTriggerSession === this.sessionId ? 'trigger_activated' : 'trigger_pending'\n    }\n\n    private get triggerStatus(): TriggerStatus {\n        const eitherIsActivated =\n            this.eventTriggerStatus === 'trigger_activated' || this.urlTriggerStatus === 'trigger_activated'\n        const eitherIsPending =\n            this.eventTriggerStatus === 'trigger_pending' || this.urlTriggerStatus === 'trigger_pending'\n        return eitherIsActivated ? 'trigger_activated' : eitherIsPending ? 'trigger_pending' : 'trigger_disabled'\n    }\n\n    constructor(private readonly instance: PostHog) {\n        this._captureStarted = false\n        this._endpoint = BASE_ENDPOINT\n        this.stopRrweb = undefined\n        this.receivedDecide = false\n\n        if (!this.instance.sessionManager) {\n            logger.error(LOGGER_PREFIX + ' started without valid sessionManager')\n            throw new Error(LOGGER_PREFIX + ' started without valid sessionManager. This is a bug.')\n        }\n\n        // we know there's a sessionManager, so don't need to start without a session id\n        const { sessionId, windowId } = this.sessionManager.checkAndGetSessionAndWindowId()\n        this.sessionId = sessionId\n        this.windowId = windowId\n\n        this.buffer = this.clearBuffer()\n\n        if (this.sessionIdleThresholdMilliseconds >= this.sessionManager.sessionTimeoutMs) {\n            logger.warn(\n                LOGGER_PREFIX +\n                    ` session_idle_threshold_ms (${this.sessionIdleThresholdMilliseconds}) is greater than the session timeout (${this.sessionManager.sessionTimeoutMs}). Session will never be detected as idle`\n            )\n        }\n    }\n\n    private _onBeforeUnload = (): void => {\n        this._flushBuffer()\n    }\n\n    private _onOffline = (): void => {\n        this._tryAddCustomEvent('browser offline', {})\n    }\n\n    private _onOnline = (): void => {\n        this._tryAddCustomEvent('browser online', {})\n    }\n\n    private _onVisibilityChange = (): void => {\n        if (document?.visibilityState) {\n            const label = 'window ' + document.visibilityState\n            this._tryAddCustomEvent(label, {})\n        }\n    }\n\n    startIfEnabledOrStop(startReason?: SessionStartReason) {\n        if (this.isRecordingEnabled) {\n            this._startCapture(startReason)\n\n            // calling addEventListener multiple times is safe and will not add duplicates\n            window?.addEventListener('beforeunload', this._onBeforeUnload)\n            window?.addEventListener('offline', this._onOffline)\n            window?.addEventListener('online', this._onOnline)\n            window?.addEventListener('visibilitychange', this._onVisibilityChange)\n\n            // on reload there might be an already sampled session that should be continued before decide response,\n            // so we call this here _and_ in the decide response\n            this._setupSampling()\n\n            this._addEventTriggerListener()\n\n            if (isNullish(this._removePageViewCaptureHook)) {\n                // :TRICKY: rrweb does not capture navigation within SPA-s, so hook into our $pageview events to get access to all events.\n                //   Dropping the initial event is fine (it's always captured by rrweb).\n                this._removePageViewCaptureHook = this.instance._addCaptureHook((eventName) => {\n                    // If anything could go wrong here it has the potential to block the main loop,\n                    // so we catch all errors.\n                    try {\n                        if (eventName === '$pageview') {\n                            const href = window ? this._maskUrl(window.location.href) : ''\n                            if (!href) {\n                                return\n                            }\n                            this._tryAddCustomEvent('$pageview', { href })\n                        }\n                    } catch (e) {\n                        logger.error('Could not add $pageview to rrweb session', e)\n                    }\n                })\n            }\n\n            if (!this._onSessionIdListener) {\n                this._onSessionIdListener = this.sessionManager.onSessionId((sessionId, windowId, changeReason) => {\n                    if (changeReason) {\n                        this._tryAddCustomEvent('$session_id_change', { sessionId, windowId, changeReason })\n\n                        this.instance?.persistence?.unregister(SESSION_RECORDING_EVENT_TRIGGER_ACTIVATED_SESSION)\n                        this.instance?.persistence?.unregister(SESSION_RECORDING_URL_TRIGGER_ACTIVATED_SESSION)\n                    }\n                })\n            }\n        } else {\n            this.stopRecording()\n        }\n    }\n\n    stopRecording() {\n        if (this._captureStarted && this.stopRrweb) {\n            this.stopRrweb()\n            this.stopRrweb = undefined\n            this._captureStarted = false\n\n            window?.removeEventListener('beforeunload', this._onBeforeUnload)\n            window?.removeEventListener('offline', this._onOffline)\n            window?.removeEventListener('online', this._onOnline)\n            window?.removeEventListener('visibilitychange', this._onVisibilityChange)\n\n            this.clearBuffer()\n            clearInterval(this._fullSnapshotTimer)\n\n            this._removePageViewCaptureHook?.()\n            this._removePageViewCaptureHook = undefined\n            this._removeEventTriggerCaptureHook?.()\n            this._removeEventTriggerCaptureHook = undefined\n            this._onSessionIdListener?.()\n            this._onSessionIdListener = undefined\n            this._samplingSessionListener?.()\n            this._samplingSessionListener = undefined\n\n            logger.info(LOGGER_PREFIX + ' stopped')\n        }\n    }\n\n    private makeSamplingDecision(sessionId: string): void {\n        const sessionIdChanged = this.sessionId !== sessionId\n\n        // capture the current sample rate,\n        // because it is re-used multiple times\n        // and the bundler won't minimise any of the references\n        const currentSampleRate = this.sampleRate\n\n        if (!isNumber(currentSampleRate)) {\n            this.instance.persistence?.register({\n                [SESSION_RECORDING_IS_SAMPLED]: null,\n            })\n            return\n        }\n\n        const storedIsSampled = this.isSampled\n\n        /**\n         * if we get this far then we should make a sampling decision.\n         * When the session id changes or there is no stored sampling decision for this session id\n         * then we should make a new decision.\n         *\n         * Otherwise, we should use the stored decision.\n         */\n        let shouldSample: boolean\n        const makeDecision = sessionIdChanged || !isBoolean(storedIsSampled)\n        if (makeDecision) {\n            const randomNumber = Math.random()\n            shouldSample = randomNumber < currentSampleRate\n        } else {\n            shouldSample = storedIsSampled\n        }\n\n        if (makeDecision) {\n            if (shouldSample) {\n                this._reportStarted('sampled')\n            } else {\n                logger.warn(\n                    LOGGER_PREFIX +\n                        ` Sample rate (${currentSampleRate}) has determined that this sessionId (${sessionId}) will not be sent to the server.`\n                )\n            }\n\n            this._tryAddCustomEvent('samplingDecisionMade', {\n                sampleRate: currentSampleRate,\n                isSampled: shouldSample,\n            })\n        }\n\n        this.instance.persistence?.register({\n            [SESSION_RECORDING_IS_SAMPLED]: shouldSample,\n        })\n    }\n\n    afterDecideResponse(response: DecideResponse) {\n        this._persistDecideResponse(response)\n\n        this._linkedFlag = response.sessionRecording?.linkedFlag || null\n\n        if (response.sessionRecording?.endpoint) {\n            this._endpoint = response.sessionRecording?.endpoint\n        }\n\n        this._setupSampling()\n\n        if (!isNullish(this._linkedFlag) && !this._linkedFlagSeen) {\n            const linkedFlag = isString(this._linkedFlag) ? this._linkedFlag : this._linkedFlag.flag\n            const linkedVariant = isString(this._linkedFlag) ? null : this._linkedFlag.variant\n            this.instance.onFeatureFlags((_flags, variants) => {\n                const flagIsPresent = isObject(variants) && linkedFlag in variants\n                const linkedFlagMatches = linkedVariant ? variants[linkedFlag] === linkedVariant : flagIsPresent\n                if (linkedFlagMatches) {\n                    this._reportStarted('linked_flag_matched', {\n                        linkedFlag,\n                        linkedVariant,\n                    })\n                }\n                this._linkedFlagSeen = linkedFlagMatches\n            })\n        }\n\n        if (response.sessionRecording?.urlTriggers) {\n            this._urlTriggers = response.sessionRecording.urlTriggers\n        }\n\n        if (response.sessionRecording?.urlBlocklist) {\n            this._urlBlocklist = response.sessionRecording.urlBlocklist\n        }\n\n        if (response.sessionRecording?.eventTriggers) {\n            this._eventTriggers = response.sessionRecording.eventTriggers\n        }\n\n        this.receivedDecide = true\n        this.startIfEnabledOrStop()\n    }\n\n    /**\n     * This might be called more than once so needs to be idempotent\n     */\n    private _setupSampling() {\n        if (isNumber(this.sampleRate) && isNullish(this._samplingSessionListener)) {\n            this._samplingSessionListener = this.sessionManager.onSessionId((sessionId) => {\n                this.makeSamplingDecision(sessionId)\n            })\n        }\n    }\n\n    private _persistDecideResponse(response: DecideResponse): void {\n        if (this.instance.persistence) {\n            const persistence = this.instance.persistence\n\n            const persistResponse = () => {\n                const receivedSampleRate = response.sessionRecording?.sampleRate\n\n                const parsedSampleRate = isNullish(receivedSampleRate) ? null : parseFloat(receivedSampleRate)\n                const receivedMinimumDuration = response.sessionRecording?.minimumDurationMilliseconds\n\n                persistence.register({\n                    [SESSION_RECORDING_ENABLED_SERVER_SIDE]: !!response['sessionRecording'],\n                    [CONSOLE_LOG_RECORDING_ENABLED_SERVER_SIDE]: response.sessionRecording?.consoleLogRecordingEnabled,\n                    [SESSION_RECORDING_NETWORK_PAYLOAD_CAPTURE]: {\n                        capturePerformance: response.capturePerformance,\n                        ...response.sessionRecording?.networkPayloadCapture,\n                    },\n                    [SESSION_RECORDING_CANVAS_RECORDING]: {\n                        enabled: response.sessionRecording?.recordCanvas,\n                        fps: response.sessionRecording?.canvasFps,\n                        quality: response.sessionRecording?.canvasQuality,\n                    },\n                    [SESSION_RECORDING_SAMPLE_RATE]: parsedSampleRate,\n                    [SESSION_RECORDING_MINIMUM_DURATION]: isUndefined(receivedMinimumDuration)\n                        ? null\n                        : receivedMinimumDuration,\n                })\n            }\n\n            persistResponse()\n\n            // in case we see multiple decide responses, we should only listen with the response from the most recent one\n            this._persistDecideOnSessionListener?.()\n            this._persistDecideOnSessionListener = this.sessionManager.onSessionId(persistResponse)\n        }\n    }\n\n    log(message: string, level: 'log' | 'warn' | 'error' = 'log') {\n        this.instance.sessionRecording?.onRRwebEmit({\n            type: 6,\n            data: {\n                plugin: 'rrweb/console@1',\n                payload: {\n                    level,\n                    trace: [],\n                    // Even though it is a string we stringify it as that's what rrweb expects\n                    payload: [JSON.stringify(message)],\n                },\n            },\n            timestamp: Date.now(),\n        })\n    }\n\n    private _startCapture(startReason?: SessionStartReason) {\n        if (isUndefined(Object.assign) || isUndefined(Array.from)) {\n            // According to the rrweb docs, rrweb is not supported on IE11 and below:\n            // \"rrweb does not support IE11 and below because it uses the MutationObserver API which was supported by these browsers.\"\n            // https://github.com/rrweb-io/rrweb/blob/master/guide.md#compatibility-note\n            //\n            // However, MutationObserver does exist on IE11, it just doesn't work well and does not detect all changes.\n            // Instead, when we load \"recorder.js\", the first JS error is about \"Object.assign\" and \"Array.from\" being undefined.\n            // Thus instead of MutationObserver, we look for this function and block recording if it's undefined.\n            return\n        }\n\n        // We do not switch recorder versions midway through a recording.\n        // do not start if explicitly disabled or if the user has opted out\n        if (\n            this._captureStarted ||\n            this.instance.config.disable_session_recording ||\n            this.instance.consent.isOptedOut()\n        ) {\n            return\n        }\n\n        this._captureStarted = true\n        // We want to ensure the sessionManager is reset if necessary on load of the recorder\n        this.sessionManager.checkAndGetSessionAndWindowId()\n\n        // If recorder.js is already loaded (if array.full.js snippet is used or posthog-js/dist/recorder is\n        // imported), don't load script. Otherwise, remotely import recorder.js from cdn since it hasn't been loaded.\n        if (!this.rrwebRecord) {\n            assignableWindow.__PosthogExtensions__?.loadExternalDependency?.(this.instance, 'recorder', (err) => {\n                if (err) {\n                    return logger.error(LOGGER_PREFIX + ` could not load recorder`, err)\n                }\n\n                this._onScriptLoaded()\n            })\n        } else {\n            this._onScriptLoaded()\n        }\n\n        logger.info(LOGGER_PREFIX + ' starting')\n        if (this.status === 'active') {\n            this._reportStarted(startReason || 'recording_initialized')\n        }\n    }\n\n    private isInteractiveEvent(event: eventWithTime) {\n        return (\n            event.type === INCREMENTAL_SNAPSHOT_EVENT_TYPE &&\n            ACTIVE_SOURCES.indexOf(event.data?.source as IncrementalSource) !== -1\n        )\n    }\n\n    private _updateWindowAndSessionIds(event: eventWithTime) {\n        // Some recording events are triggered by non-user events (e.g. \"X minutes ago\" text updating on the screen).\n        // We don't want to extend the session or trigger a new session in these cases. These events are designated by event\n        // type -> incremental update, and source -> mutation.\n\n        const isUserInteraction = this.isInteractiveEvent(event)\n\n        if (!isUserInteraction && !this.isIdle) {\n            // We check if the lastActivityTimestamp is old enough to go idle\n            const timeSinceLastActivity = event.timestamp - this._lastActivityTimestamp\n            if (timeSinceLastActivity > this.sessionIdleThresholdMilliseconds) {\n                // we mark as idle right away,\n                // or else we get multiple idle events\n                // if there are lots of non-user activity events being emitted\n                this.isIdle = true\n\n                // don't take full snapshots while idle\n                clearInterval(this._fullSnapshotTimer)\n\n                this._tryAddCustomEvent('sessionIdle', {\n                    eventTimestamp: event.timestamp,\n                    lastActivityTimestamp: this._lastActivityTimestamp,\n                    threshold: this.sessionIdleThresholdMilliseconds,\n                    bufferLength: this.buffer.data.length,\n                    bufferSize: this.buffer.size,\n                })\n\n                // proactively flush the buffer in case the session is idle for a long time\n                this._flushBuffer()\n            }\n        }\n\n        let returningFromIdle = false\n        if (isUserInteraction) {\n            this._lastActivityTimestamp = event.timestamp\n            if (this.isIdle) {\n                // Remove the idle state\n                this.isIdle = false\n                this._tryAddCustomEvent('sessionNoLongerIdle', {\n                    reason: 'user activity',\n                    type: event.type,\n                })\n                returningFromIdle = true\n            }\n        }\n\n        if (this.isIdle) {\n            return\n        }\n\n        // We only want to extend the session if it is an interactive event.\n        const { windowId, sessionId } = this.sessionManager.checkAndGetSessionAndWindowId(\n            !isUserInteraction,\n            event.timestamp\n        )\n\n        const sessionIdChanged = this.sessionId !== sessionId\n        const windowIdChanged = this.windowId !== windowId\n\n        this.windowId = windowId\n        this.sessionId = sessionId\n\n        if (sessionIdChanged || windowIdChanged) {\n            this.stopRecording()\n            this.startIfEnabledOrStop('session_id_changed')\n        } else if (returningFromIdle) {\n            this._scheduleFullSnapshot()\n        }\n    }\n\n    private _tryRRWebMethod(queuedRRWebEvent: QueuedRRWebEvent): boolean {\n        try {\n            queuedRRWebEvent.rrwebMethod()\n            return true\n        } catch (e) {\n            // Sometimes a race can occur where the recorder is not fully started yet\n            if (this.queuedRRWebEvents.length < 10) {\n                this.queuedRRWebEvents.push({\n                    enqueuedAt: queuedRRWebEvent.enqueuedAt || Date.now(),\n                    attempt: queuedRRWebEvent.attempt++,\n                    rrwebMethod: queuedRRWebEvent.rrwebMethod,\n                })\n            } else {\n                logger.warn(LOGGER_PREFIX + ' could not emit queued rrweb event.', e, queuedRRWebEvent)\n            }\n\n            return false\n        }\n    }\n\n    private _tryAddCustomEvent(tag: string, payload: any): boolean {\n        return this._tryRRWebMethod(newQueuedEvent(() => this.rrwebRecord!.addCustomEvent(tag, payload)))\n    }\n\n    private _tryTakeFullSnapshot(): boolean {\n        return this._tryRRWebMethod(newQueuedEvent(() => this.rrwebRecord!.takeFullSnapshot()))\n    }\n\n    private _onScriptLoaded() {\n        // rrweb config info: https://github.com/rrweb-io/rrweb/blob/7d5d0033258d6c29599fb08412202d9a2c7b9413/src/record/index.ts#L28\n        const sessionRecordingOptions: recordOptions = {\n            // select set of rrweb config options we expose to our users\n            // see https://github.com/rrweb-io/rrweb/blob/master/guide.md\n            blockClass: 'ph-no-capture',\n            blockSelector: undefined,\n            ignoreClass: 'ph-ignore-input',\n            maskTextClass: 'ph-mask',\n            maskTextSelector: undefined,\n            maskTextFn: undefined,\n            maskAllInputs: true,\n            maskInputOptions: { password: true },\n            maskInputFn: undefined,\n            slimDOMOptions: {},\n            collectFonts: false,\n            inlineStylesheet: true,\n            recordCrossOriginIframes: false,\n        }\n\n        // only allows user to set our allow-listed options\n        const userSessionRecordingOptions = this.instance.config.session_recording\n        for (const [key, value] of Object.entries(userSessionRecordingOptions || {})) {\n            if (key in sessionRecordingOptions) {\n                if (key === 'maskInputOptions') {\n                    // ensure password is set if not included\n                    sessionRecordingOptions.maskInputOptions = { password: true, ...value }\n                } else {\n                    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n                    // @ts-ignore\n                    sessionRecordingOptions[key] = value\n                }\n            }\n        }\n\n        if (this.canvasRecording && this.canvasRecording.enabled) {\n            sessionRecordingOptions.recordCanvas = true\n            sessionRecordingOptions.sampling = { canvas: this.canvasRecording.fps }\n            sessionRecordingOptions.dataURLOptions = { type: 'image/webp', quality: this.canvasRecording.quality }\n        }\n\n        if (!this.rrwebRecord) {\n            logger.error(\n                LOGGER_PREFIX +\n                    'onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.'\n            )\n            return\n        }\n\n        this.mutationRateLimiter =\n            this.mutationRateLimiter ??\n            new MutationRateLimiter(this.rrwebRecord, {\n                refillRate: this.instance.config.session_recording.__mutationRateLimiterRefillRate,\n                bucketSize: this.instance.config.session_recording.__mutationRateLimiterBucketSize,\n                onBlockedNode: (id, node) => {\n                    const message = `Too many mutations on node '${id}'. Rate limiting. This could be due to SVG animations or something similar`\n                    logger.info(message, {\n                        node: node,\n                    })\n\n                    this.log(LOGGER_PREFIX + ' ' + message, 'warn')\n                },\n            })\n\n        const activePlugins = this._gatherRRWebPlugins()\n        this.stopRrweb = this.rrwebRecord({\n            emit: (event) => {\n                this.onRRwebEmit(event)\n            },\n            plugins: activePlugins,\n            ...sessionRecordingOptions,\n        })\n\n        // We reset the last activity timestamp, resetting the idle timer\n        this._lastActivityTimestamp = Date.now()\n        this.isIdle = false\n\n        this._tryAddCustomEvent('$session_options', {\n            sessionRecordingOptions,\n            activePlugins: activePlugins.map((p) => p?.name),\n        })\n\n        this._tryAddCustomEvent('$posthog_config', {\n            config: this.instance.config,\n        })\n    }\n\n    private _scheduleFullSnapshot(): void {\n        if (this._fullSnapshotTimer) {\n            clearInterval(this._fullSnapshotTimer)\n        }\n        // we don't schedule snapshots while idle\n        if (this.isIdle) {\n            return\n        }\n\n        const interval = this.fullSnapshotIntervalMillis\n        if (!interval) {\n            return\n        }\n\n        this._fullSnapshotTimer = setInterval(() => {\n            this._tryTakeFullSnapshot()\n        }, interval)\n    }\n\n    private _gatherRRWebPlugins() {\n        const plugins: RecordPlugin<unknown>[] = []\n\n        const recordConsolePlugin = assignableWindow.__PosthogExtensions__?.rrwebPlugins?.getRecordConsolePlugin\n        if (recordConsolePlugin && this.isConsoleLogCaptureEnabled) {\n            plugins.push(recordConsolePlugin())\n        }\n\n        const networkPlugin = assignableWindow.__PosthogExtensions__?.rrwebPlugins?.getRecordNetworkPlugin\n        if (this.networkPayloadCapture && isFunction(networkPlugin)) {\n            const canRecordNetwork = !isLocalhost() || this._forceAllowLocalhostNetworkCapture\n\n            if (canRecordNetwork) {\n                plugins.push(\n                    networkPlugin(buildNetworkRequestOptions(this.instance.config, this.networkPayloadCapture))\n                )\n            } else {\n                logger.info(LOGGER_PREFIX + ' NetworkCapture not started because we are on localhost.')\n            }\n        }\n\n        return plugins\n    }\n\n    onRRwebEmit(rawEvent: eventWithTime) {\n        this._processQueuedEvents()\n\n        if (!rawEvent || !isObject(rawEvent)) {\n            return\n        }\n\n        if (rawEvent.type === EventType.Meta) {\n            const href = this._maskUrl(rawEvent.data.href)\n            this._lastHref = href\n            if (!href) {\n                return\n            }\n            rawEvent.data.href = href\n        } else {\n            this._pageViewFallBack()\n        }\n\n        // Check if the URL matches any trigger patterns\n        this._checkUrlTriggerConditions()\n\n        if (this.status === 'paused' && !isRecordingPausedEvent(rawEvent)) {\n            return\n        }\n\n        // we're processing a full snapshot, so we should reset the timer\n        if (rawEvent.type === EventType.FullSnapshot) {\n            this._scheduleFullSnapshot()\n        }\n\n        // Clear the buffer if waiting for a trigger, and only keep data from after the current full snapshot\n        if (rawEvent.type === EventType.FullSnapshot && this.triggerStatus === 'trigger_pending') {\n            this.clearBuffer()\n        }\n\n        const throttledEvent = this.mutationRateLimiter\n            ? this.mutationRateLimiter.throttleMutations(rawEvent)\n            : rawEvent\n\n        if (!throttledEvent) {\n            return\n        }\n\n        // TODO: Re-add ensureMaxMessageSize once we are confident in it\n        const event = truncateLargeConsoleLogs(throttledEvent)\n\n        this._updateWindowAndSessionIds(event)\n\n        // When in an idle state we keep recording, but don't capture the events,\n        if (this.isIdle && !isSessionIdleEvent(event)) {\n            return\n        }\n\n        if (isSessionIdleEvent(event)) {\n            // session idle events have a timestamp when rrweb sees them\n            // which can artificially lengthen a session\n            // we know when we detected it based on the payload and can correct the timestamp\n            const payload = event.data.payload as SessionIdlePayload\n            if (payload) {\n                const lastActivity = payload.lastActivityTimestamp\n                const threshold = payload.threshold\n                event.timestamp = lastActivity + threshold\n            }\n        }\n\n        const eventToSend =\n            this.instance.config.session_recording.compress_events ?? true ? compressEvent(event) : event\n        const size = estimateSize(eventToSend)\n\n        const properties = {\n            $snapshot_bytes: size,\n            $snapshot_data: eventToSend,\n            $session_id: this.sessionId,\n            $window_id: this.windowId,\n        }\n\n        if (this.status === 'disabled') {\n            this.clearBuffer()\n            return\n        }\n\n        this._captureSnapshotBuffered(properties)\n    }\n\n    private _pageViewFallBack() {\n        if (this.instance.config.capture_pageview || !window) {\n            return\n        }\n        const currentUrl = this._maskUrl(window.location.href)\n        if (this._lastHref !== currentUrl) {\n            this._tryAddCustomEvent('$url_changed', { href: currentUrl })\n            this._lastHref = currentUrl\n        }\n    }\n\n    private _processQueuedEvents() {\n        if (this.queuedRRWebEvents.length) {\n            // if rrweb isn't ready to accept events earlier then we queued them up\n            // now that emit has been called rrweb should be ready to accept them\n            // so, before we process this event, we try our queued events _once_ each\n            // we don't want to risk queuing more things and never exiting this loop!\n            // if they fail here, they'll be pushed into a new queue,\n            // and tried on the next loop.\n            // there is a risk of this queue growing in an uncontrolled manner,\n            // so its length is limited elsewhere\n            // for now this is to help us ensure we can capture events that happen\n            // and try to identify more about when it is failing\n            const itemsToProcess = [...this.queuedRRWebEvents]\n            this.queuedRRWebEvents = []\n            itemsToProcess.forEach((queuedRRWebEvent) => {\n                if (Date.now() - queuedRRWebEvent.enqueuedAt <= TWO_SECONDS) {\n                    this._tryRRWebMethod(queuedRRWebEvent)\n                }\n            })\n        }\n    }\n\n    private _maskUrl(url: string): string | undefined {\n        const userSessionRecordingOptions = this.instance.config.session_recording\n\n        if (userSessionRecordingOptions.maskNetworkRequestFn) {\n            let networkRequest: NetworkRequest | null | undefined = {\n                url,\n            }\n\n            // TODO we should deprecate this and use the same function for this masking and the rrweb/network plugin\n            // TODO or deprecate this and provide a new clearer name so this would be `maskURLPerformanceFn` or similar\n            networkRequest = userSessionRecordingOptions.maskNetworkRequestFn(networkRequest)\n\n            return networkRequest?.url\n        }\n\n        return url\n    }\n\n    private clearBuffer(): SnapshotBuffer {\n        this.buffer = {\n            size: 0,\n            data: [],\n            sessionId: this.sessionId,\n            windowId: this.windowId,\n        }\n        return this.buffer\n    }\n\n    private _flushBuffer(): SnapshotBuffer {\n        if (this.flushBufferTimer) {\n            clearTimeout(this.flushBufferTimer)\n            this.flushBufferTimer = undefined\n        }\n\n        const minimumDuration = this.minimumDuration\n        const sessionDuration = this.sessionDuration\n        // if we have old data in the buffer but the session has rotated then the\n        // session duration might be negative, in that case we want to flush the buffer\n        const isPositiveSessionDuration = isNumber(sessionDuration) && sessionDuration >= 0\n        const isBelowMinimumDuration =\n            isNumber(minimumDuration) && isPositiveSessionDuration && sessionDuration < minimumDuration\n\n        if (this.status === 'buffering' || isBelowMinimumDuration) {\n            this.flushBufferTimer = setTimeout(() => {\n                this._flushBuffer()\n            }, RECORDING_BUFFER_TIMEOUT)\n            return this.buffer\n        }\n\n        if (this.buffer.data.length > 0) {\n            const snapshotEvents = splitBuffer(this.buffer)\n            snapshotEvents.forEach((snapshotBuffer) => {\n                this._captureSnapshot({\n                    $snapshot_bytes: snapshotBuffer.size,\n                    $snapshot_data: snapshotBuffer.data,\n                    $session_id: snapshotBuffer.sessionId,\n                    $window_id: snapshotBuffer.windowId,\n                })\n            })\n        }\n\n        // buffer is empty, we clear it in case the session id has changed\n        return this.clearBuffer()\n    }\n\n    private _captureSnapshotBuffered(properties: Properties) {\n        const additionalBytes = 2 + (this.buffer?.data.length || 0) // 2 bytes for the array brackets and 1 byte for each comma\n        if (\n            !this.isIdle && // we never want to flush when idle\n            (this.buffer.size + properties.$snapshot_bytes + additionalBytes > RECORDING_MAX_EVENT_SIZE ||\n                this.buffer.sessionId !== this.sessionId)\n        ) {\n            this.buffer = this._flushBuffer()\n        }\n\n        this.buffer.size += properties.$snapshot_bytes\n        this.buffer.data.push(properties.$snapshot_data)\n\n        if (!this.flushBufferTimer && !this.isIdle) {\n            this.flushBufferTimer = setTimeout(() => {\n                this._flushBuffer()\n            }, RECORDING_BUFFER_TIMEOUT)\n        }\n    }\n\n    private _captureSnapshot(properties: Properties) {\n        // :TRICKY: Make sure we batch these requests, use a custom endpoint and don't truncate the strings.\n        this.instance.capture('$snapshot', properties, {\n            _url: this.instance.requestRouter.endpointFor('api', this._endpoint),\n            _noTruncate: true,\n            _batchKey: SESSION_RECORDING_BATCH_KEY,\n            skip_client_rate_limiting: true,\n        })\n    }\n\n    private _checkUrlTriggerConditions() {\n        if (typeof window === 'undefined' || !window.location.href) {\n            return\n        }\n\n        const url = window.location.href\n\n        const wasBlocked = this.status === 'paused'\n        const isNowBlocked = sessionRecordingUrlTriggerMatches(url, this._urlBlocklist)\n\n        if (isNowBlocked && !wasBlocked) {\n            this._pauseRecording()\n        } else if (!isNowBlocked && wasBlocked) {\n            this._resumeRecording()\n        }\n\n        if (sessionRecordingUrlTriggerMatches(url, this._urlTriggers)) {\n            this._activateTrigger('url')\n        }\n    }\n\n    private _activateTrigger(triggerType: TriggerType) {\n        if (this.triggerStatus === 'trigger_pending') {\n            // status is stored separately for URL and event triggers\n            this.instance?.persistence?.register({\n                [triggerType === 'url'\n                    ? SESSION_RECORDING_URL_TRIGGER_ACTIVATED_SESSION\n                    : SESSION_RECORDING_EVENT_TRIGGER_ACTIVATED_SESSION]: this.sessionId,\n            })\n\n            this._flushBuffer()\n            this._reportStarted((triggerType + '_trigger_matched') as SessionStartReason)\n        }\n    }\n\n    private _pauseRecording() {\n        if (this.status === 'paused') {\n            return\n        }\n\n        this._urlBlocked = true\n        document?.body?.classList?.add('ph-no-capture')\n\n        // Clear the snapshot timer since we don't want new snapshots while paused\n        clearInterval(this._fullSnapshotTimer)\n\n        // Running this in a timeout to ensure we can\n        setTimeout(() => {\n            this._flushBuffer()\n        }, 100)\n\n        logger.info(LOGGER_PREFIX + ' recording paused due to URL blocker')\n        this._tryAddCustomEvent('recording paused', { reason: 'url blocker' })\n    }\n\n    private _resumeRecording() {\n        if (this.status !== 'paused') {\n            return\n        }\n\n        this._urlBlocked = false\n        document?.body?.classList?.remove('ph-no-capture')\n\n        this._tryTakeFullSnapshot()\n        this._scheduleFullSnapshot()\n\n        this._tryAddCustomEvent('recording resumed', { reason: 'left blocked url' })\n        logger.info(LOGGER_PREFIX + ' recording resumed')\n    }\n\n    private _addEventTriggerListener() {\n        if (this._eventTriggers.length === 0 || !isNullish(this._removeEventTriggerCaptureHook)) {\n            return\n        }\n\n        this._removeEventTriggerCaptureHook = this.instance.on('eventCaptured', (event: CaptureResult) => {\n            // If anything could go wrong here it has the potential to block the main loop,\n            // so we catch all errors.\n            try {\n                if (this._eventTriggers.includes(event.event)) {\n                    this._activateTrigger('event')\n                }\n            } catch (e) {\n                logger.error(LOGGER_PREFIX + 'Could not activate event trigger', e)\n            }\n        })\n    }\n\n    /**\n     * this ignores the linked flag config and (if other conditions are met) causes capture to start\n     *\n     * It is not usual to call this directly,\n     * instead call `posthog.startSessionRecording({linked_flag: true})`\n     * */\n    public overrideLinkedFlag() {\n        this._linkedFlagSeen = true\n        this._reportStarted('linked_flag_overridden')\n    }\n\n    /**\n     * this ignores the sampling config and (if other conditions are met) causes capture to start\n     *\n     * It is not usual to call this directly,\n     * instead call `posthog.startSessionRecording({sampling: true})`\n     * */\n    public overrideSampling() {\n        this.instance.persistence?.register({\n            // short-circuits the `makeSamplingDecision` function in the session recording module\n            [SESSION_RECORDING_IS_SAMPLED]: true,\n        })\n        this._reportStarted('sampling_overridden')\n    }\n\n    /**\n     * this ignores the URL/Event trigger config and (if other conditions are met) causes capture to start\n     *\n     * It is not usual to call this directly,\n     * instead call `posthog.startSessionRecording({trigger: 'url' | 'event'})`\n     * */\n    public overrideTrigger(triggerType: TriggerType) {\n        this._activateTrigger(triggerType)\n    }\n\n    private _reportStarted(startReason: SessionStartReason, tagPayload?: Record<string, any>) {\n        this.instance.register_for_session({\n            $session_recording_start_reason: startReason,\n        })\n        logger.info(LOGGER_PREFIX + ' ' + startReason.replace('_', ' '), tagPayload)\n        if (!includes(['recording_initialized', 'session_id_changed'], startReason)) {\n            this._tryAddCustomEvent(startReason, tagPayload)\n        }\n    }\n}\n","import { PostHog } from './posthog-core'\nimport { Compression, DecideResponse } from './types'\nimport { STORED_GROUP_PROPERTIES_KEY, STORED_PERSON_PROPERTIES_KEY } from './constants'\n\nimport { logger } from './utils/logger'\nimport { document, assignableWindow } from './utils/globals'\n\nexport class Decide {\n    constructor(private readonly instance: PostHog) {\n        // don't need to wait for `decide` to return if flags were provided on initialisation\n        this.instance.decideEndpointWasHit = this.instance._hasBootstrappedFeatureFlags()\n    }\n\n    call(): void {\n        /*\n        Calls /decide endpoint to fetch options for autocapture, session recording, feature flags & compression.\n        */\n        const data = {\n            token: this.instance.config.token,\n            distinct_id: this.instance.get_distinct_id(),\n            groups: this.instance.getGroups(),\n            person_properties: this.instance.get_property(STORED_PERSON_PROPERTIES_KEY),\n            group_properties: this.instance.get_property(STORED_GROUP_PROPERTIES_KEY),\n            disable_flags:\n                this.instance.config.advanced_disable_feature_flags ||\n                this.instance.config.advanced_disable_feature_flags_on_first_load ||\n                undefined,\n        }\n\n        this.instance._send_request({\n            method: 'POST',\n            url: this.instance.requestRouter.endpointFor('api', '/decide/?v=3'),\n            data,\n            compression: this.instance.config.disable_compression ? undefined : Compression.Base64,\n            timeout: this.instance.config.feature_flag_request_timeout_ms,\n            callback: (response) => this.parseDecideResponse(response.json as DecideResponse | undefined),\n        })\n    }\n\n    parseDecideResponse(response?: DecideResponse): void {\n        this.instance.featureFlags.setReloadingPaused(false)\n        // :TRICKY: Reload - start another request if queued!\n        this.instance.featureFlags._startReloadTimer()\n\n        const errorsLoading = !response\n\n        if (\n            !this.instance.config.advanced_disable_feature_flags_on_first_load &&\n            !this.instance.config.advanced_disable_feature_flags\n        ) {\n            this.instance.featureFlags.receivedFeatureFlags(response ?? {}, errorsLoading)\n        }\n\n        if (errorsLoading) {\n            logger.error('Failed to fetch feature flags from PostHog.')\n            return\n        }\n        if (!(document && document.body)) {\n            logger.info('document not ready yet, trying again in 500 milliseconds...')\n            setTimeout(() => {\n                this.parseDecideResponse(response)\n            }, 500)\n            return\n        }\n\n        this.instance._afterDecideResponse(response)\n\n        if (response['siteApps']) {\n            if (this.instance.config.opt_in_site_apps) {\n                for (const { id, url } of response['siteApps']) {\n                    assignableWindow[`__$$ph_site_app_${id}`] = this.instance\n                    assignableWindow.__PosthogExtensions__?.loadSiteApp?.(this.instance, url, (err) => {\n                        if (err) {\n                            return logger.error(`Error while initializing PostHog app with config id ${id}`, err)\n                        }\n                    })\n                }\n            } else if (response['siteApps'].length > 0) {\n                logger.error('PostHog site apps are disabled. Enable the \"opt_in_site_apps\" config to proceed.')\n            }\n        }\n    }\n}\n","import { registerEvent, trySafe } from '../utils'\nimport { PostHog } from '../posthog-core'\nimport { ToolbarParams } from '../types'\nimport { _getHashParam } from '../utils/request-utils'\nimport { logger } from '../utils/logger'\nimport { window, document, assignableWindow } from '../utils/globals'\nimport { TOOLBAR_ID } from '../constants'\n\n// TRICKY: Many web frameworks will modify the route on load, potentially before posthog is initialized.\n// To get ahead of this we grab it as soon as the posthog-js is parsed\nconst STATE_FROM_WINDOW = window?.location\n    ? _getHashParam(window.location.hash, '__posthog') || _getHashParam(location.hash, 'state')\n    : null\n\nconst LOCALSTORAGE_KEY = '_postHogToolbarParams'\n\nenum ToolbarState {\n    UNINITIALIZED = 0,\n    LOADING = 1,\n    LOADED = 2,\n}\n\nexport class Toolbar {\n    instance: PostHog\n\n    constructor(instance: PostHog) {\n        this.instance = instance\n    }\n\n    // NOTE: We store the state of the toolbar in the global scope to avoid multiple instances of the SDK loading the toolbar\n    private setToolbarState(state: ToolbarState) {\n        assignableWindow['ph_toolbar_state'] = state\n    }\n\n    private getToolbarState(): ToolbarState {\n        return assignableWindow['ph_toolbar_state'] ?? ToolbarState.UNINITIALIZED\n    }\n\n    /**\n     * To load the toolbar, we need an access token and other state. That state comes from one of three places:\n     * 1. In the URL hash params\n     * 2. From session storage under the key `toolbarParams` if the toolbar was initialized on a previous page\n     */\n    maybeLoadToolbar(\n        location: Location | undefined = undefined,\n        localStorage: Storage | undefined = undefined,\n        history: History | undefined = undefined\n    ): boolean {\n        if (!window || !document) {\n            return false\n        }\n        location = location ?? window.location\n        history = history ?? window.history\n\n        try {\n            // Before running the code we check if we can access localStorage, if not we opt-out\n            if (!localStorage) {\n                try {\n                    window.localStorage.setItem('test', 'test')\n                    window.localStorage.removeItem('test')\n                } catch {\n                    return false\n                }\n\n                // If localStorage was undefined, and localStorage is supported we set the default value\n                localStorage = window?.localStorage\n            }\n\n            /**\n             * Info about the state\n             * The state is a json object\n             * 1. (Legacy) The state can be `state={}` as a urlencoded object of info. In this case\n             * 2. The state should now be found in `__posthog={}` and can be base64 encoded or urlencoded.\n             * 3. Base64 encoding is preferred and will gradually be rolled out everywhere\n             */\n\n            const stateHash =\n                STATE_FROM_WINDOW || _getHashParam(location.hash, '__posthog') || _getHashParam(location.hash, 'state')\n\n            let toolbarParams: ToolbarParams\n            const state = stateHash\n                ? trySafe(() => JSON.parse(atob(decodeURIComponent(stateHash)))) ||\n                  trySafe(() => JSON.parse(decodeURIComponent(stateHash)))\n                : null\n\n            const parseFromUrl = state && state['action'] === 'ph_authorize'\n\n            if (parseFromUrl) {\n                // happens if they are initializing the toolbar using an old snippet\n                toolbarParams = state\n                toolbarParams.source = 'url'\n\n                if (toolbarParams && Object.keys(toolbarParams).length > 0) {\n                    if (state['desiredHash']) {\n                        // hash that was in the url before the redirect\n                        location.hash = state['desiredHash']\n                    } else if (history) {\n                        // second param is unused see https://developer.mozilla.org/en-US/docs/Web/API/History/replaceState\n                        history.replaceState(history.state, '', location.pathname + location.search) // completely remove hash\n                    } else {\n                        location.hash = '' // clear hash (but leaves # unfortunately)\n                    }\n                }\n            } else {\n                // get credentials from localStorage from a previous initialization\n\n                toolbarParams = JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY) || '{}')\n                toolbarParams.source = 'localstorage'\n\n                // delete \"add-action\" or other intent from toolbarParams, otherwise we'll have the same intent\n                // every time we open the page (e.g. you just visiting your own site an hour later)\n                delete toolbarParams.userIntent\n            }\n\n            if (toolbarParams['token'] && this.instance.config.token === toolbarParams['token']) {\n                this.loadToolbar(toolbarParams)\n                return true\n            } else {\n                return false\n            }\n        } catch {\n            return false\n        }\n    }\n\n    private _callLoadToolbar(params: ToolbarParams) {\n        ;(assignableWindow['ph_load_toolbar'] || assignableWindow['ph_load_editor'])(params, this.instance)\n    }\n\n    loadToolbar(params?: ToolbarParams): boolean {\n        const toolbarRunning = !!document?.getElementById(TOOLBAR_ID)\n\n        if (!window || toolbarRunning) {\n            // The toolbar will clear the localStorage key when it's done with it. If it is present that indicates the toolbar is already open and running\n            return false\n        }\n\n        const disableToolbarMetrics =\n            this.instance.requestRouter.region === 'custom' && this.instance.config.advanced_disable_toolbar_metrics\n\n        const toolbarParams = {\n            token: this.instance.config.token,\n            ...params,\n            apiURL: this.instance.requestRouter.endpointFor('ui'),\n            ...(disableToolbarMetrics ? { instrument: false } : {}),\n        }\n        window.localStorage.setItem(\n            LOCALSTORAGE_KEY,\n            JSON.stringify({\n                ...toolbarParams,\n                source: undefined,\n            })\n        )\n\n        if (this.getToolbarState() === ToolbarState.LOADED) {\n            this._callLoadToolbar(toolbarParams)\n        } else if (this.getToolbarState() === ToolbarState.UNINITIALIZED) {\n            // only load the toolbar once, even if there are multiple instances of PostHogLib\n            this.setToolbarState(ToolbarState.LOADING)\n\n            assignableWindow.__PosthogExtensions__?.loadExternalDependency?.(this.instance, 'toolbar', (err) => {\n                if (err) {\n                    logger.error('Failed to load toolbar', err)\n                    this.setToolbarState(ToolbarState.UNINITIALIZED)\n                    return\n                }\n                this.setToolbarState(ToolbarState.LOADED)\n                this._callLoadToolbar(toolbarParams)\n            })\n\n            // Turbolinks doesn't fire an onload event but does replace the entire body, including the toolbar.\n            // Thus, we ensure the toolbar is only loaded inside the body, and then reloaded on turbolinks:load.\n            registerEvent(window, 'turbolinks:load', () => {\n                this.setToolbarState(ToolbarState.UNINITIALIZED)\n                this.loadToolbar(toolbarParams)\n            })\n        }\n\n        return true\n    }\n\n    /** @deprecated Use \"loadToolbar\" instead. */\n    _loadEditor(params: ToolbarParams): boolean {\n        return this.loadToolbar(params)\n    }\n\n    /** @deprecated Use \"maybeLoadToolbar\" instead. */\n    maybeLoadEditor(\n        location: Location | undefined = undefined,\n        localStorage: Storage | undefined = undefined,\n        history: History | undefined = undefined\n    ): boolean {\n        return this.maybeLoadToolbar(location, localStorage, history)\n    }\n}\n","import { QueuedRequestOptions } from './types'\nimport { each } from './utils'\n\nimport { isArray, isUndefined } from './utils/type-utils'\n\nexport class RequestQueue {\n    // We start in a paused state and only start flushing when enabled by the parent\n    private isPaused: boolean = true\n    private queue: QueuedRequestOptions[] = []\n    private flushTimeout?: ReturnType<typeof setTimeout>\n    private flushTimeoutMs = 3000\n    private sendRequest: (req: QueuedRequestOptions) => void\n\n    constructor(sendRequest: (req: QueuedRequestOptions) => void) {\n        this.sendRequest = sendRequest\n    }\n\n    enqueue(req: QueuedRequestOptions): void {\n        this.queue.push(req)\n\n        if (!this.flushTimeout) {\n            this.setFlushTimeout()\n        }\n    }\n\n    unload(): void {\n        this.clearFlushTimeout()\n        const requests = this.queue.length > 0 ? this.formatQueue() : {}\n        const requestValues = Object.values(requests)\n\n        // Always force events to be sent before recordings, as events are more important, and recordings are bigger and thus less likely to arrive\n        const sortedRequests = [\n            ...requestValues.filter((r) => r.url.indexOf('/e') === 0),\n            ...requestValues.filter((r) => r.url.indexOf('/e') !== 0),\n        ]\n        sortedRequests.map((req) => {\n            this.sendRequest({ ...req, transport: 'sendBeacon' })\n        })\n    }\n\n    enable(): void {\n        this.isPaused = false\n        this.setFlushTimeout()\n    }\n\n    private setFlushTimeout(): void {\n        if (this.isPaused) {\n            return\n        }\n        this.flushTimeout = setTimeout(() => {\n            this.clearFlushTimeout()\n            if (this.queue.length > 0) {\n                const requests = this.formatQueue()\n                for (const key in requests) {\n                    const req = requests[key]\n                    const now = new Date().getTime()\n\n                    if (req.data && isArray(req.data)) {\n                        each(req.data, (data) => {\n                            data['offset'] = Math.abs(data['timestamp'] - now)\n                            delete data['timestamp']\n                        })\n                    }\n                    this.sendRequest(req)\n                }\n            }\n        }, this.flushTimeoutMs)\n    }\n\n    private clearFlushTimeout(): void {\n        clearTimeout(this.flushTimeout)\n        this.flushTimeout = undefined\n    }\n\n    private formatQueue(): Record<string, QueuedRequestOptions> {\n        const requests: Record<string, QueuedRequestOptions> = {}\n        each(this.queue, (request: QueuedRequestOptions) => {\n            const req = request\n            const key = (req ? req.batchKey : null) || req.url\n            if (isUndefined(requests[key])) {\n                // TODO: What about this -it seems to batch data into an array - do we always want that?\n                requests[key] = { ...req, data: [] }\n            }\n\n            requests[key].data?.push(req.data)\n        })\n\n        this.queue = []\n        return requests\n    }\n}\n","import { _base64Encode, each, find } from './utils'\nimport Config from './config'\nimport { Compression, RequestOptions, RequestResponse } from './types'\nimport { formDataToQuery } from './utils/request-utils'\n\nimport { logger } from './utils/logger'\nimport { AbortController, fetch, navigator, XMLHttpRequest } from './utils/globals'\nimport { gzipSync, strToU8 } from 'fflate'\n\n// eslint-disable-next-line compat/compat\nexport const SUPPORTS_REQUEST = !!XMLHttpRequest || !!fetch\n\nconst CONTENT_TYPE_PLAIN = 'text/plain'\nconst CONTENT_TYPE_JSON = 'application/json'\nconst CONTENT_TYPE_FORM = 'application/x-www-form-urlencoded'\nconst SIXTY_FOUR_KILOBYTES = 64 * 1024\n/*\n fetch will fail if we request keepalive with a body greater than 64kb\n sets the threshold lower than that so that\n any overhead doesn't push over the threshold after checking here\n*/\nconst KEEP_ALIVE_THRESHOLD = SIXTY_FOUR_KILOBYTES * 0.8\ntype EncodedBody = {\n    contentType: string\n    body: string | BlobPart\n    estimatedSize: number\n}\n\nexport const extendURLParams = (url: string, params: Record<string, any>): string => {\n    const [baseUrl, search] = url.split('?')\n    const newParams = { ...params }\n\n    search?.split('&').forEach((pair) => {\n        const [key] = pair.split('=')\n        delete newParams[key]\n    })\n\n    let newSearch = formDataToQuery(newParams)\n    newSearch = newSearch ? (search ? search + '&' : '') + newSearch : search\n\n    return `${baseUrl}?${newSearch}`\n}\n\nconst encodeToDataString = (data: string | Record<string, any>): string => {\n    return 'data=' + encodeURIComponent(typeof data === 'string' ? data : JSON.stringify(data))\n}\n\nconst encodePostData = ({ data, compression }: RequestOptions): EncodedBody | undefined => {\n    if (!data) {\n        return\n    }\n\n    if (compression === Compression.GZipJS) {\n        const gzipData = gzipSync(strToU8(JSON.stringify(data)), { mtime: 0 })\n        const blob = new Blob([gzipData], { type: CONTENT_TYPE_PLAIN })\n        return {\n            contentType: CONTENT_TYPE_PLAIN,\n            body: blob,\n            estimatedSize: blob.size,\n        }\n    }\n\n    if (compression === Compression.Base64) {\n        const b64data = _base64Encode(JSON.stringify(data))\n        const encodedBody = encodeToDataString(b64data)\n\n        return {\n            contentType: CONTENT_TYPE_FORM,\n            body: encodedBody,\n            estimatedSize: new Blob([encodedBody]).size,\n        }\n    }\n\n    const jsonBody = JSON.stringify(data)\n    return {\n        contentType: CONTENT_TYPE_JSON,\n        body: jsonBody,\n        estimatedSize: new Blob([jsonBody]).size,\n    }\n}\n\nconst xhr = (options: RequestOptions) => {\n    const req = new XMLHttpRequest!()\n    req.open(options.method || 'GET', options.url, true)\n    const { contentType, body } = encodePostData(options) ?? {}\n\n    each(options.headers, function (headerValue, headerName) {\n        req.setRequestHeader(headerName, headerValue)\n    })\n\n    if (contentType) {\n        req.setRequestHeader('Content-Type', contentType)\n    }\n\n    if (options.timeout) {\n        req.timeout = options.timeout\n    }\n    // send the ph_optout cookie\n    // withCredentials cannot be modified until after calling .open on Android and Mobile Safari\n    req.withCredentials = true\n    req.onreadystatechange = () => {\n        // XMLHttpRequest.DONE == 4, except in safari 4\n        if (req.readyState === 4) {\n            const response: RequestResponse = {\n                statusCode: req.status,\n                text: req.responseText,\n            }\n            if (req.status === 200) {\n                try {\n                    response.json = JSON.parse(req.responseText)\n                } catch {\n                    // logger.error(e)\n                }\n            }\n\n            options.callback?.(response)\n        }\n    }\n    req.send(body)\n}\n\nconst _fetch = (options: RequestOptions) => {\n    const { contentType, body, estimatedSize } = encodePostData(options) ?? {}\n\n    // eslint-disable-next-line compat/compat\n    const headers = new Headers()\n    each(options.headers, function (headerValue, headerName) {\n        headers.append(headerName, headerValue)\n    })\n\n    if (contentType) {\n        headers.append('Content-Type', contentType)\n    }\n\n    const url = options.url\n    let aborter: { signal: any; timeout: ReturnType<typeof setTimeout> } | null = null\n\n    if (AbortController) {\n        const controller = new AbortController()\n        aborter = {\n            signal: controller.signal,\n            timeout: setTimeout(() => controller.abort(), options.timeout),\n        }\n    }\n\n    fetch!(url, {\n        method: options?.method || 'GET',\n        headers,\n        // if body is greater than 64kb, then fetch with keepalive will error\n        // see 8:10:5 at https://fetch.spec.whatwg.org/#http-network-or-cache-fetch,\n        // but we do want to set keepalive sometimes as it can  help with success\n        // when e.g. a page is being closed\n        // so let's get the best of both worlds and only set keepalive for POST requests\n        // where the body is less than 64kb\n        // NB this is fetch keepalive and not http keepalive\n        keepalive: options.method === 'POST' && (estimatedSize || 0) < KEEP_ALIVE_THRESHOLD,\n        body,\n        signal: aborter?.signal,\n    })\n        .then((response) => {\n            return response.text().then((responseText) => {\n                const res: RequestResponse = {\n                    statusCode: response.status,\n                    text: responseText,\n                }\n\n                if (response.status === 200) {\n                    try {\n                        res.json = JSON.parse(responseText)\n                    } catch (e) {\n                        logger.error(e)\n                    }\n                }\n\n                options.callback?.(res)\n            })\n        })\n        .catch((error) => {\n            logger.error(error)\n            options.callback?.({ statusCode: 0, text: error })\n        })\n        .finally(() => (aborter ? clearTimeout(aborter.timeout) : null))\n\n    return\n}\n\nconst _sendBeacon = (options: RequestOptions) => {\n    // beacon documentation https://w3c.github.io/beacon/\n    // beacons format the message and use the type property\n\n    const url = extendURLParams(options.url, {\n        beacon: '1',\n    })\n\n    try {\n        const { contentType, body } = encodePostData(options) ?? {}\n        // sendBeacon requires a blob so we convert it\n        const sendBeaconBody = typeof body === 'string' ? new Blob([body], { type: contentType }) : body\n        navigator!.sendBeacon!(url, sendBeaconBody)\n    } catch {\n        // send beacon is a best-effort, fire-and-forget mechanism on page unload,\n        // we don't want to throw errors here\n    }\n}\n\nconst AVAILABLE_TRANSPORTS: { transport: RequestOptions['transport']; method: (options: RequestOptions) => void }[] = []\n\n// We add the transports in order of preference\n\nif (XMLHttpRequest) {\n    AVAILABLE_TRANSPORTS.push({\n        transport: 'XHR',\n        method: xhr,\n    })\n}\n\nif (fetch) {\n    AVAILABLE_TRANSPORTS.push({\n        transport: 'fetch',\n        method: _fetch,\n    })\n}\n\nif (navigator?.sendBeacon) {\n    AVAILABLE_TRANSPORTS.push({\n        transport: 'sendBeacon',\n        method: _sendBeacon,\n    })\n}\n\n// This is the entrypoint. It takes care of sanitizing the options and then calls the appropriate request method.\nexport const request = (_options: RequestOptions) => {\n    // Clone the options so we don't modify the original object\n    const options = { ..._options }\n    options.timeout = options.timeout || 60000\n\n    options.url = extendURLParams(options.url, {\n        _: new Date().getTime().toString(),\n        ver: Config.LIB_VERSION,\n        compression: options.compression,\n    })\n\n    const transport = options.transport ?? 'XHR'\n\n    const transportMethod =\n        find(AVAILABLE_TRANSPORTS, (t) => t.transport === transport)?.method ?? AVAILABLE_TRANSPORTS[0].method\n\n    if (!transportMethod) {\n        throw new Error('No available transport method')\n    }\n\n    transportMethod(options)\n}\n","import { RetriableRequestOptions } from './types'\n\nimport { isNumber, isUndefined } from './utils/type-utils'\nimport { logger } from './utils/logger'\nimport { window } from './utils/globals'\nimport { PostHog } from './posthog-core'\nimport { extendURLParams } from './request'\n\nconst thirtyMinutes = 30 * 60 * 1000\n\n/**\n * Generates a jitter-ed exponential backoff delay in milliseconds\n *\n * The base value is 6 seconds, which is doubled with each retry\n * up to the maximum of 30 minutes\n *\n * Each value then has +/- 50% jitter\n *\n * Giving a range of 6 seconds up to 45 minutes\n */\nexport function pickNextRetryDelay(retriesPerformedSoFar: number): number {\n    const rawBackoffTime = 3000 * 2 ** retriesPerformedSoFar\n    const minBackoff = rawBackoffTime / 2\n    const cappedBackoffTime = Math.min(thirtyMinutes, rawBackoffTime)\n    const jitterFraction = Math.random() - 0.5 // A random number between -0.5 and 0.5\n    const jitter = jitterFraction * (cappedBackoffTime - minBackoff)\n    return Math.ceil(cappedBackoffTime + jitter)\n}\n\ninterface RetryQueueElement {\n    retryAt: number\n    requestOptions: RetriableRequestOptions\n}\n\nexport class RetryQueue {\n    private isPolling: boolean = false // flag to continue to recursively poll or not\n    private poller: number | undefined // to become interval for reference to clear later\n    private pollIntervalMs: number = 3000\n    private queue: RetryQueueElement[] = []\n    private areWeOnline: boolean\n\n    constructor(private instance: PostHog) {\n        this.queue = []\n        this.areWeOnline = true\n\n        if (!isUndefined(window) && 'onLine' in window.navigator) {\n            this.areWeOnline = window.navigator.onLine\n            window.addEventListener('online', () => {\n                this.areWeOnline = true\n                this.flush()\n            })\n            window.addEventListener('offline', () => {\n                this.areWeOnline = false\n            })\n        }\n    }\n\n    retriableRequest({ retriesPerformedSoFar, ...options }: RetriableRequestOptions): void {\n        if (isNumber(retriesPerformedSoFar) && retriesPerformedSoFar > 0) {\n            options.url = extendURLParams(options.url, { retry_count: retriesPerformedSoFar })\n        }\n\n        this.instance._send_request({\n            ...options,\n            callback: (response) => {\n                if (response.statusCode !== 200 && (response.statusCode < 400 || response.statusCode >= 500)) {\n                    if ((retriesPerformedSoFar ?? 0) < 10) {\n                        this.enqueue({\n                            retriesPerformedSoFar,\n                            ...options,\n                        })\n                        return\n                    }\n                }\n\n                options.callback?.(response)\n            },\n        })\n    }\n\n    private enqueue(requestOptions: RetriableRequestOptions): void {\n        const retriesPerformedSoFar = requestOptions.retriesPerformedSoFar || 0\n        requestOptions.retriesPerformedSoFar = retriesPerformedSoFar + 1\n\n        const msToNextRetry = pickNextRetryDelay(retriesPerformedSoFar)\n        const retryAt = Date.now() + msToNextRetry\n\n        this.queue.push({ retryAt, requestOptions })\n\n        let logMessage = `Enqueued failed request for retry in ${msToNextRetry}`\n        if (!navigator.onLine) {\n            logMessage += ' (Browser is offline)'\n        }\n        logger.warn(logMessage)\n\n        if (!this.isPolling) {\n            this.isPolling = true\n            this.poll()\n        }\n    }\n\n    private poll(): void {\n        this.poller && clearTimeout(this.poller)\n        this.poller = setTimeout(() => {\n            if (this.areWeOnline && this.queue.length > 0) {\n                this.flush()\n            }\n            this.poll()\n        }, this.pollIntervalMs) as any as number\n    }\n\n    private flush(): void {\n        const now = Date.now()\n        const notToFlush: RetryQueueElement[] = []\n        const toFlush = this.queue.filter((item) => {\n            if (item.retryAt < now) {\n                return true\n            }\n            notToFlush.push(item)\n            return false\n        })\n\n        this.queue = notToFlush\n\n        if (toFlush.length > 0) {\n            for (const { requestOptions } of toFlush) {\n                this.retriableRequest(requestOptions)\n            }\n        }\n    }\n\n    unload(): void {\n        if (this.poller) {\n            clearTimeout(this.poller)\n            this.poller = undefined\n        }\n\n        for (const { requestOptions } of this.queue) {\n            try {\n                // we've had send beacon in place for at least 2 years\n                // eslint-disable-next-line compat/compat\n                this.instance._send_request({\n                    ...requestOptions,\n                    transport: 'sendBeacon',\n                })\n            } catch (e) {\n                // Note sendBeacon automatically retries, and after the first retry it will lose reference to contextual `this`.\n                // This means in some cases `this.getConfig` will be undefined.\n                logger.error(e)\n            }\n        }\n        this.queue = []\n    }\n}\n","import { PostHogPersistence } from './posthog-persistence'\nimport { SESSION_ID } from './constants'\nimport { sessionStore } from './storage'\nimport { PostHogConfig, SessionIdChangedCallback } from './types'\nimport { uuid7ToTimestampMs, uuidv7 } from './uuidv7'\nimport { window } from './utils/globals'\n\nimport { isArray, isNumber, isUndefined } from './utils/type-utils'\nimport { logger } from './utils/logger'\n\nimport { clampToRange } from './utils/number-utils'\n\nconst MAX_SESSION_IDLE_TIMEOUT = 30 * 60 // 30 minutes\nconst MIN_SESSION_IDLE_TIMEOUT = 60 // 1 minute\nconst SESSION_LENGTH_LIMIT = 24 * 3600 * 1000 // 24 hours\n\nexport class SessionIdManager {\n    private readonly _sessionIdGenerator: () => string\n    private readonly _windowIdGenerator: () => string\n    private config: Partial<PostHogConfig>\n    private persistence: PostHogPersistence\n    private _windowId: string | null | undefined\n    private _sessionId: string | null | undefined\n    private readonly _window_id_storage_key: string\n    private readonly _primary_window_exists_storage_key: string\n    private _sessionStartTimestamp: number | null\n\n    private _sessionActivityTimestamp: number | null\n    private _sessionIdChangedHandlers: SessionIdChangedCallback[] = []\n    private readonly _sessionTimeoutMs: number\n\n    constructor(\n        config: Partial<PostHogConfig>,\n        persistence: PostHogPersistence,\n        sessionIdGenerator?: () => string,\n        windowIdGenerator?: () => string\n    ) {\n        this.config = config\n        this.persistence = persistence\n        this._windowId = undefined\n        this._sessionId = undefined\n        this._sessionStartTimestamp = null\n        this._sessionActivityTimestamp = null\n        this._sessionIdGenerator = sessionIdGenerator || uuidv7\n        this._windowIdGenerator = windowIdGenerator || uuidv7\n\n        const persistenceName = config['persistence_name'] || config['token']\n\n        const desiredTimeout = config['session_idle_timeout_seconds'] || MAX_SESSION_IDLE_TIMEOUT\n        this._sessionTimeoutMs =\n            clampToRange(\n                desiredTimeout,\n                MIN_SESSION_IDLE_TIMEOUT,\n                MAX_SESSION_IDLE_TIMEOUT,\n                'session_idle_timeout_seconds'\n            ) * 1000\n\n        this._window_id_storage_key = 'ph_' + persistenceName + '_window_id'\n        this._primary_window_exists_storage_key = 'ph_' + persistenceName + '_primary_window_exists'\n\n        // primary_window_exists is set when the DOM has been loaded and is cleared on unload\n        // if it exists here it means there was no unload which suggests this window is opened as a tab duplication, window.open, etc.\n        if (this._canUseSessionStorage()) {\n            const lastWindowId = sessionStore.parse(this._window_id_storage_key)\n\n            const primaryWindowExists = sessionStore.parse(this._primary_window_exists_storage_key)\n            if (lastWindowId && !primaryWindowExists) {\n                // Persist window from previous storage state\n                this._windowId = lastWindowId\n            } else {\n                // Wipe any reference to previous window id\n                sessionStore.remove(this._window_id_storage_key)\n            }\n            // Flag this session as having a primary window\n            sessionStore.set(this._primary_window_exists_storage_key, true)\n        }\n\n        if (this.config.bootstrap?.sessionID) {\n            try {\n                const sessionStartTimestamp = uuid7ToTimestampMs(this.config.bootstrap.sessionID)\n                this._setSessionId(this.config.bootstrap.sessionID, new Date().getTime(), sessionStartTimestamp)\n            } catch (e) {\n                logger.error('Invalid sessionID in bootstrap', e)\n            }\n        }\n\n        this._listenToReloadWindow()\n    }\n\n    get sessionTimeoutMs(): number {\n        return this._sessionTimeoutMs\n    }\n\n    onSessionId(callback: SessionIdChangedCallback): () => void {\n        // KLUDGE: when running in tests the handlers array was always undefined\n        // it's yucky but safe to set it here so that it's always definitely available\n        if (isUndefined(this._sessionIdChangedHandlers)) {\n            this._sessionIdChangedHandlers = []\n        }\n\n        this._sessionIdChangedHandlers.push(callback)\n        if (this._sessionId) {\n            callback(this._sessionId, this._windowId)\n        }\n        return () => {\n            this._sessionIdChangedHandlers = this._sessionIdChangedHandlers.filter((h) => h !== callback)\n        }\n    }\n\n    private _canUseSessionStorage(): boolean {\n        // We only want to use sessionStorage if persistence is enabled and not memory storage\n        return this.config.persistence !== 'memory' && !this.persistence.disabled && sessionStore.is_supported()\n    }\n\n    // Note: this tries to store the windowId in sessionStorage. SessionStorage is unique to the current window/tab,\n    // and persists page loads/reloads. So it's uniquely suited for storing the windowId. This function also respects\n    // when persistence is disabled (by user config) and when sessionStorage is not supported (it *should* be supported on all browsers),\n    // and in that case, it falls back to memory (which sadly, won't persist page loads)\n    private _setWindowId(windowId: string): void {\n        if (windowId !== this._windowId) {\n            this._windowId = windowId\n            if (this._canUseSessionStorage()) {\n                sessionStore.set(this._window_id_storage_key, windowId)\n            }\n        }\n    }\n\n    private _getWindowId(): string | null {\n        if (this._windowId) {\n            return this._windowId\n        }\n        if (this._canUseSessionStorage()) {\n            return sessionStore.parse(this._window_id_storage_key)\n        }\n        // New window id will be generated\n        return null\n    }\n\n    // Note: 'this.persistence.register' can be disabled in the config.\n    // In that case, this works by storing sessionId and the timestamp in memory.\n    private _setSessionId(\n        sessionId: string | null,\n        sessionActivityTimestamp: number | null,\n        sessionStartTimestamp: number | null\n    ): void {\n        if (\n            sessionId !== this._sessionId ||\n            sessionActivityTimestamp !== this._sessionActivityTimestamp ||\n            sessionStartTimestamp !== this._sessionStartTimestamp\n        ) {\n            this._sessionStartTimestamp = sessionStartTimestamp\n            this._sessionActivityTimestamp = sessionActivityTimestamp\n            this._sessionId = sessionId\n\n            this.persistence.register({\n                [SESSION_ID]: [sessionActivityTimestamp, sessionId, sessionStartTimestamp],\n            })\n        }\n    }\n\n    private _getSessionId(): [number, string, number] {\n        if (this._sessionId && this._sessionActivityTimestamp && this._sessionStartTimestamp) {\n            return [this._sessionActivityTimestamp, this._sessionId, this._sessionStartTimestamp]\n        }\n        const sessionId = this.persistence.props[SESSION_ID]\n\n        if (isArray(sessionId) && sessionId.length === 2) {\n            // Storage does not yet have a session start time. Add the last activity timestamp as the start time\n            sessionId.push(sessionId[0])\n        }\n\n        return sessionId || [0, null, 0]\n    }\n\n    // Resets the session id by setting it to null. On the subsequent call to checkAndGetSessionAndWindowId,\n    // new ids will be generated.\n    resetSessionId(): void {\n        this._setSessionId(null, null, null)\n    }\n\n    /*\n     * Listens to window unloads and removes the primaryWindowExists key from sessionStorage.\n     * Reloaded or fresh tabs created after a DOM unloads (reloading the same tab) WILL NOT have this primaryWindowExists flag in session storage.\n     * Cloned sessions (new tab, tab duplication, window.open(), ...) WILL have this primaryWindowExists flag in their copied session storage.\n     * We conditionally check the primaryWindowExists value in the constructor to decide if the window id in the last session storage should be carried over.\n     */\n    private _listenToReloadWindow(): void {\n        window?.addEventListener('beforeunload', () => {\n            if (this._canUseSessionStorage()) {\n                sessionStore.remove(this._primary_window_exists_storage_key)\n            }\n        })\n    }\n\n    /*\n     * This function returns the current sessionId and windowId. It should be used to\n     * access these values over directly calling `._sessionId` or `._windowId`.\n     * In addition to returning the sessionId and windowId, this function also manages cycling the\n     * sessionId and windowId when appropriate by doing the following:\n     *\n     * 1. If the sessionId or windowId is not set, it will generate a new one and store it.\n     * 2. If the readOnly param is set to false, it will:\n     *    a. Check if it has been > SESSION_CHANGE_THRESHOLD since the last call with this flag set.\n     *       If so, it will generate a new sessionId and store it.\n     *    b. Update the timestamp stored with the sessionId to ensure the current session is extended\n     *       for the appropriate amount of time.\n     *\n     * @param {boolean} readOnly (optional) Defaults to False. Should be set to True when the call to the function should not extend or cycle the session (e.g. being called for non-user generated events)\n     * @param {Number} timestamp (optional) Defaults to the current time. The timestamp to be stored with the sessionId (used when determining if a new sessionId should be generated)\n     */\n    checkAndGetSessionAndWindowId(readOnly = false, _timestamp: number | null = null) {\n        const timestamp = _timestamp || new Date().getTime()\n\n        // eslint-disable-next-line prefer-const\n        let [lastTimestamp, sessionId, startTimestamp] = this._getSessionId()\n        let windowId = this._getWindowId()\n\n        const sessionPastMaximumLength =\n            isNumber(startTimestamp) &&\n            startTimestamp > 0 &&\n            Math.abs(timestamp - startTimestamp) > SESSION_LENGTH_LIMIT\n\n        let valuesChanged = false\n        const noSessionId = !sessionId\n        const activityTimeout = !readOnly && Math.abs(timestamp - lastTimestamp) > this.sessionTimeoutMs\n        if (noSessionId || activityTimeout || sessionPastMaximumLength) {\n            sessionId = this._sessionIdGenerator()\n            windowId = this._windowIdGenerator()\n            logger.info('[SessionId] new session ID generated', {\n                sessionId,\n                windowId,\n                changeReason: { noSessionId, activityTimeout, sessionPastMaximumLength },\n            })\n            startTimestamp = timestamp\n            valuesChanged = true\n        } else if (!windowId) {\n            windowId = this._windowIdGenerator()\n            valuesChanged = true\n        }\n\n        const newTimestamp = lastTimestamp === 0 || !readOnly || sessionPastMaximumLength ? timestamp : lastTimestamp\n        const sessionStartTimestamp = startTimestamp === 0 ? new Date().getTime() : startTimestamp\n\n        this._setWindowId(windowId)\n        this._setSessionId(sessionId, newTimestamp, sessionStartTimestamp)\n\n        if (valuesChanged) {\n            this._sessionIdChangedHandlers.forEach((handler) =>\n                handler(\n                    sessionId,\n                    windowId,\n                    valuesChanged ? { noSessionId, activityTimeout, sessionPastMaximumLength } : undefined\n                )\n            )\n        }\n\n        return {\n            sessionId,\n            windowId,\n            sessionStartTimestamp,\n            changeReason: valuesChanged ? { noSessionId, activityTimeout, sessionPastMaximumLength } : undefined,\n            lastActivityTimestamp: lastTimestamp,\n        }\n    }\n}\n","import { PostHog } from '../posthog-core'\n\n/**\n * The request router helps simplify the logic to determine which endpoints should be called for which things\n * The basic idea is that for a given region (US or EU), we have a set of endpoints that we should call depending\n * on the type of request (events, replays, decide, etc.) and handle overrides that may come from configs or the decide endpoint\n */\n\nexport enum RequestRouterRegion {\n    US = 'us',\n    EU = 'eu',\n    CUSTOM = 'custom',\n}\n\nexport type RequestRouterTarget = 'api' | 'ui' | 'assets'\n\nconst ingestionDomain = 'i.posthog.com'\n\nexport class RequestRouter {\n    instance: PostHog\n    private _regionCache: Record<string, RequestRouterRegion> = {}\n\n    constructor(instance: PostHog) {\n        this.instance = instance\n    }\n\n    get apiHost(): string {\n        const host = this.instance.config.api_host.trim().replace(/\\/$/, '')\n        if (host === 'https://app.posthog.com') {\n            return 'https://us.i.posthog.com'\n        }\n        return host\n    }\n    get uiHost(): string | undefined {\n        let host = this.instance.config.ui_host?.replace(/\\/$/, '')\n\n        if (!host) {\n            // No ui_host set, get it from the api_host. But api_host differs\n            // from the actual UI host, so replace the ingestion subdomain with just posthog.com\n            host = this.apiHost.replace(`.${ingestionDomain}`, '.posthog.com')\n        }\n\n        if (host === 'https://app.posthog.com') {\n            return 'https://us.posthog.com'\n        }\n\n        return host\n    }\n\n    get region(): RequestRouterRegion {\n        // We don't need to compute this every time so we cache the result\n        if (!this._regionCache[this.apiHost]) {\n            if (/https:\\/\\/(app|us|us-assets)(\\.i)?\\.posthog\\.com/i.test(this.apiHost)) {\n                this._regionCache[this.apiHost] = RequestRouterRegion.US\n            } else if (/https:\\/\\/(eu|eu-assets)(\\.i)?\\.posthog\\.com/i.test(this.apiHost)) {\n                this._regionCache[this.apiHost] = RequestRouterRegion.EU\n            } else {\n                this._regionCache[this.apiHost] = RequestRouterRegion.CUSTOM\n            }\n        }\n        return this._regionCache[this.apiHost]\n    }\n\n    endpointFor(target: RequestRouterTarget, path: string = ''): string {\n        if (path) {\n            path = path[0] === '/' ? path : `/${path}`\n        }\n\n        if (target === 'ui') {\n            return this.uiHost + path\n        }\n\n        if (this.region === RequestRouterRegion.CUSTOM) {\n            return this.apiHost + path\n        }\n\n        const suffix = ingestionDomain + path\n\n        switch (target) {\n            case 'assets':\n                return `https://${this.region}-assets.${suffix}`\n            case 'api':\n                return `https://${this.region}.${suffix}`\n        }\n    }\n}\n","/**\n * Integrate Sentry with PostHog. This will add a direct link to the person in Sentry, and an $exception event in PostHog\n *\n * ### Usage\n *\n *     Sentry.init({\n *          dsn: 'https://example',\n *          integrations: [\n *              new posthog.SentryIntegration(posthog)\n *          ]\n *     })\n *\n * @param {Object} [posthog] The posthog object\n * @param {string} [organization] Optional: The Sentry organization, used to send a direct link from PostHog to Sentry\n * @param {Number} [projectId] Optional: The Sentry project id, used to send a direct link from PostHog to Sentry\n * @param {string} [prefix] Optional: Url of a self-hosted sentry instance (default: https://sentry.io/organizations/)\n */\n\nimport { PostHog } from '../posthog-core'\nimport { SeverityLevel } from '../types'\n\n// NOTE - we can't import from @sentry/types because it changes frequently and causes clashes\n// We only use a small subset of the types, so we can just define the integration overall and use any for the rest\n\n// import {\n//     Event as _SentryEvent,\n//     EventProcessor as _SentryEventProcessor,\n//     Hub as _SentryHub,\n//     Integration as _SentryIntegration,\n//     SeverityLevel as _SeverityLevel,\n//     IntegrationClass as _SentryIntegrationClass,\n// } from '@sentry/types'\n\n// Uncomment the above and comment the below to get type checking for development\n\ntype _SentryEvent = any\ntype _SentryException = any\ntype _SentryEventProcessor = any\ntype _SentryHub = any\n\ninterface _SentryIntegrationClass {\n    name: string\n    setupOnce(addGlobalEventProcessor: (callback: _SentryEventProcessor) => void, getCurrentHub: () => _SentryHub): void\n}\n\ninterface _SentryIntegration {\n    name: string\n    processEvent(event: _SentryEvent): _SentryEvent\n}\n\ninterface SentryExceptionProperties {\n    $sentry_event_id: any\n    $sentry_exception: any\n    $sentry_exception_message: any\n    $sentry_exception_type: any\n    $sentry_tags: any\n    $sentry_url?: string\n}\n\nexport type SentryIntegrationOptions = {\n    organization?: string\n    projectId?: number\n    prefix?: string\n    /**\n     * By default, only errors are sent to PostHog. You can set this to '*' to send all events.\n     * Or to an error of SeverityLevel to only send events matching the provided levels.\n     * e.g. ['error', 'fatal'] to send only errors and fatals\n     * e.g. ['error'] to send only errors -- the default when omitted\n     * e.g. '*' to send all events\n     */\n    severityAllowList?: SeverityLevel[] | '*'\n}\n\nconst NAME = 'posthog-js'\n\nexport function createEventProcessor(\n    _posthog: PostHog,\n    { organization, projectId, prefix, severityAllowList = ['error'] }: SentryIntegrationOptions = {}\n): (event: _SentryEvent) => _SentryEvent {\n    return (event) => {\n        const shouldProcessLevel = severityAllowList === '*' || severityAllowList.includes(event.level as SeverityLevel)\n        if (!shouldProcessLevel || !_posthog.__loaded) return event\n        if (!event.tags) event.tags = {}\n\n        const personUrl = _posthog.requestRouter.endpointFor(\n            'ui',\n            `/project/${_posthog.config.token}/person/${_posthog.get_distinct_id()}`\n        )\n        event.tags['PostHog Person URL'] = personUrl\n        if (_posthog.sessionRecordingStarted()) {\n            event.tags['PostHog Recording URL'] = _posthog.get_session_replay_url({ withTimestamp: true })\n        }\n\n        const exceptions: _SentryException[] = event.exception?.values || []\n\n        exceptions.map((exception) => {\n            if (exception.stacktrace) {\n                exception.stacktrace.type = 'raw'\n            }\n        })\n\n        const data: SentryExceptionProperties & {\n            // two properties added to match any exception auto-capture\n            // added manually to avoid any dependency on the lazily loaded content\n            $exception_message: any\n            $exception_type: any\n            $exception_list: any\n            $exception_personURL: string\n            $exception_level: SeverityLevel\n            $level: SeverityLevel\n        } = {\n            // PostHog Exception Properties,\n            $exception_message: exceptions[0]?.value || event.message,\n            $exception_type: exceptions[0]?.type,\n            $exception_personURL: personUrl,\n            $exception_level: event.level,\n            $exception_list: exceptions,\n            // Sentry Exception Properties\n            $sentry_event_id: event.event_id,\n            $sentry_exception: event.exception,\n            $sentry_exception_message: exceptions[0]?.value || event.message,\n            $sentry_exception_type: exceptions[0]?.type,\n            $sentry_tags: event.tags,\n            $level: event.level,\n        }\n\n        if (organization && projectId) {\n            data['$sentry_url'] =\n                (prefix || 'https://sentry.io/organizations/') +\n                organization +\n                '/issues/?project=' +\n                projectId +\n                '&query=' +\n                event.event_id\n        }\n\n        _posthog.exceptions.sendExceptionEvent(data)\n\n        return event\n    }\n}\n\n// V8 integration - function based\nexport function sentryIntegration(_posthog: PostHog, options?: SentryIntegrationOptions): _SentryIntegration {\n    const processor = createEventProcessor(_posthog, options)\n    return {\n        name: NAME,\n        processEvent(event) {\n            return processor(event)\n        },\n    }\n}\n// V7 integration - class based\nexport class SentryIntegration implements _SentryIntegrationClass {\n    name: string\n\n    setupOnce: (\n        addGlobalEventProcessor: (callback: _SentryEventProcessor) => void,\n        getCurrentHub: () => _SentryHub\n    ) => void\n\n    constructor(\n        _posthog: PostHog,\n        organization?: string,\n        projectId?: number,\n        prefix?: string,\n        /**\n         * By default, only errors are sent to PostHog. You can set this to '*' to send all events.\n         * Or to an error of SeverityLevel to only send events matching the provided levels.\n         * e.g. ['error', 'fatal'] to send only errors and fatals\n         * e.g. ['error'] to send only errors -- the default when omitted\n         * e.g. '*' to send all events\n         */\n        severityAllowList?: SeverityLevel[] | '*'\n    ) {\n        // setupOnce gets called by Sentry when it intializes the plugin\n        this.name = NAME\n        this.setupOnce = function (addGlobalEventProcessor: (callback: _SentryEventProcessor) => void) {\n            addGlobalEventProcessor(\n                createEventProcessor(_posthog, { organization, projectId, prefix, severityAllowList })\n            )\n        }\n    }\n}\n","/**\n * Extend Segment with extra PostHog JS functionality. Required for things like Recordings and feature flags to work correctly.\n *\n * ### Usage\n *\n *  ```js\n *  // After your standard segment anyalytics install\n *  analytics.load(\"GOEDfA21zZTtR7clsBuDvmBKAtAdZ6Np\");\n *\n *  analytics.ready(() => {\n *    posthog.init('<posthog-api-key>', {\n *      capture_pageview: false,\n *      segment: window.analytics, // NOTE: Be sure to use window.analytics here!\n *    });\n *    window.analytics.page();\n *  })\n *  ```\n */\nimport { PostHog } from '../posthog-core'\nimport { logger } from '../utils/logger'\n\nimport { uuidv7 } from '../uuidv7'\nimport { isFunction } from '../utils/type-utils'\nimport { USER_STATE } from '../constants'\n\nexport type SegmentUser = {\n    anonymousId(): string | undefined\n    id(): string | undefined\n}\n\nexport type SegmentAnalytics = {\n    user: () => SegmentUser | Promise<SegmentUser>\n    register: (integration: SegmentPlugin) => Promise<void>\n}\n\n// Loosely based on https://github.com/segmentio/analytics-next/blob/master/packages/core/src/plugins/index.ts\nexport interface SegmentContext {\n    event: {\n        event: string\n        userId?: string\n        anonymousId?: string\n        properties: any\n    }\n}\n\ntype SegmentFunction = (ctx: SegmentContext) => Promise<SegmentContext> | SegmentContext\n\nexport interface SegmentPlugin {\n    name: string\n    version: string\n    type: 'enrichment'\n    isLoaded: () => boolean\n    load: (ctx: SegmentContext, instance: any, config?: any) => Promise<unknown>\n    unload?: (ctx: SegmentContext, instance: any) => Promise<unknown> | unknown\n    ready?: () => Promise<unknown>\n    track?: SegmentFunction\n    identify?: SegmentFunction\n    page?: SegmentFunction\n    group?: SegmentFunction\n    alias?: SegmentFunction\n    screen?: SegmentFunction\n}\n\nconst createSegmentIntegration = (posthog: PostHog): SegmentPlugin => {\n    if (!Promise || !Promise.resolve) {\n        logger.warn('This browser does not have Promise support, and can not use the segment integration')\n    }\n\n    const enrichEvent = (ctx: SegmentContext, eventName: string | undefined) => {\n        if (!eventName) {\n            return ctx\n        }\n        if (!ctx.event.userId && ctx.event.anonymousId !== posthog.get_distinct_id()) {\n            // This is our only way of detecting that segment's analytics.reset() has been called so we also call it\n            logger.info('Segment integration does not have a userId set, resetting PostHog')\n            posthog.reset()\n        }\n        if (ctx.event.userId && ctx.event.userId !== posthog.get_distinct_id()) {\n            logger.info('Segment integration has a userId set, identifying with PostHog')\n            posthog.identify(ctx.event.userId)\n        }\n\n        const additionalProperties = posthog._calculate_event_properties(\n            eventName,\n            ctx.event.properties ?? {},\n            new Date()\n        )\n        ctx.event.properties = Object.assign({}, additionalProperties, ctx.event.properties)\n        return ctx\n    }\n\n    return {\n        name: 'PostHog JS',\n        type: 'enrichment',\n        version: '1.0.0',\n        isLoaded: () => true,\n        // check and early return above\n        // eslint-disable-next-line compat/compat\n        load: () => Promise.resolve(),\n        track: (ctx) => enrichEvent(ctx, ctx.event.event),\n        page: (ctx) => enrichEvent(ctx, '$pageview'),\n        identify: (ctx) => enrichEvent(ctx, '$identify'),\n        screen: (ctx) => enrichEvent(ctx, '$screen'),\n    }\n}\n\nfunction setupPostHogFromSegment(posthog: PostHog, done: () => void) {\n    const segment = posthog.config.segment\n    if (!segment) {\n        return done()\n    }\n\n    const bootstrapUser = (user: SegmentUser) => {\n        // Use segments anonymousId instead\n        const getSegmentAnonymousId = () => user.anonymousId() || uuidv7()\n        posthog.config.get_device_id = getSegmentAnonymousId\n\n        // If a segment user ID exists, set it as the distinct_id\n        if (user.id()) {\n            posthog.register({\n                distinct_id: user.id(),\n                $device_id: getSegmentAnonymousId(),\n            })\n            posthog.persistence!.set_property(USER_STATE, 'identified')\n        }\n\n        done()\n    }\n\n    const segmentUser = segment.user()\n\n    // If segmentUser is a promise then we need to wait for it to resolve\n    if ('then' in segmentUser && isFunction(segmentUser.then)) {\n        segmentUser.then((user) => bootstrapUser(user))\n    } else {\n        bootstrapUser(segmentUser as SegmentUser)\n    }\n}\n\nexport function setupSegmentIntegration(posthog: PostHog, done: () => void) {\n    const segment = posthog.config.segment\n    if (!segment) {\n        return done()\n    }\n\n    setupPostHogFromSegment(posthog, () => {\n        segment.register(createSegmentIntegration(posthog)).then(() => {\n            done()\n        })\n    })\n}\n","import { window } from './utils/globals'\nimport { PostHog } from './posthog-core'\nimport { isUndefined } from './utils/type-utils'\nimport { clampToRange } from './utils/number-utils'\n\ninterface PageViewEventProperties {\n    $prev_pageview_pathname?: string\n    $prev_pageview_duration?: number // seconds\n    $prev_pageview_last_scroll?: number\n    $prev_pageview_last_scroll_percentage?: number\n    $prev_pageview_max_scroll?: number\n    $prev_pageview_max_scroll_percentage?: number\n    $prev_pageview_last_content?: number\n    $prev_pageview_last_content_percentage?: number\n    $prev_pageview_max_content?: number\n    $prev_pageview_max_content_percentage?: number\n}\n\nexport class PageViewManager {\n    _currentPath?: string\n    _prevPageviewTimestamp?: Date\n    _instance: PostHog\n\n    constructor(instance: PostHog) {\n        this._instance = instance\n    }\n\n    doPageView(timestamp: Date): PageViewEventProperties {\n        const response = this._previousPageViewProperties(timestamp)\n\n        // On a pageview we reset the contexts\n        this._currentPath = window?.location.pathname ?? ''\n        this._instance.scrollManager.resetContext()\n        this._prevPageviewTimestamp = timestamp\n\n        return response\n    }\n\n    doPageLeave(timestamp: Date): PageViewEventProperties {\n        return this._previousPageViewProperties(timestamp)\n    }\n\n    private _previousPageViewProperties(timestamp: Date): PageViewEventProperties {\n        const previousPath = this._currentPath\n        const previousTimestamp = this._prevPageviewTimestamp\n        const scrollContext = this._instance.scrollManager.getContext()\n\n        if (!previousTimestamp) {\n            // this means there was no previous pageview\n            return {}\n        }\n\n        let properties: PageViewEventProperties = {}\n        if (scrollContext) {\n            let { maxScrollHeight, lastScrollY, maxScrollY, maxContentHeight, lastContentY, maxContentY } =\n                scrollContext\n\n            if (\n                !isUndefined(maxScrollHeight) &&\n                !isUndefined(lastScrollY) &&\n                !isUndefined(maxScrollY) &&\n                !isUndefined(maxContentHeight) &&\n                !isUndefined(lastContentY) &&\n                !isUndefined(maxContentY)\n            ) {\n                // Use ceil, so that e.g. scrolling 999.5px of a 1000px page is considered 100% scrolled\n                maxScrollHeight = Math.ceil(maxScrollHeight)\n                lastScrollY = Math.ceil(lastScrollY)\n                maxScrollY = Math.ceil(maxScrollY)\n                maxContentHeight = Math.ceil(maxContentHeight)\n                lastContentY = Math.ceil(lastContentY)\n                maxContentY = Math.ceil(maxContentY)\n\n                // if the maximum scroll height is near 0, then the percentage is 1\n                const lastScrollPercentage =\n                    maxScrollHeight <= 1 ? 1 : clampToRange(lastScrollY / maxScrollHeight, 0, 1)\n                const maxScrollPercentage = maxScrollHeight <= 1 ? 1 : clampToRange(maxScrollY / maxScrollHeight, 0, 1)\n                const lastContentPercentage =\n                    maxContentHeight <= 1 ? 1 : clampToRange(lastContentY / maxContentHeight, 0, 1)\n                const maxContentPercentage =\n                    maxContentHeight <= 1 ? 1 : clampToRange(maxContentY / maxContentHeight, 0, 1)\n\n                properties = {\n                    $prev_pageview_last_scroll: lastScrollY,\n                    $prev_pageview_last_scroll_percentage: lastScrollPercentage,\n                    $prev_pageview_max_scroll: maxScrollY,\n                    $prev_pageview_max_scroll_percentage: maxScrollPercentage,\n                    $prev_pageview_last_content: lastContentY,\n                    $prev_pageview_last_content_percentage: lastContentPercentage,\n                    $prev_pageview_max_content: maxContentY,\n                    $prev_pageview_max_content_percentage: maxContentPercentage,\n                }\n            }\n        }\n\n        if (previousPath) {\n            properties.$prev_pageview_pathname = previousPath\n        }\n        if (previousTimestamp) {\n            // Use seconds, for consistency with our other duration-related properties like $duration\n            properties.$prev_pageview_duration = (timestamp.getTime() - previousTimestamp.getTime()) / 1000\n        }\n\n        return properties\n    }\n}\n","export class SimpleEventEmitter {\n    private events: { [key: string]: ((...args: any[]) => void)[] } = {}\n\n    constructor() {\n        this.events = {}\n    }\n\n    on(event: string, listener: (...args: any[]) => void): () => void {\n        if (!this.events[event]) {\n            this.events[event] = []\n        }\n        this.events[event].push(listener)\n\n        return () => {\n            this.events[event] = this.events[event].filter((x) => x !== listener)\n        }\n    }\n\n    emit(event: string, payload: any): void {\n        for (const listener of this.events[event] || []) {\n            listener(payload)\n        }\n        for (const listener of this.events['*'] || []) {\n            listener(event, payload)\n        }\n    }\n}\n","import { PostHog } from '../../posthog-core'\nimport { ActionStepStringMatching, ActionStepType, ActionType, SurveyElement } from '../../posthog-surveys-types'\nimport { SimpleEventEmitter } from '../../utils/simple-event-emitter'\nimport { CaptureResult } from '../../types'\nimport { isUndefined } from '../../utils/type-utils'\nimport { window } from '../../utils/globals'\nimport { isUrlMatchingRegex } from '../../utils/request-utils'\n\nexport class ActionMatcher {\n    private readonly actionRegistry?: Set<ActionType>\n    private readonly instance?: PostHog\n    private readonly actionEvents: Set<string>\n    private _debugEventEmitter = new SimpleEventEmitter()\n\n    constructor(instance?: PostHog) {\n        this.instance = instance\n        this.actionEvents = new Set<string>()\n        this.actionRegistry = new Set<ActionType>()\n    }\n\n    init() {\n        if (!isUndefined(this.instance?._addCaptureHook)) {\n            const matchEventToAction = (eventName: string, eventPayload: any) => {\n                this.on(eventName, eventPayload)\n            }\n            this.instance?._addCaptureHook(matchEventToAction)\n        }\n    }\n\n    register(actions: ActionType[]): void {\n        if (isUndefined(this.instance?._addCaptureHook)) {\n            return\n        }\n\n        actions.forEach((action) => {\n            this.actionRegistry?.add(action)\n            action.steps?.forEach((step) => {\n                this.actionEvents?.add(step?.event || '')\n            })\n        })\n\n        if (this.instance?.autocapture) {\n            const selectorsToWatch: Set<string> = new Set<string>()\n            actions.forEach((action) => {\n                action.steps?.forEach((step) => {\n                    if (step?.selector) {\n                        selectorsToWatch.add(step?.selector)\n                    }\n                })\n            })\n            this.instance?.autocapture.setElementSelectors(selectorsToWatch)\n        }\n    }\n\n    on(eventName: string, eventPayload?: CaptureResult) {\n        if (eventPayload == null || eventName.length == 0) {\n            return\n        }\n\n        if (!this.actionEvents.has(eventName) && !this.actionEvents.has(<string>eventPayload?.event)) {\n            return\n        }\n\n        if (this.actionRegistry && this.actionRegistry?.size > 0) {\n            this.actionRegistry.forEach((action) => {\n                if (this.checkAction(eventPayload, action)) {\n                    this._debugEventEmitter.emit('actionCaptured', action.name)\n                }\n            })\n        }\n    }\n\n    _addActionHook(callback: (actionName: string, eventPayload?: any) => void): void {\n        this.onAction('actionCaptured', (data) => callback(data))\n    }\n\n    private checkAction(event?: CaptureResult, action?: ActionType): boolean {\n        if (action?.steps == null) {\n            return false\n        }\n\n        for (const step of action.steps) {\n            if (this.checkStep(event, step)) {\n                return true\n            }\n        }\n\n        return false\n    }\n\n    onAction(event: 'actionCaptured', cb: (...args: any[]) => void): () => void {\n        return this._debugEventEmitter.on(event, cb)\n    }\n\n    private checkStep = (event?: CaptureResult, step?: ActionStepType): boolean => {\n        return this.checkStepEvent(event, step) && this.checkStepUrl(event, step) && this.checkStepElement(event, step)\n    }\n\n    private checkStepEvent = (event?: CaptureResult, step?: ActionStepType): boolean => {\n        // CHECK CONDITIONS, OTHERWISE SKIPPED\n        if (step?.event && event?.event !== step?.event) {\n            return false // EVENT NAME IS A MISMATCH\n        }\n        return true\n    }\n\n    private checkStepUrl(event?: CaptureResult, step?: ActionStepType): boolean {\n        // CHECK CONDITIONS, OTHERWISE SKIPPED\n        if (step?.url) {\n            const eventUrl = event?.properties?.$current_url\n            if (!eventUrl || typeof eventUrl !== 'string') {\n                return false // URL IS UNKNOWN\n            }\n            if (!ActionMatcher.matchString(eventUrl, step?.url, step?.url_matching || 'contains')) {\n                return false // URL IS A MISMATCH\n            }\n        }\n        return true\n    }\n\n    private static matchString(url: string, pattern: string, matching: ActionStepStringMatching): boolean {\n        switch (matching) {\n            case 'regex':\n                return !!window && isUrlMatchingRegex(url, pattern)\n            case 'exact':\n                return pattern === url\n            case 'contains':\n                // Simulating SQL LIKE behavior (_ = any single character, % = any zero or more characters)\n                // eslint-disable-next-line no-case-declarations\n                const adjustedRegExpStringPattern = ActionMatcher.escapeStringRegexp(pattern)\n                    .replace(/_/g, '.')\n                    .replace(/%/g, '.*')\n                return isUrlMatchingRegex(url, adjustedRegExpStringPattern)\n\n            default:\n                return false\n        }\n    }\n\n    private static escapeStringRegexp(pattern: string): string {\n        // Escape characters with special meaning either inside or outside character sets.\n        // Use a simple backslash escape when it’s always valid, and a `\\xnn` escape when the simpler form would be disallowed by Unicode patterns’ stricter grammar.\n        return pattern.replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&').replace(/-/g, '\\\\x2d')\n    }\n\n    private checkStepElement(event?: CaptureResult, step?: ActionStepType): boolean {\n        // CHECK CONDITIONS, OTHERWISE SKIPPED\n        if (step?.href || step?.tag_name || step?.text) {\n            const elements = this.getElementsList(event)\n            if (\n                !elements.some((element) => {\n                    if (\n                        step?.href &&\n                        !ActionMatcher.matchString(element.href || '', step?.href, step?.href_matching || 'exact')\n                    ) {\n                        return false // ELEMENT HREF IS A MISMATCH\n                    }\n                    if (step?.tag_name && element.tag_name !== step?.tag_name) {\n                        return false // ELEMENT TAG NAME IS A MISMATCH\n                    }\n                    if (\n                        step?.text &&\n                        !(\n                            ActionMatcher.matchString(element.text || '', step?.text, step?.text_matching || 'exact') ||\n                            ActionMatcher.matchString(\n                                element.$el_text || '',\n                                step?.text,\n                                step?.text_matching || 'exact'\n                            )\n                        )\n                    ) {\n                        return false // ELEMENT TEXT IS A MISMATCH\n                    }\n                    return true\n                })\n            ) {\n                // AT LEAST ONE ELEMENT MUST BE A SUBMATCH\n                return false\n            }\n        }\n\n        if (step?.selector) {\n            const elementSelectors = event?.properties?.$element_selectors as unknown as string[]\n            if (!elementSelectors) {\n                return false // SELECTOR IS A MISMATCH\n            }\n            if (!elementSelectors.includes(step?.selector)) {\n                return false // SELECTOR IS A MISMATCH\n            }\n        }\n\n        return true\n    }\n\n    private getElementsList(event?: CaptureResult): SurveyElement[] {\n        if (event?.properties.$elements == null) {\n            return []\n        }\n\n        return event?.properties.$elements as unknown as SurveyElement[]\n    }\n}\n","import { Survey } from '../posthog-surveys-types'\nimport { SURVEYS_ACTIVATED } from '../constants'\n\nimport { CaptureResult } from '../types'\nimport { ActionMatcher } from '../extensions/surveys/action-matcher'\nimport { PostHog } from '../posthog-core'\nimport { isUndefined } from './type-utils'\n\nexport class SurveyEventReceiver {\n    // eventToSurveys is a mapping of event name to all the surveys that are activated by it\n    private readonly eventToSurveys: Map<string, string[]>\n    // actionToSurveys is a mapping of action name to all the surveys that are activated by it\n    private readonly actionToSurveys: Map<string, string[]>\n    // actionMatcher can look at CaptureResult payloads and match an event to its corresponding action.\n    private actionMatcher?: ActionMatcher | null\n    private readonly instance?: PostHog\n    private static SURVEY_SHOWN_EVENT_NAME = 'survey shown'\n\n    constructor(instance: PostHog) {\n        this.instance = instance\n        this.eventToSurveys = new Map<string, string[]>()\n        this.actionToSurveys = new Map<string, string[]>()\n    }\n\n    register(surveys: Survey[]): void {\n        if (isUndefined(this.instance?._addCaptureHook)) {\n            return\n        }\n\n        this.setupEventBasedSurveys(surveys)\n        this.setupActionBasedSurveys(surveys)\n    }\n\n    private setupActionBasedSurveys(surveys: Survey[]) {\n        const actionBasedSurveys = surveys.filter(\n            (survey: Survey) => survey.conditions?.actions && survey.conditions?.actions?.values?.length > 0\n        )\n\n        if (actionBasedSurveys.length === 0) {\n            return\n        }\n\n        if (this.actionMatcher == null) {\n            this.actionMatcher = new ActionMatcher(this.instance)\n            this.actionMatcher.init()\n            // match any actions to its corresponding survey.\n            const matchActionToSurvey = (actionName: string) => {\n                this.onAction(actionName)\n            }\n\n            this.actionMatcher._addActionHook(matchActionToSurvey)\n        }\n\n        actionBasedSurveys.forEach((survey) => {\n            if (\n                survey.conditions &&\n                survey.conditions?.actions &&\n                survey.conditions?.actions?.values &&\n                survey.conditions?.actions?.values?.length > 0\n            ) {\n                // register the known set of actions with\n                // the action-matcher so it can match\n                // events to actions\n                this.actionMatcher?.register(survey.conditions.actions.values)\n\n                // maintain a mapping of (Action1) => [Survey1, Survey2, Survey3]\n                // where Surveys 1-3 are all activated by Action1\n                survey.conditions?.actions?.values?.forEach((action) => {\n                    if (action && action.name) {\n                        const knownSurveys: string[] | undefined = this.actionToSurveys.get(action.name)\n                        if (knownSurveys) {\n                            knownSurveys.push(survey.id)\n                        }\n                        this.actionToSurveys.set(action.name, knownSurveys || [survey.id])\n                    }\n                })\n            }\n        })\n    }\n\n    private setupEventBasedSurveys(surveys: Survey[]) {\n        const eventBasedSurveys = surveys.filter(\n            (survey: Survey) => survey.conditions?.events && survey.conditions?.events?.values?.length > 0\n        )\n\n        if (eventBasedSurveys.length === 0) {\n            return\n        }\n\n        // match any events to its corresponding survey.\n        const matchEventToSurvey = (eventName: string, eventPayload?: CaptureResult) => {\n            this.onEvent(eventName, eventPayload)\n        }\n        this.instance?._addCaptureHook(matchEventToSurvey)\n\n        surveys.forEach((survey) => {\n            // maintain a mapping of (Event1) => [Survey1, Survey2, Survey3]\n            // where Surveys 1-3 are all activated by Event1\n            survey.conditions?.events?.values?.forEach((event) => {\n                if (event && event.name) {\n                    const knownSurveys: string[] | undefined = this.eventToSurveys.get(event.name)\n                    if (knownSurveys) {\n                        knownSurveys.push(survey.id)\n                    }\n                    this.eventToSurveys.set(event.name, knownSurveys || [survey.id])\n                }\n            })\n        })\n    }\n\n    onEvent(event: string, eventPayload?: CaptureResult): void {\n        const existingActivatedSurveys: string[] = this.instance?.persistence?.props[SURVEYS_ACTIVATED] || []\n        if (\n            SurveyEventReceiver.SURVEY_SHOWN_EVENT_NAME == event &&\n            eventPayload &&\n            existingActivatedSurveys.length > 0\n        ) {\n            // remove survey that from activatedSurveys here.\n            const surveyId = eventPayload?.properties?.$survey_id\n            if (surveyId) {\n                const index = existingActivatedSurveys.indexOf(surveyId)\n                if (index >= 0) {\n                    existingActivatedSurveys.splice(index, 1)\n                    this._updateActivatedSurveys(existingActivatedSurveys)\n                }\n            }\n        } else {\n            if (this.eventToSurveys.has(event)) {\n                this._updateActivatedSurveys(existingActivatedSurveys.concat(this.eventToSurveys.get(event) || []))\n            }\n        }\n    }\n\n    onAction(actionName: string): void {\n        const existingActivatedSurveys: string[] = this.instance?.persistence?.props[SURVEYS_ACTIVATED] || []\n        if (this.actionToSurveys.has(actionName)) {\n            this._updateActivatedSurveys(existingActivatedSurveys.concat(this.actionToSurveys.get(actionName) || []))\n        }\n    }\n\n    private _updateActivatedSurveys(activatedSurveys: string[]) {\n        // we use a new Set here to remove duplicates.\n        this.instance?.persistence?.register({\n            [SURVEYS_ACTIVATED]: [...new Set(activatedSurveys)],\n        })\n    }\n\n    getSurveys(): string[] {\n        const existingActivatedSurveys = this.instance?.persistence?.props[SURVEYS_ACTIVATED]\n        return existingActivatedSurveys ? existingActivatedSurveys : []\n    }\n\n    getEventToSurveys(): Map<string, string[]> {\n        return this.eventToSurveys\n    }\n\n    _getActionMatcher(): ActionMatcher | null | undefined {\n        return this.actionMatcher\n    }\n}\n","import { PostHog } from './posthog-core'\nimport { SURVEYS } from './constants'\nimport {\n    Survey,\n    SurveyCallback,\n    SurveyQuestionBranchingType,\n    SurveyQuestionType,\n    SurveyUrlMatchType,\n} from './posthog-surveys-types'\nimport { isUrlMatchingRegex } from './utils/request-utils'\nimport { SurveyEventReceiver } from './utils/survey-event-receiver'\nimport { assignableWindow, document, window } from './utils/globals'\nimport { DecideResponse } from './types'\nimport { logger } from './utils/logger'\nimport { isNullish } from './utils/type-utils'\nimport { getSurveySeenStorageKeys } from './extensions/surveys/surveys-utils'\n\nconst LOGGER_PREFIX = '[Surveys]'\n\nexport const surveyUrlValidationMap: Record<SurveyUrlMatchType, (conditionsUrl: string) => boolean> = {\n    icontains: (conditionsUrl) =>\n        !!window && window.location.href.toLowerCase().indexOf(conditionsUrl.toLowerCase()) > -1,\n    not_icontains: (conditionsUrl) =>\n        !!window && window.location.href.toLowerCase().indexOf(conditionsUrl.toLowerCase()) === -1,\n    regex: (conditionsUrl) => !!window && isUrlMatchingRegex(window.location.href, conditionsUrl),\n    not_regex: (conditionsUrl) => !!window && !isUrlMatchingRegex(window.location.href, conditionsUrl),\n    exact: (conditionsUrl) => window?.location.href === conditionsUrl,\n    is_not: (conditionsUrl) => window?.location.href !== conditionsUrl,\n}\n\nfunction getRatingBucketForResponseValue(responseValue: number, scale: number) {\n    if (scale === 3) {\n        if (responseValue < 1 || responseValue > 3) {\n            throw new Error('The response must be in range 1-3')\n        }\n\n        return responseValue === 1 ? 'negative' : responseValue === 2 ? 'neutral' : 'positive'\n    } else if (scale === 5) {\n        if (responseValue < 1 || responseValue > 5) {\n            throw new Error('The response must be in range 1-5')\n        }\n\n        return responseValue <= 2 ? 'negative' : responseValue === 3 ? 'neutral' : 'positive'\n    } else if (scale === 7) {\n        if (responseValue < 1 || responseValue > 7) {\n            throw new Error('The response must be in range 1-7')\n        }\n\n        return responseValue <= 3 ? 'negative' : responseValue === 4 ? 'neutral' : 'positive'\n    } else if (scale === 10) {\n        if (responseValue < 0 || responseValue > 10) {\n            throw new Error('The response must be in range 0-10')\n        }\n\n        return responseValue <= 6 ? 'detractors' : responseValue <= 8 ? 'passives' : 'promoters'\n    }\n\n    throw new Error('The scale must be one of: 3, 5, 7, 10')\n}\n\nexport class PostHogSurveys {\n    private _decideServerResponse?: boolean\n    public _surveyEventReceiver: SurveyEventReceiver | null\n    private _surveyManager: any\n\n    constructor(private readonly instance: PostHog) {\n        // we set this to undefined here because we need the persistence storage for this type\n        // but that's not initialized until loadIfEnabled is called.\n        this._surveyEventReceiver = null\n    }\n\n    afterDecideResponse(response: DecideResponse) {\n        this._decideServerResponse = !!response['surveys']\n        this.loadIfEnabled()\n    }\n\n    reset(): void {\n        localStorage.removeItem('lastSeenSurveyDate')\n        const surveyKeys = getSurveySeenStorageKeys()\n        surveyKeys.forEach((key) => localStorage.removeItem(key))\n    }\n\n    loadIfEnabled() {\n        const surveysGenerator = assignableWindow?.__PosthogExtensions__?.generateSurveys\n\n        if (!this.instance.config.disable_surveys && this._decideServerResponse && !surveysGenerator) {\n            if (this._surveyEventReceiver == null) {\n                this._surveyEventReceiver = new SurveyEventReceiver(this.instance)\n            }\n\n            assignableWindow.__PosthogExtensions__?.loadExternalDependency?.(this.instance, 'surveys', (err) => {\n                if (err) {\n                    return logger.error(LOGGER_PREFIX, 'Could not load surveys script', err)\n                }\n\n                this._surveyManager = assignableWindow.__PosthogExtensions__?.generateSurveys?.(this.instance)\n            })\n        }\n    }\n\n    getSurveys(callback: SurveyCallback, forceReload = false) {\n        // In case we manage to load the surveys script, but config says not to load surveys\n        // then we shouldn't return survey data\n        if (this.instance.config.disable_surveys) {\n            return callback([])\n        }\n\n        if (this._surveyEventReceiver == null) {\n            this._surveyEventReceiver = new SurveyEventReceiver(this.instance)\n        }\n\n        const existingSurveys = this.instance.get_property(SURVEYS)\n\n        if (!existingSurveys || forceReload) {\n            this.instance._send_request({\n                url: this.instance.requestRouter.endpointFor(\n                    'api',\n                    `/api/surveys/?token=${this.instance.config.token}`\n                ),\n                method: 'GET',\n                transport: 'XHR',\n                callback: (response) => {\n                    if (response.statusCode !== 200 || !response.json) {\n                        return callback([])\n                    }\n                    const surveys = response.json.surveys || []\n\n                    const eventOrActionBasedSurveys = surveys.filter(\n                        (survey: Survey) =>\n                            (survey.conditions?.events &&\n                                survey.conditions?.events?.values &&\n                                survey.conditions?.events?.values?.length > 0) ||\n                            (survey.conditions?.actions &&\n                                survey.conditions?.actions?.values &&\n                                survey.conditions?.actions?.values?.length > 0)\n                    )\n\n                    if (eventOrActionBasedSurveys.length > 0) {\n                        this._surveyEventReceiver?.register(eventOrActionBasedSurveys)\n                    }\n\n                    this.instance.persistence?.register({ [SURVEYS]: surveys })\n                    return callback(surveys)\n                },\n            })\n        } else {\n            return callback(existingSurveys)\n        }\n    }\n\n    getActiveMatchingSurveys(callback: SurveyCallback, forceReload = false) {\n        this.getSurveys((surveys) => {\n            const activeSurveys = surveys.filter((survey) => {\n                return !!(survey.start_date && !survey.end_date)\n            })\n\n            const conditionMatchedSurveys = activeSurveys.filter((survey) => {\n                if (!survey.conditions) {\n                    return true\n                }\n\n                // use urlMatchType to validate url condition, fallback to contains for backwards compatibility\n                const urlCheck = survey.conditions?.url\n                    ? surveyUrlValidationMap[survey.conditions?.urlMatchType ?? 'icontains'](survey.conditions.url)\n                    : true\n                const selectorCheck = survey.conditions?.selector\n                    ? document?.querySelector(survey.conditions.selector)\n                    : true\n                return urlCheck && selectorCheck\n            })\n\n            // get all the surveys that have been activated so far with user actions.\n            const activatedSurveys: string[] | undefined = this._surveyEventReceiver?.getSurveys()\n            const targetingMatchedSurveys = conditionMatchedSurveys.filter((survey) => {\n                if (!survey.linked_flag_key && !survey.targeting_flag_key && !survey.internal_targeting_flag_key) {\n                    return true\n                }\n                const linkedFlagCheck = survey.linked_flag_key\n                    ? this.instance.featureFlags.isFeatureEnabled(survey.linked_flag_key)\n                    : true\n                const targetingFlagCheck = survey.targeting_flag_key\n                    ? this.instance.featureFlags.isFeatureEnabled(survey.targeting_flag_key)\n                    : true\n\n                const hasEvents =\n                    survey.conditions?.events &&\n                    survey.conditions?.events?.values &&\n                    survey.conditions?.events?.values.length > 0\n\n                const hasActions =\n                    survey.conditions?.actions &&\n                    survey.conditions?.actions?.values &&\n                    survey.conditions?.actions?.values.length > 0\n                const eventBasedTargetingFlagCheck =\n                    hasEvents || hasActions ? activatedSurveys?.includes(survey.id) : true\n\n                const overrideInternalTargetingFlagCheck = this._canActivateRepeatedly(survey)\n                const internalTargetingFlagCheck =\n                    survey.internal_targeting_flag_key && !overrideInternalTargetingFlagCheck\n                        ? this.instance.featureFlags.isFeatureEnabled(survey.internal_targeting_flag_key)\n                        : true\n\n                return (\n                    linkedFlagCheck && targetingFlagCheck && internalTargetingFlagCheck && eventBasedTargetingFlagCheck\n                )\n            })\n\n            return callback(targetingMatchedSurveys)\n        }, forceReload)\n    }\n\n    getNextSurveyStep(survey: Survey, currentQuestionIndex: number, response: string | string[] | number | null) {\n        const question = survey.questions[currentQuestionIndex]\n        const nextQuestionIndex = currentQuestionIndex + 1\n\n        if (!question.branching?.type) {\n            if (currentQuestionIndex === survey.questions.length - 1) {\n                return SurveyQuestionBranchingType.End\n            }\n\n            return nextQuestionIndex\n        }\n\n        if (question.branching.type === SurveyQuestionBranchingType.End) {\n            return SurveyQuestionBranchingType.End\n        } else if (question.branching.type === SurveyQuestionBranchingType.SpecificQuestion) {\n            if (Number.isInteger(question.branching.index)) {\n                return question.branching.index\n            }\n        } else if (question.branching.type === SurveyQuestionBranchingType.ResponseBased) {\n            // Single choice\n            if (question.type === SurveyQuestionType.SingleChoice) {\n                // :KLUDGE: for now, look up the choiceIndex based on the response\n                // TODO: once QuestionTypes.MultipleChoiceQuestion is refactored, pass the selected choiceIndex into this method\n                const selectedChoiceIndex = question.choices.indexOf(`${response}`)\n\n                if (question.branching?.responseValues?.hasOwnProperty(selectedChoiceIndex)) {\n                    const nextStep = question.branching.responseValues[selectedChoiceIndex]\n\n                    // Specific question\n                    if (Number.isInteger(nextStep)) {\n                        return nextStep\n                    }\n\n                    if (nextStep === SurveyQuestionBranchingType.End) {\n                        return SurveyQuestionBranchingType.End\n                    }\n\n                    return nextQuestionIndex\n                }\n            } else if (question.type === SurveyQuestionType.Rating) {\n                if (typeof response !== 'number' || !Number.isInteger(response)) {\n                    throw new Error('The response type must be an integer')\n                }\n\n                const ratingBucket = getRatingBucketForResponseValue(response, question.scale)\n\n                if (question.branching?.responseValues?.hasOwnProperty(ratingBucket)) {\n                    const nextStep = question.branching.responseValues[ratingBucket]\n\n                    // Specific question\n                    if (Number.isInteger(nextStep)) {\n                        return nextStep\n                    }\n\n                    if (nextStep === SurveyQuestionBranchingType.End) {\n                        return SurveyQuestionBranchingType.End\n                    }\n\n                    return nextQuestionIndex\n                }\n            }\n\n            return nextQuestionIndex\n        }\n\n        logger.warn(LOGGER_PREFIX, 'Falling back to next question index due to unexpected branching type')\n        return nextQuestionIndex\n    }\n\n    // this method is lazily loaded onto the window to avoid loading preact and other dependencies if surveys is not enabled\n    private _canActivateRepeatedly(survey: Survey) {\n        if (isNullish(assignableWindow.__PosthogExtensions__?.canActivateRepeatedly)) {\n            logger.warn(LOGGER_PREFIX, 'canActivateRepeatedly is not defined, must init before calling')\n            return false // TODO does it make sense to have a default here?\n        }\n        return assignableWindow.__PosthogExtensions__.canActivateRepeatedly(survey)\n    }\n\n    canRenderSurvey(surveyId: string) {\n        if (isNullish(this._surveyManager)) {\n            logger.warn(LOGGER_PREFIX, 'canActivateRepeatedly is not defined, must init before calling')\n            return\n        }\n        this.getSurveys((surveys) => {\n            const survey = surveys.filter((x) => x.id === surveyId)[0]\n            this._surveyManager.canRenderSurvey(survey)\n        })\n    }\n\n    renderSurvey(surveyId: string, selector: string) {\n        if (isNullish(this._surveyManager)) {\n            logger.warn(LOGGER_PREFIX, 'canActivateRepeatedly is not defined, must init before calling')\n            return\n        }\n        this.getSurveys((surveys) => {\n            const survey = surveys.filter((x) => x.id === surveyId)[0]\n            this._surveyManager.renderSurvey(survey, document?.querySelector(selector))\n        })\n    }\n}\n","import { CAPTURE_RATE_LIMIT } from './constants'\nimport type { PostHog } from './posthog-core'\nimport { RequestResponse } from './types'\nimport { logger } from './utils/logger'\n\nconst ONE_MINUTE_IN_MILLISECONDS = 60 * 1000\nconst RATE_LIMIT_EVENT = '$$client_ingestion_warning'\n\ninterface CaptureResponse {\n    quota_limited?: string[]\n}\n\nexport class RateLimiter {\n    instance: PostHog\n    serverLimits: Record<string, number> = {}\n\n    captureEventsPerSecond: number\n    captureEventsBurstLimit: number\n    lastEventRateLimited = false\n\n    constructor(instance: PostHog) {\n        this.instance = instance\n\n        this.captureEventsPerSecond = instance.config.rate_limiting?.events_per_second || 10\n        this.captureEventsBurstLimit = Math.max(\n            instance.config.rate_limiting?.events_burst_limit || this.captureEventsPerSecond * 10,\n            this.captureEventsPerSecond\n        )\n\n        this.lastEventRateLimited = this.clientRateLimitContext(true).isRateLimited\n    }\n\n    public clientRateLimitContext(checkOnly = false): {\n        isRateLimited: boolean\n        remainingTokens: number\n    } {\n        // This is primarily to prevent runaway loops from flooding capture with millions of events for a single user.\n        // It's as much for our protection as theirs.\n        const now = new Date().getTime()\n        const bucket = this.instance.persistence?.get_property(CAPTURE_RATE_LIMIT) ?? {\n            tokens: this.captureEventsBurstLimit,\n            last: now,\n        }\n\n        bucket.tokens += ((now - bucket.last) / 1000) * this.captureEventsPerSecond\n        bucket.last = now\n\n        if (bucket.tokens > this.captureEventsBurstLimit) {\n            bucket.tokens = this.captureEventsBurstLimit\n        }\n\n        const isRateLimited = bucket.tokens < 1\n\n        if (!isRateLimited && !checkOnly) {\n            bucket.tokens = Math.max(0, bucket.tokens - 1)\n        }\n\n        if (isRateLimited && !this.lastEventRateLimited && !checkOnly) {\n            this.instance.capture(\n                RATE_LIMIT_EVENT,\n                {\n                    $$client_ingestion_warning_message: `posthog-js client rate limited. Config is set to ${this.captureEventsPerSecond} events per second and ${this.captureEventsBurstLimit} events burst limit.`,\n                },\n                {\n                    skip_client_rate_limiting: true,\n                }\n            )\n        }\n\n        this.lastEventRateLimited = isRateLimited\n        this.instance.persistence?.set_property(CAPTURE_RATE_LIMIT, bucket)\n\n        return {\n            isRateLimited,\n            remainingTokens: bucket.tokens,\n        }\n    }\n\n    public isServerRateLimited(batchKey: string | undefined): boolean {\n        const retryAfter = this.serverLimits[batchKey || 'events'] || false\n\n        if (retryAfter === false) {\n            return false\n        }\n        return new Date().getTime() < retryAfter\n    }\n\n    public checkForLimiting = (httpResponse: RequestResponse): void => {\n        const text = httpResponse.text\n\n        if (!text || !text.length) {\n            return\n        }\n\n        try {\n            const response: CaptureResponse = JSON.parse(text)\n            const quotaLimitedProducts = response.quota_limited || []\n            quotaLimitedProducts.forEach((batchKey) => {\n                logger.info(`[RateLimiter] ${batchKey || 'events'} is quota limited.`)\n                this.serverLimits[batchKey] = new Date().getTime() + ONE_MINUTE_IN_MILLISECONDS\n            })\n        } catch (e: any) {\n            logger.warn(`[RateLimiter] could not rate limit - continuing. Error: \"${e?.message}\"`, { text })\n            return\n        }\n    }\n}\n","/* Client-side session parameters. These are primarily used by web analytics,\n * which relies on these for session analytics without the plugin server being\n * available for the person level set-once properties. Obviously not consistent\n * between client-side events and server-side events but this is acceptable\n * as web analytics only uses client-side.\n *\n * These have the same lifespan as a session_id\n */\nimport { location } from './utils/globals'\nimport { Info } from './utils/event-utils'\nimport { SessionIdManager } from './sessionid'\nimport { PostHogPersistence } from './posthog-persistence'\nimport { CLIENT_SESSION_PROPS } from './constants'\n\ninterface SessionSourceProps {\n    initialPathName: string\n    referringDomain: string // Is actually host, but named domain for internal consistency. Should contain a port if there is one.\n    utm_medium?: string\n    utm_source?: string\n    utm_campaign?: string\n    utm_content?: string\n    utm_term?: string\n}\n\ninterface StoredSessionSourceProps {\n    sessionId: string\n    props: SessionSourceProps\n}\n\nconst generateSessionSourceParams = (): SessionSourceProps => {\n    return {\n        initialPathName: location?.pathname || '',\n        referringDomain: Info.referringDomain(),\n        ...Info.campaignParams(),\n    }\n}\n\nexport class SessionPropsManager {\n    private readonly _sessionIdManager: SessionIdManager\n    private readonly _persistence: PostHogPersistence\n    private readonly _sessionSourceParamGenerator: () => SessionSourceProps\n\n    constructor(\n        sessionIdManager: SessionIdManager,\n        persistence: PostHogPersistence,\n        sessionSourceParamGenerator?: () => SessionSourceProps\n    ) {\n        this._sessionIdManager = sessionIdManager\n        this._persistence = persistence\n        this._sessionSourceParamGenerator = sessionSourceParamGenerator || generateSessionSourceParams\n\n        this._sessionIdManager.onSessionId(this._onSessionIdCallback)\n    }\n\n    _getStoredProps(): StoredSessionSourceProps | undefined {\n        return this._persistence.props[CLIENT_SESSION_PROPS]\n    }\n\n    _onSessionIdCallback = (sessionId: string) => {\n        const stored = this._getStoredProps()\n        if (stored && stored.sessionId === sessionId) {\n            return\n        }\n\n        const newProps: StoredSessionSourceProps = {\n            sessionId,\n            props: this._sessionSourceParamGenerator(),\n        }\n        this._persistence.register({ [CLIENT_SESSION_PROPS]: newProps })\n    }\n\n    getSessionProps() {\n        const p = this._getStoredProps()?.props\n        if (!p) {\n            return {}\n        }\n\n        return {\n            $client_session_initial_referring_host: p.referringDomain,\n            $client_session_initial_pathname: p.initialPathName,\n            $client_session_initial_utm_source: p.utm_source,\n            $client_session_initial_utm_campaign: p.utm_campaign,\n            $client_session_initial_utm_medium: p.utm_medium,\n            $client_session_initial_utm_content: p.utm_content,\n            $client_session_initial_utm_term: p.utm_term,\n        }\n    }\n}\n","export const DEFAULT_BLOCKED_UA_STRS = [\n    'ahrefsbot',\n    'ahrefssiteaudit',\n    'applebot',\n    'baiduspider',\n    'bingbot',\n    'bingpreview',\n    'bot.htm',\n    'bot.php',\n    'crawler',\n    'deepscan',\n    'duckduckbot',\n    'facebookexternal',\n    'facebookcatalog',\n    'gptbot',\n    'http://yandex.com/bots',\n    'hubspot',\n    'ia_archiver',\n    'linkedinbot',\n    'mj12bot',\n    'msnbot',\n    'nessus',\n    'petalbot',\n    'pinterest',\n    'prerender',\n    'rogerbot',\n    'screaming frog',\n    'semrushbot',\n    'sitebulb',\n    'slurp',\n    'turnitin',\n    'twitterbot',\n    'vercelbot',\n    'yahoo! slurp',\n    'yandexbot',\n\n    // headless browsers\n    'headlesschrome',\n    'cypress',\n    // we don't block electron here, as many customers use posthog-js in electron apps\n\n    // a whole bunch of goog-specific crawlers\n    // https://developers.google.com/search/docs/advanced/crawling/overview-google-crawlers\n    'Google-HotelAdsVerifier',\n    'adsbot-google',\n    'apis-google',\n    'duplexweb-google',\n    'feedfetcher-google',\n    'google favicon',\n    'google web preview',\n    'google-read-aloud',\n    'googlebot',\n    'googleweblight',\n    'mediapartners-google',\n    'storebot-google',\n    'Bytespider;',\n]\n\n/**\n * Block various web spiders from executing our JS and sending false capturing data\n */\nexport const isBlockedUA = function (ua: string, customBlockedUserAgents: string[]): boolean {\n    if (!ua) {\n        return false\n    }\n    const uaLower = ua.toLowerCase()\n    return DEFAULT_BLOCKED_UA_STRS.concat(customBlockedUserAgents || []).some((blockedUA) => {\n        const blockedUaLower = blockedUA.toLowerCase()\n\n        // can't use includes because IE 11 :/\n        return uaLower.indexOf(blockedUaLower) !== -1\n    })\n}\n\n// There's more in the type, but this is all we use. It's currently experimental, see\n// https://developer.mozilla.org/en-US/docs/Web/API/Navigator/userAgentData\n// if you're reading this in the future, when it's no longer experimental, please remove this type and use an official one.\n// Be extremely defensive here to ensure backwards and *forwards* compatibility, and remove this defensiveness in the\n// future when it is safe to do so.\nexport interface NavigatorUAData {\n    brands?: {\n        brand: string\n        version: string\n    }[]\n}\ndeclare global {\n    interface Navigator {\n        userAgentData?: NavigatorUAData\n    }\n}\n\nexport const isLikelyBot = function (navigator: Navigator | undefined, customBlockedUserAgents: string[]): boolean {\n    if (!navigator) {\n        return false\n    }\n    const ua = navigator.userAgent\n    if (ua) {\n        if (isBlockedUA(ua, customBlockedUserAgents)) {\n            return true\n        }\n    }\n    try {\n        // eslint-disable-next-line compat/compat\n        const uaData = navigator?.userAgentData as NavigatorUAData\n        if (uaData?.brands && uaData.brands.some((brandObj) => isBlockedUA(brandObj?.brand, customBlockedUserAgents))) {\n            return true\n        }\n    } catch {\n        // ignore the error, we were using experimental browser features\n    }\n\n    return !!navigator.webdriver\n\n    // There's some more enhancements we could make in this area, e.g. it's possible to check if Chrome dev tools are\n    // open, which will detect some bots that are trying to mask themselves and might get past the checks above.\n    // However, this would give false positives for actual humans who have dev tools open.\n\n    // We could also use the data in navigator.userAgentData.getHighEntropyValues() to detect bots, but we should wait\n    // until this stops being experimental. The MDN docs imply that this might eventually require user permission.\n    // See https://developer.mozilla.org/en-US/docs/Web/API/NavigatorUAData/getHighEntropyValues\n    // It would be very bad if posthog-js caused a permission prompt to appear on every page load.\n}\n","// Naive rage click implementation: If mouse has not moved than RAGE_CLICK_THRESHOLD_PX\n// over RAGE_CLICK_CLICK_COUNT clicks with max RAGE_CLICK_TIMEOUT_MS between clicks, it's\n// counted as a rage click\n\nconst RAGE_CLICK_THRESHOLD_PX = 30\nconst RAGE_CLICK_TIMEOUT_MS = 1000\nconst RAGE_CLICK_CLICK_COUNT = 3\n\nexport default class RageClick {\n    clicks: { x: number; y: number; timestamp: number }[]\n\n    constructor() {\n        this.clicks = []\n    }\n\n    isRageClick(x: number, y: number, timestamp: number): boolean {\n        const lastClick = this.clicks[this.clicks.length - 1]\n        if (\n            lastClick &&\n            Math.abs(x - lastClick.x) + Math.abs(y - lastClick.y) < RAGE_CLICK_THRESHOLD_PX &&\n            timestamp - lastClick.timestamp < RAGE_CLICK_TIMEOUT_MS\n        ) {\n            this.clicks.push({ x, y, timestamp })\n\n            if (this.clicks.length === RAGE_CLICK_CLICK_COUNT) {\n                return true\n            }\n        } else {\n            this.clicks = [{ x, y, timestamp }]\n        }\n\n        return false\n    }\n}\n","import { PostHog } from '../posthog-core'\nimport { DEAD_CLICKS_ENABLED_SERVER_SIDE } from '../constants'\nimport { isBoolean, isObject } from '../utils/type-utils'\nimport { assignableWindow, document, LazyLoadedDeadClicksAutocaptureInterface } from '../utils/globals'\nimport { logger } from '../utils/logger'\nimport { DeadClicksAutoCaptureConfig, DecideResponse } from '../types'\n\nconst LOGGER_PREFIX = '[Dead Clicks]'\n\nexport const isDeadClicksEnabledForHeatmaps = () => {\n    return true\n}\nexport const isDeadClicksEnabledForAutocapture = (instance: DeadClicksAutocapture) => {\n    const isRemoteEnabled = !!instance.instance.persistence?.get_property(DEAD_CLICKS_ENABLED_SERVER_SIDE)\n    const clientConfig = instance.instance.config.capture_dead_clicks\n    return isBoolean(clientConfig) ? clientConfig : isRemoteEnabled\n}\n\nexport class DeadClicksAutocapture {\n    get lazyLoadedDeadClicksAutocapture(): LazyLoadedDeadClicksAutocaptureInterface | undefined {\n        return this._lazyLoadedDeadClicksAutocapture\n    }\n\n    private _lazyLoadedDeadClicksAutocapture: LazyLoadedDeadClicksAutocaptureInterface | undefined\n\n    constructor(\n        readonly instance: PostHog,\n        readonly isEnabled: (dca: DeadClicksAutocapture) => boolean,\n        readonly onCapture?: DeadClicksAutoCaptureConfig['__onCapture']\n    ) {\n        this.startIfEnabled()\n    }\n\n    public afterDecideResponse(response: DecideResponse) {\n        if (this.instance.persistence) {\n            this.instance.persistence.register({\n                [DEAD_CLICKS_ENABLED_SERVER_SIDE]: response?.captureDeadClicks,\n            })\n        }\n        this.startIfEnabled()\n    }\n\n    public startIfEnabled() {\n        if (this.isEnabled(this)) {\n            this.loadScript(() => {\n                this.start()\n            })\n        }\n    }\n\n    private loadScript(cb: () => void): void {\n        if (assignableWindow.__PosthogExtensions__?.initDeadClicksAutocapture) {\n            // already loaded\n            cb()\n        }\n        assignableWindow.__PosthogExtensions__?.loadExternalDependency?.(\n            this.instance,\n            'dead-clicks-autocapture',\n            (err) => {\n                if (err) {\n                    logger.error(LOGGER_PREFIX + ' failed to load script', err)\n                    return\n                }\n                cb()\n            }\n        )\n    }\n\n    private start() {\n        if (!document) {\n            logger.error(LOGGER_PREFIX + ' `document` not found. Cannot start.')\n            return\n        }\n\n        if (\n            !this._lazyLoadedDeadClicksAutocapture &&\n            assignableWindow.__PosthogExtensions__?.initDeadClicksAutocapture\n        ) {\n            const config = isObject(this.instance.config.capture_dead_clicks)\n                ? this.instance.config.capture_dead_clicks\n                : {}\n            config.__onCapture = this.onCapture\n\n            this._lazyLoadedDeadClicksAutocapture = assignableWindow.__PosthogExtensions__.initDeadClicksAutocapture(\n                this.instance,\n                config\n            )\n            this._lazyLoadedDeadClicksAutocapture.start(document)\n            logger.info(`${LOGGER_PREFIX} starting...`)\n        }\n    }\n\n    stop() {\n        if (this._lazyLoadedDeadClicksAutocapture) {\n            this._lazyLoadedDeadClicksAutocapture.stop()\n            this._lazyLoadedDeadClicksAutocapture = undefined\n            logger.info(`${LOGGER_PREFIX} stopping...`)\n        }\n    }\n}\n","import { includes, registerEvent } from './utils'\nimport RageClick from './extensions/rageclick'\nimport { DeadClickCandidate, DecideResponse, Properties } from './types'\nimport { PostHog } from './posthog-core'\n\nimport { document, window } from './utils/globals'\nimport { getEventTarget, getParentElement } from './autocapture-utils'\nimport { HEATMAPS_ENABLED_SERVER_SIDE } from './constants'\nimport { isEmptyObject, isObject, isUndefined } from './utils/type-utils'\nimport { logger } from './utils/logger'\nimport { isElementInToolbar, isElementNode, isTag } from './utils/element-utils'\nimport { DeadClicksAutocapture, isDeadClicksEnabledForHeatmaps } from './extensions/dead-clicks-autocapture'\n\nconst DEFAULT_FLUSH_INTERVAL = 5000\nconst HEATMAPS = 'heatmaps'\nconst LOGGER_PREFIX = '[' + HEATMAPS + ']'\n\ntype HeatmapEventBuffer =\n    | {\n          [key: string]: Properties[]\n      }\n    | undefined\n\nfunction elementOrParentPositionMatches(el: Element | null, matches: string[], breakOnElement?: Element): boolean {\n    let curEl: Element | null | false = el\n\n    while (curEl && isElementNode(curEl) && !isTag(curEl, 'body')) {\n        if (curEl === breakOnElement) {\n            return false\n        }\n\n        if (includes(matches, window?.getComputedStyle(curEl).position)) {\n            return true\n        }\n\n        curEl = getParentElement(curEl)\n    }\n\n    return false\n}\n\nexport class Heatmaps {\n    instance: PostHog\n    rageclicks = new RageClick()\n    _enabledServerSide: boolean = false\n    _initialized = false\n    _mouseMoveTimeout: ReturnType<typeof setTimeout> | undefined\n\n    // TODO: Periodically flush this if no other event has taken care of it\n    private buffer: HeatmapEventBuffer\n    private _flushInterval: ReturnType<typeof setInterval> | null = null\n    private deadClicksCapture: DeadClicksAutocapture | undefined\n\n    constructor(instance: PostHog) {\n        this.instance = instance\n        this._enabledServerSide = !!this.instance.persistence?.props[HEATMAPS_ENABLED_SERVER_SIDE]\n\n        window?.addEventListener('beforeunload', () => {\n            this.flush()\n        })\n    }\n\n    public get flushIntervalMilliseconds(): number {\n        let flushInterval = DEFAULT_FLUSH_INTERVAL\n        if (\n            isObject(this.instance.config.capture_heatmaps) &&\n            this.instance.config.capture_heatmaps.flush_interval_milliseconds\n        ) {\n            flushInterval = this.instance.config.capture_heatmaps.flush_interval_milliseconds\n        }\n        return flushInterval\n    }\n\n    public get isEnabled(): boolean {\n        if (!isUndefined(this.instance.config.capture_heatmaps)) {\n            return this.instance.config.capture_heatmaps !== false\n        }\n        if (!isUndefined(this.instance.config.enable_heatmaps)) {\n            return this.instance.config.enable_heatmaps\n        }\n        return this._enabledServerSide\n    }\n\n    public startIfEnabled(): void {\n        if (this.isEnabled) {\n            // nested if here since we only want to run the else\n            // if this.enabled === false\n            // not if this method is called more than once\n            if (this._initialized) {\n                return\n            }\n            logger.info(LOGGER_PREFIX + ' starting...')\n            this._setupListeners()\n            this._flushInterval = setInterval(this.flush.bind(this), this.flushIntervalMilliseconds)\n        } else {\n            clearInterval(this._flushInterval ?? undefined)\n            this.deadClicksCapture?.stop()\n            this.getAndClearBuffer()\n        }\n    }\n\n    public afterDecideResponse(response: DecideResponse) {\n        const optIn = !!response['heatmaps']\n\n        if (this.instance.persistence) {\n            this.instance.persistence.register({\n                [HEATMAPS_ENABLED_SERVER_SIDE]: optIn,\n            })\n        }\n        // store this in-memory in case persistence is disabled\n        this._enabledServerSide = optIn\n        this.startIfEnabled()\n    }\n\n    public getAndClearBuffer(): HeatmapEventBuffer {\n        const buffer = this.buffer\n        this.buffer = undefined\n        return buffer\n    }\n\n    private _onDeadClick(click: DeadClickCandidate): void {\n        this._onClick(click.originalEvent, 'deadclick')\n    }\n\n    private _setupListeners(): void {\n        if (!window || !document) {\n            return\n        }\n\n        registerEvent(document, 'click', (e) => this._onClick((e || window?.event) as MouseEvent), false, true)\n        registerEvent(document, 'mousemove', (e) => this._onMouseMove((e || window?.event) as MouseEvent), false, true)\n\n        this.deadClicksCapture = new DeadClicksAutocapture(\n            this.instance,\n            isDeadClicksEnabledForHeatmaps,\n            this._onDeadClick.bind(this)\n        )\n        this.deadClicksCapture.startIfEnabled()\n\n        this._initialized = true\n    }\n\n    private _getProperties(e: MouseEvent, type: string): Properties {\n        // We need to know if the target element is fixed or not\n        // If fixed then we won't account for scrolling\n        // If not then we will account for scrolling\n\n        const scrollY = this.instance.scrollManager.scrollY()\n        const scrollX = this.instance.scrollManager.scrollX()\n        const scrollElement = this.instance.scrollManager.scrollElement()\n\n        const isFixedOrSticky = elementOrParentPositionMatches(getEventTarget(e), ['fixed', 'sticky'], scrollElement)\n\n        return {\n            x: e.clientX + (isFixedOrSticky ? 0 : scrollX),\n            y: e.clientY + (isFixedOrSticky ? 0 : scrollY),\n            target_fixed: isFixedOrSticky,\n            type,\n        }\n    }\n\n    private _onClick(e: MouseEvent, type: string = 'click'): void {\n        if (isElementInToolbar(e.target as Element)) {\n            return\n        }\n        const properties = this._getProperties(e, type)\n\n        if (this.rageclicks?.isRageClick(e.clientX, e.clientY, new Date().getTime())) {\n            this._capture({\n                ...properties,\n                type: 'rageclick',\n            })\n        }\n\n        this._capture(properties)\n    }\n\n    private _onMouseMove(e: Event): void {\n        if (isElementInToolbar(e.target as Element)) {\n            return\n        }\n        clearTimeout(this._mouseMoveTimeout)\n\n        this._mouseMoveTimeout = setTimeout(() => {\n            this._capture(this._getProperties(e as MouseEvent, 'mousemove'))\n        }, 500)\n    }\n\n    private _capture(properties: Properties): void {\n        if (!window) {\n            return\n        }\n\n        // TODO we should be able to mask this\n        const url = window.location.href\n\n        this.buffer = this.buffer || {}\n\n        if (!this.buffer[url]) {\n            this.buffer[url] = []\n        }\n\n        this.buffer[url].push(properties)\n    }\n\n    private flush(): void {\n        if (!this.buffer || isEmptyObject(this.buffer)) {\n            return\n        }\n\n        this.instance.capture('$$heatmap', {\n            $heatmap_data: this.getAndClearBuffer(),\n        })\n    }\n}\n","import { window } from './utils/globals'\nimport { PostHog } from './posthog-core'\nimport { isArray } from './utils/type-utils'\n\nexport interface ScrollContext {\n    // scroll is how far down the page the user has scrolled,\n    // content is how far down the page the user can view content\n    // (e.g. if the page is 1000 tall, but the user's screen is only 500 tall,\n    // and they don't scroll at all, then scroll is 0 and content is 500)\n    maxScrollHeight?: number\n    maxScrollY?: number\n    lastScrollY?: number\n    maxContentHeight?: number\n    maxContentY?: number\n    lastContentY?: number\n}\n\n// This class is responsible for tracking scroll events and maintaining the scroll context\nexport class ScrollManager {\n    private context: ScrollContext | undefined\n\n    constructor(private instance: PostHog) {}\n\n    getContext(): ScrollContext | undefined {\n        return this.context\n    }\n\n    resetContext(): ScrollContext | undefined {\n        const ctx = this.context\n\n        // update the scroll properties for the new page, but wait until the next tick\n        // of the event loop\n        setTimeout(this._updateScrollData, 0)\n\n        return ctx\n    }\n\n    private _updateScrollData = () => {\n        if (!this.context) {\n            this.context = {}\n        }\n\n        const el = this.scrollElement()\n\n        const scrollY = this.scrollY()\n        const scrollHeight = el ? Math.max(0, el.scrollHeight - el.clientHeight) : 0\n        const contentY = scrollY + (el?.clientHeight || 0)\n        const contentHeight = el?.scrollHeight || 0\n\n        this.context.lastScrollY = Math.ceil(scrollY)\n        this.context.maxScrollY = Math.max(scrollY, this.context.maxScrollY ?? 0)\n        this.context.maxScrollHeight = Math.max(scrollHeight, this.context.maxScrollHeight ?? 0)\n\n        this.context.lastContentY = contentY\n        this.context.maxContentY = Math.max(contentY, this.context.maxContentY ?? 0)\n        this.context.maxContentHeight = Math.max(contentHeight, this.context.maxContentHeight ?? 0)\n    }\n\n    startMeasuringScrollPosition() {\n        // setting the third argument to `true` means that we will receive scroll events for other scrollable elements\n        // on the page, not just the window\n        // see https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#usecapture\n        window?.addEventListener('scroll', this._updateScrollData, true)\n        window?.addEventListener('scrollend', this._updateScrollData, true)\n        window?.addEventListener('resize', this._updateScrollData)\n    }\n\n    public scrollElement(): Element | undefined {\n        if (this.instance.config.scroll_root_selector) {\n            const selectors = isArray(this.instance.config.scroll_root_selector)\n                ? this.instance.config.scroll_root_selector\n                : [this.instance.config.scroll_root_selector]\n            for (const selector of selectors) {\n                const element = window?.document.querySelector(selector)\n                if (element) {\n                    return element\n                }\n            }\n            return undefined\n        } else {\n            return window?.document.documentElement\n        }\n    }\n\n    public scrollY(): number {\n        if (this.instance.config.scroll_root_selector) {\n            const element = this.scrollElement()\n            return (element && element.scrollTop) || 0\n        } else {\n            return window ? window.scrollY || window.pageYOffset || window.document.documentElement.scrollTop || 0 : 0\n        }\n    }\n\n    public scrollX(): number {\n        if (this.instance.config.scroll_root_selector) {\n            const element = this.scrollElement()\n            return (element && element.scrollLeft) || 0\n        } else {\n            return window ? window.scrollX || window.pageXOffset || window.document.documentElement.scrollLeft || 0 : 0\n        }\n    }\n}\n","import { each, extend, includes, registerEvent } from './utils'\nimport {\n    autocaptureCompatibleElements,\n    getClassNames,\n    getDirectAndNestedSpanText,\n    getElementsChainString,\n    getEventTarget,\n    getSafeText,\n    isAngularStyleAttr,\n    isSensitiveElement,\n    makeSafeText,\n    shouldCaptureDomEvent,\n    shouldCaptureElement,\n    shouldCaptureValue,\n    splitClassString,\n} from './autocapture-utils'\nimport RageClick from './extensions/rageclick'\nimport { AutocaptureConfig, DecideResponse, Properties } from './types'\nimport { PostHog } from './posthog-core'\nimport { AUTOCAPTURE_DISABLED_SERVER_SIDE } from './constants'\n\nimport { isBoolean, isFunction, isNull, isObject } from './utils/type-utils'\nimport { logger } from './utils/logger'\nimport { document, window } from './utils/globals'\nimport { convertToURL } from './utils/request-utils'\nimport { isDocumentFragment, isElementNode, isTag, isTextNode } from './utils/element-utils'\n\nconst COPY_AUTOCAPTURE_EVENT = '$copy_autocapture'\n\nfunction limitText(length: number, text: string): string {\n    if (text.length > length) {\n        return text.slice(0, length) + '...'\n    }\n    return text\n}\n\nexport function getAugmentPropertiesFromElement(elem: Element): Properties {\n    const shouldCaptureEl = shouldCaptureElement(elem)\n    if (!shouldCaptureEl) {\n        return {}\n    }\n\n    const props: Properties = {}\n\n    each(elem.attributes, function (attr: Attr) {\n        if (attr.name && attr.name.indexOf('data-ph-capture-attribute') === 0) {\n            const propertyKey = attr.name.replace('data-ph-capture-attribute-', '')\n            const propertyValue = attr.value\n            if (propertyKey && propertyValue && shouldCaptureValue(propertyValue)) {\n                props[propertyKey] = propertyValue\n            }\n        }\n    })\n\n    return props\n}\n\nexport function previousElementSibling(el: Element): Element | null {\n    if (el.previousElementSibling) {\n        return el.previousElementSibling\n    }\n    let _el: Element | null = el\n    do {\n        _el = _el.previousSibling as Element | null // resolves to ChildNode->Node, which is Element's parent class\n    } while (_el && !isElementNode(_el))\n    return _el\n}\n\nexport function getDefaultProperties(eventType: string): Properties {\n    return {\n        $event_type: eventType,\n        $ce_version: 1,\n    }\n}\n\nexport function getPropertiesFromElement(\n    elem: Element,\n    maskAllAttributes: boolean,\n    maskText: boolean,\n    elementAttributeIgnorelist: string[] | undefined\n): Properties {\n    const tag_name = elem.tagName.toLowerCase()\n    const props: Properties = {\n        tag_name: tag_name,\n    }\n    if (autocaptureCompatibleElements.indexOf(tag_name) > -1 && !maskText) {\n        if (tag_name.toLowerCase() === 'a' || tag_name.toLowerCase() === 'button') {\n            props['$el_text'] = limitText(1024, getDirectAndNestedSpanText(elem))\n        } else {\n            props['$el_text'] = limitText(1024, getSafeText(elem))\n        }\n    }\n\n    const classes = getClassNames(elem)\n    if (classes.length > 0)\n        props['classes'] = classes.filter(function (c) {\n            return c !== ''\n        })\n\n    // capture the deny list here because this not-a-class class makes it tricky to use this.config in the function below\n    each(elem.attributes, function (attr: Attr) {\n        // Only capture attributes we know are safe\n        if (isSensitiveElement(elem) && ['name', 'id', 'class', 'aria-label'].indexOf(attr.name) === -1) return\n\n        if (elementAttributeIgnorelist?.includes(attr.name)) return\n\n        if (!maskAllAttributes && shouldCaptureValue(attr.value) && !isAngularStyleAttr(attr.name)) {\n            let value = attr.value\n            if (attr.name === 'class') {\n                // html attributes can _technically_ contain linebreaks,\n                // but we're very intolerant of them in the class string,\n                // so we strip them.\n                value = splitClassString(value).join(' ')\n            }\n            props['attr__' + attr.name] = limitText(1024, value)\n        }\n    })\n\n    let nthChild = 1\n    let nthOfType = 1\n    let currentElem: Element | null = elem\n    while ((currentElem = previousElementSibling(currentElem))) {\n        // eslint-disable-line no-cond-assign\n        nthChild++\n        if (currentElem.tagName === elem.tagName) {\n            nthOfType++\n        }\n    }\n    props['nth_child'] = nthChild\n    props['nth_of_type'] = nthOfType\n\n    return props\n}\n\nexport function autocapturePropertiesForElement(\n    target: Element,\n    {\n        e,\n        maskAllElementAttributes,\n        maskAllText,\n        elementAttributeIgnoreList,\n        elementsChainAsString,\n    }: {\n        e: Event\n        maskAllElementAttributes: boolean\n        maskAllText: boolean\n        elementAttributeIgnoreList?: string[] | undefined\n        elementsChainAsString: boolean\n    }\n): { props: Properties; explicitNoCapture?: boolean } {\n    const targetElementList = [target]\n    let curEl = target\n    while (curEl.parentNode && !isTag(curEl, 'body')) {\n        if (isDocumentFragment(curEl.parentNode)) {\n            targetElementList.push((curEl.parentNode as any).host)\n            curEl = (curEl.parentNode as any).host\n            continue\n        }\n        targetElementList.push(curEl.parentNode as Element)\n        curEl = curEl.parentNode as Element\n    }\n\n    const elementsJson: Properties[] = []\n    const autocaptureAugmentProperties: Properties = {}\n    let href: string | false = false\n    let explicitNoCapture = false\n\n    each(targetElementList, (el) => {\n        const shouldCaptureEl = shouldCaptureElement(el)\n\n        // if the element or a parent element is an anchor tag\n        // include the href as a property\n        if (el.tagName.toLowerCase() === 'a') {\n            href = el.getAttribute('href')\n            href = shouldCaptureEl && href && shouldCaptureValue(href) && href\n        }\n\n        // allow users to programmatically prevent capturing of elements by adding class 'ph-no-capture'\n        const classes = getClassNames(el)\n        if (includes(classes, 'ph-no-capture')) {\n            explicitNoCapture = true\n        }\n\n        elementsJson.push(\n            getPropertiesFromElement(el, maskAllElementAttributes, maskAllText, elementAttributeIgnoreList)\n        )\n\n        const augmentProperties = getAugmentPropertiesFromElement(el)\n        extend(autocaptureAugmentProperties, augmentProperties)\n    })\n\n    if (explicitNoCapture) {\n        return { props: {}, explicitNoCapture }\n    }\n\n    if (!maskAllText) {\n        // if the element is a button or anchor tag get the span text from any\n        // children and include it as/with the text property on the parent element\n        if (target.tagName.toLowerCase() === 'a' || target.tagName.toLowerCase() === 'button') {\n            elementsJson[0]['$el_text'] = getDirectAndNestedSpanText(target)\n        } else {\n            elementsJson[0]['$el_text'] = getSafeText(target)\n        }\n    }\n\n    let externalHref: string | undefined\n    if (href) {\n        elementsJson[0]['attr__href'] = href\n        const hrefHost = convertToURL(href)?.host\n        const locationHost = window?.location?.host\n        if (hrefHost && locationHost && hrefHost !== locationHost) {\n            externalHref = href\n        }\n    }\n\n    const props = extend(\n        getDefaultProperties(e.type),\n        elementsChainAsString\n            ? {\n                  $elements_chain: getElementsChainString(elementsJson),\n              }\n            : {\n                  $elements: elementsJson,\n              },\n        elementsJson[0]?.['$el_text'] ? { $el_text: elementsJson[0]?.['$el_text'] } : {},\n        externalHref && e.type === 'click' ? { $external_click_url: externalHref } : {},\n        autocaptureAugmentProperties\n    )\n\n    return { props }\n}\n\nexport class Autocapture {\n    instance: PostHog\n    _initialized: boolean = false\n    _isDisabledServerSide: boolean | null = null\n    _elementSelectors: Set<string> | null\n    rageclicks = new RageClick()\n    _elementsChainAsString = false\n\n    constructor(instance: PostHog) {\n        this.instance = instance\n        this._elementSelectors = null\n    }\n\n    private get config(): AutocaptureConfig {\n        const config = isObject(this.instance.config.autocapture) ? this.instance.config.autocapture : {}\n        // precompile the regex\n        config.url_allowlist = config.url_allowlist?.map((url) => new RegExp(url))\n        config.url_ignorelist = config.url_ignorelist?.map((url) => new RegExp(url))\n        return config\n    }\n\n    _addDomEventHandlers(): void {\n        if (!this.isBrowserSupported()) {\n            logger.info('Disabling Automatic Event Collection because this browser is not supported')\n            return\n        }\n\n        if (!window || !document) {\n            return\n        }\n        const handler = (e: Event) => {\n            e = e || window?.event\n            try {\n                this._captureEvent(e)\n            } catch (error) {\n                logger.error('Failed to capture event', error)\n            }\n        }\n\n        const copiedTextHandler = (e: Event) => {\n            e = e || window?.event\n            this._captureEvent(e, COPY_AUTOCAPTURE_EVENT)\n        }\n\n        registerEvent(document, 'submit', handler, false, true)\n        registerEvent(document, 'change', handler, false, true)\n        registerEvent(document, 'click', handler, false, true)\n\n        if (this.config.capture_copied_text) {\n            registerEvent(document, 'copy', copiedTextHandler, false, true)\n            registerEvent(document, 'cut', copiedTextHandler, false, true)\n        }\n    }\n\n    public startIfEnabled() {\n        if (this.isEnabled && !this._initialized) {\n            this._addDomEventHandlers()\n            this._initialized = true\n        }\n    }\n\n    public afterDecideResponse(response: DecideResponse) {\n        if (response.elementsChainAsString) {\n            this._elementsChainAsString = response.elementsChainAsString\n        }\n\n        if (this.instance.persistence) {\n            this.instance.persistence.register({\n                [AUTOCAPTURE_DISABLED_SERVER_SIDE]: !!response['autocapture_opt_out'],\n            })\n        }\n        // store this in-memory in case persistence is disabled\n        this._isDisabledServerSide = !!response['autocapture_opt_out']\n        this.startIfEnabled()\n    }\n\n    public setElementSelectors(selectors: Set<string>): void {\n        this._elementSelectors = selectors\n    }\n\n    public getElementSelectors(element: Element | null): string[] | null {\n        const elementSelectors: string[] = []\n\n        this._elementSelectors?.forEach((selector) => {\n            const matchedElements = document?.querySelectorAll(selector)\n            matchedElements?.forEach((matchedElement: Element) => {\n                if (element === matchedElement) {\n                    elementSelectors.push(selector)\n                }\n            })\n        })\n\n        return elementSelectors\n    }\n\n    public get isEnabled(): boolean {\n        const persistedServerDisabled = this.instance.persistence?.props[AUTOCAPTURE_DISABLED_SERVER_SIDE]\n        const memoryDisabled = this._isDisabledServerSide\n\n        if (\n            isNull(memoryDisabled) &&\n            !isBoolean(persistedServerDisabled) &&\n            !this.instance.config.advanced_disable_decide\n        ) {\n            // We only enable if we know that the server has not disabled it (unless decide is disabled)\n            return false\n        }\n\n        const disabledServer = this._isDisabledServerSide ?? !!persistedServerDisabled\n        const disabledClient = !this.instance.config.autocapture\n        return !disabledClient && !disabledServer\n    }\n\n    private _captureEvent(e: Event, eventName = '$autocapture'): boolean | void {\n        if (!this.isEnabled) {\n            return\n        }\n\n        /*** Don't mess with this code without running IE8 tests on it ***/\n        let target = getEventTarget(e)\n        if (isTextNode(target)) {\n            // defeat Safari bug (see: http://www.quirksmode.org/js/events_properties.html)\n            target = (target.parentNode || null) as Element | null\n        }\n\n        if (eventName === '$autocapture' && e.type === 'click' && e instanceof MouseEvent) {\n            if (\n                this.instance.config.rageclick &&\n                this.rageclicks?.isRageClick(e.clientX, e.clientY, new Date().getTime())\n            ) {\n                this._captureEvent(e, '$rageclick')\n            }\n        }\n\n        const isCopyAutocapture = eventName === COPY_AUTOCAPTURE_EVENT\n        if (\n            target &&\n            shouldCaptureDomEvent(\n                target,\n                e,\n                this.config,\n                // mostly this method cares about the target element, but in the case of copy events,\n                // we want some of the work this check does without insisting on the target element's type\n                isCopyAutocapture,\n                // we also don't want to restrict copy checks to clicks,\n                // so we pass that knowledge in here, rather than add the logic inside the check\n                isCopyAutocapture ? ['copy', 'cut'] : undefined\n            )\n        ) {\n            const { props, explicitNoCapture } = autocapturePropertiesForElement(target, {\n                e,\n                maskAllElementAttributes: this.instance.config.mask_all_element_attributes,\n                maskAllText: this.instance.config.mask_all_text,\n                elementAttributeIgnoreList: this.config.element_attribute_ignorelist,\n                elementsChainAsString: this._elementsChainAsString,\n            })\n\n            if (explicitNoCapture) {\n                return false\n            }\n\n            const elementSelectors = this.getElementSelectors(target)\n            if (elementSelectors && elementSelectors.length > 0) {\n                props['$element_selectors'] = elementSelectors\n            }\n\n            if (eventName === COPY_AUTOCAPTURE_EVENT) {\n                // you can't read the data from the clipboard event,\n                // but you can guess that you can read it from the window's current selection\n                const selectedContent = makeSafeText(window?.getSelection()?.toString())\n                const clipType = (e as ClipboardEvent).type || 'clipboard'\n                if (!selectedContent) {\n                    return false\n                }\n                props['$selected_content'] = selectedContent\n                props['$copy_type'] = clipType\n            }\n\n            this.instance.capture(eventName, props)\n            return true\n        }\n    }\n\n    isBrowserSupported(): boolean {\n        return isFunction(document?.querySelectorAll)\n    }\n}\n","import { PostHog } from '../posthog-core'\nimport { assignableWindow } from '../utils/globals'\nimport { logger } from '../utils/logger'\nimport { isUndefined } from '../utils/type-utils'\n\nconst LOGGER_PREFIX = '[TRACING-HEADERS]'\n\nexport class TracingHeaders {\n    private _restoreXHRPatch: (() => void) | undefined = undefined\n    private _restoreFetchPatch: (() => void) | undefined = undefined\n\n    constructor(private readonly instance: PostHog) {}\n\n    private _loadScript(cb: () => void): void {\n        if (assignableWindow.__PosthogExtensions__?.tracingHeadersPatchFns) {\n            // already loaded\n            cb()\n        }\n\n        assignableWindow.__PosthogExtensions__?.loadExternalDependency?.(this.instance, 'tracing-headers', (err) => {\n            if (err) {\n                return logger.error(LOGGER_PREFIX + ' failed to load script', err)\n            }\n            cb()\n        })\n    }\n    public startIfEnabledOrStop() {\n        if (this.instance.config.__add_tracing_headers) {\n            this._loadScript(this._startCapturing)\n        } else {\n            this._restoreXHRPatch?.()\n            this._restoreFetchPatch?.()\n            // we don't want to call these twice so we reset them\n            this._restoreXHRPatch = undefined\n            this._restoreFetchPatch = undefined\n        }\n    }\n\n    private _startCapturing = () => {\n        // NB: we can assert sessionManager is present only because we've checked previously\n        if (isUndefined(this._restoreXHRPatch)) {\n            assignableWindow.__PosthogExtensions__?.tracingHeadersPatchFns?._patchXHR(this.instance.sessionManager!)\n        }\n        if (isUndefined(this._restoreFetchPatch)) {\n            assignableWindow.__PosthogExtensions__?.tracingHeadersPatchFns?._patchFetch(this.instance.sessionManager!)\n        }\n    }\n}\n","import { PostHog } from './posthog-core'\nimport { find, includes } from './utils'\nimport { assignableWindow, navigator } from './utils/globals'\nimport { cookieStore, localStore } from './storage'\nimport { PersistentStore } from './types'\n\nconst OPT_OUT_PREFIX = '__ph_opt_in_out_'\n\nexport enum ConsentStatus {\n    PENDING = -1,\n    DENIED = 0,\n    GRANTED = 1,\n}\n\n/**\n * ConsentManager provides tools for managing user consent as configured by the application.\n */\nexport class ConsentManager {\n    private _storage?: PersistentStore\n\n    constructor(private instance: PostHog) {}\n\n    private get config() {\n        return this.instance.config\n    }\n\n    public get consent(): ConsentStatus {\n        if (this.getDnt()) {\n            return ConsentStatus.DENIED\n        }\n\n        return this.storedConsent\n    }\n\n    public isOptedOut() {\n        return (\n            this.consent === ConsentStatus.DENIED ||\n            (this.consent === ConsentStatus.PENDING && this.config.opt_out_capturing_by_default)\n        )\n    }\n\n    public isOptedIn() {\n        return !this.isOptedOut()\n    }\n\n    public optInOut(isOptedIn: boolean) {\n        this.storage.set(\n            this.storageKey,\n            isOptedIn ? 1 : 0,\n            this.config.cookie_expiration,\n            this.config.cross_subdomain_cookie,\n            this.config.secure_cookie\n        )\n    }\n\n    public reset() {\n        this.storage.remove(this.storageKey, this.config.cross_subdomain_cookie)\n    }\n\n    private get storageKey() {\n        const { token, opt_out_capturing_cookie_prefix } = this.instance.config\n        return (opt_out_capturing_cookie_prefix || OPT_OUT_PREFIX) + token\n    }\n\n    private get storedConsent(): ConsentStatus {\n        const value = this.storage.get(this.storageKey)\n        return value === '1' ? ConsentStatus.GRANTED : value === '0' ? ConsentStatus.DENIED : ConsentStatus.PENDING\n    }\n\n    private get storage() {\n        if (!this._storage) {\n            const persistenceType = this.config.opt_out_capturing_persistence_type\n            this._storage = persistenceType === 'localStorage' ? localStore : cookieStore\n            const otherStorage = persistenceType === 'localStorage' ? cookieStore : localStore\n\n            if (otherStorage.get(this.storageKey)) {\n                if (!this._storage.get(this.storageKey)) {\n                    // This indicates we have moved to a new storage format so we migrate the value over\n                    this.optInOut(otherStorage.get(this.storageKey) === '1')\n                }\n\n                otherStorage.remove(this.storageKey, this.config.cross_subdomain_cookie)\n            }\n        }\n\n        return this._storage\n    }\n\n    private getDnt(): boolean {\n        if (!this.config.respect_dnt) {\n            return false\n        }\n        return !!find(\n            [\n                navigator?.doNotTrack, // standard\n                (navigator as any)?.['msDoNotTrack'],\n                assignableWindow['doNotTrack'],\n            ],\n            (dntValue): boolean => {\n                return includes([true, 1, '1', 'yes'], dntValue)\n            }\n        )\n    }\n}\n","import { assignableWindow, window } from '../../utils/globals'\nimport { PostHog } from '../../posthog-core'\nimport { DecideResponse, Properties } from '../../types'\n\nimport { logger } from '../../utils/logger'\nimport { EXCEPTION_CAPTURE_ENABLED_SERVER_SIDE } from '../../constants'\n\nconst LOGGER_PREFIX = '[Exception Autocapture]'\n\nexport class ExceptionObserver {\n    instance: PostHog\n    remoteEnabled: boolean | undefined\n    private originalOnUnhandledRejectionHandler: Window['onunhandledrejection'] | null | undefined = undefined\n    private unwrapOnError: (() => void) | undefined\n    private unwrapUnhandledRejection: (() => void) | undefined\n\n    constructor(instance: PostHog) {\n        this.instance = instance\n        this.remoteEnabled = !!this.instance.persistence?.props[EXCEPTION_CAPTURE_ENABLED_SERVER_SIDE]\n\n        this.startIfEnabled()\n    }\n\n    get isEnabled() {\n        return this.remoteEnabled ?? false\n    }\n\n    get isCapturing() {\n        return !!(window?.onerror as any)?.__POSTHOG_INSTRUMENTED__\n    }\n\n    get hasHandlers() {\n        return this.originalOnUnhandledRejectionHandler || this.unwrapOnError\n    }\n\n    startIfEnabled(): void {\n        if (this.isEnabled && !this.isCapturing) {\n            logger.info(LOGGER_PREFIX + ' enabled, starting...')\n            this.loadScript(this.startCapturing)\n        }\n    }\n\n    private loadScript(cb: () => void): void {\n        if (this.hasHandlers) {\n            // already loaded\n            cb()\n        }\n\n        assignableWindow.__PosthogExtensions__?.loadExternalDependency?.(\n            this.instance,\n            'exception-autocapture',\n            (err) => {\n                if (err) {\n                    return logger.error(LOGGER_PREFIX + ' failed to load script', err)\n                }\n                cb()\n            }\n        )\n    }\n\n    private startCapturing = () => {\n        if (!window || !this.isEnabled || this.hasHandlers || this.isCapturing) {\n            return\n        }\n\n        const wrapOnError = assignableWindow.__PosthogExtensions__?.errorWrappingFunctions?.wrapOnError\n        const wrapUnhandledRejection =\n            assignableWindow.__PosthogExtensions__?.errorWrappingFunctions?.wrapUnhandledRejection\n\n        if (!wrapOnError || !wrapUnhandledRejection) {\n            logger.error(LOGGER_PREFIX + ' failed to load error wrapping functions - cannot start')\n            return\n        }\n\n        try {\n            this.unwrapOnError = wrapOnError(this.captureException.bind(this))\n            this.unwrapUnhandledRejection = wrapUnhandledRejection(this.captureException.bind(this))\n        } catch (e) {\n            logger.error(LOGGER_PREFIX + ' failed to start', e)\n            this.stopCapturing()\n        }\n    }\n\n    private stopCapturing() {\n        this.unwrapOnError?.()\n        this.unwrapUnhandledRejection?.()\n    }\n\n    afterDecideResponse(response: DecideResponse) {\n        const autocaptureExceptionsResponse = response.autocaptureExceptions\n\n        // store this in-memory in case persistence is disabled\n        this.remoteEnabled = !!autocaptureExceptionsResponse || false\n\n        if (this.instance.persistence) {\n            this.instance.persistence.register({\n                [EXCEPTION_CAPTURE_ENABLED_SERVER_SIDE]: this.remoteEnabled,\n            })\n        }\n\n        this.startIfEnabled()\n    }\n\n    captureException(errorProperties: Properties) {\n        const posthogHost = this.instance.requestRouter.endpointFor('ui')\n\n        errorProperties.$exception_personURL = `${posthogHost}/project/${\n            this.instance.config.token\n        }/person/${this.instance.get_distinct_id()}`\n\n        this.instance.exceptions.sendExceptionEvent(errorProperties)\n    }\n}\n","import { PostHog } from '../../posthog-core'\nimport { DecideResponse, SupportedWebVitalsMetrics } from '../../types'\nimport { logger } from '../../utils/logger'\nimport { isBoolean, isNullish, isNumber, isObject, isUndefined } from '../../utils/type-utils'\nimport { WEB_VITALS_ALLOWED_METRICS, WEB_VITALS_ENABLED_SERVER_SIDE } from '../../constants'\nimport { assignableWindow, window } from '../../utils/globals'\n\ntype WebVitalsMetricCallback = (metric: any) => void\n\nexport const DEFAULT_FLUSH_TO_CAPTURE_TIMEOUT_MILLISECONDS = 5000\nconst ONE_MINUTE_IN_MILLIS = 60 * 1000\nexport const FIFTEEN_MINUTES_IN_MILLIS = 15 * ONE_MINUTE_IN_MILLIS\n\nconst LOGGER_PREFIX = '[Web Vitals]'\ntype WebVitalsEventBuffer = { url: string | undefined; metrics: any[]; firstMetricTimestamp: number | undefined }\n\nexport class WebVitalsAutocapture {\n    private _enabledServerSide: boolean = false\n    private _initialized = false\n\n    private buffer: WebVitalsEventBuffer = { url: undefined, metrics: [], firstMetricTimestamp: undefined }\n    private _delayedFlushTimer: ReturnType<typeof setTimeout> | undefined\n\n    constructor(private readonly instance: PostHog) {\n        this._enabledServerSide = !!this.instance.persistence?.props[WEB_VITALS_ENABLED_SERVER_SIDE]\n\n        this.startIfEnabled()\n    }\n\n    public get allowedMetrics(): SupportedWebVitalsMetrics[] {\n        const clientConfigMetricAllowList: SupportedWebVitalsMetrics[] | undefined = isObject(\n            this.instance.config.capture_performance\n        )\n            ? this.instance.config.capture_performance?.web_vitals_allowed_metrics\n            : undefined\n        return !isUndefined(clientConfigMetricAllowList)\n            ? clientConfigMetricAllowList\n            : this.instance.persistence?.props[WEB_VITALS_ALLOWED_METRICS] || ['CLS', 'FCP', 'INP', 'LCP']\n    }\n\n    public get flushToCaptureTimeoutMs(): number {\n        const clientConfig: number | undefined = isObject(this.instance.config.capture_performance)\n            ? this.instance.config.capture_performance.web_vitals_delayed_flush_ms\n            : undefined\n        return clientConfig || DEFAULT_FLUSH_TO_CAPTURE_TIMEOUT_MILLISECONDS\n    }\n\n    public get _maxAllowedValue(): number {\n        const configured =\n            isObject(this.instance.config.capture_performance) &&\n            isNumber(this.instance.config.capture_performance.__web_vitals_max_value)\n                ? this.instance.config.capture_performance.__web_vitals_max_value\n                : FIFTEEN_MINUTES_IN_MILLIS\n        // you can set to 0 to disable the check or any value over ten seconds\n        // 1 milli to 1 minute will be set to 15 minutes, cos that would be a silly low maximum\n        return 0 < configured && configured <= ONE_MINUTE_IN_MILLIS ? FIFTEEN_MINUTES_IN_MILLIS : configured\n    }\n\n    public get isEnabled(): boolean {\n        const clientConfig = isObject(this.instance.config.capture_performance)\n            ? this.instance.config.capture_performance.web_vitals\n            : undefined\n        return isBoolean(clientConfig) ? clientConfig : this._enabledServerSide\n    }\n\n    public startIfEnabled(): void {\n        if (this.isEnabled && !this._initialized) {\n            logger.info(LOGGER_PREFIX + ' enabled, starting...')\n            this.loadScript(this._startCapturing)\n        }\n    }\n\n    public afterDecideResponse(response: DecideResponse) {\n        const webVitalsOptIn = isObject(response.capturePerformance) && !!response.capturePerformance.web_vitals\n\n        const allowedMetrics = isObject(response.capturePerformance)\n            ? response.capturePerformance.web_vitals_allowed_metrics\n            : undefined\n\n        if (this.instance.persistence) {\n            this.instance.persistence.register({\n                [WEB_VITALS_ENABLED_SERVER_SIDE]: webVitalsOptIn,\n            })\n\n            this.instance.persistence.register({\n                [WEB_VITALS_ALLOWED_METRICS]: allowedMetrics,\n            })\n        }\n        // store this in-memory in case persistence is disabled\n        this._enabledServerSide = webVitalsOptIn\n\n        this.startIfEnabled()\n    }\n\n    private loadScript(cb: () => void): void {\n        if (assignableWindow.__PosthogExtensions__?.postHogWebVitalsCallbacks) {\n            // already loaded\n            cb()\n        }\n        assignableWindow.__PosthogExtensions__?.loadExternalDependency?.(this.instance, 'web-vitals', (err) => {\n            if (err) {\n                logger.error(LOGGER_PREFIX + ' failed to load script', err)\n                return\n            }\n            cb()\n        })\n    }\n\n    private _currentURL(): string | undefined {\n        // TODO you should be able to mask the URL here\n        const href = window ? window.location.href : undefined\n        if (!href) {\n            logger.error(LOGGER_PREFIX + 'Could not determine current URL')\n        }\n        return href\n    }\n\n    private _flushToCapture = () => {\n        clearTimeout(this._delayedFlushTimer)\n        if (this.buffer.metrics.length === 0) {\n            return\n        }\n\n        this.instance.capture(\n            '$web_vitals',\n            this.buffer.metrics.reduce(\n                (acc, metric) => ({\n                    ...acc,\n                    // the entire event so we can use it in the future e.g. includes google's rating\n                    [`$web_vitals_${metric.name}_event`]: { ...metric },\n                    [`$web_vitals_${metric.name}_value`]: metric.value,\n                }),\n                {}\n            )\n        )\n        this.buffer = { url: undefined, metrics: [], firstMetricTimestamp: undefined }\n    }\n\n    private _addToBuffer = (metric: any) => {\n        const sessionIds = this.instance.sessionManager?.checkAndGetSessionAndWindowId(true)\n        if (isUndefined(sessionIds)) {\n            logger.error(LOGGER_PREFIX + 'Could not read session ID. Dropping metrics!')\n            return\n        }\n\n        this.buffer = this.buffer || { url: undefined, metrics: [], firstMetricTimestamp: undefined }\n\n        const $currentUrl = this._currentURL()\n        if (isUndefined($currentUrl)) {\n            return\n        }\n\n        if (isNullish(metric?.name) || isNullish(metric?.value)) {\n            logger.error(LOGGER_PREFIX + 'Invalid metric received', metric)\n            return\n        }\n\n        // we observe some very large values sometimes, we'll ignore them\n        // since the likelihood of LCP > 1 hour being correct is very low\n        if (this._maxAllowedValue && metric.value >= this._maxAllowedValue) {\n            logger.error(LOGGER_PREFIX + 'Ignoring metric with value >= ' + this._maxAllowedValue, metric)\n            return\n        }\n\n        const urlHasChanged = this.buffer.url !== $currentUrl\n\n        if (urlHasChanged) {\n            // we need to send what we have\n            this._flushToCapture()\n            // poor performance is >4s, we wait twice that time to send\n            // this is in case we haven't received all metrics\n            // we'll at least gather some\n            this._delayedFlushTimer = setTimeout(this._flushToCapture, this.flushToCaptureTimeoutMs)\n        }\n\n        if (isUndefined(this.buffer.url)) {\n            this.buffer.url = $currentUrl\n        }\n\n        this.buffer.firstMetricTimestamp = isUndefined(this.buffer.firstMetricTimestamp)\n            ? Date.now()\n            : this.buffer.firstMetricTimestamp\n\n        if (metric.attribution && metric.attribution.interactionTargetElement) {\n            // we don't want to send the entire element\n            // they can be very large\n            // TODO we could run this through autocapture code so that we get elements chain info\n            //  and can display the element in the UI\n            metric.attribution.interactionTargetElement = undefined\n        }\n\n        this.buffer.metrics.push({\n            ...metric,\n            $current_url: $currentUrl,\n            $session_id: sessionIds.sessionId,\n            $window_id: sessionIds.windowId,\n            timestamp: Date.now(),\n        })\n\n        if (this.buffer.metrics.length === this.allowedMetrics.length) {\n            // we have all allowed metrics\n            this._flushToCapture()\n        }\n    }\n\n    private _startCapturing = () => {\n        let onLCP: WebVitalsMetricCallback | undefined\n        let onCLS: WebVitalsMetricCallback | undefined\n        let onFCP: WebVitalsMetricCallback | undefined\n        let onINP: WebVitalsMetricCallback | undefined\n\n        const posthogExtensions = assignableWindow.__PosthogExtensions__\n        if (!isUndefined(posthogExtensions) && !isUndefined(posthogExtensions.postHogWebVitalsCallbacks)) {\n            ;({ onLCP, onCLS, onFCP, onINP } = posthogExtensions.postHogWebVitalsCallbacks)\n        }\n\n        if (!onLCP || !onCLS || !onFCP || !onINP) {\n            logger.error(LOGGER_PREFIX + 'web vitals callbacks not loaded - not starting')\n            return\n        }\n\n        // register performance observers\n        if (this.allowedMetrics.indexOf('LCP') > -1) {\n            onLCP(this._addToBuffer.bind(this))\n        }\n        if (this.allowedMetrics.indexOf('CLS') > -1) {\n            onCLS(this._addToBuffer.bind(this))\n        }\n        if (this.allowedMetrics.indexOf('FCP') > -1) {\n            onFCP(this._addToBuffer.bind(this))\n        }\n        if (this.allowedMetrics.indexOf('INP') > -1) {\n            onINP(this._addToBuffer.bind(this))\n        }\n\n        this._initialized = true\n    }\n}\n","import { PostHog } from './posthog-core'\nimport { DecideResponse } from './types'\nimport { navigator, window } from './utils/globals'\nimport {\n    WebExperiment,\n    WebExperimentsCallback,\n    WebExperimentTransform,\n    WebExperimentUrlMatchType,\n    WebExperimentVariant,\n} from './web-experiments-types'\nimport { WEB_EXPERIMENTS } from './constants'\nimport { isNullish } from './utils/type-utils'\nimport { getQueryParam, isUrlMatchingRegex } from './utils/request-utils'\nimport { logger } from './utils/logger'\nimport { Info } from './utils/event-utils'\nimport { isLikelyBot } from './utils/blocked-uas'\n\nexport const webExperimentUrlValidationMap: Record<\n    WebExperimentUrlMatchType,\n    (conditionsUrl: string, location: Location) => boolean\n> = {\n    icontains: (conditionsUrl, location) =>\n        !!window && location.href.toLowerCase().indexOf(conditionsUrl.toLowerCase()) > -1,\n    not_icontains: (conditionsUrl, location) =>\n        !!window && location.href.toLowerCase().indexOf(conditionsUrl.toLowerCase()) === -1,\n    regex: (conditionsUrl, location) => !!window && isUrlMatchingRegex(location.href, conditionsUrl),\n    not_regex: (conditionsUrl, location) => !!window && !isUrlMatchingRegex(location.href, conditionsUrl),\n    exact: (conditionsUrl, location) => location.href === conditionsUrl,\n    is_not: (conditionsUrl, location) => location.href !== conditionsUrl,\n}\n\nexport class WebExperiments {\n    instance: PostHog\n    private _featureFlags?: Record<string, string | boolean>\n    private _flagToExperiments?: Map<string, WebExperiment>\n\n    constructor(instance: PostHog) {\n        this.instance = instance\n        const appFeatureFLags = (flags: string[]) => {\n            this.applyFeatureFlagChanges(flags)\n        }\n\n        if (this.instance.onFeatureFlags) {\n            this.instance.onFeatureFlags(appFeatureFLags)\n        }\n        this._flagToExperiments = new Map<string, WebExperiment>()\n    }\n\n    applyFeatureFlagChanges(flags: string[]) {\n        if (isNullish(this._flagToExperiments) || this.instance.config.disable_web_experiments) {\n            return\n        }\n\n        WebExperiments.logInfo('applying feature flags', flags)\n        flags.forEach((flag) => {\n            if (this._flagToExperiments && this._flagToExperiments?.has(flag)) {\n                const selectedVariant = this.instance.getFeatureFlag(flag) as unknown as string\n                const webExperiment = this._flagToExperiments?.get(flag)\n                if (selectedVariant && webExperiment?.variants[selectedVariant]) {\n                    this.applyTransforms(\n                        webExperiment.name,\n                        selectedVariant,\n                        webExperiment.variants[selectedVariant].transforms\n                    )\n                }\n            }\n        })\n    }\n\n    afterDecideResponse(response: DecideResponse) {\n        if (this._is_bot()) {\n            WebExperiments.logInfo('Refusing to render web experiment since the viewer is a likely bot')\n            return\n        }\n\n        this._featureFlags = response.featureFlags\n        this.loadIfEnabled()\n        this.previewWebExperiment()\n    }\n\n    previewWebExperiment() {\n        const location = WebExperiments.getWindowLocation()\n        if (location?.search) {\n            const experimentID = getQueryParam(location?.search, '__experiment_id')\n            const variant = getQueryParam(location?.search, '__experiment_variant')\n            if (experimentID && variant) {\n                WebExperiments.logInfo(`previewing web experiments ${experimentID} && ${variant}`)\n                this.getWebExperiments(\n                    (webExperiments) => {\n                        this.showPreviewWebExperiment(parseInt(experimentID), variant, webExperiments)\n                    },\n                    false,\n                    true\n                )\n            }\n        }\n    }\n\n    loadIfEnabled() {\n        if (this.instance.config.disable_web_experiments) {\n            return\n        }\n\n        this.getWebExperimentsAndEvaluateDisplayLogic()\n    }\n\n    public getWebExperimentsAndEvaluateDisplayLogic = (forceReload: boolean = false): void => {\n        this.getWebExperiments((webExperiments) => {\n            WebExperiments.logInfo(`retrieved web experiments from the server`)\n            this._flagToExperiments = new Map<string, WebExperiment>()\n\n            webExperiments.forEach((webExperiment) => {\n                if (\n                    webExperiment.feature_flag_key &&\n                    this._featureFlags &&\n                    this._featureFlags[webExperiment.feature_flag_key]\n                ) {\n                    if (this._flagToExperiments) {\n                        WebExperiments.logInfo(\n                            `setting flag key `,\n                            webExperiment.feature_flag_key,\n                            ` to web experiment `,\n                            webExperiment\n                        )\n                        this._flagToExperiments?.set(webExperiment.feature_flag_key, webExperiment)\n                    }\n\n                    const selectedVariant = this._featureFlags[webExperiment.feature_flag_key] as unknown as string\n                    if (selectedVariant && webExperiment.variants[selectedVariant]) {\n                        this.applyTransforms(\n                            webExperiment.name,\n                            selectedVariant,\n                            webExperiment.variants[selectedVariant].transforms\n                        )\n                    }\n                } else if (webExperiment.variants) {\n                    for (const variant in webExperiment.variants) {\n                        const testVariant = webExperiment.variants[variant]\n                        const matchTest = WebExperiments.matchesTestVariant(testVariant)\n                        if (matchTest) {\n                            this.applyTransforms(webExperiment.name, variant, testVariant.transforms)\n                        }\n                    }\n                }\n            })\n        }, forceReload)\n    }\n\n    public getWebExperiments(callback: WebExperimentsCallback, forceReload: boolean, previewing?: boolean) {\n        if (this.instance.config.disable_web_experiments && !previewing) {\n            return callback([])\n        }\n\n        const existingWebExperiments = this.instance.get_property(WEB_EXPERIMENTS)\n        if (existingWebExperiments && !forceReload) {\n            return callback(existingWebExperiments)\n        }\n\n        this.instance._send_request({\n            url: this.instance.requestRouter.endpointFor(\n                'api',\n                `/api/web_experiments/?token=${this.instance.config.token}`\n            ),\n            method: 'GET',\n            transport: 'XHR',\n            callback: (response) => {\n                if (response.statusCode !== 200 || !response.json) {\n                    return callback([])\n                }\n                const webExperiments = response.json.experiments || []\n                return callback(webExperiments)\n            },\n        })\n    }\n\n    private showPreviewWebExperiment(experimentID: number, variant: string, webExperiments: WebExperiment[]) {\n        const previewExperiments = webExperiments.filter((exp) => exp.id === experimentID)\n        if (previewExperiments && previewExperiments.length > 0) {\n            WebExperiments.logInfo(\n                `Previewing web experiment [${previewExperiments[0].name}] with variant [${variant}]`\n            )\n            this.applyTransforms(\n                previewExperiments[0].name,\n                variant,\n                previewExperiments[0].variants[variant].transforms,\n                true\n            )\n        }\n    }\n    private static matchesTestVariant(testVariant: WebExperimentVariant) {\n        if (isNullish(testVariant.conditions)) {\n            return false\n        }\n        return WebExperiments.matchUrlConditions(testVariant) && WebExperiments.matchUTMConditions(testVariant)\n    }\n\n    private static matchUrlConditions(testVariant: WebExperimentVariant): boolean {\n        if (isNullish(testVariant.conditions) || isNullish(testVariant.conditions?.url)) {\n            return true\n        }\n\n        const location = WebExperiments.getWindowLocation()\n        if (location) {\n            const urlCheck = testVariant.conditions?.url\n                ? webExperimentUrlValidationMap[testVariant.conditions?.urlMatchType ?? 'icontains'](\n                      testVariant.conditions.url,\n                      location\n                  )\n                : true\n            return urlCheck\n        }\n\n        return false\n    }\n\n    public static getWindowLocation(): Location | undefined {\n        return window?.location\n    }\n\n    private static matchUTMConditions(testVariant: WebExperimentVariant): boolean {\n        if (isNullish(testVariant.conditions) || isNullish(testVariant.conditions?.utm)) {\n            return true\n        }\n        const campaignParams = Info.campaignParams()\n        if (campaignParams['utm_source']) {\n            // eslint-disable-next-line compat/compat\n            const utmCampaignMatched = testVariant.conditions?.utm?.utm_campaign\n                ? testVariant.conditions?.utm?.utm_campaign == campaignParams['utm_campaign']\n                : true\n\n            const utmSourceMatched = testVariant.conditions?.utm?.utm_source\n                ? testVariant.conditions?.utm?.utm_source == campaignParams['utm_source']\n                : true\n\n            const utmMediumMatched = testVariant.conditions?.utm?.utm_medium\n                ? testVariant.conditions?.utm?.utm_medium == campaignParams['utm_medium']\n                : true\n\n            const utmTermMatched = testVariant.conditions?.utm?.utm_term\n                ? testVariant.conditions?.utm?.utm_term == campaignParams['utm_term']\n                : true\n\n            return utmCampaignMatched && utmMediumMatched && utmTermMatched && utmSourceMatched\n        }\n\n        return false\n    }\n\n    private static logInfo(msg: string, ...args: any[]) {\n        logger.info(`[WebExperiments] ${msg}`, args)\n    }\n\n    private applyTransforms(\n        experiment: string,\n        variant: string,\n        transforms: WebExperimentTransform[],\n        isPreview?: boolean\n    ) {\n        if (this._is_bot()) {\n            WebExperiments.logInfo('Refusing to render web experiment since the viewer is a likely bot')\n            return\n        }\n\n        if (variant === 'control') {\n            WebExperiments.logInfo('Control variants leave the page unmodified.')\n            if (this.instance && this.instance.capture) {\n                this.instance.capture('$web_experiment_applied', {\n                    $web_experiment_name: experiment,\n                    $web_experiment_preview: isPreview,\n                    $web_experiment_variant: variant,\n                    $web_experiment_document_url: WebExperiments.getWindowLocation()?.href,\n                    $web_experiment_elements_modified: 0,\n                })\n            }\n\n            return\n        }\n\n        transforms.forEach((transform) => {\n            if (transform.selector) {\n                WebExperiments.logInfo(\n                    `applying transform of variant ${variant} for experiment ${experiment} `,\n                    transform\n                )\n\n                let elementsModified = 0\n                // eslint-disable-next-line no-restricted-globals\n                const elements = document?.querySelectorAll(transform.selector)\n                elements?.forEach((element) => {\n                    const htmlElement = element as HTMLElement\n                    elementsModified += 1\n                    if (transform.attributes) {\n                        transform.attributes.forEach((attribute) => {\n                            switch (attribute.name) {\n                                case 'text':\n                                    htmlElement.innerText = attribute.value\n                                    break\n\n                                case 'html':\n                                    htmlElement.innerHTML = attribute.value\n                                    break\n\n                                case 'cssClass':\n                                    htmlElement.className = attribute.value\n                                    break\n\n                                default:\n                                    htmlElement.setAttribute(attribute.name, attribute.value)\n                            }\n                        })\n                    }\n\n                    if (transform.text) {\n                        htmlElement.innerText = transform.text\n                    }\n\n                    if (transform.html) {\n                        if (htmlElement.parentElement) {\n                            htmlElement.parentElement.innerHTML = transform.html\n                        } else {\n                            htmlElement.innerHTML = transform.html\n                        }\n                    }\n\n                    if (transform.css) {\n                        htmlElement.setAttribute('style', transform.css)\n                    }\n                })\n\n                if (this.instance && this.instance.capture) {\n                    this.instance.capture('$web_experiment_applied', {\n                        $web_experiment_name: experiment,\n                        $web_experiment_variant: variant,\n                        $web_experiment_preview: isPreview,\n                        $web_experiment_document_url: WebExperiments.getWindowLocation()?.href,\n                        $web_experiment_elements_modified: elementsModified,\n                    })\n                }\n            }\n        })\n    }\n\n    _is_bot(): boolean | undefined {\n        if (navigator && this.instance) {\n            return isLikelyBot(navigator, this.instance.config.custom_blocked_useragents)\n        } else {\n            return undefined\n        }\n    }\n}\n","import { EXCEPTION_CAPTURE_ENDPOINT_SUFFIX } from './constants'\nimport { PostHog } from './posthog-core'\nimport { DecideResponse, Properties } from './types'\nimport { isObject } from './utils/type-utils'\n\n// TODO: move this to /x/ as default\nexport const BASE_ERROR_ENDPOINT_SUFFIX = '/e/'\n\nexport class PostHogExceptions {\n    private _endpointSuffix: string\n\n    constructor(private readonly instance: PostHog) {\n        // TODO: once BASE_ERROR_ENDPOINT_SUFFIX is no longer /e/ this can be removed\n        this._endpointSuffix =\n            this.instance.persistence?.props[EXCEPTION_CAPTURE_ENDPOINT_SUFFIX] || BASE_ERROR_ENDPOINT_SUFFIX\n    }\n\n    get endpoint() {\n        // Always respect any api_host set by the client config\n        return this.instance.requestRouter.endpointFor('api', this._endpointSuffix)\n    }\n\n    afterDecideResponse(response: DecideResponse) {\n        const autocaptureExceptionsResponse = response.autocaptureExceptions\n\n        this._endpointSuffix = isObject(autocaptureExceptionsResponse)\n            ? autocaptureExceptionsResponse.endpoint || BASE_ERROR_ENDPOINT_SUFFIX\n            : BASE_ERROR_ENDPOINT_SUFFIX\n\n        if (this.instance.persistence) {\n            // when we come to moving the endpoint to not /e/\n            // we'll want that to persist between startup and decide response\n            // TODO: once BASE_ENDPOINT is no longer /e/ this can be removed\n            this.instance.persistence.register({\n                [EXCEPTION_CAPTURE_ENDPOINT_SUFFIX]: this._endpointSuffix,\n            })\n        }\n    }\n\n    /**\n     * :TRICKY: Make sure we batch these requests\n     */\n    sendExceptionEvent(properties: Properties) {\n        this.instance.capture('$exception', properties, {\n            _noTruncate: true,\n            _batchKey: 'exceptionEvent',\n            _url: this.endpoint,\n        })\n    }\n}\n","import Config from './config'\nimport {\n    _copyAndTruncateStrings,\n    each,\n    eachArray,\n    extend,\n    includes,\n    registerEvent,\n    safewrapClass,\n    isCrossDomainCookie,\n    isDistinctIdStringLike,\n} from './utils'\nimport { assignableWindow, document, location, navigator, userAgent, window } from './utils/globals'\nimport { PostHogFeatureFlags } from './posthog-featureflags'\nimport { PostHogPersistence } from './posthog-persistence'\nimport {\n    ALIAS_ID_KEY,\n    FLAG_CALL_REPORTED,\n    PEOPLE_DISTINCT_ID_KEY,\n    USER_STATE,\n    ENABLE_PERSON_PROCESSING,\n} from './constants'\nimport { SessionRecording } from './extensions/replay/sessionrecording'\nimport { Decide } from './decide'\nimport { Toolbar } from './extensions/toolbar'\nimport { localStore } from './storage'\nimport { RequestQueue } from './request-queue'\nimport { RetryQueue } from './retry-queue'\nimport { SessionIdManager } from './sessionid'\nimport { RequestRouter, RequestRouterRegion } from './utils/request-router'\nimport {\n    CaptureOptions,\n    CaptureResult,\n    Compression,\n    DecideResponse,\n    EarlyAccessFeatureCallback,\n    IsFeatureEnabledOptions,\n    JsonType,\n    PostHogConfig,\n    Properties,\n    Property,\n    QueuedRequestOptions,\n    RequestCallback,\n    SessionIdChangedCallback,\n    SnippetArrayItem,\n    ToolbarParams,\n} from './types'\nimport { SentryIntegration, SentryIntegrationOptions, sentryIntegration } from './extensions/sentry-integration'\nimport { setupSegmentIntegration } from './extensions/segment-integration'\nimport { PageViewManager } from './page-view'\nimport { PostHogSurveys } from './posthog-surveys'\nimport { RateLimiter } from './rate-limiter'\nimport { uuidv7 } from './uuidv7'\nimport { Survey, SurveyCallback, SurveyQuestionBranchingType } from './posthog-surveys-types'\nimport {\n    isArray,\n    isEmptyObject,\n    isEmptyString,\n    isFunction,\n    isNumber,\n    isObject,\n    isString,\n    isUndefined,\n} from './utils/type-utils'\nimport { Info } from './utils/event-utils'\nimport { logger } from './utils/logger'\nimport { SessionPropsManager } from './session-props'\nimport { isLikelyBot } from './utils/blocked-uas'\nimport { extendURLParams, request, SUPPORTS_REQUEST } from './request'\nimport { Heatmaps } from './heatmaps'\nimport { ScrollManager } from './scroll-manager'\nimport { SimpleEventEmitter } from './utils/simple-event-emitter'\nimport { Autocapture } from './autocapture'\nimport { TracingHeaders } from './extensions/tracing-headers'\nimport { ConsentManager } from './consent'\nimport { ExceptionObserver } from './extensions/exception-autocapture'\nimport { WebVitalsAutocapture } from './extensions/web-vitals'\nimport { WebExperiments } from './web-experiments'\nimport { PostHogExceptions } from './posthog-exceptions'\nimport { DeadClicksAutocapture, isDeadClicksEnabledForAutocapture } from './extensions/dead-clicks-autocapture'\n\n/*\nSIMPLE STYLE GUIDE:\n\nthis.x === public function\nthis._x === internal - only use within this file\nthis.__x === private - only use within the class\n\nGlobals should be all caps\n*/\n\n/* posthog.init is called with `Partial<PostHogConfig>`\n * and we want to ensure that only valid keys are passed to the config object.\n * TypeScript does not enforce that the object passed does not have extra keys.\n * So someone can call with { bootstrap: { distinctId: '123'} }\n * which is not a valid key. They should have passed distinctID (upper case D).\n * That's a really tricky mistake to spot.\n * The OnlyValidKeys type ensures that only keys that are valid in the PostHogConfig type are allowed.\n */\ntype OnlyValidKeys<T, Shape> = T extends Shape ? (Exclude<keyof T, keyof Shape> extends never ? T : never) : never\n\nconst instances: Record<string, PostHog> = {}\n\n// some globals for comparisons\nconst __NOOP = () => {}\n\nconst PRIMARY_INSTANCE_NAME = 'posthog'\n\n/*\n * Dynamic... constants? Is that an oxymoron?\n */\n// http://hacks.mozilla.org/2009/07/cross-site-xmlhttprequest-with-cors/\n// https://developer.mozilla.org/en-US/docs/DOM/XMLHttpRequest#withCredentials\n\n// IE<10 does not support cross-origin XHR's but script tags\n// with defer won't block window.onload; ENQUEUE_REQUESTS\n// should only be true for Opera<12\nlet ENQUEUE_REQUESTS = !SUPPORTS_REQUEST && userAgent?.indexOf('MSIE') === -1 && userAgent?.indexOf('Mozilla') === -1\n\nexport const defaultConfig = (): PostHogConfig => ({\n    api_host: 'https://us.i.posthog.com',\n    ui_host: null,\n    token: '',\n    autocapture: true,\n    rageclick: true,\n    cross_subdomain_cookie: isCrossDomainCookie(document?.location),\n    persistence: 'localStorage+cookie', // up to 1.92.0 this was 'cookie'. It's easy to migrate as 'localStorage+cookie' will migrate data from cookie storage\n    persistence_name: '',\n    loaded: __NOOP,\n    store_google: true,\n    custom_campaign_params: [],\n    custom_blocked_useragents: [],\n    save_referrer: true,\n    capture_pageview: true,\n    capture_pageleave: 'if_capture_pageview', // We'll only capture pageleave events if capture_pageview is also true\n    debug: (location && isString(location?.search) && location.search.indexOf('__posthog_debug=true') !== -1) || false,\n    verbose: false,\n    cookie_expiration: 365,\n    upgrade: false,\n    disable_session_recording: false,\n    disable_persistence: false,\n    disable_web_experiments: true, // disabled in beta.\n    disable_surveys: false,\n    enable_recording_console_log: undefined, // When undefined, it falls back to the server-side setting\n    secure_cookie: window?.location?.protocol === 'https:',\n    ip: true,\n    opt_out_capturing_by_default: false,\n    opt_out_persistence_by_default: false,\n    opt_out_useragent_filter: false,\n    opt_out_capturing_persistence_type: 'localStorage',\n    opt_out_capturing_cookie_prefix: null,\n    opt_in_site_apps: false,\n    property_denylist: [],\n    respect_dnt: false,\n    sanitize_properties: null,\n    request_headers: {}, // { header: value, header2: value }\n    inapp_protocol: '//',\n    inapp_link_new_window: false,\n    request_batching: true,\n    properties_string_max_length: 65535,\n    session_recording: {},\n    mask_all_element_attributes: false,\n    mask_all_text: false,\n    advanced_disable_decide: false,\n    advanced_disable_feature_flags: false,\n    advanced_disable_feature_flags_on_first_load: false,\n    advanced_disable_toolbar_metrics: false,\n    feature_flag_request_timeout_ms: 3000,\n    on_request_error: (res) => {\n        const error = 'Bad HTTP status: ' + res.statusCode + ' ' + res.text\n        logger.error(error)\n    },\n    get_device_id: (uuid) => uuid,\n    // Used for internal testing\n    _onCapture: __NOOP,\n    capture_performance: undefined,\n    name: 'posthog',\n    bootstrap: {},\n    disable_compression: false,\n    session_idle_timeout_seconds: 30 * 60, // 30 minutes\n    person_profiles: 'identified_only',\n    __add_tracing_headers: false,\n})\n\nexport const configRenames = (origConfig: Partial<PostHogConfig>): Partial<PostHogConfig> => {\n    const renames: Partial<PostHogConfig> = {}\n    if (!isUndefined(origConfig.process_person)) {\n        renames.person_profiles = origConfig.process_person\n    }\n    if (!isUndefined(origConfig.xhr_headers)) {\n        renames.request_headers = origConfig.xhr_headers\n    }\n    if (!isUndefined(origConfig.cookie_name)) {\n        renames.persistence_name = origConfig.cookie_name\n    }\n    if (!isUndefined(origConfig.disable_cookie)) {\n        renames.disable_persistence = origConfig.disable_cookie\n    }\n    // on_xhr_error is not present, as the type is different to on_request_error\n\n    // the original config takes priority over the renames\n    const newConfig = extend({}, renames, origConfig)\n\n    // merge property_blacklist into property_denylist\n    if (isArray(origConfig.property_blacklist)) {\n        if (isUndefined(origConfig.property_denylist)) {\n            newConfig.property_denylist = origConfig.property_blacklist\n        } else if (isArray(origConfig.property_denylist)) {\n            newConfig.property_denylist = [...origConfig.property_blacklist, ...origConfig.property_denylist]\n        } else {\n            logger.error('Invalid value for property_denylist config: ' + origConfig.property_denylist)\n        }\n    }\n\n    return newConfig\n}\n\nclass DeprecatedWebPerformanceObserver {\n    get _forceAllowLocalhost(): boolean {\n        return this.__forceAllowLocalhost\n    }\n\n    set _forceAllowLocalhost(value: boolean) {\n        logger.error(\n            'WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`'\n        )\n        this.__forceAllowLocalhost = value\n    }\n\n    private __forceAllowLocalhost: boolean = false\n}\n\n/**\n * PostHog Library Object\n * @constructor\n */\nexport class PostHog {\n    __loaded: boolean\n    config: PostHogConfig\n\n    rateLimiter: RateLimiter\n    scrollManager: ScrollManager\n    pageViewManager: PageViewManager\n    featureFlags: PostHogFeatureFlags\n    surveys: PostHogSurveys\n    experiments: WebExperiments\n    toolbar: Toolbar\n    exceptions: PostHogExceptions\n    consent: ConsentManager\n\n    // These are instance-specific state created after initialisation\n    persistence?: PostHogPersistence\n    sessionPersistence?: PostHogPersistence\n    sessionManager?: SessionIdManager\n    sessionPropsManager?: SessionPropsManager\n    requestRouter: RequestRouter\n    autocapture?: Autocapture\n    heatmaps?: Heatmaps\n    webVitalsAutocapture?: WebVitalsAutocapture\n    exceptionObserver?: ExceptionObserver\n    deadClicksAutocapture?: DeadClicksAutocapture\n\n    _requestQueue?: RequestQueue\n    _retryQueue?: RetryQueue\n    sessionRecording?: SessionRecording\n    webPerformance = new DeprecatedWebPerformanceObserver()\n\n    _initialPageviewCaptured: boolean\n    _triggered_notifs: any\n    compression?: Compression\n    __request_queue: QueuedRequestOptions[]\n    decideEndpointWasHit: boolean\n    analyticsDefaultEndpoint: string\n    version = Config.LIB_VERSION\n    _initialPersonProfilesConfig: 'always' | 'never' | 'identified_only' | null\n\n    SentryIntegration: typeof SentryIntegration\n    sentryIntegration: (options?: SentryIntegrationOptions) => ReturnType<typeof sentryIntegration>\n\n    private _internalEventEmitter = new SimpleEventEmitter()\n\n    /** DEPRECATED: We keep this to support existing usage but now one should just call .setPersonProperties */\n    people: {\n        set: (prop: string | Properties, to?: string, callback?: RequestCallback) => void\n        set_once: (prop: string | Properties, to?: string, callback?: RequestCallback) => void\n    }\n\n    constructor() {\n        this.config = defaultConfig()\n\n        this.decideEndpointWasHit = false\n        this.SentryIntegration = SentryIntegration\n        this.sentryIntegration = (options?: SentryIntegrationOptions) => sentryIntegration(this, options)\n        this.__request_queue = []\n        this.__loaded = false\n        this.analyticsDefaultEndpoint = '/e/'\n        this._initialPageviewCaptured = false\n        this._initialPersonProfilesConfig = null\n\n        this.featureFlags = new PostHogFeatureFlags(this)\n        this.toolbar = new Toolbar(this)\n        this.scrollManager = new ScrollManager(this)\n        this.pageViewManager = new PageViewManager(this)\n        this.surveys = new PostHogSurveys(this)\n        this.experiments = new WebExperiments(this)\n        this.exceptions = new PostHogExceptions(this)\n        this.rateLimiter = new RateLimiter(this)\n        this.requestRouter = new RequestRouter(this)\n        this.consent = new ConsentManager(this)\n\n        // NOTE: See the property definition for deprecation notice\n        this.people = {\n            set: (prop: string | Properties, to?: string, callback?: RequestCallback) => {\n                const setProps = isString(prop) ? { [prop]: to } : prop\n                this.setPersonProperties(setProps)\n                callback?.({} as any)\n            },\n            set_once: (prop: string | Properties, to?: string, callback?: RequestCallback) => {\n                const setProps = isString(prop) ? { [prop]: to } : prop\n                this.setPersonProperties(undefined, setProps)\n                callback?.({} as any)\n            },\n        }\n\n        this.on('eventCaptured', (data) => logger.info(`send \"${data?.event}\"`, data))\n    }\n\n    // Initialization methods\n\n    /**\n     * This function initializes a new instance of the PostHog capturing object.\n     * All new instances are added to the main posthog object as sub properties (such as\n     * posthog.library_name) and also returned by this function. To define a\n     * second instance on the page, you would call:\n     *\n     *     posthog.init('new token', { your: 'config' }, 'library_name');\n     *\n     * and use it like so:\n     *\n     *     posthog.library_name.capture(...);\n     *\n     * @param {String} token   Your PostHog API token\n     * @param {Object} [config]  A dictionary of config options to override. <a href=\"https://github.com/posthog/posthog-js/blob/6e0e873/src/posthog-core.js#L57-L91\">See a list of default config options</a>.\n     * @param {String} [name]    The name for the new posthog instance that you want created\n     */\n    init(\n        token: string,\n        config?: OnlyValidKeys<Partial<PostHogConfig>, Partial<PostHogConfig>>,\n        name?: string\n    ): PostHog | undefined {\n        if (!name || name === PRIMARY_INSTANCE_NAME) {\n            // This means we are initializing the primary instance (i.e. this)\n            return this._init(token, config, name)\n        } else {\n            const namedPosthog = instances[name] ?? new PostHog()\n            namedPosthog._init(token, config, name)\n            instances[name] = namedPosthog\n            // Add as a property to the primary instance (this isn't type-safe but its how it was always done)\n            ;(instances[PRIMARY_INSTANCE_NAME] as any)[name] = namedPosthog\n\n            return namedPosthog\n        }\n    }\n\n    // posthog._init(token:string, config:object, name:string)\n    //\n    // This function sets up the current instance of the posthog\n    // library.  The difference between this method and the init(...)\n    // method is this one initializes the actual instance, whereas the\n    // init(...) method sets up a new library and calls _init on it.\n    //\n    // Note that there are operations that can be asynchronous, so we\n    // accept a callback that is called when all the asynchronous work\n    // is done. Note that we do not use promises because we want to be\n    // IE11 compatible. We could use polyfills, which would make the\n    // code a bit cleaner, but will add some overhead.\n    //\n    _init(token: string, config: Partial<PostHogConfig> = {}, name?: string): PostHog {\n        if (isUndefined(token) || isEmptyString(token)) {\n            logger.critical(\n                'PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()'\n            )\n            return this\n        }\n\n        if (this.__loaded) {\n            logger.warn('You have already initialized PostHog! Re-initializing is a no-op')\n            return this\n        }\n\n        this.__loaded = true\n        this.config = {} as PostHogConfig // will be set right below\n        this._triggered_notifs = []\n\n        if (config.person_profiles) {\n            this._initialPersonProfilesConfig = config.person_profiles\n        }\n\n        this.set_config(\n            extend({}, defaultConfig(), configRenames(config), {\n                name: name,\n                token: token,\n            })\n        )\n\n        if (this.config.on_xhr_error) {\n            logger.error('[posthog] on_xhr_error is deprecated. Use on_request_error instead')\n        }\n\n        this.compression = config.disable_compression ? undefined : Compression.GZipJS\n\n        this.persistence = new PostHogPersistence(this.config)\n        this.sessionPersistence =\n            this.config.persistence === 'sessionStorage' || this.config.persistence === 'memory'\n                ? this.persistence\n                : new PostHogPersistence({ ...this.config, persistence: 'sessionStorage' })\n\n        // should I store the initial person profiles config in persistence?\n        const initialPersistenceProps = { ...this.persistence.props }\n        const initialSessionProps = { ...this.sessionPersistence.props }\n\n        this._requestQueue = new RequestQueue((req) => this._send_retriable_request(req))\n        this._retryQueue = new RetryQueue(this)\n        this.__request_queue = []\n\n        this.sessionManager = new SessionIdManager(this.config, this.persistence)\n        this.sessionPropsManager = new SessionPropsManager(this.sessionManager, this.persistence)\n\n        new TracingHeaders(this).startIfEnabledOrStop()\n\n        this.sessionRecording = new SessionRecording(this)\n        this.sessionRecording.startIfEnabledOrStop()\n\n        if (!this.config.disable_scroll_properties) {\n            this.scrollManager.startMeasuringScrollPosition()\n        }\n\n        this.autocapture = new Autocapture(this)\n        this.autocapture.startIfEnabled()\n        this.surveys.loadIfEnabled()\n\n        this.heatmaps = new Heatmaps(this)\n        this.heatmaps.startIfEnabled()\n\n        this.webVitalsAutocapture = new WebVitalsAutocapture(this)\n\n        this.exceptionObserver = new ExceptionObserver(this)\n        this.exceptionObserver.startIfEnabled()\n\n        this.deadClicksAutocapture = new DeadClicksAutocapture(this, isDeadClicksEnabledForAutocapture)\n        this.deadClicksAutocapture.startIfEnabled()\n\n        // if any instance on the page has debug = true, we set the\n        // global debug to be true\n        Config.DEBUG = Config.DEBUG || this.config.debug\n        if (Config.DEBUG) {\n            logger.info('Starting in debug mode', {\n                this: this,\n                config,\n                thisC: { ...this.config },\n                p: initialPersistenceProps,\n                s: initialSessionProps,\n            })\n        }\n\n        this._sync_opt_out_with_persistence()\n\n        // isUndefined doesn't provide typehint here so wouldn't reduce bundle as we'd need to assign\n        // eslint-disable-next-line posthog-js/no-direct-undefined-check\n        if (config.bootstrap?.distinctID !== undefined) {\n            const uuid = this.config.get_device_id(uuidv7())\n            const deviceID = config.bootstrap?.isIdentifiedID ? uuid : config.bootstrap.distinctID\n            this.persistence.set_property(USER_STATE, config.bootstrap?.isIdentifiedID ? 'identified' : 'anonymous')\n            this.register({\n                distinct_id: config.bootstrap.distinctID,\n                $device_id: deviceID,\n            })\n        }\n\n        if (this._hasBootstrappedFeatureFlags()) {\n            const activeFlags = Object.keys(config.bootstrap?.featureFlags || {})\n                .filter((flag) => !!config.bootstrap?.featureFlags?.[flag])\n                .reduce(\n                    (res: Record<string, string | boolean>, key) => (\n                        (res[key] = config.bootstrap?.featureFlags?.[key] || false), res\n                    ),\n                    {}\n                )\n            const featureFlagPayloads = Object.keys(config.bootstrap?.featureFlagPayloads || {})\n                .filter((key) => activeFlags[key])\n                .reduce((res: Record<string, JsonType>, key) => {\n                    if (config.bootstrap?.featureFlagPayloads?.[key]) {\n                        res[key] = config.bootstrap?.featureFlagPayloads?.[key]\n                    }\n                    return res\n                }, {})\n\n            this.featureFlags.receivedFeatureFlags({ featureFlags: activeFlags, featureFlagPayloads })\n        }\n\n        if (!this.get_distinct_id()) {\n            // There is no need to set the distinct id\n            // or the device id if something was already stored\n            // in the persitence\n            const uuid = this.config.get_device_id(uuidv7())\n\n            this.register_once(\n                {\n                    distinct_id: uuid,\n                    $device_id: uuid,\n                },\n                ''\n            )\n            // distinct id == $device_id is a proxy for anonymous user\n            this.persistence.set_property(USER_STATE, 'anonymous')\n        }\n        // Set up event handler for pageleave\n        // Use `onpagehide` if available, see https://calendar.perfplanet.com/2020/beaconing-in-practice/#beaconing-reliability-avoiding-abandons\n        window?.addEventListener?.('onpagehide' in self ? 'pagehide' : 'unload', this._handle_unload.bind(this))\n\n        this.toolbar.maybeLoadToolbar()\n\n        // We want to avoid promises for IE11 compatibility, so we use callbacks here\n        if (config.segment) {\n            setupSegmentIntegration(this, () => this._loaded())\n        } else {\n            this._loaded()\n        }\n\n        if (isFunction(this.config._onCapture)) {\n            this.on('eventCaptured', (data) => this.config._onCapture(data.event, data))\n        }\n\n        return this\n    }\n\n    // Private methods\n    _afterDecideResponse(response: DecideResponse) {\n        this.compression = undefined\n        if (response.supportedCompression && !this.config.disable_compression) {\n            this.compression = includes(response['supportedCompression'], Compression.GZipJS)\n                ? Compression.GZipJS\n                : includes(response['supportedCompression'], Compression.Base64)\n                ? Compression.Base64\n                : undefined\n        }\n\n        if (response.analytics?.endpoint) {\n            this.analyticsDefaultEndpoint = response.analytics.endpoint\n        }\n\n        this.set_config({\n            person_profiles: this._initialPersonProfilesConfig\n                ? this._initialPersonProfilesConfig\n                : response['defaultIdentifiedOnly']\n                ? 'identified_only'\n                : 'always',\n        })\n\n        this.sessionRecording?.afterDecideResponse(response)\n        this.autocapture?.afterDecideResponse(response)\n        this.heatmaps?.afterDecideResponse(response)\n        this.experiments?.afterDecideResponse(response)\n        this.surveys?.afterDecideResponse(response)\n        this.webVitalsAutocapture?.afterDecideResponse(response)\n        this.exceptions?.afterDecideResponse(response)\n        this.exceptionObserver?.afterDecideResponse(response)\n        this.deadClicksAutocapture?.afterDecideResponse(response)\n    }\n\n    _loaded(): void {\n        // Pause `reloadFeatureFlags` calls in config.loaded callback.\n        // These feature flags are loaded in the decide call made right after\n        const disableDecide = this.config.advanced_disable_decide\n        if (!disableDecide) {\n            this.featureFlags.setReloadingPaused(true)\n        }\n\n        try {\n            this.config.loaded(this)\n        } catch (err) {\n            logger.critical('`loaded` function failed', err)\n        }\n\n        this._start_queue_if_opted_in()\n\n        // this happens after \"loaded\" so a user can call identify or any other things before the pageview fires\n        if (this.config.capture_pageview) {\n            // NOTE: We want to fire this on the next tick as the previous implementation had this side effect\n            // and some clients may rely on it\n            setTimeout(() => {\n                if (this.consent.isOptedIn()) {\n                    this._captureInitialPageview()\n                }\n            }, 1)\n        }\n\n        // Call decide to get what features are enabled and other settings.\n        // As a reminder, if the /decide endpoint is disabled, feature flags, toolbar, session recording, autocapture,\n        // and compression will not be available.\n        if (!disableDecide) {\n            new Decide(this).call()\n\n            // TRICKY: Reset any decide reloads queued during config.loaded because they'll be\n            // covered by the decide call right above.\n            this.featureFlags.resetRequestQueue()\n        }\n    }\n\n    _start_queue_if_opted_in(): void {\n        if (!this.has_opted_out_capturing()) {\n            if (this.config.request_batching) {\n                this._requestQueue?.enable()\n            }\n        }\n    }\n\n    _dom_loaded(): void {\n        if (!this.has_opted_out_capturing()) {\n            eachArray(this.__request_queue, (item) => this._send_retriable_request(item))\n        }\n\n        this.__request_queue = []\n        this._start_queue_if_opted_in()\n    }\n\n    _handle_unload(): void {\n        if (!this.config.request_batching) {\n            if (this._shouldCapturePageleave()) {\n                this.capture('$pageleave', null, { transport: 'sendBeacon' })\n            }\n            return\n        }\n\n        if (this._shouldCapturePageleave()) {\n            this.capture('$pageleave')\n        }\n\n        this._requestQueue?.unload()\n        this._retryQueue?.unload()\n    }\n\n    _send_request(options: QueuedRequestOptions): void {\n        if (!this.__loaded) {\n            return\n        }\n\n        if (ENQUEUE_REQUESTS) {\n            this.__request_queue.push(options)\n            return\n        }\n\n        if (this.rateLimiter.isServerRateLimited(options.batchKey)) {\n            return\n        }\n\n        options.transport = options.transport || this.config.api_transport\n        options.url = extendURLParams(options.url, {\n            // Whether to detect ip info or not\n            ip: this.config.ip ? 1 : 0,\n        })\n        options.headers = {\n            ...this.config.request_headers,\n        }\n        options.compression = options.compression === 'best-available' ? this.compression : options.compression\n\n        request({\n            ...options,\n            callback: (response) => {\n                this.rateLimiter.checkForLimiting(response)\n\n                if (response.statusCode >= 400) {\n                    this.config.on_request_error?.(response)\n                }\n\n                options.callback?.(response)\n            },\n        })\n    }\n\n    _send_retriable_request(options: QueuedRequestOptions): void {\n        if (this._retryQueue) {\n            this._retryQueue.retriableRequest(options)\n        } else {\n            this._send_request(options)\n        }\n    }\n\n    /**\n     * _execute_array() deals with processing any posthog function\n     * calls that were called before the PostHog library were loaded\n     * (and are thus stored in an array so they can be called later)\n     *\n     * Note: we fire off all the posthog function calls && user defined\n     * functions BEFORE we fire off posthog capturing calls. This is so\n     * identify/register/set_config calls can properly modify early\n     * capturing calls.\n     *\n     * @param {Array} array\n     */\n    _execute_array(array: SnippetArrayItem[]): void {\n        let fn_name\n        const alias_calls: SnippetArrayItem[] = []\n        const other_calls: SnippetArrayItem[] = []\n        const capturing_calls: SnippetArrayItem[] = []\n        eachArray(array, (item) => {\n            if (item) {\n                fn_name = item[0]\n                if (isArray(fn_name)) {\n                    capturing_calls.push(item) // chained call e.g. posthog.get_group().set()\n                } else if (isFunction(item)) {\n                    ;(item as any).call(this)\n                } else if (isArray(item) && fn_name === 'alias') {\n                    alias_calls.push(item)\n                } else if (isArray(item) && fn_name.indexOf('capture') !== -1 && isFunction((this as any)[fn_name])) {\n                    capturing_calls.push(item)\n                } else {\n                    other_calls.push(item)\n                }\n            }\n        })\n\n        const execute = function (calls: SnippetArrayItem[], thisArg: any) {\n            eachArray(\n                calls,\n                function (item) {\n                    if (isArray(item[0])) {\n                        // chained call\n                        let caller = thisArg\n                        each(item, function (call) {\n                            caller = caller[call[0]].apply(caller, call.slice(1))\n                        })\n                    } else {\n                        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n                        // @ts-ignore\n                        this[item[0]].apply(this, item.slice(1))\n                    }\n                },\n                thisArg\n            )\n        }\n\n        execute(alias_calls, this)\n        execute(other_calls, this)\n        execute(capturing_calls, this)\n    }\n\n    _hasBootstrappedFeatureFlags(): boolean {\n        return (\n            (this.config.bootstrap?.featureFlags && Object.keys(this.config.bootstrap?.featureFlags).length > 0) ||\n            false\n        )\n    }\n\n    /**\n     * push() keeps the standard async-array-push\n     * behavior around after the lib is loaded.\n     * This is only useful for external integrations that\n     * do not wish to rely on our convenience methods\n     * (created in the snippet).\n     *\n     * ### Usage:\n     *     posthog.push(['register', { a: 'b' }]);\n     *\n     * @param {Array} item A [function_name, args...] array to be executed\n     */\n    push(item: SnippetArrayItem): void {\n        this._execute_array([item])\n    }\n\n    /**\n     * Capture an event. This is the most important and\n     * frequently used PostHog function.\n     *\n     * ### Usage:\n     *\n     *     // capture an event named 'Registered'\n     *     posthog.capture('Registered', {'Gender': 'Male', 'Age': 21});\n     *\n     *     // capture an event using navigator.sendBeacon\n     *     posthog.capture('Left page', {'duration_seconds': 35}, {transport: 'sendBeacon'});\n     *\n     * @param {String} event_name The name of the event. This can be anything the user does - 'Button Click', 'Sign Up', 'Item Purchased', etc.\n     * @param {Object} [properties] A set of properties to include with the event you're sending. These describe the user who did the event or details about the event itself.\n     * @param {Object} [config] Optional configuration for this capture request.\n     * @param {String} [config.transport] Transport method for network request ('XHR' or 'sendBeacon').\n     * @param {Date} [config.timestamp] Timestamp is a Date object. If not set, it'll automatically be set to the current time.\n     */\n    capture(event_name: string, properties?: Properties | null, options?: CaptureOptions): CaptureResult | undefined {\n        // While developing, a developer might purposefully _not_ call init(),\n        // in this case, we would like capture to be a noop.\n        if (!this.__loaded || !this.persistence || !this.sessionPersistence || !this._requestQueue) {\n            logger.uninitializedWarning('posthog.capture')\n            return\n        }\n\n        if (this.consent.isOptedOut()) {\n            return\n        }\n\n        // typing doesn't prevent interesting data\n        if (isUndefined(event_name) || !isString(event_name)) {\n            logger.error('No event name provided to posthog.capture')\n            return\n        }\n\n        if (!this.config.opt_out_useragent_filter && this._is_bot()) {\n            return\n        }\n\n        const clientRateLimitContext = !options?.skip_client_rate_limiting\n            ? this.rateLimiter.clientRateLimitContext()\n            : undefined\n\n        if (clientRateLimitContext?.isRateLimited) {\n            logger.critical('This capture call is ignored due to client rate limiting.')\n            return\n        }\n\n        // update persistence\n        this.sessionPersistence.update_search_keyword()\n\n        // The initial campaign/referrer props need to be stored in the regular persistence, as they are there to mimic\n        // the person-initial props. The non-initial versions are stored in the sessionPersistence, as they are sent\n        // with every event and used by the session table to create session-initial props.\n        if (this.config.store_google) {\n            this.sessionPersistence.update_campaign_params()\n        }\n        if (this.config.save_referrer) {\n            this.sessionPersistence.update_referrer_info()\n        }\n        if (this.config.store_google || this.config.save_referrer) {\n            this.persistence.set_initial_person_info()\n        }\n\n        const systemTime = new Date()\n        const timestamp = options?.timestamp || systemTime\n\n        let data: CaptureResult = {\n            uuid: uuidv7(),\n            event: event_name,\n            properties: this._calculate_event_properties(event_name, properties || {}, timestamp),\n        }\n\n        if (clientRateLimitContext) {\n            data.properties['$lib_rate_limit_remaining_tokens'] = clientRateLimitContext.remainingTokens\n        }\n\n        const setProperties = options?.$set\n        if (setProperties) {\n            data.$set = options?.$set\n        }\n        const setOnceProperties = this._calculate_set_once_properties(options?.$set_once)\n        if (setOnceProperties) {\n            data.$set_once = setOnceProperties\n        }\n\n        data = _copyAndTruncateStrings(data, options?._noTruncate ? null : this.config.properties_string_max_length)\n        data.timestamp = timestamp\n        if (!isUndefined(options?.timestamp)) {\n            data.properties['$event_time_override_provided'] = true\n            data.properties['$event_time_override_system_time'] = systemTime\n        }\n\n        // Top-level $set overriding values from the one from properties is taken from the plugin-server normalizeEvent\n        // This doesn't handle $set_once, because posthog-people doesn't either\n        const finalSet = { ...data.properties['$set'], ...data['$set'] }\n        if (!isEmptyObject(finalSet)) {\n            this.setPersonPropertiesForFlags(finalSet)\n        }\n\n        this._internalEventEmitter.emit('eventCaptured', data)\n\n        const requestOptions: QueuedRequestOptions = {\n            method: 'POST',\n            url: options?._url ?? this.requestRouter.endpointFor('api', this.analyticsDefaultEndpoint),\n            data,\n            compression: 'best-available',\n            batchKey: options?._batchKey,\n        }\n\n        if (this.config.request_batching && (!options || options?._batchKey) && !options?.send_instantly) {\n            this._requestQueue.enqueue(requestOptions)\n        } else {\n            this._send_retriable_request(requestOptions)\n        }\n\n        return data\n    }\n\n    _addCaptureHook(callback: (eventName: string, eventPayload?: CaptureResult) => void): () => void {\n        return this.on('eventCaptured', (data) => callback(data.event, data))\n    }\n\n    _calculate_event_properties(event_name: string, event_properties: Properties, timestamp?: Date): Properties {\n        timestamp = timestamp || new Date()\n        if (!this.persistence || !this.sessionPersistence) {\n            return event_properties\n        }\n\n        // set defaults\n        const startTimestamp = this.persistence.remove_event_timer(event_name)\n        let properties = { ...event_properties }\n        properties['token'] = this.config.token\n\n        if (event_name === '$snapshot') {\n            const persistenceProps = { ...this.persistence.properties(), ...this.sessionPersistence.properties() }\n            properties['distinct_id'] = persistenceProps.distinct_id\n            if (\n                // we spotted one customer that was managing to send `false` for ~9k events a day\n                !(isString(properties['distinct_id']) || isNumber(properties['distinct_id'])) ||\n                isEmptyString(properties['distinct_id'])\n            ) {\n                logger.error('Invalid distinct_id for replay event. This indicates a bug in your implementation')\n            }\n            return properties\n        }\n\n        const infoProperties = Info.properties()\n\n        if (this.sessionManager) {\n            const { sessionId, windowId } = this.sessionManager.checkAndGetSessionAndWindowId()\n            properties['$session_id'] = sessionId\n            properties['$window_id'] = windowId\n        }\n\n        if (this.requestRouter.region === RequestRouterRegion.CUSTOM) {\n            properties['$lib_custom_api_host'] = this.config.api_host\n        }\n\n        if (\n            this.sessionPropsManager &&\n            this.config.__preview_send_client_session_params &&\n            (event_name === '$pageview' || event_name === '$pageleave' || event_name === '$autocapture')\n        ) {\n            const sessionProps = this.sessionPropsManager.getSessionProps()\n            properties = extend(properties, sessionProps)\n        }\n\n        if (!this.config.disable_scroll_properties) {\n            let performanceProperties: Record<string, any> = {}\n            if (event_name === '$pageview') {\n                performanceProperties = this.pageViewManager.doPageView(timestamp)\n            } else if (event_name === '$pageleave') {\n                performanceProperties = this.pageViewManager.doPageLeave(timestamp)\n            }\n            properties = extend(properties, performanceProperties)\n        }\n\n        if (event_name === '$pageview' && document) {\n            properties['title'] = document.title\n        }\n\n        // set $duration if time_event was previously called for this event\n        if (!isUndefined(startTimestamp)) {\n            const duration_in_ms = timestamp.getTime() - startTimestamp\n            properties['$duration'] = parseFloat((duration_in_ms / 1000).toFixed(3))\n        }\n\n        // this is only added when this.config.opt_out_useragent_filter is true,\n        // or it would always add \"browser\"\n        if (userAgent && this.config.opt_out_useragent_filter) {\n            properties['$browser_type'] = this._is_bot() ? 'bot' : 'browser'\n        }\n\n        // note: extend writes to the first object, so lets make sure we\n        // don't write to the persistence properties object and info\n        // properties object by passing in a new object\n\n        // update properties with pageview info and super-properties\n        properties = extend(\n            {},\n            infoProperties,\n            this.persistence.properties(),\n            this.sessionPersistence.properties(),\n            properties\n        )\n\n        properties['$is_identified'] = this._isIdentified()\n\n        if (isArray(this.config.property_denylist)) {\n            each(this.config.property_denylist, function (denylisted_prop) {\n                delete properties[denylisted_prop]\n            })\n        } else {\n            logger.error(\n                'Invalid value for property_denylist config: ' +\n                    this.config.property_denylist +\n                    ' or property_blacklist config: ' +\n                    this.config.property_blacklist\n            )\n        }\n\n        const sanitize_properties = this.config.sanitize_properties\n        if (sanitize_properties) {\n            properties = sanitize_properties(properties, event_name)\n        }\n\n        // add person processing flag as very last step, so it cannot be overridden\n        const hasPersonProcessing = this._hasPersonProcessing()\n        properties['$process_person_profile'] = hasPersonProcessing\n        // if the event has person processing, ensure that all future events will too, even if the setting changes\n        if (hasPersonProcessing) {\n            this._requirePersonProcessing('_calculate_event_properties')\n        }\n\n        return properties\n    }\n\n    _calculate_set_once_properties(dataSetOnce?: Properties): Properties | undefined {\n        if (!this.persistence || !this._hasPersonProcessing()) {\n            return dataSetOnce\n        }\n        // if we're an identified person, send initial params with every event\n        let setOnceProperties = extend({}, this.persistence.get_initial_props(), dataSetOnce || {})\n        const sanitize_properties = this.config.sanitize_properties\n        if (sanitize_properties) {\n            setOnceProperties = sanitize_properties(setOnceProperties, '$set_once')\n        }\n        if (isEmptyObject(setOnceProperties)) {\n            return undefined\n        }\n        return setOnceProperties\n    }\n\n    /**\n     * Register a set of super properties, which are included with all\n     * events. This will overwrite previous super property values, except\n     * for session properties (see `register_for_session(properties)`).\n     *\n     * ### Usage:\n     *\n     *     // register 'Gender' as a super property\n     *     posthog.register({'Gender': 'Female'});\n     *\n     *     // register several super properties when a user signs up\n     *     posthog.register({\n     *         'Email': 'jdoe@example.com',\n     *         'Account Type': 'Free'\n     *     });\n     *\n     *     // Display the properties\n     *     console.log(posthog.persistence.properties())\n     *\n     * @param {Object} properties An associative array of properties to store about the user\n     * @param {Number} [days] How many days since the user's last visit to store the super properties\n     */\n    register(properties: Properties, days?: number): void {\n        this.persistence?.register(properties, days)\n    }\n\n    /**\n     * Register a set of super properties only once. These will not\n     * overwrite previous super property values, unlike register().\n     *\n     * ### Usage:\n     *\n     *     // register a super property for the first time only\n     *     posthog.register_once({\n     *         'First Login Date': new Date().toISOString()\n     *     });\n     *\n     *     // Display the properties\n     *     console.log(posthog.persistence.properties())\n     *\n     * ### Notes:\n     *\n     * If default_value is specified, current super properties\n     * with that value will be overwritten.\n     *\n     * @param {Object} properties An associative array of properties to store about the user\n     * @param {*} [default_value] Value to override if already set in super properties (ex: 'False') Default: 'None'\n     * @param {Number} [days] How many days since the users last visit to store the super properties\n     */\n    register_once(properties: Properties, default_value?: Property, days?: number): void {\n        this.persistence?.register_once(properties, default_value, days)\n    }\n\n    /**\n     * Register a set of super properties, which are included with all events, but only\n     * for THIS SESSION. These will overwrite all other super property values.\n     *\n     * Unlike regular super properties, which last in LocalStorage for a long time,\n     * session super properties get cleared after a session ends.\n     *\n     * ### Usage:\n     *\n     *     // register on all events this session\n     *     posthog.register_for_session({'referer': customGetReferer()});\n     *\n     *     // register several session super properties when a user signs up\n     *     posthog.register_for_session({\n     *         'selectedPlan': 'pro',\n     *         'completedSteps': 4,\n     *     });\n     *\n     *     // Display the properties\n     *     console.log(posthog.sessionPersistence.properties())\n     *\n     * @param {Object} properties An associative array of properties to store about the user\n     */\n    register_for_session(properties: Properties): void {\n        this.sessionPersistence?.register(properties)\n    }\n\n    /**\n     * Delete a super property stored with the current user.\n     *\n     * @param {String} property The name of the super property to remove\n     */\n    unregister(property: string): void {\n        this.persistence?.unregister(property)\n    }\n\n    /**\n     * Delete a session super property stored with the current user.\n     *\n     * @param {String} property The name of the session super property to remove\n     */\n    unregister_for_session(property: string): void {\n        this.sessionPersistence?.unregister(property)\n    }\n\n    _register_single(prop: string, value: Property) {\n        this.register({ [prop]: value })\n    }\n\n    /*\n     * Get feature flag value for user (supports multivariate flags).\n     *\n     * ### Usage:\n     *\n     *     if(posthog.getFeatureFlag('beta-feature') === 'some-value') { // do something }\n     *\n     * @param {Object|String} prop Key of the feature flag.\n     * @param {Object|String} options (optional) If {send_event: false}, we won't send an $feature_flag_call event to PostHog.\n     */\n    getFeatureFlag(key: string, options?: { send_event?: boolean }): boolean | string | undefined {\n        return this.featureFlags.getFeatureFlag(key, options)\n    }\n\n    /*\n     * Get feature flag payload value matching key for user (supports multivariate flags).\n     *\n     * ### Usage:\n     *\n     *     if(posthog.getFeatureFlag('beta-feature') === 'some-value') {\n     *          const someValue = posthog.getFeatureFlagPayload('beta-feature')\n     *          // do something\n     *     }\n     *\n     * @param {Object|String} prop Key of the feature flag.\n     */\n    getFeatureFlagPayload(key: string): JsonType {\n        const payload = this.featureFlags.getFeatureFlagPayload(key)\n        try {\n            return JSON.parse(payload as any)\n        } catch {\n            return payload\n        }\n    }\n\n    /*\n     * See if feature flag is enabled for user.\n     *\n     * ### Usage:\n     *\n     *     if(posthog.isFeatureEnabled('beta-feature')) { // do something }\n     *\n     * @param {Object|String} prop Key of the feature flag.\n     * @param {Object|String} options (optional) If {send_event: false}, we won't send an $feature_flag_call event to PostHog.\n     */\n    isFeatureEnabled(key: string, options?: IsFeatureEnabledOptions): boolean | undefined {\n        return this.featureFlags.isFeatureEnabled(key, options)\n    }\n\n    reloadFeatureFlags(): void {\n        this.featureFlags.reloadFeatureFlags()\n    }\n\n    /** Opt the user in or out of an early access feature. */\n    updateEarlyAccessFeatureEnrollment(key: string, isEnrolled: boolean): void {\n        this.featureFlags.updateEarlyAccessFeatureEnrollment(key, isEnrolled)\n    }\n\n    /** Get the list of early access features. To check enrollment status, use `isFeatureEnabled`. */\n    getEarlyAccessFeatures(callback: EarlyAccessFeatureCallback, force_reload = false): void {\n        return this.featureFlags.getEarlyAccessFeatures(callback, force_reload)\n    }\n\n    /**\n     * Exposes a set of events that PostHog will emit.\n     * e.g. `eventCaptured` is emitted immediately before trying to send an event\n     *\n     * Unlike  `onFeatureFlags` and `onSessionId` these are not called when the\n     * listener is registered, the first callback will be the next event\n     * _after_ registering a listener\n     */\n    on(event: 'eventCaptured', cb: (...args: any[]) => void): () => void {\n        return this._internalEventEmitter.on(event, cb)\n    }\n\n    /*\n     * Register an event listener that runs when feature flags become available or when they change.\n     * If there are flags, the listener is called immediately in addition to being called on future changes.\n     *\n     * ### Usage:\n     *\n     *     posthog.onFeatureFlags(function(featureFlags) { // do something })\n     *\n     * @param {Function} [callback] The callback function will be called once the feature flags are ready or when they are updated.\n     *                              It'll return a list of feature flags enabled for the user.\n     * @returns {Function} A function that can be called to unsubscribe the listener. Used by useEffect when the component unmounts.\n     */\n    onFeatureFlags(callback: (flags: string[], variants: Record<string, string | boolean>) => void): () => void {\n        return this.featureFlags.onFeatureFlags(callback)\n    }\n\n    /*\n     * Register an event listener that runs whenever the session id or window id change.\n     * If there is already a session id, the listener is called immediately in addition to being called on future changes.\n     *\n     * Can be used, for example, to sync the PostHog session id with a backend session.\n     *\n     * ### Usage:\n     *\n     *     posthog.onSessionId(function(sessionId, windowId) { // do something })\n     *\n     * @param {Function} [callback] The callback function will be called once a session id is present or when it or the window id are updated.\n     * @returns {Function} A function that can be called to unsubscribe the listener. E.g. Used by useEffect when the component unmounts.\n     */\n    onSessionId(callback: SessionIdChangedCallback): () => void {\n        return this.sessionManager?.onSessionId(callback) ?? (() => {})\n    }\n\n    /** Get list of all surveys. */\n    getSurveys(callback: SurveyCallback, forceReload = false): void {\n        this.surveys.getSurveys(callback, forceReload)\n    }\n\n    /** Get surveys that should be enabled for the current user. */\n    getActiveMatchingSurveys(callback: SurveyCallback, forceReload = false): void {\n        this.surveys.getActiveMatchingSurveys(callback, forceReload)\n    }\n\n    /** Render a survey on a specific element. */\n    renderSurvey(surveyId: string, selector: string): void {\n        this.surveys.renderSurvey(surveyId, selector)\n    }\n\n    /** Checks the feature flags associated with this Survey to see if the survey can be rendered. */\n    canRenderSurvey(surveyId: string): void {\n        this.surveys.canRenderSurvey(surveyId)\n    }\n\n    /** Get the next step of the survey: a question index or `end` */\n    getNextSurveyStep(\n        survey: Survey,\n        currentQuestionIndex: number,\n        response: string | string[] | number | null\n    ): number | SurveyQuestionBranchingType.End {\n        return this.surveys.getNextSurveyStep(survey, currentQuestionIndex, response)\n    }\n\n    /**\n     * Identify a user with a unique ID instead of a PostHog\n     * randomly generated distinct_id. If the method is never called,\n     * then unique visitors will be identified by a UUID that is generated\n     * the first time they visit the site.\n     *\n     * If user properties are passed, they are also sent to posthog.\n     *\n     * ### Usage:\n     *\n     *      posthog.identify('[user unique id]')\n     *      posthog.identify('[user unique id]', { email: 'john@example.com' })\n     *      posthog.identify('[user unique id]', {}, { referral_code: '12345' })\n     *\n     * ### Notes:\n     *\n     * You can call this function to overwrite a previously set\n     * unique ID for the current user.\n     *\n     * If the user has been identified ($user_state in persistence is set to 'identified'),\n     * then capture of $identify is skipped to avoid merging users. For example,\n     * if your system allows an admin user to impersonate another user.\n     *\n     * Then a single browser instance can have:\n     *\n     *  `identify('a') -> capture(1) -> identify('b') -> capture(2)`\n     *\n     * and capture 1 and capture 2 will have the correct distinct_id.\n     * but users a and b will NOT be merged in posthog.\n     *\n     * However, if reset is called then:\n     *\n     *  `identify('a') -> capture(1) -> reset() -> capture(2) -> identify('b') -> capture(3)`\n     *\n     * users a and b are not merged.\n     * Capture 1 is associated with user a.\n     * A new distinct id is generated for capture 2.\n     * which is merged with user b.\n     * So, capture 2 and 3 are associated with user b.\n     *\n     * If you want to merge two identified users, you can call posthog.alias\n     *\n     * @param {String} [new_distinct_id] A string that uniquely identifies a user. If not provided, the distinct_id currently in the persistent store (cookie or localStorage) will be used.\n     * @param {Object} [userPropertiesToSet] Optional: An associative array of properties to store about the user\n     * @param {Object} [userPropertiesToSetOnce] Optional: An associative array of properties to store about the user. If property is previously set, this does not override that value.\n     */\n    identify(new_distinct_id?: string, userPropertiesToSet?: Properties, userPropertiesToSetOnce?: Properties): void {\n        if (!this.__loaded || !this.persistence) {\n            return logger.uninitializedWarning('posthog.identify')\n        }\n        if (isNumber(new_distinct_id)) {\n            new_distinct_id = (new_distinct_id as number).toString()\n            logger.warn(\n                'The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.'\n            )\n        }\n\n        //if the new_distinct_id has not been set ignore the identify event\n        if (!new_distinct_id) {\n            logger.error('Unique user id has not been set in posthog.identify')\n            return\n        }\n\n        if (isDistinctIdStringLike(new_distinct_id)) {\n            logger.critical(\n                `The string \"${new_distinct_id}\" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.`\n            )\n            return\n        }\n\n        if (!this._requirePersonProcessing('posthog.identify')) {\n            return\n        }\n\n        const previous_distinct_id = this.get_distinct_id()\n        this.register({ $user_id: new_distinct_id })\n\n        if (!this.get_property('$device_id')) {\n            // The persisted distinct id might not actually be a device id at all\n            // it might be a distinct id of the user from before\n            const device_id = previous_distinct_id\n            this.register_once(\n                {\n                    $had_persisted_distinct_id: true,\n                    $device_id: device_id,\n                },\n                ''\n            )\n        }\n\n        // if the previous distinct id had an alias stored, then we clear it\n        if (new_distinct_id !== previous_distinct_id && new_distinct_id !== this.get_property(ALIAS_ID_KEY)) {\n            this.unregister(ALIAS_ID_KEY)\n            this.register({ distinct_id: new_distinct_id })\n        }\n\n        const isKnownAnonymous = (this.persistence.get_property(USER_STATE) || 'anonymous') === 'anonymous'\n\n        // send an $identify event any time the distinct_id is changing and the old ID is an anonymous ID\n        // - logic on the server will determine whether or not to do anything with it.\n        if (new_distinct_id !== previous_distinct_id && isKnownAnonymous) {\n            this.persistence.set_property(USER_STATE, 'identified')\n\n            // Update current user properties\n            this.setPersonPropertiesForFlags(userPropertiesToSet || {}, false)\n\n            this.capture(\n                '$identify',\n                {\n                    distinct_id: new_distinct_id,\n                    $anon_distinct_id: previous_distinct_id,\n                },\n                { $set: userPropertiesToSet || {}, $set_once: userPropertiesToSetOnce || {} }\n            )\n            // let the reload feature flag request know to send this previous distinct id\n            // for flag consistency\n            this.featureFlags.setAnonymousDistinctId(previous_distinct_id)\n        } else if (userPropertiesToSet || userPropertiesToSetOnce) {\n            // If the distinct_id is not changing, but we have user properties to set, we can go for a $set event\n            this.setPersonProperties(userPropertiesToSet, userPropertiesToSetOnce)\n        }\n\n        // Reload active feature flags if the user identity changes.\n        // Note we don't reload this on property changes as these get processed async\n        if (new_distinct_id !== previous_distinct_id) {\n            this.reloadFeatureFlags()\n            // also clear any stored flag calls\n            this.unregister(FLAG_CALL_REPORTED)\n        }\n    }\n\n    /**\n     * Sets properties for the Person associated with the current distinct_id. If config.person_profiles is set to\n     * identified_only, and a Person profile has not been created yet, this will create one.\n     *\n     *\n     * @param {Object} [userPropertiesToSet] Optional: An associative array of properties to store about the user\n     * @param {Object} [userPropertiesToSetOnce] Optional: An associative array of properties to store about the user. If property is previously set, this does not override that value.\n     */\n    setPersonProperties(userPropertiesToSet?: Properties, userPropertiesToSetOnce?: Properties): void {\n        if (!userPropertiesToSet && !userPropertiesToSetOnce) {\n            return\n        }\n\n        if (!this._requirePersonProcessing('posthog.setPersonProperties')) {\n            return\n        }\n\n        // Update current user properties\n        this.setPersonPropertiesForFlags(userPropertiesToSet || {})\n\n        this.capture('$set', { $set: userPropertiesToSet || {}, $set_once: userPropertiesToSetOnce || {} })\n    }\n\n    /**\n     * Sets group analytics information for subsequent events and reloads feature flags.\n     *\n     * @param {String} groupType Group type (example: 'organization')\n     * @param {String} groupKey Group key (example: 'org::5')\n     * @param {Object} groupPropertiesToSet Optional properties to set for group\n     */\n    group(groupType: string, groupKey: string, groupPropertiesToSet?: Properties): void {\n        if (!groupType || !groupKey) {\n            logger.error('posthog.group requires a group type and group key')\n            return\n        }\n\n        if (!this._requirePersonProcessing('posthog.group')) {\n            return\n        }\n\n        const existingGroups = this.getGroups()\n\n        // if group key changes, remove stored group properties\n        if (existingGroups[groupType] !== groupKey) {\n            this.resetGroupPropertiesForFlags(groupType)\n        }\n\n        this.register({ $groups: { ...existingGroups, [groupType]: groupKey } })\n\n        if (groupPropertiesToSet) {\n            this.capture('$groupidentify', {\n                $group_type: groupType,\n                $group_key: groupKey,\n                $group_set: groupPropertiesToSet,\n            })\n            this.setGroupPropertiesForFlags({ [groupType]: groupPropertiesToSet })\n        }\n\n        // If groups change and no properties change, reload feature flags.\n        // The property change reload case is handled in setGroupPropertiesForFlags.\n        if (existingGroups[groupType] !== groupKey && !groupPropertiesToSet) {\n            this.reloadFeatureFlags()\n        }\n    }\n\n    /**\n     * Resets only the group properties of the user currently logged in.\n     */\n    resetGroups(): void {\n        this.register({ $groups: {} })\n        this.resetGroupPropertiesForFlags()\n\n        // If groups changed, reload feature flags.\n        this.reloadFeatureFlags()\n    }\n\n    /**\n     * Set override person properties for feature flags.\n     * This is used when dealing with new persons / where you don't want to wait for ingestion\n     * to update user properties.\n     */\n    setPersonPropertiesForFlags(properties: Properties, reloadFeatureFlags = true): void {\n        if (!this._requirePersonProcessing('posthog.setPersonPropertiesForFlags')) {\n            return\n        }\n        this.featureFlags.setPersonPropertiesForFlags(properties, reloadFeatureFlags)\n    }\n\n    resetPersonPropertiesForFlags(): void {\n        this.featureFlags.resetPersonPropertiesForFlags()\n    }\n\n    /**\n     * Set override group properties for feature flags.\n     * This is used when dealing with new groups / where you don't want to wait for ingestion\n     * to update properties.\n     * Takes in an object, the key of which is the group type.\n     * For example:\n     *     setGroupPropertiesForFlags({'organization': { name: 'CYZ', employees: '11' } })\n     */\n    setGroupPropertiesForFlags(properties: { [type: string]: Properties }, reloadFeatureFlags = true): void {\n        if (!this._requirePersonProcessing('posthog.setGroupPropertiesForFlags')) {\n            return\n        }\n        this.featureFlags.setGroupPropertiesForFlags(properties, reloadFeatureFlags)\n    }\n\n    resetGroupPropertiesForFlags(group_type?: string): void {\n        this.featureFlags.resetGroupPropertiesForFlags(group_type)\n    }\n\n    /**\n     * Clears super properties and generates a new random distinct_id for this instance.\n     * Useful for clearing data when a user logs out.\n     */\n    reset(reset_device_id?: boolean): void {\n        logger.info('reset')\n        if (!this.__loaded) {\n            return logger.uninitializedWarning('posthog.reset')\n        }\n        const device_id = this.get_property('$device_id')\n        this.consent.reset()\n        this.persistence?.clear()\n        this.sessionPersistence?.clear()\n        this.surveys?.reset()\n        this.persistence?.set_property(USER_STATE, 'anonymous')\n        this.sessionManager?.resetSessionId()\n        const uuid = this.config.get_device_id(uuidv7())\n        this.register_once(\n            {\n                distinct_id: uuid,\n                $device_id: reset_device_id ? uuid : device_id,\n            },\n            ''\n        )\n    }\n\n    /**\n     * Returns the current distinct id of the user. This is either the id automatically\n     * generated by the library or the id that has been passed by a call to identify().\n     *\n     * ### Notes:\n     *\n     * get_distinct_id() can only be called after the PostHog library has finished loading.\n     * init() has a loaded function available to handle this automatically. For example:\n     *\n     *     // set distinct_id after the posthog library has loaded\n     *     posthog.init('YOUR PROJECT TOKEN', {\n     *         loaded: function(posthog) {\n     *             distinct_id = posthog.get_distinct_id();\n     *         }\n     *     });\n     */\n    get_distinct_id(): string {\n        return this.get_property('distinct_id')\n    }\n\n    getGroups(): Record<string, any> {\n        return this.get_property('$groups') || {}\n    }\n\n    /**\n     * Returns the current session_id.\n     *\n     * NOTE: This should only be used for informative purposes.\n     * Any actual internal use case for the session_id should be handled by the sessionManager.\n     */\n\n    get_session_id(): string {\n        return this.sessionManager?.checkAndGetSessionAndWindowId(true).sessionId ?? ''\n    }\n\n    /**\n     * Returns the Replay url for the current session.\n     *\n     * @param options Options for the url\n     * @param options.withTimestamp Whether to include the timestamp in the url (defaults to false)\n     * @param options.timestampLookBack How many seconds to look back for the timestamp (defaults to 10)\n     */\n    get_session_replay_url(options?: { withTimestamp?: boolean; timestampLookBack?: number }): string {\n        if (!this.sessionManager) {\n            return ''\n        }\n        const { sessionId, sessionStartTimestamp } = this.sessionManager.checkAndGetSessionAndWindowId(true)\n        let url = this.requestRouter.endpointFor('ui', `/project/${this.config.token}/replay/${sessionId}`)\n        if (options?.withTimestamp && sessionStartTimestamp) {\n            const LOOK_BACK = options.timestampLookBack ?? 10\n            if (!sessionStartTimestamp) {\n                return url\n            }\n            const recordingStartTime = Math.max(\n                Math.floor((new Date().getTime() - sessionStartTimestamp) / 1000) - LOOK_BACK,\n                0\n            )\n            url += `?t=${recordingStartTime}`\n        }\n\n        return url\n    }\n\n    /**\n     * Create an alias, which PostHog will use to link two distinct_ids going forward (not retroactively).\n     * Multiple aliases can map to the same original ID, but not vice-versa. Aliases can also be chained - the\n     * following is a valid scenario:\n     *\n     *     posthog.alias('new_id', 'existing_id');\n     *     ...\n     *     posthog.alias('newer_id', 'new_id');\n     *\n     * If the original ID is not passed in, we will use the current distinct_id - probably the auto-generated GUID.\n     *\n     * ### Notes:\n     *\n     * The best practice is to call alias() when a unique ID is first created for a user\n     * (e.g., when a user first registers for an account and provides an email address).\n     * alias() should never be called more than once for a given user, except to\n     * chain a newer ID to a previously new ID, as described above.\n     *\n     * @param {String} alias A unique identifier that you want to use for this user in the future.\n     * @param {String} [original] The current identifier being used for this user.\n     */\n    alias(alias: string, original?: string): CaptureResult | void | number {\n        // If the $people_distinct_id key exists in persistence, there has been a previous\n        // posthog.people.identify() call made for this user. It is VERY BAD to make an alias with\n        // this ID, as it will duplicate users.\n        if (alias === this.get_property(PEOPLE_DISTINCT_ID_KEY)) {\n            logger.critical('Attempting to create alias for existing People user - aborting.')\n            return -2\n        }\n        if (!this._requirePersonProcessing('posthog.alias')) {\n            return\n        }\n\n        if (isUndefined(original)) {\n            original = this.get_distinct_id()\n        }\n        if (alias !== original) {\n            this._register_single(ALIAS_ID_KEY, alias)\n            return this.capture('$create_alias', { alias: alias, distinct_id: original })\n        } else {\n            logger.warn('alias matches current distinct_id - skipping api call.')\n            this.identify(alias)\n            return -1\n        }\n    }\n\n    /**\n     * Update the configuration of a posthog library instance.\n     *\n     * The default config is:\n     *\n     *     {\n     *       // PostHog API host\n     *       api_host: 'https://us.i.posthog.com',\n     *     *\n     *       // PostHog web app host, currently only used by the Sentry integration.\n     *       // This will only be different from api_host when using a reverse-proxied API host – in that case\n     *       // the original web app host needs to be passed here so that links to the web app are still convenient.\n     *       ui_host: 'https://us.posthog.com',\n     *\n     *       // Automatically capture clicks, form submissions and change events\n     *       autocapture: true\n     *\n     *       // Capture rage clicks\n     *       rageclick: true\n     *\n     *       // transport for sending requests ('XHR' or 'sendBeacon')\n     *       // NB: sendBeacon should only be used for scenarios such as\n     *       // page unload where a \"best-effort\" attempt to send is\n     *       // acceptable; the sendBeacon API does not support callbacks\n     *       // or any way to know the result of the request. PostHog\n     *       // capturing via sendBeacon will not support any event-\n     *       // batching or retry mechanisms.\n     *       api_transport: 'XHR'\n     *\n     *       // super properties cookie expiration (in days)\n     *       cookie_expiration: 365\n     *\n     *       // super properties span subdomains\n     *       cross_subdomain_cookie: true\n     *\n     *       // debug mode\n     *       debug: false\n     *\n     *       // if this is true, the posthog cookie or localStorage entry\n     *       // will be deleted, and no user persistence will take place\n     *       disable_persistence: false\n     *\n     *       // if this is true, PostHog will automatically determine\n     *       // City, Region and Country data using the IP address of\n     *       //the client\n     *       ip: true\n     *\n     *       // opt users out of capturing by this PostHog instance by default\n     *       opt_out_capturing_by_default: false\n     *\n     *       // opt users out of browser data storage by this PostHog instance by default\n     *       opt_out_persistence_by_default: false\n     *\n     *       // opt out of user agent filtering such as googlebot or other bots\n     *       opt_out_useragent_filter: false\n     *\n     *       // persistence mechanism used by opt-in/opt-out methods - cookie\n     *       // or localStorage - falls back to cookie if localStorage is unavailable\n     *       opt_out_capturing_persistence_type: 'localStorage'\n     *\n     *       // customize the name of cookie/localStorage set by opt-in/opt-out methods\n     *       opt_out_capturing_cookie_prefix: null\n     *\n     *       // type of persistent store for super properties (cookie/\n     *       // localStorage) if set to 'localStorage', any existing\n     *       // posthog cookie value with the same persistence_name\n     *       // will be transferred to localStorage and deleted\n     *       persistence: 'cookie'\n     *\n     *       // name for super properties persistent store\n     *       persistence_name: ''\n     *\n     *       // deprecated, use property_denylist instead.\n     *       // names of properties/superproperties which should never\n     *       // be sent with capture() calls.\n     *       property_blacklist: []\n     *\n     *       // names of properties/superproperties which should never\n     *       // be sent with capture() calls.\n     *       property_denylist: []\n     *\n     *       // if this is true, posthog cookies will be marked as\n     *       // secure, meaning they will only be transmitted over https\n     *       secure_cookie: false\n     *\n     *       // should we capture a page view on page load\n     *       capture_pageview: true\n     *\n     *       // if you set upgrade to be true, the library will check for\n     *       // a cookie from our old js library and import super\n     *       // properties from it, then the old cookie is deleted\n     *       // The upgrade config option only works in the initialization,\n     *       // so make sure you set it when you create the library.\n     *       upgrade: false\n     *\n     *       // if this is true, session recording is always disabled.\n     *       disable_session_recording: false,\n     *\n     *       // extra HTTP request headers to set for each API request, in\n     *       // the format {'Header-Name': value}\n     *       response_headers: {}\n     *\n     *       // protocol for fetching in-app message resources, e.g.\n     *       // 'https://' or 'http://'; defaults to '//' (which defers to the\n     *       // current page's protocol)\n     *       inapp_protocol: '//'\n     *\n     *       // whether to open in-app message link in new tab/window\n     *       inapp_link_new_window: false\n     *\n     *      // a set of rrweb config options that PostHog users can configure\n     *      // see https://github.com/rrweb-io/rrweb/blob/master/guide.md\n     *      session_recording: {\n     *         blockClass: 'ph-no-capture',\n     *         blockSelector: null,\n     *         ignoreClass: 'ph-ignore-input',\n     *         maskAllInputs: true,\n     *         maskInputOptions: {password: true},\n     *         maskInputFn: null,\n     *         slimDOMOptions: {},\n     *         collectFonts: false,\n     *         inlineStylesheet: true,\n     *      }\n     *\n     *      // prevent autocapture from capturing any attribute names on elements\n     *      mask_all_element_attributes: false\n     *\n     *      // prevent autocapture from capturing textContent on all elements\n     *      mask_all_text: false\n     *\n     *      // Anonymous users get a random UUID as their device by default.\n     *      // This option allows overriding that option.\n     *      get_device_id: (uuid) => uuid\n     *     }\n     *\n     *\n     * @param {Object} config A dictionary of new configuration values to update\n     */\n\n    set_config(config: Partial<PostHogConfig>): void {\n        const oldConfig = { ...this.config }\n        if (isObject(config)) {\n            extend(this.config, configRenames(config))\n\n            this.persistence?.update_config(this.config, oldConfig)\n            this.sessionPersistence =\n                this.config.persistence === 'sessionStorage' || this.config.persistence === 'memory'\n                    ? this.persistence\n                    : new PostHogPersistence({ ...this.config, persistence: 'sessionStorage' })\n\n            if (localStore.is_supported() && localStore.get('ph_debug') === 'true') {\n                this.config.debug = true\n            }\n            if (this.config.debug) {\n                Config.DEBUG = true\n                logger.info('set_config', {\n                    config,\n                    oldConfig,\n                    newConfig: { ...this.config },\n                })\n            }\n\n            this.sessionRecording?.startIfEnabledOrStop()\n            this.autocapture?.startIfEnabled()\n            this.heatmaps?.startIfEnabled()\n            this.surveys.loadIfEnabled()\n            this._sync_opt_out_with_persistence()\n        }\n    }\n\n    /**\n     * turns session recording on, and updates the config option `disable_session_recording` to false\n     * @param override.sampling - optional boolean to override the default sampling behavior - ensures the next session recording to start will not be skipped by sampling config.\n     * @param override.linked_flag - optional boolean to override the default linked_flag behavior - ensures the next session recording to start will not be skipped by linked_flag config.\n     * @param override.url_trigger - optional boolean to override the default url_trigger behavior - ensures the next session recording to start will not be skipped by url_trigger config.\n     * @param override.event_trigger - optional boolean to override the default event_trigger behavior - ensures the next session recording to start will not be skipped by event_trigger config.\n     * @param override - optional boolean to override the default sampling behavior - ensures the next session recording to start will not be skipped by sampling or linked_flag config. `true` is shorthand for { sampling: true, linked_flag: true }\n     */\n    startSessionRecording(\n        override?: { sampling?: boolean; linked_flag?: boolean; url_trigger?: true; event_trigger?: true } | true\n    ): void {\n        const overrideAll = override === true\n        const overrideConfig = {\n            sampling: overrideAll || !!override?.sampling,\n            linked_flag: overrideAll || !!override?.linked_flag,\n            url_trigger: overrideAll || !!override?.url_trigger,\n            event_trigger: overrideAll || !!override?.event_trigger,\n        }\n\n        if (Object.values(overrideConfig).some(Boolean)) {\n            // allow the session id check to rotate session id if necessary\n            this.sessionManager?.checkAndGetSessionAndWindowId()\n\n            if (overrideConfig.sampling) {\n                this.sessionRecording?.overrideSampling()\n            }\n\n            if (overrideConfig.linked_flag) {\n                this.sessionRecording?.overrideLinkedFlag()\n            }\n\n            if (overrideConfig.url_trigger) {\n                this.sessionRecording?.overrideTrigger('url')\n            }\n\n            if (overrideConfig.event_trigger) {\n                this.sessionRecording?.overrideTrigger('event')\n            }\n        }\n\n        this.set_config({ disable_session_recording: false })\n    }\n\n    /**\n     * turns session recording off, and updates the config option\n     * disable_session_recording to true\n     */\n    stopSessionRecording(): void {\n        this.set_config({ disable_session_recording: true })\n    }\n\n    /**\n     * returns a boolean indicating whether session recording\n     * is currently running\n     */\n    sessionRecordingStarted(): boolean {\n        return !!this.sessionRecording?.started\n    }\n\n    /** Capture a caught exception manually */\n    captureException(error: Error, additionalProperties?: Properties): void {\n        const syntheticException = new Error('PostHog syntheticException')\n        const properties: Properties = isFunction(assignableWindow.__PosthogExtensions__?.parseErrorAsProperties)\n            ? assignableWindow.__PosthogExtensions__.parseErrorAsProperties(\n                  [error.message, undefined, undefined, undefined, error],\n                  // create synthetic error to get stack in cases where user input does not contain one\n                  // creating the exceptionas soon into our code as possible means we should only have to\n                  // remove a single frame (this 'captureException' method) from the resultant stack\n                  { syntheticException }\n              )\n            : {\n                  $exception_level: 'error',\n                  $exception_list: [\n                      {\n                          type: error.name,\n                          value: error.message,\n                          mechanism: {\n                              handled: true,\n                              synthetic: false,\n                          },\n                      },\n                  ],\n                  ...additionalProperties,\n              }\n\n        this.exceptions.sendExceptionEvent(properties)\n    }\n\n    /**\n     * returns a boolean indicating whether the toolbar loaded\n     * @param toolbarParams\n     */\n\n    loadToolbar(params: ToolbarParams): boolean {\n        return this.toolbar.loadToolbar(params)\n    }\n\n    /**\n     * Returns the value of the super property named property_name. If no such\n     * property is set, get_property() will return the undefined value.\n     *\n     * ### Notes:\n     *\n     * get_property() can only be called after the PostHog library has finished loading.\n     * init() has a loaded function available to handle this automatically. For example:\n     *\n     *     // grab value for '$user_id' after the posthog library has loaded\n     *     posthog.init('YOUR PROJECT TOKEN', {\n     *         loaded: function(posthog) {\n     *             user_id = posthog.get_property('$user_id');\n     *         }\n     *     });\n     *\n     * @param {String} property_name The name of the super property you want to retrieve\n     */\n    get_property(property_name: string): Property | undefined {\n        return this.persistence?.props[property_name]\n    }\n\n    /**\n     * Returns the value of the session super property named property_name. If no such\n     * property is set, getSessionProperty() will return the undefined value.\n     *\n     * ### Notes:\n     *\n     * This is based on browser-level `sessionStorage`, NOT the PostHog session.\n     * getSessionProperty() can only be called after the PostHog library has finished loading.\n     * init() has a loaded function available to handle this automatically. For example:\n     *\n     *     // grab value for 'user_id' after the posthog library has loaded\n     *     posthog.init('YOUR PROJECT TOKEN', {\n     *         loaded: function(posthog) {\n     *             user_id = posthog.getSessionProperty('user_id');\n     *         }\n     *     });\n     *\n     * @param {String} property_name The name of the session super property you want to retrieve\n     */\n    getSessionProperty(property_name: string): Property | undefined {\n        return this.sessionPersistence?.props[property_name]\n    }\n\n    toString(): string {\n        let name = this.config.name ?? PRIMARY_INSTANCE_NAME\n        if (name !== PRIMARY_INSTANCE_NAME) {\n            name = PRIMARY_INSTANCE_NAME + '.' + name\n        }\n        return name\n    }\n\n    _isIdentified(): boolean {\n        return (\n            this.persistence?.get_property(USER_STATE) === 'identified' ||\n            this.sessionPersistence?.get_property(USER_STATE) === 'identified'\n        )\n    }\n\n    _hasPersonProcessing(): boolean {\n        return !(\n            this.config.person_profiles === 'never' ||\n            (this.config.person_profiles === 'identified_only' &&\n                !this._isIdentified() &&\n                isEmptyObject(this.getGroups()) &&\n                !this.persistence?.props?.[ALIAS_ID_KEY] &&\n                !this.persistence?.props?.[ENABLE_PERSON_PROCESSING])\n        )\n    }\n\n    _shouldCapturePageleave(): boolean {\n        return (\n            this.config.capture_pageleave === true ||\n            (this.config.capture_pageleave === 'if_capture_pageview' && this.config.capture_pageview)\n        )\n    }\n\n    /**\n     *  Creates a person profile for the current user, if they don't already have one and config.person_profiles is set\n     *  to 'identified_only'. Produces a warning and does not create a profile if config.person_profiles is set to\n     *  'never'.\n     */\n    createPersonProfile(): void {\n        if (this._hasPersonProcessing()) {\n            // if a person profile already exists, don't send an event when we don't need to\n            return\n        }\n        if (!this._requirePersonProcessing('posthog.createPersonProfile')) {\n            return\n        }\n        // sent a $set event. We don't set any properties here, but attribution props will be added later\n        this.setPersonProperties({}, {})\n    }\n\n    /**\n     * Enables person processing if possible, returns true if it does so or already enabled, false otherwise\n     *\n     * @param function_name\n     */\n    _requirePersonProcessing(function_name: string): boolean {\n        if (this.config.person_profiles === 'never') {\n            logger.error(\n                function_name + ' was called, but process_person is set to \"never\". This call will be ignored.'\n            )\n            return false\n        }\n        this._register_single(ENABLE_PERSON_PROCESSING, true)\n        return true\n    }\n\n    /**\n     * Enable or disable persistence based on options\n     * only enable/disable if persistence is not already in this state\n     * @param {boolean} [disabled] If true, will re-enable sdk persistence\n     */\n    private _sync_opt_out_with_persistence(): void {\n        const isOptedOut = this.consent.isOptedOut()\n        const defaultPersistenceDisabled = this.config.opt_out_persistence_by_default\n\n        // TRICKY: We want a deterministic state for persistence so that a new pageload has the same persistence\n        const persistenceDisabled = this.config.disable_persistence || (isOptedOut && !!defaultPersistenceDisabled)\n\n        if (this.persistence?.disabled !== persistenceDisabled) {\n            this.persistence?.set_disabled(persistenceDisabled)\n        }\n        if (this.sessionPersistence?.disabled !== persistenceDisabled) {\n            this.sessionPersistence?.set_disabled(persistenceDisabled)\n        }\n    }\n\n    /**\n     * Opt the user in to data capturing and cookies/localstorage for this PostHog instance\n     * If the config.opt_out_persistence_by_default is set to false, the SDK persistence will be enabled.\n     *\n     * ### Usage\n     *\n     *     // opt user in\n     *     posthog.opt_in_capturing();\n     *\n     *     // opt user in with specific event name, properties, cookie configuration\n     *     posthog.opt_in_capturing({\n     *         capture_event_name: 'User opted in',\n     *         capture_event_properties: {\n     *             'email': 'jdoe@example.com'\n     *         }\n     *     });\n     *\n     * @param {Object} [config] A dictionary of config options to override\n     * @param {string} [config.capture_event_name=$opt_in] Event name to be used for capturing the opt-in action. Set to `null` or `false` to skip capturing the optin event\n     * @param {Object} [config.capture_properties] Set of properties to be captured along with the opt-in action\n     */\n    opt_in_capturing(options?: {\n        captureEventName?: string | null | false /** event name to be used for capturing the opt-in action */\n        captureProperties?: Properties /** set of properties to be captured along with the opt-in action */\n    }): void {\n        this.consent.optInOut(true)\n        this._sync_opt_out_with_persistence()\n\n        // Don't capture if captureEventName is null or false\n        if (isUndefined(options?.captureEventName) || options?.captureEventName) {\n            this.capture(options?.captureEventName ?? '$opt_in', options?.captureProperties, { send_instantly: true })\n        }\n\n        if (this.config.capture_pageview) {\n            this._captureInitialPageview()\n        }\n    }\n\n    /**\n     * Opt the user out of data capturing and cookies/localstorage for this PostHog instance.\n     * If the config.opt_out_persistence_by_default is set to true, the SDK persistence will be disabled.\n     *\n     * ### Usage\n     *\n     *     // opt user out\n     *     posthog.opt_out_capturing()\n     */\n    opt_out_capturing(): void {\n        this.consent.optInOut(false)\n        this._sync_opt_out_with_persistence()\n    }\n\n    /**\n     * Check whether the user has opted in to data capturing and cookies/localstorage for this PostHog instance\n     *\n     * ### Usage\n     *\n     *     const has_opted_in = posthog.has_opted_in_capturing();\n     *     // use has_opted_in value\n     *\n     * @returns {boolean} current opt-in status\n     */\n    has_opted_in_capturing(): boolean {\n        return this.consent.isOptedIn()\n    }\n\n    /**\n     * Check whether the user has opted out of data capturing and cookies/localstorage for this PostHog instance\n     *\n     * ### Usage\n     *\n     *     const has_opted_out = posthog.has_opted_out_capturing();\n     *     // use has_opted_out value\n     *\n     * @returns {boolean} current opt-out status\n     */\n    has_opted_out_capturing(): boolean {\n        return this.consent.isOptedOut()\n    }\n\n    /**\n     * Clear the user's opt in/out status of data capturing and cookies/localstorage for this PostHog instance\n     *\n     * ### Usage\n     *\n     *     // clear user's opt-in/out status\n     *     posthog.clear_opt_in_out_capturing();\n     *     *\n     * @param {Object} [config] A dictionary of config options to override\n     */\n    clear_opt_in_out_capturing(): void {\n        this.consent.reset()\n        this._sync_opt_out_with_persistence()\n    }\n\n    _is_bot(): boolean | undefined {\n        if (navigator) {\n            return isLikelyBot(navigator, this.config.custom_blocked_useragents)\n        } else {\n            return undefined\n        }\n    }\n\n    _captureInitialPageview(): void {\n        if (document && !this._initialPageviewCaptured) {\n            this._initialPageviewCaptured = true\n            this.capture('$pageview', { title: document.title }, { send_instantly: true })\n        }\n    }\n\n    debug(debug?: boolean): void {\n        if (debug === false) {\n            window?.console.log(\"You've disabled debug mode.\")\n            localStorage && localStorage.removeItem('ph_debug')\n            this.set_config({ debug: false })\n        } else {\n            window?.console.log(\n                \"You're now in debug mode. All calls to PostHog will be logged in your console.\\nYou can disable this with `posthog.debug(false)`.\"\n            )\n            localStorage && localStorage.setItem('ph_debug', 'true')\n            this.set_config({ debug: true })\n        }\n    }\n}\n\nsafewrapClass(PostHog, ['identify'])\n\nconst add_dom_loaded_handler = function () {\n    // Cross browser DOM Loaded support\n    function dom_loaded_handler() {\n        // function flag since we only want to execute this once\n        if ((dom_loaded_handler as any).done) {\n            return\n        }\n        ;(dom_loaded_handler as any).done = true\n\n        ENQUEUE_REQUESTS = false\n\n        each(instances, function (inst: PostHog) {\n            inst._dom_loaded()\n        })\n    }\n\n    if (document?.addEventListener) {\n        if (document.readyState === 'complete') {\n            // safari 4 can fire the DOMContentLoaded event before loading all\n            // external JS (including this file). you will see some copypasta\n            // on the internet that checks for 'complete' and 'loaded', but\n            // 'loaded' is an IE thing\n            dom_loaded_handler()\n        } else {\n            document.addEventListener('DOMContentLoaded', dom_loaded_handler, false)\n        }\n    }\n\n    // fallback handler, always will work\n    if (window) {\n        registerEvent(window, 'load', dom_loaded_handler, true)\n    }\n}\n\nexport function init_from_snippet(): void {\n    const posthogMain = (instances[PRIMARY_INSTANCE_NAME] = new PostHog())\n\n    const snippetPostHog = assignableWindow['posthog']\n\n    if (snippetPostHog) {\n        /**\n         * The snippet uses some clever tricks to allow deferred loading of array.js (this code)\n         *\n         * window.posthog is an array which the queue of calls made before the lib is loaded\n         * It has methods attached to it to simulate the posthog object so for instance\n         *\n         * window.posthog.init(\"TOKEN\", {api_host: \"foo\" })\n         * window.posthog.capture(\"my-event\", {foo: \"bar\" })\n         *\n         * ... will mean that window.posthog will look like this:\n         * window.posthog == [\n         *  [\"my-event\", {foo: \"bar\"}]\n         * ]\n         *\n         * window.posthog[_i] == [\n         *   [\"TOKEN\", {api_host: \"foo\" }, \"posthog\"]\n         * ]\n         *\n         * If a name is given to the init function then the same as above is true but as a sub-property on the object:\n         *\n         * window.posthog.init(\"TOKEN\", {}, \"ph2\")\n         * window.posthog.ph2.people.set({foo: \"bar\"})\n         *\n         * window.posthog.ph2 == []\n         * window.posthog.people == [\n         *  [\"set\", {foo: \"bar\"}]\n         * ]\n         *\n         */\n\n        // Call all pre-loaded init calls properly\n\n        each(snippetPostHog['_i'], function (item: [token: string, config: Partial<PostHogConfig>, name: string]) {\n            if (item && isArray(item)) {\n                const instance = posthogMain.init(item[0], item[1], item[2])\n\n                const instanceSnippet = snippetPostHog[item[2]] || snippetPostHog\n\n                if (instance) {\n                    // Crunch through the people queue first - we queue this data up &\n                    // flush on identify, so it's better to do all these operations first\n                    instance._execute_array.call(instance.people, instanceSnippet.people)\n                    instance._execute_array(instanceSnippet)\n                }\n            }\n        })\n    }\n\n    assignableWindow['posthog'] = posthogMain\n\n    add_dom_loaded_handler()\n}\n\nexport function init_as_module(): PostHog {\n    const posthogMain = (instances[PRIMARY_INSTANCE_NAME] = new PostHog())\n\n    add_dom_loaded_handler()\n\n    return posthogMain\n}\n","import { init_as_module } from '../posthog-core'\nexport { PostHog } from '../posthog-core'\nexport * from '../types'\nexport * from '../posthog-surveys-types'\nexport const posthog = init_as_module()\nexport default posthog\n"],"names":["$10f2f5626d5b2085$export$6a00d17b5aff0af","$10f2f5626d5b2085$var$cn","$10f2f5626d5b2085$export$22779822dd24228f","$10f2f5626d5b2085$export$9c2ac61661d417f8","$10f2f5626d5b2085$export$bbed2da3bd3bb001","$10f2f5626d5b2085$var$Rr","e","Z","_","Pe","Cn","t","n","Object","defineProperty","o","enumerable","configurable","writable","value","r","i","s","Document","DocumentType","Element","Text","CDATA","Comment","a","Node","ShadowRoot","MutationObserver","l","c","u","h","String","call","getOwnPropertyDescriptor","d","globalThis","prototype","Boolean","every","get","toString","includes","document","createElement","body","appendChild","contentWindow","removeChild","f","childNodes","parentNode","parentElement","textContent","host","shadowRoot","g","nodeType","ELEMENT_NODE","y","I","b","rules","cssRules","Array","from","C","href","join","replace","styleSheet","cssText","split","length","JSON","stringify","layerName","push","supportsText","media","mediaText","x","selectorText","S","styleSheets","find","v","constructor","Map","WeakMap","getId","getMeta","id","getNode","idNodeMap","getIds","keys","nodeMetaMap","removeNodeFromMap","delete","forEach","has","hasNode","add","set","reset","w","element","maskInputOptions","tagName","type","maskInputFn","N","toLowerCase","repeat","M","A","hasAttribute","k","URL","window","location","pathname","match","R","T","E","O","test","indexOf","slice","pop","L","D","RegExp","B","Y","W","G","V","trim","X","startsWith","setAttribute","P","exec","substring","charAt","z","K","classList","J","closest","contains","matches","U","q","doc","mirror","blockClass","blockSelector","maskTextClass","maskTextSelector","skipChild","inlineStylesheet","maskTextFn","p","slimDOMOptions","m","dataURLOptions","inlineImages","recordCanvas","onSerialize","onIframeLoad","iframeLoadTimeout","onStylesheetLoad","stylesheetLoadTimeout","keepIframeSrcFn","newlyAddedElement","needsMask","preserveWhiteSpace","j","DOCUMENT_NODE","compatMode","DOCUMENT_TYPE_NODE","name","publicId","systemId","rootId","HTMLFormElement","attributes","origin","rel","_cssText","sheet","innerText","checked","selected","select","open","rr_open_mode","__context","getContext","width","height","getImageData","Uint32Array","Math","min","data","buffer","some","rr_dataURL","toDataURL","quality","currentSrc","getAttribute","crossOrigin","removeEventListener","naturalWidth","naturalHeight","drawImage","complete","addEventListener","console","warn","removeAttribute","rr_mediaState","paused","rr_mediaCurrentTime","currentTime","rr_mediaPlaybackRate","playbackRate","rr_mediaMuted","muted","rr_mediaLoop","loop","rr_mediaVolume","volume","scrollLeft","rr_scrollLeft","scrollTop","rr_scrollTop","getBoundingClientRect","class","rr_width","rr_height","src","contentDocument","rr_src","customElements","isSVG","H","ownerSVGElement","needBlock","isCustom","TEXT_NODE","nextSibling","previousSibling","isStyle","CDATA_SECTION_NODE","COMMENT_NODE","comment","script","as","headFavicon","headMetaDescKeywords","headMetaSocial","property","headMetaRobots","headMetaHttpEquiv","headMetaAuthorship","headMetaVerification","assign","isShadowHost","headWhitespace","isShadow","readyState","setTimeout","clearTimeout","Q","__publicField2","firstChild","ownerDocument","Error","insertBefore","$","ee","te","ne","oe","re","ie","se","bind","le","getRootNode","ce","arguments","capture","passive","de","ue","map","error","he","Date","now","leading","apply","trailing","pe","me","defineProperties","__rrweb_original__","Proxy","Reflect","fe","ge","left","scrollingElement","pageXOffset","documentElement","top","pageYOffset","ye","innerHeight","clientHeight","Ie","innerWidth","clientWidth","be","Ce","Se","headTitleMutations","we","changedTouches","Ne","nodeName","Me","Ae","getTime","ke","styleIDMap","idStyleMap","getStyle","generateId","Re","DOCUMENT_FRAGMENT_NODE","Ee","Te","Oe","DomContentLoaded","Load","FullSnapshot","IncrementalSnapshot","Meta","Custom","Plugin","xe","Mutation","MouseMove","MouseInteraction","Scroll","ViewportResize","Input","TouchMove","MediaInteraction","StyleSheetRule","CanvasMutation","Font","Log","Drag","StyleDeclaration","Selection","AdoptedStyleSheet","CustomElement","Le","MouseUp","MouseDown","Click","ContextMenu","DblClick","Focus","Blur","TouchStart","TouchMove_Departed","TouchEnd","TouchCancel","De","Mouse","Pen","Touch","Fe","WebGL","WebGL2","Be","Play","Pause","Seeked","VolumeChange","RateChange","_e","head","next","addNode","previous","__ln","tail","removeNode","Ye","We","Set","processMutation","emit","frozen","locked","iframeManager","addIframe","stylesheetManager","trackLinkElement","shadowDomManager","addShadowRoot","attachIframe","observeAttachShadow","attachLinkElement","parentId","nextId","node","mapRemoves","shift","movedSet","Ve","removes","addedSet","He","droppedSet","texts","genTextAreaValueMutation","filter","style","styleDiff","_unchangedStyles","adds","attributeMap","movedMap","mutationCb","target","oldValue","attributeName","unattachedDoc","implementation","createHTMLDocument","getPropertyValue","getPropertyPriority","addedNodes","genAdds","removedNodes","Ge","ve","processedNodeManager","inOtherBuffer","init","freeze","canvasManager","unfreeze","isFrozen","lock","unlock","size","Xe","ze","Ke","Je","composedPath","path","je","processMutations","observe","attributeOldValue","characterData","characterDataOldValue","childList","subtree","qe","scrollCb","sampling","defaultView","scroll","Qe","$e","et","rt","parentRule","CSSGroupingRule","CSSMediaRule","CSSSupportsRule","CSSConditionRule","unshift","parentStyleSheet","tt","ownerNode","styleId","nt","adoptStyleSheets","ot","mousemoveCb","mouseInteractionCb","viewportResizeCb","inputCb","mediaInteractionCb","styleSheetRuleCb","styleDeclarationCb","canvasMutationCb","fontCb","selectionCb","customElementCb","mutation","mousemove","mouseInteraction","viewportResize","input","mediaInteaction","styleSheetRule","styleDeclaration","canvasMutation","font","selection","customElement","recordDOM","mousemoveCallback","timeOffset","clientX","clientY","DragEvent","MouseEvent","Ue","Number","isNaN","endsWith","PointerEvent","pointerType","win","ignoreClass","ignoreSelector","userTriggeredOnInput","isTrusted","text","isChecked","userTriggered","querySelectorAll","HTMLInputElement","HTMLSelectElement","HTMLTextAreaElement","HTMLOptionElement","CSSStyleSheet","insertRule","styleMirror","rule","index","addRule","deleteRule","removeRule","replaceSync","it","entries","ignoreCSSAttributes","CSSStyleDeclaration","setProperty","priority","removeProperty","remove","collectFonts","FontFace","family","descriptors","fontSource","Uint8Array","fonts","getSelection","isCollapsed","rangeCount","startContainer","startOffset","endContainer","endOffset","getRangeAt","start","end","ranges","define","plugins","observer","callback","options","disconnect","st","generateIdFn","getIdToRemoteIdMap","getRemoteIdToIdMap","getRemoteId","getRemoteIds","iframeIdToRemoteIdMap","iframeRemoteIdToIdMap","at","wrappedEmit","recordCrossOriginIframes","crossOriginIframeStyleMirror","handleMessage","iframes","crossOriginIframeMap","addLoadListener","loadListener","isAttachIframe","adoptedStyleSheets","source","transformCrossOriginEvent","event","isCheckout","crossOriginIframeMirror","replaceIdOnNode","crossOriginIframeRootIdMap","patchRootIdOnNode","timestamp","replaceIds","payload","positions","replaceStyleIds","styles","isArray","lt","WeakSet","bypassOptions","patchAttachShadow","shadowDoms","restoreHandlers","ct","dt","ut","charCodeAt","ht","pt","gt","ft","mt","Float32Array","Float64Array","Int32Array","Uint16Array","Int16Array","Int8Array","Uint8ClampedArray","rr_type","args","values","ArrayBuffer","base64","DataView","byteOffset","byteLength","HTMLImageElement","HTMLCanvasElement","ImageData","yt","preserveDrawingBuffer","splice","It","getOwnPropertyNames","canvas","setter","bt","Ct","Blob","St","atob","vt","webkitURL","createObjectURL","Worker","revokeObjectURL","wt","latestId","invokeId","rafStamps","pendingCanvasMutations","initCanvasMutationObserver","initCanvasFPSObserver","clear","resetObservers","onmessage","commands","getContextAttributes","COLOR_BUFFER_BIT","createImageBitmap","resizeWidth","resizeHeight","postMessage","bitmap","requestAnimationFrame","cancelAnimationFrame","startRAFTimestamping","startPendingCanvasMutationFlusher","CanvasRenderingContext2D","WebGLRenderingContext","WebGL2RenderingContext","flushPendingCanvasMutations","flushPendingCanvasMutationFor","Nt","adoptedStyleSheetCb","trackedLinkElements","trackStylesheetInLinkElement","styleIds","CSSRule","Mt","nodeMap","active","destroy","At","kt","Rt","Tt","debug","Et","Ot","checkoutEveryNms","checkoutEveryNth","maskAllInputs","hooks","packFn","mousemoveWait","recordAfter","errorHandler","parent","F","color","date","email","month","number","range","search","tel","time","url","week","textarea","password","NodeList","DOMTokenList","eventProcessor","getMirror","nodeMirror","slimDOM","initialOffset","plugin","addCustomEvent","tag","freezePage","takeFullSnapshot","Lt","xt","NotStarted","Running","Stopped","Dt","Ft","Bt","Zt","_t","Yt","Wt","Gt","Vt","Ht","Pt","zt","Xt","jt","Qt","__publicField22","$t","en","tn","nn","on","rn","sn","an","ln","cn","dn","un","hn","pn","mn","fn","gn","__proto__","StyleSheetMirror","_mirror","closestElementOfNode","getBaseDimension","frameElement","relativeScale","absoluteScale","getNestedRule","getPositionsAndIndex","getRootShadowHost","getShadowHost","getWindowHeight","getWindowScroll","getWindowWidth","hasShadowRoot","hookSetter","inDom","isAncestorRemoved","isBlocked","qt","isIgnored","isSerialized","isSerializedIframe","isSerializedStylesheet","iterateResolveTree","children","legacy_isTouchEvent","nowTimestamp","patch","polyfill","queueToResolveTrees","shadowHostInDom","throttle","uniqueTextMutations","Symbol","toStringTag","In","bn","yn","Sn","fileName","functionName","lineNumber","columnNumber","vn","wn","Nn","Mn","parse","stacktrace","parseOpera","stack","parseV8OrIE","parseFFOrSafari","extractLocation","message","parseOpera9","parseOpera11","parseOpera10","parseFloat","kn","Tn","numOfKeysLimit","depthOfLimit","Rn","stringLengthLimit","Event","An","outerHTML","localName","HTMLElement","En","level","lengthThreshold","logger","On","trace","stringifyOptions","reason","xn","Ln","Dn","Fn","hasOwnProperty","Bn","Zn","Wn","Vn","Hn","Xn","Pn","zn","FormData","Kn","Jn","jn","Un","navigator","fetch","XMLHttpRequest","AbortController","userAgent","qn","Qn","$n","_log","POSTHOG_DEBUG","info","critical","uninitializedWarning","eo","no","to","encodeURIComponent","File","oo","initiatorTypes","maskRequestFn","recordHeaders","recordBody","recordInitialRequests","recordPerformance","performanceEntryTypeToObserve","payloadSizeLimitBytes","payloadHostDenyList","ro","_n","__posthog_wrapped__","io","hostname","isHostDenied","so","entryType","ao","lo","uo","ho","headers","po","initiatorType","performance","getEntriesByName","startTime","Promise","mo","fo","go","entry","method","status","networkRequest","isInitial","responseEnd","floor","toJSON","round","endTime","timeOrigin","requestHeaders","requestBody","responseHeaders","responseBody","serverTiming","duration","yo","Io","clone","then","finally","bo","resolve","So","vo","requests","co","getEntries","flatMap","PerformanceObserver","supportedEntryTypes","entryTypes","Request","setRequestHeader","send","DONE","getAllResponseHeaders","response","catch","Co","wo","No","__PosthogExtensions__","rrwebPlugins","getRecordConsolePlugin","getRecordNetworkPlugin","rrweb","record","version","rrwebConsoleRecord","NETWORK_PLUGIN_NAME","default","findLast","Popover","API","Widget","Open","MultipleChoice","SingleChoice","Rating","Link","NextQuestion","End","ResponseBased","SpecificQuestion","defaultProps","props","key","ref","__k","__","__b","__e","__d","__c","__v","__i","__u","vnode","context","__r","debounceRendering","sort","__P","__n","base","contextType","__E","render","sub","state","__h","_sb","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","createTextNode","createElementNS","is","__html","innerHTML","diffed","current","unmount","componentWillUnmount","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","parseInt","maxWidth","zIndex","borderColor","right","center","position","backgroundColor","submitButtonColor","ratingButtonActiveColor","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","honeydew","hotpink","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","sqrt","submitButtonTextColor","ratingButtonColor","placeholder","whiteLabel","displayThankYouMessage","thankYouMessageHeader","localStorage","setItem","$survey_name","$survey_id","$survey_iteration","current_iteration","$survey_iteration_start_date","current_iteration_start_date","$survey_questions","questions","question","sessionRecordingUrl","get_session_replay_url","$set","dispatchEvent","random","reverse","originalQuestionIndex","appearance","shuffleQuestions","conditions","events","repeatedActivation","ae","isPreviewMode","previewPageIndex","handleCloseSurveyPopup","isPopup","Consumer","Provider","component","renderAsHtml","dangerouslySetInnerHTML","__H","__V","__N","Ze","__source","__self","className","xmlns","viewBox","fill","maskType","maskUnits","mask","transform","submitDisabled","onSubmit","link","disabled","onClick","description","descriptionContentType","forceDisableHtml","header","contentType","onClose","styleOverrides","thankYouMessageCloseButtonText","rows","onInput","currentTarget","buttonText","optional","displayQuestionIndex","scale","display","gridTemplateColumns","num","setActiveNumber","lowerBoundLabel","upperBoundLabel","submitButtonText","textColor","defaultTextColor","getComputedStyle","shuffleOptions","choices","hasOpenChoice","htmlFor","posthog","surveyInFocus","canShowNextEventBasedSurvey","childElementCount","handlePopoverSurvey","seenSurveyWaitPeriodInDays","getItem","ceil","abs","addSurveyToFocus","attachShadow","mode","survey","removeSurveyFromFocus","handleWidget","widgetColor","append","handleWidgetSelector","widgetSelector","querySelector","sortSurveysByAppearanceDelay","surveyPopupDelaySeconds","canRenderSurvey","visible","end_date","disabledReason","linked_flag_key","featureFlags","isFeatureEnabled","targeting_flag_key","internal_targeting_flag_key","renderSurvey","callSurveysAndEvaluateDisplayLogic","getActiveMatchingSurveys","widgetType","getTestAPI","setInterval","isInteger","isPopupVisible","isSurveySent","setIsPopupVisible","autoDisappear","toISOString","thankYouMessageDescription","thankYouMessageDescriptionContentType","res","getNextSurveyStep","readOnly","bottom","borderRadius","borderBottom","widgetLabel","canActivateRepeatedly","generateSurveys","extendPostHogWithSurveys","persisted","timeStamp","self","getEntriesByType","responseStart","activationStart","prerendering","wasDiscarded","rating","delta","concat","navigationType","buffered","visibilityState","firstHiddenTime","max","reportAllChanges","domInteractive","domContentLoadedEventStart","domComplete","toUpperCase","interactionId","durationThreshold","latency","requestIdleCallback","PerformanceEventTiming","interactionCount","takeRecords","processingEnd","renderTime","processingStart","onLCP","onCLS","hadRecentInput","onFCP","onINP","attribution","interactionTarget","interactionTargetElement","interactionType","interactionTime","nextPaintTime","processedEventEntries","longAnimationFrameEntries","inputDelay","processingDuration","presentationDelay","loadState","postHogWebVitalsCallbacks","$10f2f5626d5b2085$var$e","$10f2f5626d5b2085$var$t","$10f2f5626d5b2085$var$i","$10f2f5626d5b2085$var$s","$10f2f5626d5b2085$var$n","$10f2f5626d5b2085$var$r","$10f2f5626d5b2085$var$o","$10f2f5626d5b2085$var$a","$10f2f5626d5b2085$var$l","$10f2f5626d5b2085$var$c","$10f2f5626d5b2085$var$u","$10f2f5626d5b2085$var$d","$10f2f5626d5b2085$var$h","$10f2f5626d5b2085$var$_","DEBUG","LIB_VERSION","$10f2f5626d5b2085$var$p","$10f2f5626d5b2085$var$g","$10f2f5626d5b2085$var$f","$10f2f5626d5b2085$var$v","$10f2f5626d5b2085$var$m","$10f2f5626d5b2085$var$y","$10f2f5626d5b2085$var$b","$10f2f5626d5b2085$var$w","$10f2f5626d5b2085$var$S","$10f2f5626d5b2085$var$E","$10f2f5626d5b2085$var$k","$10f2f5626d5b2085$var$x","$10f2f5626d5b2085$var$I","$10f2f5626d5b2085$var$R","$10f2f5626d5b2085$var$P","$10f2f5626d5b2085$var$F","$10f2f5626d5b2085$var$C","$10f2f5626d5b2085$var$T","$10f2f5626d5b2085$var$$","config","disable_external_dependency_loading","onload","onerror","loadExternalDependency","requestRouter","endpointFor","loadSiteApp","$10f2f5626d5b2085$var$A","$10f2f5626d5b2085$var$M","$10f2f5626d5b2085$var$L","$10f2f5626d5b2085$var$D","$10f2f5626d5b2085$var$O","$10f2f5626d5b2085$var$N","$10f2f5626d5b2085$var$q","$10f2f5626d5b2085$var$B","$10f2f5626d5b2085$var$H","$10f2f5626d5b2085$var$U","$10f2f5626d5b2085$var$W","$10f2f5626d5b2085$var$V","fromCharCode","$10f2f5626d5b2085$var$G","preventDefault","stopPropagation","returnValue","cancelBubble","$10f2f5626d5b2085$var$Q","GZipJS","Base64","$10f2f5626d5b2085$var$X","$10f2f5626d5b2085$var$K","$10f2f5626d5b2085$var$Z","$10f2f5626d5b2085$var$ee","$10f2f5626d5b2085$var$te","$10f2f5626d5b2085$var$ie","$10f2f5626d5b2085$var$se","$10f2f5626d5b2085$var$ne","$10f2f5626d5b2085$var$re","$10f2f5626d5b2085$var$oe","$10f2f5626d5b2085$var$ae","$10f2f5626d5b2085$var$le","$10f2f5626d5b2085$var$ce","$10f2f5626d5b2085$var$ue","$10f2f5626d5b2085$var$de","$10f2f5626d5b2085$var$he","$10f2f5626d5b2085$var$_e","$10f2f5626d5b2085$var$pe","$10f2f5626d5b2085$var$ge","$10f2f5626d5b2085$var$fe","$10f2f5626d5b2085$var$ve","$10f2f5626d5b2085$var$me","$10f2f5626d5b2085$var$ye","$10f2f5626d5b2085$var$be","$10f2f5626d5b2085$var$we","$10f2f5626d5b2085$var$Se","$10f2f5626d5b2085$var$Ee","$10f2f5626d5b2085$var$ke","$10f2f5626d5b2085$var$xe","$10f2f5626d5b2085$var$Ie","$10f2f5626d5b2085$var$Re","$10f2f5626d5b2085$var$Pe","$10f2f5626d5b2085$var$Fe","$10f2f5626d5b2085$var$Ce","$10f2f5626d5b2085$var$Te","$10f2f5626d5b2085$var$$e","$10f2f5626d5b2085$var$Ae","$10f2f5626d5b2085$var$Me","$10f2f5626d5b2085$var$Le","$10f2f5626d5b2085$var$De","$10f2f5626d5b2085$var$Oe","instance","_override_warning","featureFlagEventHandlers","reloadFeatureFlagsQueued","reloadFeatureFlagsInAction","getFlags","getFlagVariants","get_property","enabledFlags","overriddenFlags","finalFlags","getFlagPayloads","reloadFeatureFlags","_startReloadTimer","setAnonymousDistinctId","$anon_distinct_id","setReloadingPaused","resetRequestQueue","_reloadFeatureFlagsRequest","advanced_disable_feature_flags","token","distinct_id","get_distinct_id","groups","getGroups","person_properties","group_properties","disable_flags","_send_request","compression","disable_compression","timeout","feature_flag_request_timeout_ms","statusCode","receivedFeatureFlags","json","getFeatureFlag","decideEndpointWasHit","send_event","persistence","register","$feature_flag","$feature_flag_response","getFeatureFlagPayload","addFeatureFlagsHandler","removeFeatureFlagsHandler","featureFlagPayloads","errorsWhileComputingFlags","_fireFeatureFlagsCallbacks","override","__loaded","unregister","onFeatureFlags","flags","flagVariants","_prepareFeatureFlagsForCallbacks","updateEarlyAccessFeatureEnrollment","$feature_enrollment","setPersonPropertiesForFlags","getEarlyAccessFeatures","transport","earlyAccessFeatures","reduce","errorsLoading","resetPersonPropertiesForFlags","setGroupPropertiesForFlags","resetGroupPropertiesForFlags","trunc","isFinite","$10f2f5626d5b2085$var$Ne","$10f2f5626d5b2085$var$qe","bytes","TypeError","fromFieldsV7","RangeError","equals","compareTo","sign","$10f2f5626d5b2085$var$Be","counter","$10f2f5626d5b2085$var$We","generate","generateOrAbort","resetCounter","nextUint32","$10f2f5626d5b2085$var$He","$10f2f5626d5b2085$var$Ue","UUIDV7_DENY_WEAK_RNG","crypto","getRandomValues","cursor","$10f2f5626d5b2085$var$ze","$10f2f5626d5b2085$var$Ve","$10f2f5626d5b2085$var$je","$10f2f5626d5b2085$var$Qe","$10f2f5626d5b2085$var$Ye","is_supported","cookie","decodeURIComponent","$10f2f5626d5b2085$var$Je","setTime","toUTCString","$10f2f5626d5b2085$var$Xe","$10f2f5626d5b2085$var$Ke","removeItem","$10f2f5626d5b2085$var$Ze","$10f2f5626d5b2085$var$et","$10f2f5626d5b2085$var$tt","$10f2f5626d5b2085$var$it","$10f2f5626d5b2085$var$st","$10f2f5626d5b2085$var$nt","sessionStorage","$10f2f5626d5b2085$var$rt","$10f2f5626d5b2085$var$ot","$10f2f5626d5b2085$var$at","$10f2f5626d5b2085$var$lt","$10f2f5626d5b2085$var$ct","$10f2f5626d5b2085$var$ut","$10f2f5626d5b2085$var$dt","$10f2f5626d5b2085$var$_t","$10f2f5626d5b2085$var$pt","$10f2f5626d5b2085$var$gt","$10f2f5626d5b2085$var$ft","$10f2f5626d5b2085$var$vt","$10f2f5626d5b2085$var$mt","$10f2f5626d5b2085$var$yt","$10f2f5626d5b2085$var$bt","$10f2f5626d5b2085$var$wt","$10f2f5626d5b2085$var$St","$10f2f5626d5b2085$var$Et","$10f2f5626d5b2085$var$kt","$10f2f5626d5b2085$var$xt","$10f2f5626d5b2085$var$It","$10f2f5626d5b2085$var$Rt","$10f2f5626d5b2085$var$Pt","$10f2f5626d5b2085$var$Ft","$10f2f5626d5b2085$var$Ct","$10f2f5626d5b2085$var$Tt","$10f2f5626d5b2085$var$$t","$10f2f5626d5b2085$var$At","$10f2f5626d5b2085$var$Mt","$10f2f5626d5b2085$var$Lt","$10f2f5626d5b2085$var$Dt","$10f2f5626d5b2085$var$Ot","$10f2f5626d5b2085$var$Nt","$10f2f5626d5b2085$var$qt","$10f2f5626d5b2085$var$Bt","$10f2f5626d5b2085$var$Ht","$10f2f5626d5b2085$var$Ut","$10f2f5626d5b2085$var$Wt","$10f2f5626d5b2085$var$zt","$10f2f5626d5b2085$var$Vt","$10f2f5626d5b2085$var$Gt","$10f2f5626d5b2085$var$jt","$10f2f5626d5b2085$var$Qt","$10f2f5626d5b2085$var$Jt","$10f2f5626d5b2085$var$Yt","$10f2f5626d5b2085$var$Xt","$10f2f5626d5b2085$var$Kt","$10f2f5626d5b2085$var$Zt","$10f2f5626d5b2085$var$ei","$10f2f5626d5b2085$var$ti","$10f2f5626d5b2085$var$ii","$10f2f5626d5b2085$var$si","Mozilla","$10f2f5626d5b2085$var$ni","$10f2f5626d5b2085$var$ri","$10f2f5626d5b2085$var$oi","$10f2f5626d5b2085$var$ai","$10f2f5626d5b2085$var$li","campaignParams","_campaignParamsFromUrl","_searchEngine","_searchInfoFromReferrer","$search_engine","referrer","ph_keyword","searchInfo","browser","browserVersion","browserLanguage","language","userLanguage","os","device","deviceType","referringDomain","referrerInfo","$referrer","$referring_domain","initialPersonInfo","initialPersonPropsFromInfo","$initial_referrer","$initial_referring_domain","$initial_current_url","$initial_host","$initial_pathname","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","properties","$os","$os_version","$browser","vendor","$device","$device_type","$timezone","$current_url","$host","$pathname","$raw_user_agent","$browser_version","$browser_language","$screen_height","screen","$screen_width","$viewport_height","$viewport_width","$lib","$lib_version","$insert_id","$time","people_properties","$10f2f5626d5b2085$var$ci","$10f2f5626d5b2085$var$ui","campaign_params_saved","persistence_name","storage","buildStorage","load","update_config","save","expire_days","cross_subdomain","secure","register_once","default_expiry","update_campaign_params","custom_campaign_params","update_search_keyword","update_referrer_info","set_initial_person_info","get_referrer_info","get_initial_props","safe_merge","cookie_expiration","set_disabled","disable_persistence","set_cross_subdomain","cross_subdomain_cookie","set_secure","secure_cookie","get_cross_subdomain","set_event_timer","remove_event_timer","set_property","$10f2f5626d5b2085$var$di","$10f2f5626d5b2085$var$_i","$10f2f5626d5b2085$var$pi","$10f2f5626d5b2085$var$gi","$10f2f5626d5b2085$var$fi","$10f2f5626d5b2085$var$vi","$10f2f5626d5b2085$var$mi","$10f2f5626d5b2085$var$yi","$10f2f5626d5b2085$var$bi","$10f2f5626d5b2085$var$wi","$10f2f5626d5b2085$var$Si","baseVal","$10f2f5626d5b2085$var$Ei","$10f2f5626d5b2085$var$Oi","$10f2f5626d5b2085$var$ki","$10f2f5626d5b2085$var$Fi","$10f2f5626d5b2085$var$Ci","$10f2f5626d5b2085$var$xi","srcElement","$10f2f5626d5b2085$var$Ii","$10f2f5626d5b2085$var$Ri","$10f2f5626d5b2085$var$Ti","$10f2f5626d5b2085$var$$i","$10f2f5626d5b2085$var$Ai","$10f2f5626d5b2085$var$Mi","$10f2f5626d5b2085$var$Li","$10f2f5626d5b2085$var$Di","$10f2f5626d5b2085$var$Ni","$10f2f5626d5b2085$var$qi","$10f2f5626d5b2085$var$Hi","$10f2f5626d5b2085$var$Wi","$10f2f5626d5b2085$var$zi","$10f2f5626d5b2085$var$Vi","$10f2f5626d5b2085$var$Gi","$10f2f5626d5b2085$var$ji","$10f2f5626d5b2085$var$Qi","$10f2f5626d5b2085$var$Ji","$10f2f5626d5b2085$var$Yi","$10f2f5626d5b2085$var$Xi","session_recording","capture_performance","maskNetworkRequestFn","maskCapturedNetworkRequestFn","$10f2f5626d5b2085$var$Ki","$10f2f5626d5b2085$var$Zi","bucketSize","refillRate","mutationBuckets","loggedTracker","refillBuckets","getNodeOrRelevantParent","numberOfChanges","throttleMutations","onBlockedNode","$10f2f5626d5b2085$var$es","$10f2f5626d5b2085$var$ts","$10f2f5626d5b2085$var$is","$10f2f5626d5b2085$var$ss","$10f2f5626d5b2085$var$ns","$10f2f5626d5b2085$var$rs","$10f2f5626d5b2085$var$os","$10f2f5626d5b2085$var$as","$10f2f5626d5b2085$var$ls","$10f2f5626d5b2085$var$cs","$10f2f5626d5b2085$var$us","$10f2f5626d5b2085$var$ds","$10f2f5626d5b2085$var$hs","$10f2f5626d5b2085$var$_s","$10f2f5626d5b2085$var$ps","$10f2f5626d5b2085$var$gs","$10f2f5626d5b2085$var$fs","$10f2f5626d5b2085$var$vs","$10f2f5626d5b2085$var$ms","$10f2f5626d5b2085$var$ys","$10f2f5626d5b2085$var$bs","subarray","$10f2f5626d5b2085$var$ws","$10f2f5626d5b2085$var$Ss","$10f2f5626d5b2085$var$Es","$10f2f5626d5b2085$var$ks","$10f2f5626d5b2085$var$xs","$10f2f5626d5b2085$var$Is","$10f2f5626d5b2085$var$Rs","$10f2f5626d5b2085$var$Ps","$10f2f5626d5b2085$var$Fs","$10f2f5626d5b2085$var$Cs","$10f2f5626d5b2085$var$Ts","$10f2f5626d5b2085$var$As","$10f2f5626d5b2085$var$Ms","filename","mtime","$10f2f5626d5b2085$var$Ds","mem","log","$10f2f5626d5b2085$var$Os","TextEncoder","encode","$10f2f5626d5b2085$var$qs","$10f2f5626d5b2085$var$Bs","rrwebMethod","enqueuedAt","attempt","$10f2f5626d5b2085$var$Hs","$10f2f5626d5b2085$var$Us","$10f2f5626d5b2085$var$Ws","$10f2f5626d5b2085$var$zs","matching","$10f2f5626d5b2085$var$Vs","queuedRRWebEvents","isIdle","_linkedFlagSeen","_lastActivityTimestamp","_linkedFlag","_removePageViewCaptureHook","_onSessionIdListener","_persistDecideOnSessionListener","_samplingSessionListener","_urlTriggers","_urlBlocklist","_urlBlocked","_eventTriggers","_removeEventTriggerCaptureHook","_forceAllowLocalhostNetworkCapture","sessionIdleThresholdMilliseconds","session_idle_threshold_ms","rrwebRecord","started","_captureStarted","sessionManager","fullSnapshotIntervalMillis","triggerStatus","full_snapshot_interval_millis","isSampled","sessionDuration","sessionStartTimestamp","checkAndGetSessionAndWindowId","isRecordingEnabled","disable_session_recording","isConsoleLogCaptureEnabled","enable_recording_console_log","canvasRecording","captureCanvas","enabled","canvasFps","fps","canvasQuality","networkPayloadCapture","network_timing","capturePerformance","sampleRate","minimumDuration","receivedDecide","urlTriggerStatus","sessionId","eventTriggerStatus","_endpoint","stopRrweb","windowId","clearBuffer","sessionTimeoutMs","_onBeforeUnload","_flushBuffer","_onOffline","_tryAddCustomEvent","_onOnline","_onVisibilityChange","startIfEnabledOrStop","_startCapture","_setupSampling","_addEventTriggerListener","_addCaptureHook","_maskUrl","onSessionId","changeReason","stopRecording","clearInterval","_fullSnapshotTimer","makeSamplingDecision","_reportStarted","afterDecideResponse","_persistDecideResponse","sessionRecording","linkedFlag","endpoint","flag","variant","linkedVariant","urlTriggers","urlBlocklist","eventTriggers","minimumDurationMilliseconds","consoleLogRecordingEnabled","onRRwebEmit","consent","isOptedOut","_onScriptLoaded","isInteractiveEvent","_updateWindowAndSessionIds","eventTimestamp","lastActivityTimestamp","threshold","bufferLength","bufferSize","_scheduleFullSnapshot","_tryRRWebMethod","_tryTakeFullSnapshot","mutationRateLimiter","__mutationRateLimiterRefillRate","__mutationRateLimiterBucketSize","_gatherRRWebPlugins","sessionRecordingOptions","activePlugins","_processQueuedEvents","_lastHref","_pageViewFallBack","_checkUrlTriggerConditions","compress_events","cv","$snapshot_bytes","$snapshot_data","$session_id","$window_id","_captureSnapshotBuffered","capture_pageview","flushBufferTimer","$10f2f5626d5b2085$var$hi","_captureSnapshot","_url","_noTruncate","_batchKey","skip_client_rate_limiting","_pauseRecording","_resumeRecording","_activateTrigger","overrideLinkedFlag","overrideSampling","overrideTrigger","register_for_session","$session_recording_start_reason","$10f2f5626d5b2085$var$Gs","_hasBootstrappedFeatureFlags","advanced_disable_feature_flags_on_first_load","parseDecideResponse","_afterDecideResponse","siteApps","opt_in_site_apps","$10f2f5626d5b2085$var$js","hash","$10f2f5626d5b2085$var$Qs","$10f2f5626d5b2085$var$Js","UNINITIALIZED","LOADING","LOADED","$10f2f5626d5b2085$var$Ys","setToolbarState","ph_toolbar_state","getToolbarState","maybeLoadToolbar","history","action","desiredHash","replaceState","userIntent","loadToolbar","_callLoadToolbar","ph_load_toolbar","ph_load_editor","getElementById","region","advanced_disable_toolbar_metrics","apiURL","instrument","_loadEditor","maybeLoadEditor","$10f2f5626d5b2085$var$Xs","isPaused","queue","flushTimeoutMs","sendRequest","enqueue","flushTimeout","setFlushTimeout","unload","clearFlushTimeout","formatQueue","enable","offset","batchKey","$10f2f5626d5b2085$var$Ks","$10f2f5626d5b2085$var$Zs","$10f2f5626d5b2085$var$en","$10f2f5626d5b2085$var$tn","estimatedSize","$10f2f5626d5b2085$var$on","withCredentials","onreadystatechange","responseText","Headers","signal","abort","keepalive","sendBeacon","beacon","$10f2f5626d5b2085$var$an","isPolling","pollIntervalMs","areWeOnline","onLine","flush","retriableRequest","retriesPerformedSoFar","retry_count","retryAt","requestOptions","poll","poller","$10f2f5626d5b2085$var$ln","_sessionIdChangedHandlers","_windowId","_sessionId","_sessionStartTimestamp","_sessionActivityTimestamp","_sessionIdGenerator","_windowIdGenerator","session_idle_timeout_seconds","_sessionTimeoutMs","_window_id_storage_key","_primary_window_exists_storage_key","_canUseSessionStorage","bootstrap","sessionID","_setSessionId","_listenToReloadWindow","_setWindowId","_getWindowId","_getSessionId","resetSessionId","noSessionId","activityTimeout","sessionPastMaximumLength","US","EU","CUSTOM","$10f2f5626d5b2085$var$un","$10f2f5626d5b2085$var$dn","_regionCache","apiHost","api_host","uiHost","ui_host","$10f2f5626d5b2085$var$hn","$10f2f5626d5b2085$var$_n","organization","projectId","prefix","severityAllowList","tags","sessionRecordingStarted","withTimestamp","exception","$exception_message","$exception_type","$exception_personURL","$exception_level","$exception_list","$sentry_event_id","event_id","$sentry_exception","$sentry_exception_message","$sentry_exception_type","$sentry_tags","$level","$sentry_url","exceptions","sendExceptionEvent","$10f2f5626d5b2085$var$pn","setupOnce","$10f2f5626d5b2085$var$fn","_instance","doPageView","_previousPageViewProperties","_currentPath","scrollManager","resetContext","_prevPageviewTimestamp","doPageLeave","maxScrollHeight","lastScrollY","maxScrollY","maxContentHeight","lastContentY","maxContentY","$prev_pageview_last_scroll","$prev_pageview_last_scroll_percentage","$prev_pageview_max_scroll","$prev_pageview_max_scroll_percentage","$prev_pageview_last_content","$prev_pageview_last_content_percentage","$prev_pageview_max_content","$prev_pageview_max_content_percentage","$prev_pageview_pathname","$prev_pageview_duration","$10f2f5626d5b2085$var$bn","$10f2f5626d5b2085$var$wn","_debugEventEmitter","actionEvents","actionRegistry","steps","autocapture","selector","setElementSelectors","checkAction","_addActionHook","onAction","checkStep","checkStepEvent","checkStepUrl","checkStepElement","matchString","url_matching","escapeStringRegexp","tag_name","getElementsList","href_matching","text_matching","$el_text","$element_selectors","$elements","$10f2f5626d5b2085$var$Sn","SURVEY_SHOWN_EVENT_NAME","eventToSurveys","actionToSurveys","setupEventBasedSurveys","setupActionBasedSurveys","actions","actionMatcher","onEvent","_updateActivatedSurveys","getSurveys","getEventToSurveys","_getActionMatcher","$10f2f5626d5b2085$var$En","$10f2f5626d5b2085$var$kn","$10f2f5626d5b2085$var$xn","$10f2f5626d5b2085$var$In","$10f2f5626d5b2085$var$Rn","$10f2f5626d5b2085$var$Pn","$10f2f5626d5b2085$var$Fn","$10f2f5626d5b2085$var$Cn","$10f2f5626d5b2085$var$Tn","$10f2f5626d5b2085$var$$n","$10f2f5626d5b2085$var$An","$10f2f5626d5b2085$var$Mn","$10f2f5626d5b2085$var$Ln","$10f2f5626d5b2085$var$Dn","$10f2f5626d5b2085$var$On","$10f2f5626d5b2085$var$Nn","$10f2f5626d5b2085$var$qn","$10f2f5626d5b2085$var$Bn","$10f2f5626d5b2085$var$Un","$10f2f5626d5b2085$var$Wn","$10f2f5626d5b2085$var$Kn","$10f2f5626d5b2085$var$Zn","$10f2f5626d5b2085$var$tr","$10f2f5626d5b2085$var$Hn","$10f2f5626d5b2085$var$zn","$10f2f5626d5b2085$var$Vn","$10f2f5626d5b2085$var$jn","$10f2f5626d5b2085$var$ir","$10f2f5626d5b2085$var$Gn","$10f2f5626d5b2085$var$Qn","$10f2f5626d5b2085$var$Jn","$10f2f5626d5b2085$var$Xn","$10f2f5626d5b2085$var$Yn","$10f2f5626d5b2085$var$sr","$10f2f5626d5b2085$var$er","$10f2f5626d5b2085$var$nr","$10f2f5626d5b2085$var$rr","icontains","not_icontains","regex","not_regex","exact","is_not","$10f2f5626d5b2085$var$or","_surveyEventReceiver","_decideServerResponse","surveys","loadIfEnabled","disable_surveys","_surveyManager","start_date","urlMatchType","_canActivateRepeatedly","branching","responseValues","$10f2f5626d5b2085$var$ar","serverLimits","lastEventRateLimited","captureEventsPerSecond","rate_limiting","events_per_second","captureEventsBurstLimit","events_burst_limit","clientRateLimitContext","isRateLimited","tokens","last","$$client_ingestion_warning_message","remainingTokens","isServerRateLimited","checkForLimiting","quota_limited","$10f2f5626d5b2085$var$lr","initialPathName","$10f2f5626d5b2085$var$cr","_sessionIdManager","_persistence","_sessionSourceParamGenerator","_onSessionIdCallback","_getStoredProps","getSessionProps","$client_session_initial_referring_host","$client_session_initial_pathname","$client_session_initial_utm_source","utm_source","$client_session_initial_utm_campaign","utm_campaign","$client_session_initial_utm_medium","utm_medium","$client_session_initial_utm_content","utm_content","$client_session_initial_utm_term","utm_term","$10f2f5626d5b2085$var$ur","$10f2f5626d5b2085$var$dr","$10f2f5626d5b2085$var$hr","userAgentData","brands","brand","webdriver","$10f2f5626d5b2085$var$_r","clicks","isRageClick","$10f2f5626d5b2085$var$pr","$10f2f5626d5b2085$var$gr","$10f2f5626d5b2085$var$fr","capture_dead_clicks","$10f2f5626d5b2085$var$vr","lazyLoadedDeadClicksAutocapture","_lazyLoadedDeadClicksAutocapture","isEnabled","onCapture","startIfEnabled","captureDeadClicks","loadScript","initDeadClicksAutocapture","__onCapture","stop","$10f2f5626d5b2085$var$mr","rageclicks","_enabledServerSide","_initialized","_flushInterval","flushIntervalMilliseconds","capture_heatmaps","flush_interval_milliseconds","enable_heatmaps","_setupListeners","deadClicksCapture","getAndClearBuffer","heatmaps","_onDeadClick","_onClick","originalEvent","_onMouseMove","_getProperties","scrollY","scrollX","scrollElement","target_fixed","_capture","_mouseMoveTimeout","$heatmap_data","$10f2f5626d5b2085$var$yr","_updateScrollData","scrollHeight","startMeasuringScrollPosition","scroll_root_selector","$10f2f5626d5b2085$var$br","$10f2f5626d5b2085$var$wr","$10f2f5626d5b2085$var$xr","_isDisabledServerSide","_elementsChainAsString","_elementSelectors","url_allowlist","url_ignorelist","_addDomEventHandlers","isBrowserSupported","_captureEvent","capture_copied_text","elementsChainAsString","autocapture_opt_out","getElementSelectors","advanced_disable_decide","rageclick","$10f2f5626d5b2085$var$Pi","dom_event_allowlist","element_allowlist","css_selector_allowlist","explicitNoCapture","$10f2f5626d5b2085$var$kr","maskAllElementAttributes","maskAllText","elementAttributeIgnoreList","$10f2f5626d5b2085$var$Er","classes","$10f2f5626d5b2085$var$Sr","previousElementSibling","nth_child","nth_of_type","attr__href","$event_type","$ce_version","$elements_chain","attr_class","$10f2f5626d5b2085$var$Ui","attr__class","attr_id","attr__id","localeCompare","$external_click_url","mask_all_element_attributes","mask_all_text","element_attribute_ignorelist","$selected_content","$copy_type","$10f2f5626d5b2085$var$Ir","_restoreXHRPatch","_restoreFetchPatch","_loadScript","tracingHeadersPatchFns","__add_tracing_headers","_startCapturing","_patchXHR","_patchFetch","PENDING","DENIED","GRANTED","$10f2f5626d5b2085$var$Pr","getDnt","storedConsent","opt_out_capturing_by_default","isOptedIn","optInOut","storageKey","opt_out_capturing_cookie_prefix","_storage","opt_out_capturing_persistence_type","respect_dnt","doNotTrack","msDoNotTrack","$10f2f5626d5b2085$var$Fr","$10f2f5626d5b2085$var$Cr","originalOnUnhandledRejectionHandler","remoteEnabled","isCapturing","__POSTHOG_INSTRUMENTED__","hasHandlers","unwrapOnError","startCapturing","errorWrappingFunctions","wrapOnError","wrapUnhandledRejection","captureException","unwrapUnhandledRejection","stopCapturing","autocaptureExceptions","$10f2f5626d5b2085$var$$r","$10f2f5626d5b2085$var$Ar","metrics","firstMetricTimestamp","allowedMetrics","web_vitals_allowed_metrics","flushToCaptureTimeoutMs","web_vitals_delayed_flush_ms","_maxAllowedValue","__web_vitals_max_value","web_vitals","_currentURL","_flushToCapture","_delayedFlushTimer","_addToBuffer","$10f2f5626d5b2085$var$Mr","$10f2f5626d5b2085$var$Lr","applyFeatureFlagChanges","_flagToExperiments","disable_web_experiments","logInfo","variants","applyTransforms","transforms","_is_bot","_featureFlags","previewWebExperiment","getWindowLocation","getWebExperiments","showPreviewWebExperiment","getWebExperimentsAndEvaluateDisplayLogic","feature_flag_key","matchesTestVariant","experiments","matchUrlConditions","matchUTMConditions","utm","html","css","$web_experiment_name","$web_experiment_variant","$web_experiment_preview","$web_experiment_document_url","$web_experiment_elements_modified","custom_blocked_useragents","$10f2f5626d5b2085$var$Or","_endpointSuffix","$10f2f5626d5b2085$var$Nr","$10f2f5626d5b2085$var$qr","$10f2f5626d5b2085$var$Br","$10f2f5626d5b2085$var$Hr","$10f2f5626d5b2085$var$Ur","$10f2f5626d5b2085$var$j","loaded","store_google","save_referrer","capture_pageleave","verbose","upgrade","protocol","ip","opt_out_persistence_by_default","opt_out_useragent_filter","property_denylist","sanitize_properties","request_headers","inapp_protocol","inapp_link_new_window","request_batching","properties_string_max_length","on_request_error","get_device_id","_onCapture","person_profiles","$10f2f5626d5b2085$var$Wr","process_person","xhr_headers","cookie_name","disable_cookie","property_blacklist","$10f2f5626d5b2085$var$zr","_forceAllowLocalhost","__forceAllowLocalhost","$10f2f5626d5b2085$export$a9d6b9cbf49b8241","webPerformance","_internalEventEmitter","SentryIntegration","sentryIntegration","processEvent","__request_queue","analyticsDefaultEndpoint","_initialPageviewCaptured","_initialPersonProfilesConfig","toolbar","pageViewManager","rateLimiter","people","setPersonProperties","set_once","_init","_triggered_notifs","set_config","on_xhr_error","sessionPersistence","_requestQueue","_send_retriable_request","_retryQueue","sessionPropsManager","disable_scroll_properties","webVitalsAutocapture","exceptionObserver","deadClicksAutocapture","this","thisC","_sync_opt_out_with_persistence","distinctID","isIdentifiedID","$device_id","_handle_unload","segment","$10f2f5626d5b2085$var$gn","anonymousId","user","userId","identify","_calculate_event_properties","isLoaded","track","page","_loaded","supportedCompression","analytics","defaultIdentifiedOnly","_start_queue_if_opted_in","_captureInitialPageview","has_opted_out_capturing","_dom_loaded","_shouldCapturePageleave","api_transport","ver","_execute_array","uuid","$lib_rate_limit_remaining_tokens","_calculate_set_once_properties","$set_once","$event_time_override_provided","$event_time_override_system_time","send_instantly","$lib_custom_api_host","__preview_send_client_session_params","title","$duration","toFixed","$browser_type","$is_identified","_isIdentified","_hasPersonProcessing","$process_person_profile","_requirePersonProcessing","unregister_for_session","_register_single","$user_id","$had_persisted_distinct_id","group","$groups","$group_type","$group_key","$group_set","resetGroups","get_session_id","timestampLookBack","alias","oldConfig","newConfig","startSessionRecording","linked_flag","url_trigger","event_trigger","stopSessionRecording","parseErrorAsProperties","syntheticException","mechanism","handled","synthetic","getSessionProperty","createPersonProfile","opt_in_capturing","captureEventName","captureProperties","opt_out_capturing","has_opted_in_capturing","clear_opt_in_out_capturing","done","_a","__defProp","__publicField","obj","__defNormalProp","__defProp$1","__publicField$1","__defNormalProp$1","NodeType$2","NodeType2","testableAccessors$1","testableMethods$1","untaintedBasePrototype$1","getUntaintedPrototype$1","defaultObj","defaultPrototype","accessorNames","isUntaintedAccessors","accessor","_a2","_b","methodNames","isUntaintedMethods","iframeEl","untaintedObject","untaintedAccessorCache$1","getUntaintedAccessor$1","cacheKey","untaintedPrototype","untaintedAccessor","untaintedMethodCache$1","getUntaintedMethod$1","untaintedMethod","index$1","n2","other","selectors","mutationObserver","isElement","isShadowRoot","hostEl","isNativeShadowDom","shadowRoot2","stringifyStylesheet","s2","rules2","stringifiedRules","rule2","stringifyRule","sheetHref","isCSSImportRule","importStringified","statement","escapeImportStatement","absolutifyURLs","ruleStringified","isCSSStyleRule","cssStringified","fixSafariColons","findStylesheet","Mirror$1","childNode","node2","meta","oldNode","maskInputValue","_ref","actualType","str","ORIGINAL_ATTRIBUTE_NAME","getInputType","extractFileExtension","baseURL","_ref2","err","URL_IN_CSS_REF","URL_PROTOCOL_MATCH","URL_WWW_MATCH","DATA_URI","path1","filePath","path2","path3","maybeQuote","quote1","quote2","extractOrigin","parts","part","_id","tagNameRegex","IGNORED_NODE","genId","canvasService","canvasCtx","SRCSET_NOT_SPACES","SRCSET_COMMAS_OR_SPACES","cachedDocument","absoluteToDoc","attributeValue","getHref","isSVGElement","el","customHref","a2","transformAttribute","getAbsoluteSrcsetString","pos","collectCharacters","chars2","regEx","output","descriptorsStr","inParens","c2","ignoreAttribute","_value","classMatchesRegex","checkAncestors","eIndex","needMaskingText","e2","serializeNode","mirror2","docId","getRootId","serializeElementNode","_isBlockedElement","getValidTagName$1","processedTagName","len","i2","attr","stylesheet","is2DCanvasBlank","ctx","x2","originalGetImageData","pixelBuffer","canvasDataURL","blankCanvas","imageSrc","image","priorCrossOrigin","recordInlineImage","mediaAttributes","isCustomElement","parentTagName","isScript","serializeTextNode","lowerIfExists","maybeAttr","serializeNodeWithId","_serializedNode","slimDOMExcluded","serializedNode","recordChild","shadowRootEl","childN","serializedChildNode","listener","fired","blankUrl","onceIframeLoaded","iframeDoc","serializedIframeNode","onceStylesheetLoaded","styleSheetLoaded","styleSheetLoadTimeout","serializedLinkNode","BaseRRNode$1","BaseRRNode","childNodes2","childIterator","_node","testableAccessors","testableMethods","untaintedBasePrototype","getUntaintedPrototype","untaintedAccessorCache","getUntaintedAccessor","untaintedMethodCache","getUntaintedMethod","mutationObserverCtor","undefined","DEPARTED_MIRROR_ACCESS_WARNING","wait","remaining","func","isRevoked","original","replacement","wrapped","prop","_c","_d","StyleSheetMirror$1","_this$styleIDMap$get","newId","shadowHost","rootShadowHost","EventType","EventType2","IncrementalSource","IncrementalSource2","MouseInteractions","MouseInteractions2","PointerTypes","PointerTypes2","CanvasContext","CanvasContext2","MediaInteractions","MediaInteractions2","isNodeInLinkedList","DoubleLinkedList","index2","moveKey","MutationBuffer","mutations","addedIds","addList","getNextId","ns","pushAdd","currentN","iframe","childSn","isParentRemoved","isAncestorInSet","candidate","tailNode","unhandledNode","attribute","diffAsStr","unchangedAsStr","item","old","pname","newValue","newPriority","nodeId","deepDelete","targetId","addsSet","_isParentRemoved","r2","_isAncestorInSet","callbackWrapper","cb","mutationBuffers","getEventTarget","initMutationObserver","mutationBuffer","rootEl","initMouseInteractionObserver","_ref4","disableMap","handlers","currentPointerType","eventKey","eventName","handler","thisEventKey","initScrollObserver","_ref5","evt","scrollLeftTop","INPUT_TAGS","lastInputValueMap","getNestedCSSRulePositions","recurse","hasNestedCSSRule","childRule","getIdAndStyleId","host2","_ref13","hostId","patchTarget","originalPropertyDescriptor","_a3","result2","sheets","initObservers","o2","currentWindow","mergeHooks","mousemoveHandler","_ref3","callbackThreshold","timeBaseline","wrappedCb","totalOffset","updatePosition","initMoveObserver","mouseInteractionHandler","scrollHandler","viewportResizeHandler","initViewportResizeObserver","_ref6","_ref7","lastH","lastW","inputHandler","_ref8","eventHandler","cbWithDedup","text2","lastInputValue","v2","propertyDescriptor","hookProperties","mediaInteractionHandler","_ref16","styleSheetObserver","adoptedStyleSheetObserver","styleDeclarationObserver","fontObserver","initStyleSheetObserver","_ref9","_ref10","thisArg","argumentsList","styleBlock","supportedNestedCSSRuleTypes","canMonkeyPatchNestedCSSRule","unmodifiedFunctions","_ref11","typeKey","_ref12","initAdoptedStyleSheetObserver","_ref14","_ref15","_ref17","fontMap","originalFontFace","FontFace2","fontFace","restoreHandler","initFontObserver","selectionObserver","initSelectionObserver","param","collapsed","updateSelection","count","customElementObserver","_ref18","initCustomElementObserver","pluginHandlers","plugin3","CrossOriginIframeMirror","remoteId","remoteToIdMap","idToRemoteIdMap","idToRemoteMap","remoteIdToIdMap","ids","IframeManager","crossOriginMessageEvent","transformedEvent","iframeMirror","child","ShadowDomManager","iframeElement","manager","option","sRoot","chars","lookup","i$1","canvasVarMap","saveWebGLVar","list2","variableListFor$1","contextMap","ctor","serializeArg","arg","arraybuffer","isInstanceOfWebGLObject","serializeArgs","supportedWebGLConstructorNames","initCanvasContextObserver","_len3","_key3","ctxName","getNormalizedContextName","setPreserveDrawingBufferToTrue","contextAttributes","patchGLPrototype","_len4","_key4","recordArgs","hookHandler","encodedJs","blob","decodeBase64","WorkerWrapper","objURL","worker","CanvasManager","canvasContextReset","snapshotInProgressMap","timeBetweenSnapshots","rafId","lastSnapshotTime","takeCanvasSnapshots","getCanvas","matchedCanvas","searchCanvas","root","elem","canvas2DReset","initCanvas2DMutationObserver","props2D","_len2","_key2","canvasWebGL1and2Reset","initCanvasWebGLMutationObserver","setLatestRAFTimestamp","_values","valuesWithType","type2","rest","StylesheetManager","linkEl","adoptedStyleSheetData","ProcessedNodeManager","buffers","thisBuffer","takeFullSnapshot$1","recording","cleanFrame","Mirror","_maskInputOptions","_slimDOMOptions","errorHandler2","inEmittingFrame","passEmitsToParent","lastFullSnapshotEvent","polyfill$1","incrementalSnapshotCount","buf","exceedCount","exceedTime","wrappedMutationEmit","wrappedScrollEmit","wrappedCanvasMutationEmit","snapshot","t2","__defNormalProp2","_newChild","receiver","rootIframe","frameDimension","frameBaseDimension","nestedIndex","tree","queueNodeMap","putIntoMap","nodeInTree","queueNodeTrees","nextInTree","idx","parentInTree","_len","_key","idSet","uniqueMutations","StackFrame","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","ErrorStackParser","urlLike","line","filtered","sanitizedLine","locationParts","functionNameRegex","lineRE","lines","pathToSelector","domSiblings","sibling","isObject","isObjTooDeep","limit","thisPos","Infinity","shouldIgnore","_obj","eventResult","eventValue","defaultLogOptions","initLogObserver","logOptions","loggerType","logCount","inStack","cancelHandlers","stackFrame","unhandledrejectionHandler","levelType","_this","_logger","nativeIsArray","ObjProto","isFunction","isUndefined","isString","isNull","isNullish","isBoolean","isDocument","isFormData","global","nativeForEach","assignableWindow","LOGGER_PREFIX","consoleLog","_len5","_key5","methodName","breaker","each","iterator","eachArray","pair","formDataToQuery","formdata","use_val","use_key","arg_separator","tph_arr","val","defaultNetworkOptions","isHostOnDenyList","_options$payloadHostD","hostnameFromURL","defaultNotDenied","deny","isNavigationTiming","isResourceTiming","array","predicate","initPerformanceObserver","initialPerformanceEntries","prepareRequest","performanceEntries","wrappedInitiatorFilter","shouldRecordHeaders","shouldRecordBody","matchesContentType","contentTypes","contentTypeHeader","recordBodyType","async","getRequestPerformanceEntry","performanceEntry","_tryReadXHRBody","exposesServerTiming","timing","contentTypePrefixDenyList","_tryReadBody","reject","txt","_tryReadResponseBody","cannotReadBodyReason","_r$headers$get","contentTypeIsDenied","_checkForCannotReadResponseBody","initFetchObserver","recordRequestHeaders","recordResponseHeaders","restorePatch","originalFetch","req","_tryReadRequestBody","_res","initialisedHandler","initNetworkObserver","networkOptions","request","maskedRequest","performanceObserver","xhrObserver","fetchObserver","originalOpen","username","xhr","originalSetRequestHeader","originalSend","initXhrObserver","SurveyType","SurveyQuestionType","SurveyQuestionBranchingType","EMPTY_OBJ","EMPTY_ARR","IS_NON_DIMENSIONAL","_window","_document","SurveySeenPrefix","getContrastingTextColor","hex2rgb","hexColor","rgb","defaultBackgroundColor","nameColorToHex","colorMatch","defaultSurveyAppearance","sendSurveyEvent","_posthog$get_session_","responses","getSurveySeenKey","getSurveyInteractionProperty","dismissedSurveyEvent","_posthog$get_session_2","shuffle","reverseIfUnshuffled","unshuffled","shuffled","getDisplayOrderQuestions","_survey$conditions3","_survey$conditions3$e","_survey$conditions","_survey$conditions$ev","_survey$conditions$ev2","_survey$conditions2","_survey$conditions2$e","_survey$conditions2$e2","hasEvents","surveySeenKey","surveyProperty","SurveyContext","createContext","renderChildrenAsTextOrHtml","cloneElement","currentIndex","currentComponent","previousComponent","prevRaf","currentHook","afterPaintEffects","EMPTY","oldBeforeDiff","oldBeforeRender","oldAfterDiff","oldCommit","oldBeforeUnmount","getHookState","useState","initialState","useReducer","reducer","hookState","_reducer","invokeOrReturn","currentValue","nextValue","_hasScuFromHooks","updateHookState","stateHooks","prevScu","shouldUpdate","hookItem","prevCWU","tmp","useEffect","argsChanged","_pendingArgs","useRef","initialValue","useMemo","factory","useContext","provider","flushAfterPaintEffects","invokeCleanup","invokeEffect","afterNextFrame","commitQueue","hasErrored","HAS_RAF","raf","hook","comp","cleanup","oldArgs","newArgs","isNumber","satisfiedEmoji","_jsx","neutralEmoji","dissatisfiedEmoji","veryDissatisfiedEmoji","verySatisfiedEmoji","cancelSVG","IconPosthogLogo","_jsxs","checkSVG","PostHogLogo","BottomSection","QuestionHeader","Cancel","ConfirmationMessage","_Fragment","useContrastingTextColor","_options$defaultTextC","setTextColor","getTextColor","OpenTextQuestion","textRef","setText","LinkQuestion","RatingQuestion","starting","setRating","threeScaleEmojis","fiveScaleEmojis","emoji","getScaleNumbers","RatingButton","MultipleChoiceQuestion","displayOrderChoices","openEndedChoice","shuffledOptions","getDisplayOrderChoices","selectedChoices","setSelectedChoices","openChoiceSelected","setOpenChoiceSelected","openEndedInput","setOpenEndedInput","inputType","choice","choiceClass","userValue","fiveScaleNumbers","sevenScaleNumbers","tenScaleNumbers","SurveyManager","surveyPopups","_surveyPopups$shadowR","surveyWaitPeriodInDays","lastSeenSurveyDate","today","diff","surveySeen","getSurveySeen","shadow","createShadow","surveyId","div","styleElement","Preact","SurveyPopup","_survey$appearance","widgetStyleSheet","createWidgetShadow","surveyStyleSheet","FeedbackWidget","selectorOnPage","_document$querySelect","_document$querySelect2","surveyPopup","_a$appearance","_b$appearance","renderReason","_this$posthog","forceReload","nonAPISurveys","_survey$appearance2","_survey$appearance3","_survey$appearance4","surveyManager","usePopupVisibility","millisecondDelay","setIsSurveySent","handleSurveyClosed","handleSurveySent","_survey$appearance8","_survey$appearance9","showSurvey","handleShowSurveyWithDelay","timeoutId","_survey$appearance10","_style","_style2","_survey$appearance11","_survey$appearance12","_survey$appearance13","surveyPopupDelayMilliseconds","shouldShowConfirmation","confirmationBoxLeftStyle","Questions","_survey$appearance14","_survey$appearance15","questionsResponses","setQuestionsResponses","currentQuestionIndex","setCurrentQuestionIndex","surveyQuestions","_survey$appearance16","getQuestionComponent","responseKey","nextStep","onNextButtonClick","_survey$appearance20","_survey$appearance21","setShowSurvey","setStyle","widgetRef","_survey$appearance17","_survey$appearance19","_survey$appearance18","widgetPos","widget","questionComponents","commonProps","additionalProps","ArrayProto","nativeIndexOf","Config","isEmptyObject","isEmptyString","addScript","scriptTag","scripts","_scripts$0$parentNode","kind","scriptUrlToLoad","fiveMinutesInMillis","scriptUrl","extend","needle","ownProps","resArray","trySafe","safewrap","stripEmptyProperties","ret","stripLeadingDollar","_copyAndTruncateStrings","object","maxStringLength","customizer","COPY_IN_PROGRESS_SET","internalDeepCircularCopy","result","deepCircularCopy","utf8Encode","string","utftext","stringl","c1","enc","registerEvent","fixEvent","oldSchool","useCapture","ontype","old_handler","new_handler","old_handlers","old_result","new_result","makeHandler","isCrossDomainCookie","documentLocation","Compression","severityLevels","PEOPLE_DISTINCT_ID_KEY","ALIAS_ID_KEY","EVENT_TIMERS_KEY","AUTOCAPTURE_DISABLED_SERVER_SIDE","HEATMAPS_ENABLED_SERVER_SIDE","EXCEPTION_CAPTURE_ENABLED_SERVER_SIDE","EXCEPTION_CAPTURE_ENDPOINT_SUFFIX","WEB_VITALS_ENABLED_SERVER_SIDE","DEAD_CLICKS_ENABLED_SERVER_SIDE","WEB_VITALS_ALLOWED_METRICS","SESSION_RECORDING_ENABLED_SERVER_SIDE","CONSOLE_LOG_RECORDING_ENABLED_SERVER_SIDE","SESSION_RECORDING_NETWORK_PAYLOAD_CAPTURE","SESSION_RECORDING_CANVAS_RECORDING","SESSION_RECORDING_SAMPLE_RATE","SESSION_RECORDING_MINIMUM_DURATION","SESSION_ID","SESSION_RECORDING_IS_SAMPLED","SESSION_RECORDING_URL_TRIGGER_ACTIVATED_SESSION","SESSION_RECORDING_EVENT_TRIGGER_ACTIVATED_SESSION","ENABLED_FEATURE_FLAGS","PERSISTENCE_EARLY_ACCESS_FEATURES","STORED_PERSON_PROPERTIES_KEY","STORED_GROUP_PROPERTIES_KEY","SURVEYS","SURVEYS_ACTIVATED","FLAG_CALL_REPORTED","USER_STATE","CLIENT_SESSION_PROPS","CAPTURE_RATE_LIMIT","INITIAL_CAMPAIGN_PARAMS","INITIAL_REFERRER_INFO","INITIAL_PERSON_INFO","ENABLE_PERSON_PROCESSING","TOOLBAR_ID","PERSISTENCE_RESERVED_PROPERTIES","PERSISTENCE_ACTIVE_FEATURE_FLAGS","PERSISTENCE_OVERRIDE_FEATURE_FLAGS","PERSISTENCE_FEATURE_FLAG_PAYLOADS","filterActiveFeatureFlags","activeFeatureFlags","PostHogFeatureFlags","overriddenKeys","anon_distinct_id","personProperties","groupProperties","json_data","_response$json","flagValue","flagReportValue","flagCallReported","_this$instance$persis","currentFlags","currentFlagPayloads","flagPayloads","$enabled_feature_flags","newFeatureFlags","newFeatureFlagPayloads","parseFeatureFlagDecideResponse","suppressWarning","flagsObj","isEnrolled","_this$instance$persis2","enrollmentPersonProp","newFlags","force_reload","existing_early_access_features","_this$instance$persis3","variantKey","existingProperties","groupType","group_type","DIGITS","UUID","unixTsMs","randA","randBHi","randBLo","V7Generator","DefaultRandom","valueAfterReset","ts","defaultGenerator","uuidv7","uuidv7obj","Y1970","firstNonPublicSubDomain","DOMAIN_MATCH_REGEX","chooseCookieDomain","matchedSubDomain","cookieJar","list","candidateCookieValue","seekFirstNonPublicSubDomain","originalMatch","originalCookieDomainFn","cookieStore","msg","nameEQ","ca","days","is_secure","expires","cdomain","new_cookie_val","_localStorage_supported","localStore","supported","COOKIE_PERSISTED_PROPERTIES","localPlusCookieStore","cookieProperties","cookiePersistedProperties","memoryStorage","memoryStore","sessionStorageSupported","sessionStore","localDomains","convertToURL","isUrlMatchingRegex","pattern","isValidRegex","isFile","getQueryParam","queryParts","keyValuePair","_getHashParam","MOBILE","IOS","ANDROID","TABLET","ANDROID_TABLET","IPAD","APPLE","APPLE_WATCH","SAFARI","BLACKBERRY","SAMSUNG","SAMSUNG_BROWSER","SAMSUNG_INTERNET","CHROME","CHROME_OS","CHROME_IOS","INTERNET_EXPLORER","INTERNET_EXPLORER_MOBILE","OPERA","OPERA_MINI","EDGE","MICROSOFT_EDGE","FIREFOX","FIREFOX_IOS","NINTENDO","PLAYSTATION","XBOX","ANDROID_MOBILE","MOBILE_SAFARI","WINDOWS","WINDOWS_PHONE","NOKIA","OUYA","GENERIC","GENERIC_MOBILE","GENERIC_TABLET","KONQUEROR","BROWSER_VERSION_REGEX_SUFFIX","DEFAULT_BROWSER_VERSION_REGEX","XBOX_REGEX","PLAYSTATION_REGEX","NINTENDO_REGEX","BLACKBERRY_REGEX","windowsVersionMap","safariCheck","ua","isSafari","detectBrowser","user_agent","FACEBOOK","versionRegexes","osMatchers","osVersion","versionParts","detectDevice","URL_REGEX_PREFIX","CAMPAIGN_PARAMS","Info","customParams","campaign_keywords","params","kwkey","kw","keyword","regexes","rgex","resultOrFn","_convertToURL","_convertToURL2","initial_referrer","initial_current_url","os_name","os_version","CASE_INSENSITIVE_PERSISTENCE_TYPES","PostHogPersistence","parseName","store","storage_type","found","include","default_value","hasChanges","initialReferrerInfo","initialPersonProps","newStore","event_name","timers","estimateSize","sizeable","_JSON$stringify","ancestors","circularReferenceReplacer","splitBuffer","sizeLimit","half","firstHalf","secondHalf","isElementInToolbar","_el$closest","isElementNode","isTag","isTextNode","isDocumentFragment","splitClassString","checkForURLMatches","urlsList","getClassNames","makeSafeText","shouldCaptureValue","getSafeText","elText","shouldCaptureElement","isSensitiveElement","_makeSafeText","_e$target","autocaptureCompatibleElements","getParentElement","curEl","shouldCaptureDomEvent","autocaptureConfig","captureOnAnyElement","allowedEventTypes","allowlist","eventType","parentIsUsefulElement","targetElementList","compStyles","elements","elementType","checkIfElementTreePassesElementAllowList","checkIfElementTreePassesCSSSelectorAllowList","coreCCPattern","anchoredCCRegex","unanchoredCCRegex","coreSSNPattern","anchoredSSNRegex","unanchoredSSNRegex","anchorRegexes","getDirectAndNestedSpanText","getNestedSpanText","_child$tagName","spanText","getElementsChainString","_element$nth_child","_element$nth_of_type","el_string","single_class","sortedAttributes","escapeQuotes","elementsToString","_el$$el_text","_el$attr__href","extractAttrClass","extractElements","REDACTED","HEADER_DENY_LIST","PAYLOAD_CONTENT_DENY_LIST","POSTHOG_PATHS_TO_IGNORE","enforcePayloadSizeLimit","requestContentLength","estimateBytes","scrubPayload","label","scrubbed","_scrubbed","_scrubbed2","buildNetworkRequestOptions","instanceConfig","remoteNetworkOptions","canRecordHeaders","canRecordBody","canRecordPerformance","payloadLimiter","_options$payloadSizeL","limitPayloadSize","enforcedCleaningFn","ignorePostHogPaths","removeAuthorizationHeader","hasDeprecatedMaskFunction","cleanedURL","_instanceConfig$sessi","_instanceConfig$sessi2","_instanceConfig$sessi3","cleanedRequest","capturedRequest","scrubPayloads","clampToRange","MutationRateLimiter","_this$options$refillR","_this$options$bucketS","closestSVG","_data$removes$length","_data$removes","_data$attributes$leng","_data$attributes","_data$texts$length","_data$texts","_data$adds$length","_data$adds","initialMutationCount","_this$mutationBuckets","_this$options$onBlock","_this$options","mutationCount","u8","u16","u32","fleb","fdeb","clim","freb","eb","fl","revfl","revfd","rev","hMap","cd","mb","rvb","sv","r_1","flt","fdt","flm","fdm","shft","slc","wbits","wbits16","hTree","i0","i1","maxSym","tr","mbt","lft","cst","i2_1","i2_2","i2_3","lc","cl","cli","cln","cls","clen","cf","wfblk","out","dat","wblk","final","syms","lf","df","li","bs","bl","dlt","mlb","ddt","mdb","lclt","nlc","lcdt","ndc","lcfreq","lct","mlcb","nlcc","lm","ll","dm","dl","flen","ftlen","dtlen","llm","lcts","clct","dst","deo","crct","crc","cr","dopt","opt","pre","post","lvl","plvl","lst","msk_1","prev","bs1_1","bs2_1","hsh","lc_1","wi","hv","imod","pimod","rem","ch_1","dif","maxn","maxd","ml","nl","mmd","md","ti","lin","din","dflt","wbytes","gzh","gzhl","gzipSync","opts","strToU8","latin1","ar","ai","FIVE_MINUTES","ONE_MINUTE","ACTIVE_SOURCES","newQueuedEvent","gzipToString","strFromU8","isSessionIdleEvent","sessionRecordingUrlTriggerMatches","triggers","trigger","SessionRecording","_assignableWindow$__P","_assignableWindow$__P2","_this$instance$config","_this$instance$config2","_this$buffer","_this$buffer2","mostRecentSnapshot","enabled_server_side","enabled_client_side","_canvasRecording_clie","_canvasRecording_clie2","_canvasRecording_clie3","canvasRecording_client_side","canvasRecording_server_side","_this$instance$config3","_this$instance$config4","networkPayloadCapture_server_side","networkPayloadCapture_client_side","headersEnabled","bodyEnabled","clientConfigForPerformanceCapture","networkTimingEnabled","rate","_this$instance","_this$instance2","eitherIsActivated","eitherIsPending","startReason","_this$instance3","_this$instance3$persi","_this$instance4","_this$instance4$persi","_this$_removePageView","_this$_removeEventTri","_this$_onSessionIdLis","_this$_samplingSessio","sessionIdChanged","currentSampleRate","storedIsSampled","shouldSample","makeDecision","_response$sessionReco","_response$sessionReco2","_response$sessionReco4","_response$sessionReco5","_response$sessionReco6","_response$sessionReco3","_flags","flagIsPresent","linkedFlagMatches","_this$_persistDecideO","persistResponse","_response$sessionReco7","_response$sessionReco8","_response$sessionReco9","_response$sessionReco10","_response$sessionReco11","_response$sessionReco12","_response$sessionReco13","receivedSampleRate","parsedSampleRate","receivedMinimumDuration","_this$instance$sessio","_assignableWindow$__P3","_assignableWindow$__P4","_event$data","isUserInteraction","returningFromIdle","windowIdChanged","queuedRRWebEvent","_this$mutationRateLim","userSessionRecordingOptions","interval","_assignableWindow$__P5","_assignableWindow$__P6","_assignableWindow$__P7","_assignableWindow$__P8","recordConsolePlugin","networkPlugin","rawEvent","_this$instance$config5","isRecordingPausedEvent","throttledEvent","_event","updatedPayload","truncateLargeConsoleLogs","lastActivity","eventToSend","ONE_KB","compressEvent","currentUrl","itemsToProcess","_networkRequest","isPositiveSessionDuration","isBelowMinimumDuration","snapshotBuffer","_this$buffer3","additionalBytes","wasBlocked","isNowBlocked","triggerType","_this$instance5","_this$instance5$persi","_document$body","_document$body$classL","_document$body2","_document$body2$class","tagPayload","Decide","STATE_FROM_WINDOW","LOCALSTORAGE_KEY","ToolbarState","Toolbar","_assignableWindow$ph_","_location","_history","stateHash","toolbarParams","toolbarRunning","disableToolbarMetrics","RequestQueue","requestValues","sortedRequests","_requests$key$data","SUPPORTS_REQUEST","CONTENT_TYPE_PLAIN","extendURLParams","baseUrl","newParams","newSearch","encodePostData","gzipData","b64data","b64","o1","o3","h1","h2","h3","h4","bits","ac","tmp_arr","_base64Encode","encodedBody","encodeToDataString","jsonBody","_encodePostData","headerValue","headerName","_options$callback","_fetch","_encodePostData2","_aborter","aborter","controller","SIXTY_FOUR_KILOBYTES","_options$callback2","_options$callback3","_sendBeacon","_encodePostData3","sendBeaconBody","AVAILABLE_TRANSPORTS","RetryQueue","msToNextRetry","rawBackoffTime","minBackoff","cappedBackoffTime","jitter","pickNextRetryDelay","logMessage","notToFlush","toFlush","SessionIdManager","sessionIdGenerator","windowIdGenerator","_this$config$bootstra","persistenceName","desiredTimeout","lastWindowId","primaryWindowExists","hex","uuid7ToTimestampMs","sessionActivityTimestamp","lastTimestamp","startTimestamp","valuesChanged","newTimestamp","RequestRouterRegion","ingestionDomain","RequestRouter","suffix","NAME","createEventProcessor","_posthog","_event$exception","_exceptions$","_exceptions$2","_exceptions$3","_exceptions$4","personUrl","addGlobalEventProcessor","setupSegmentIntegration","bootstrapUser","getSegmentAnonymousId","segmentUser","setupPostHogFromSegment","enrichEvent","_ctx$event$properties","additionalProperties","createSegmentIntegration","PageViewManager","_window$location$path","previousPath","previousTimestamp","scrollContext","SimpleEventEmitter","ActionMatcher","matchEventToAction","eventPayload","_this$actionRegistry","_action$steps","step","_this$actionEvents","selectorsToWatch","_action$steps2","_this$actionRegistry2","_event$properties","eventUrl","adjustedRegExpStringPattern","_event$properties2","elementSelectors","SurveyEventReceiver","static","actionBasedSurveys","_survey$conditions2$a","_survey$conditions2$a2","matchActionToSurvey","actionName","_survey$conditions4","_survey$conditions4$a","_survey$conditions5","_survey$conditions5$a","_survey$conditions5$a2","_this$actionMatcher","_survey$conditions6","_survey$conditions6$a","_survey$conditions6$a2","knownSurveys","_survey$conditions7","_survey$conditions8","_survey$conditions8$e","_survey$conditions8$e2","matchEventToSurvey","_survey$conditions9","_survey$conditions9$e","_survey$conditions9$e2","existingActivatedSurveys","_eventPayload$propert","activatedSurveys","_this$instance6","_this$instance6$persi","surveyUrlValidationMap","conditionsUrl","PostHogSurveys","surveyKeys","getSurveySeenStorageKeys","surveysGenerator","existingSurveys","eventOrActionBasedSurveys","_survey$conditions3$e2","_this$_surveyEventRec","_this$_surveyEventRec2","conditionMatchedSurveys","_survey$conditions$ur","urlCheck","selectorCheck","targetingMatchedSurveys","_survey$conditions10","_survey$conditions11","_survey$conditions11$","_survey$conditions12","_survey$conditions12$","_survey$conditions13","_survey$conditions14","_survey$conditions14$","_survey$conditions15","_survey$conditions15$","linkedFlagCheck","targetingFlagCheck","hasActions","eventBasedTargetingFlagCheck","overrideInternalTargetingFlagCheck","internalTargetingFlagCheck","_question$branching","nextQuestionIndex","_question$branching2","_question$branching2$","selectedChoiceIndex","_question$branching3","_question$branching3$","ratingBucket","responseValue","getRatingBucketForResponseValue","RateLimiter","_instance$config$rate","_instance$config$rate2","checkOnly","bucket","retryAfter","httpResponse","generateSessionSourceParams","SessionPropsManager","sessionIdManager","sessionSourceParamGenerator","stored","newProps","_this$_getStoredProps","DEFAULT_BLOCKED_UA_STRS","isBlockedUA","customBlockedUserAgents","uaLower","blockedUA","blockedUaLower","isLikelyBot","uaData","brandObj","RageClick","lastClick","isDeadClicksEnabledForHeatmaps","isDeadClicksEnabledForAutocapture","_instance$instance$pe","isRemoteEnabled","clientConfig","DeadClicksAutocapture","Heatmaps","flushInterval","_this$_flushInterval","_this$deadClicksCaptu","optIn","click","isFixedOrSticky","breakOnElement","elementOrParentPositionMatches","_this$rageclicks","ScrollManager","_this$context$maxScro","_this$context$maxScro2","_this$context$maxCont","_this$context$maxCont2","contentY","contentHeight","COPY_AUTOCAPTURE_EVENT","limitText","_el","getPropertiesFromElement","maskAllAttributes","maskText","elementAttributeIgnorelist","nthChild","nthOfType","currentElem","autocapturePropertiesForElement","_elementsJson$","_elementsJson$2","elementsJson","autocaptureAugmentProperties","externalHref","shouldCaptureEl","augmentProperties","propertyKey","propertyValue","getAugmentPropertiesFromElement","_window$location","hrefHost","locationHost","Autocapture","_config$url_allowlist","_config$url_ignorelis","copiedTextHandler","_this$_elementSelecto","matchedElements","matchedElement","_this$_isDisabledServ","persistedServerDisabled","memoryDisabled","disabledServer","isCopyAutocapture","_window$getSelection","selectedContent","clipType","TracingHeaders","_this$_restoreXHRPatc","_this$_restoreFetchPa","ConsentStatus","ConsentManager","persistenceType","otherStorage","dntValue","ExceptionObserver","_this$remoteEnabled","_window$onerror","_this$unwrapOnError","_this$unwrapUnhandled","autocaptureExceptionsResponse","errorProperties","posthogHost","FIFTEEN_MINUTES_IN_MILLIS","WebVitalsAutocapture","clientConfigMetricAllowList","configured","webVitalsOptIn","acc","metric","sessionIds","$currentUrl","posthogExtensions","webExperimentUrlValidationMap","WebExperiments","appFeatureFLags","_this$_flagToExperime","_this$_flagToExperime2","selectedVariant","webExperiment","experimentID","webExperiments","_this$_flagToExperime3","testVariant","previewing","existingWebExperiments","previewExperiments","exp","_testVariant$conditio","_testVariant$conditio2","_testVariant$conditio3","_testVariant$conditio4","_testVariant$conditio5","_testVariant$conditio6","_testVariant$conditio7","_testVariant$conditio8","_testVariant$conditio9","_testVariant$conditio10","_testVariant$conditio11","_testVariant$conditio12","_testVariant$conditio13","_testVariant$conditio14","_testVariant$conditio15","_testVariant$conditio16","_testVariant$conditio17","_testVariant$conditio18","_testVariant$conditio19","_testVariant$conditio20","_testVariant$conditio21","utmCampaignMatched","utmSourceMatched","utmMediumMatched","utmTermMatched","experiment","isPreview","_WebExperiments$getWi","elementsModified","_WebExperiments$getWi2","htmlElement","BASE_ERROR_ENDPOINT_SUFFIX","PostHogExceptions","instances","__NOOP","PRIMARY_INSTANCE_NAME","ENQUEUE_REQUESTS","defaultConfig","configRenames","origConfig","renames","DeprecatedWebPerformanceObserver","PostHog","processor","setProps","_instances$name","namedPosthog","_config$bootstrap","_window$addEventListe","initialPersistenceProps","initialSessionProps","_config$bootstrap2","_config$bootstrap3","deviceID","_config$bootstrap4","_config$bootstrap7","activeFlags","_config$bootstrap5","_config$bootstrap5$fe","_config$bootstrap6","_config$bootstrap6$fe","_config$bootstrap8","_config$bootstrap8$fe","_config$bootstrap9","_config$bootstrap9$fe","_response$analytics","_this$sessionRecordin","_this$autocapture","_this$heatmaps","_this$experiments","_this$surveys","_this$webVitalsAutoca","_this$exceptions","_this$exceptionObserv","_this$deadClicksAutoc","disableDecide","_this$_requestQueue","_this$_requestQueue2","_this$_retryQueue","_options","_options$transport","_find$method","_find","transportMethod","_this$config$on_reque","_this$config","fn_name","alias_calls","other_calls","capturing_calls","execute","calls","caller","_this$config$bootstra2","_options$_url","systemTime","setOnceProperties","finalSet","event_properties","persistenceProps","infoProperties","sessionProps","performanceProperties","duration_in_ms","denylisted_prop","hasPersonProcessing","dataSetOnce","_this$persistence","_this$persistence2","_this$sessionPersiste","_this$persistence3","_this$sessionPersiste2","_this$sessionManager$","_this$sessionManager","new_distinct_id","userPropertiesToSet","userPropertiesToSetOnce","previous_distinct_id","device_id","isKnownAnonymous","groupKey","groupPropertiesToSet","existingGroups","reset_device_id","_this$persistence4","_this$sessionPersiste3","_this$surveys2","_this$persistence5","_this$sessionManager2","_this$sessionManager$2","_this$sessionManager3","_options$timestampLoo","LOOK_BACK","_this$persistence6","_this$sessionRecordin2","_this$autocapture2","_this$heatmaps2","overrideAll","overrideConfig","_this$sessionManager4","_this$sessionRecordin3","_this$sessionRecordin4","_this$sessionRecordin5","_this$sessionRecordin6","_this$sessionRecordin7","property_name","_this$persistence7","_this$sessionPersiste4","_this$config$name","_this$persistence8","_this$sessionPersiste5","_this$persistence9","_this$persistence9$pr","_this$persistence10","_this$persistence10$p","function_name","_this$persistence11","_this$sessionPersiste6","defaultPersistenceDisabled","persistenceDisabled","_this$persistence12","_this$sessionPersiste7","_options$captureEvent","klass","functions","safewrapClass","posthogMain","dom_loaded_handler","inst","add_dom_loaded_handler","init_as_module"],"version":3,"file":"posthog.js.map"}